{
  "bugs": [
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20131112T10:15:00",
      "product": "Red Hat Enterprise Linux 7",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "1029380",
      "cf_release_notes": "",
      "priority": "unspecified",
      "severity": "unspecified",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "kernel-3.10.0-57.el7",
      "creator": "jasowang@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "jasowang@redhat.com",
          "text": "Description of problem:\n\nWe currently use the hdr_len which is advertised by guest as the head length of host skb allocated for tun/macvtap. If guest advertise a very larger value (64K), host will then try to using kmalloc() to allocate another skb with 64K. This has a very high possibility of failure when host memory was fragmented or under heavy stress.\n\nSo we should limit the headlen. \n\nVersion-Release number of selected component (if applicable):\n\n\nHow reproducible:\n100%\n\nSteps to Reproduce:\n1. stress the host memory (e.g. using stress --vm N --vm-keep)\n2. send a packet from guest to host with very large hdr_len ( I reproduce with artifically linearize the skb in guest driver)\n3. Wait for a while and stop the stress in host\n\nActual results:\n1. guest tx stall and one packet were dropped could be seen in tap in host\n\nExpected results:\n1. guest can still send packets when host is under memory stress\n\nAdditional info:",
          "author": "jasowang@redhat.com",
          "creation_time": "20131112T10:15:43",
          "bug_id": "1029380",
          "creator_id": "275766",
          "time": "20131112T10:15:43",
          "id": "6510844",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "jasowang@redhat.com",
          "text": "Reproducer: https://brewweb.devel.redhat.com/taskinfo?taskID=6629838\n\nRun in guest.\n\nTo very the bug, both tun and macvtap should be tested.\n\nThanks",
          "author": "jasowang@redhat.com",
          "creation_time": "20131122T09:55:09",
          "bug_id": "1029380",
          "creator_id": "275766",
          "time": "20131122T09:55:09",
          "id": "6548863",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "jarod@redhat.com",
          "text": "Patch(es) available on kernel-3.10.0-57.el7",
          "author": "jarod@redhat.com",
          "creation_time": "20131127T16:23:59",
          "bug_id": "1029380",
          "creator_id": "19949",
          "time": "20131127T16:23:59",
          "id": "6565041",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "jarod@redhat.com",
          "text": "List of patches present on kernel-3.10.0-57.el7:\nRelated patch: http://patchwork.lab.bos.redhat.com/patch/71079\nRelated patch: http://patchwork.lab.bos.redhat.com/patch/71078",
          "author": "jarod@redhat.com",
          "creation_time": "20131127T16:25:16",
          "bug_id": "1029380",
          "creator_id": "19949",
          "time": "20131127T16:25:16",
          "id": "6565061",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "qiguo@redhat.com",
          "text": "(In reply to jason wang from comment #1)\n> Reproducer: https://brewweb.devel.redhat.com/taskinfo?taskID=6629838\n> \n> Run in guest.\n> \n> To very the bug, both tun and macvtap should be tested.\n> \n> Thanks\nHi, Jason\n\nAs we talked offline, could you help provide this package again : )\n\n\nThanks",
          "author": "qiguo@redhat.com",
          "creation_time": "20131230T02:23:17",
          "bug_id": "1029380",
          "creator_id": "337356",
          "time": "20131230T02:23:17",
          "id": "6662307",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "jasowang@redhat.com",
          "text": "(In reply to Qian Guo from comment #4)\n> (In reply to jason wang from comment #1)\n> > Reproducer: https://brewweb.devel.redhat.com/taskinfo?taskID=6629838\n> > \n> > Run in guest.\n> > \n> > To very the bug, both tun and macvtap should be tested.\n> > \n> > Thanks\n> Hi, Jason\n> \n> As we talked offline, could you help provide this package again : )\n> \n> \n> Thanks\n\nUse this as reproducer:\n\nhttps://brewweb.devel.redhat.com/taskinfo?taskID=6797863\n\nThanks",
          "author": "jasowang@redhat.com",
          "creation_time": "20131230T04:57:28",
          "bug_id": "1029380",
          "creator_id": "275766",
          "time": "20131230T04:57:28",
          "id": "6662418",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "mst@redhat.com",
          "text": "*** Bug 982583 has been marked as a duplicate of this bug. ***",
          "author": "mst@redhat.com",
          "creation_time": "20140112T12:31:37",
          "bug_id": "1029380",
          "creator_id": "278363",
          "time": "20140112T12:31:37",
          "id": "6698147",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHSA-2013:16137-01\nhttps://errata.devel.redhat.com/advisory/16139",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20140206T17:01:07",
          "bug_id": "1029380",
          "creator_id": "241731",
          "time": "20140206T17:01:07",
          "id": "6793904",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "qiguo@redhat.com",
          "text": "(In reply to jason wang from comment #5)\n> (In reply to Qian Guo from comment #4)\n> > (In reply to jason wang from comment #1)\n> > > Reproducer: https://brewweb.devel.redhat.com/taskinfo?taskID=6629838\n> > > \n> > > Run in guest.\n> > > \n> > > To very the bug, both tun and macvtap should be tested.\n> > > \n> > > Thanks\n> > Hi, Jason\n> > \n> > As we talked offline, could you help provide this package again : )\n> > \n> > \n> > Thanks\n> \n> Use this as reproducer:\n> \n> https://brewweb.devel.redhat.com/taskinfo?taskID=6797863\n> \n> Thanks\n\nHi Jason\n\nFor this bug, when I try to reproduce it with pkgten test under macvtap backend, it will hit bz#1007955 , I used the builds before kernel-3.10.0-57.el7 , but the bz#1007955 is fixed kernel-3.10.0-58.el7.\n\nThen I try to use ping flood (you suggested) and netperf test to try to reproduce, but  the network works fine. \n\nAdditional info:\n1.And the latest kernel has no such issue, I tested pktgen test.\n\n2.Jason, I am sorry that the reproducer is just be deleted by mistake when I try to verify another bug, could you help provide it again, and could you help suggested if there's some other methods to reproduce this bug\uff1f\n\nVery thanks,",
          "author": "qiguo@redhat.com",
          "creation_time": "20140228T05:26:03",
          "bug_id": "1029380",
          "creator_id": "337356",
          "time": "20140228T05:26:03",
          "id": "6866978",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "jasowang@redhat.com",
          "text": "(In reply to Qian Guo from comment #8)\n> (In reply to jason wang from comment #5)\n> > (In reply to Qian Guo from comment #4)\n> > > (In reply to jason wang from comment #1)\n> > > > Reproducer: https://brewweb.devel.redhat.com/taskinfo?taskID=6629838\n> > > > \n> > > > Run in guest.\n> > > > \n> > > > To very the bug, both tun and macvtap should be tested.\n> > > > \n> > > > Thanks\n> > > Hi, Jason\n> > > \n> > > As we talked offline, could you help provide this package again : )\n> > > \n> > > \n> > > Thanks\n> > \n> > Use this as reproducer:\n> > \n> > https://brewweb.devel.redhat.com/taskinfo?taskID=6797863\n> > \n> > Thanks\n> \n> Hi Jason\n> \n> For this bug, when I try to reproduce it with pkgten test under macvtap\n> backend, it will hit bz#1007955 , I used the builds before\n> kernel-3.10.0-57.el7 , but the bz#1007955 is fixed kernel-3.10.0-58.el7.\n> \n> Then I try to use ping flood (you suggested) and netperf test to try to\n> reproduce, but  the network works fine. \n> \n> Additional info:\n> 1.And the latest kernel has no such issue, I tested pktgen test.\n> \n> 2.Jason, I am sorry that the reproducer is just be deleted by mistake when I\n> try to verify another bug, could you help provide it again, and could you\n> help suggested if there's some other methods to reproduce this bug\uff1f\n> \n> Very thanks,\n\nTry this (when it was finished):\n\nhttps://brewweb.devel.redhat.com/taskinfo?taskID=7121300",
          "author": "jasowang@redhat.com",
          "creation_time": "20140228T06:41:55",
          "bug_id": "1029380",
          "creator_id": "275766",
          "time": "20140228T06:41:55",
          "id": "6867144",
          "is_private": "True"
        },
        {
          "count": "10",
          "creator": "qiguo@redhat.com",
          "text": "(In reply to jason wang from comment #9)\n> (In reply to Qian Guo from comment #8)\n> > (In reply to jason wang from comment #5)\n> > > (In reply to Qian Guo from comment #4)\n> > > > (In reply to jason wang from comment #1)\n> > > > > Reproducer: https://brewweb.devel.redhat.com/taskinfo?taskID=6629838\n> > > > > \n> > > > > Run in guest.\n> > > > > \n> > > > > To very the bug, both tun and macvtap should be tested.\n> > > > > \n> > > > > Thanks\n> > > > Hi, Jason\n> > > > \n> > > > As we talked offline, could you help provide this package again : )\n> > > > \n> > > > \n> > > > Thanks\n> > > \n> > > Use this as reproducer:\n> > > \n> > > https://brewweb.devel.redhat.com/taskinfo?taskID=6797863\n> > > \n> > > Thanks\n> > \n> > Hi Jason\n> > \n> > For this bug, when I try to reproduce it with pkgten test under macvtap\n> > backend, it will hit bz#1007955 , I used the builds before\n> > kernel-3.10.0-57.el7 , but the bz#1007955 is fixed kernel-3.10.0-58.el7.\n> > \n> > Then I try to use ping flood (you suggested) and netperf test to try to\n> > reproduce, but  the network works fine. \n> > \n> > Additional info:\n> > 1.And the latest kernel has no such issue, I tested pktgen test.\n> > \n> > 2.Jason, I am sorry that the reproducer is just be deleted by mistake when I\n> > try to verify another bug, could you help provide it again, and could you\n> > help suggested if there's some other methods to reproduce this bug\uff1f\n> > \n> > Very thanks,\n> \n> Try this (when it was finished):\n> \n> https://brewweb.devel.redhat.com/taskinfo?taskID=7121300\n\nAlready saved them on my local machine,thanks\n\nI will try with flood ping and netperf test for more time.",
          "author": "qiguo@redhat.com",
          "creation_time": "20140303T02:42:19",
          "bug_id": "1029380",
          "creator_id": "337356",
          "time": "20140303T02:42:19",
          "id": "6871888",
          "is_private": "True"
        },
        {
          "count": "11",
          "creator": "qiguo@redhat.com",
          "text": "Talked with develop, we should verify this bug with network functional test including stress scenarios both for macvtap and tap and , followings are recent functional test runs, no related regression bug found, and after the stress test, systems works well.\n\nTCMS network functional runs:\n\nMacvtap ones:\nhttps://tcms.engineering.redhat.com/run/121224/ --- kernel-3.10.0-111.el7 \nhttps://tcms.engineering.redhat.com/run/121232/ --- kernel-3.10.0-111.el7\n\nbridge-utils ones:\nhttps://tcms.engineering.redhat.com/run/118539/ --- kernel-3.10.0-99.el7\nhttps://tcms.engineering.redhat.com/run/118538/ --- kernel-3.10.0-99.el7\n\nopenvswitch ones:\nhttps://tcms.engineering.redhat.com/run/118536/ --- kernel-3.10.0-99.el7\nhttps://tcms.engineering.redhat.com/run/118532/ --- kernel-3.10.0-99.el7\n\nSo according to above, this bug is fixed.",
          "author": "qiguo@redhat.com",
          "creation_time": "20140321T09:44:34",
          "bug_id": "1029380",
          "creator_id": "337356",
          "time": "20140321T09:44:34",
          "id": "6937885",
          "is_private": "True"
        },
        {
          "count": "12",
          "creator": "juzhang@redhat.com",
          "text": "According to comment11, set this issue as verified.",
          "author": "juzhang@redhat.com",
          "creation_time": "20140321T09:52:18",
          "bug_id": "1029380",
          "creator_id": "290114",
          "time": "20140321T09:52:18",
          "id": "6937910",
          "is_private": "False"
        },
        {
          "count": "13",
          "creator": "lsmid@redhat.com",
          "text": "This request was resolved in Red Hat Enterprise Linux 7.0.\n\nContact your manager or support representative in case you have further questions about the request.",
          "author": "lsmid@redhat.com",
          "creation_time": "20140613T11:02:28",
          "bug_id": "1029380",
          "creator_id": "197253",
          "time": "20140613T11:02:28",
          "id": "7185724",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "7.0"
      ],
      "cc": [
        "jasowang@redhat.com",
        "juzhang@redhat.com",
        "michen@redhat.com",
        "mst@redhat.com",
        "qiguo@redhat.com",
        "qzhang@redhat.com",
        "rhod@redhat.com",
        "stefanha@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "923626",
        "1029381"
      ],
      "qa_contact": "virt-bugs@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "kernel"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "groups": [
        "private"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "Limit the head length of skb allocated for tun/macvtap",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "?",
          "name": "qe_test_coverage",
          "modification_date": "20131120T09:24:41",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20131120T09:24:41",
          "id": "1593900",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-7.0.0",
          "modification_date": "20131120T09:01:02",
          "type_id": "245",
          "is_active": "1",
          "creation_date": "20131112T10:15:43",
          "id": "1583670",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20131112T12:22:36",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20131112T10:15:43",
          "id": "1583671",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20131112T11:53:48",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20131112T10:15:43",
          "id": "1583672",
          "setter": "rhod@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20131120T08:56:42",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20131112T10:15:43",
          "id": "1583673",
          "setter": "juzhang@redhat.com"
        }
      ],
      "last_change_time": "20140613T11:02:28",
      "assigned_to": "jasowang@redhat.com",
      "update_token": "1403031798-RZYAAjvaJHWsemkV2UUHl7e4P1nJlQ7eJz4G3E8nTJk",
      "cf_partner": [],
      "cf_last_closed": "20140613T11:02:28",
      "resolution": "CURRENTRELEASE",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [
        "1029381"
      ],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20140429T07:05:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "ZStream"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "1092349",
      "cf_release_notes": "Prior to this update, a guest-provided value was used as the head length of the socket buffer allocated on the host. If the host was under heavy memory load and the guest-provided value was too large, the allocation could have failed, resulting in stalls and packet drops in the guest's Tx path. With this update, the guest-provided value has been limited to a reasonable size so that socket buffer allocations on the host succeed regardless of the memory load on the host, and guests can send packets without experiencing packet drops or stalls.",
      "priority": "unspecified",
      "severity": "unspecified",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "kernel-2.6.32-220.50.1.el6",
      "creator": "jkurik@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "jkurik@redhat.com",
          "text": "This bug has been copied from bug #1029381 and has been proposed\nto be backported to 6.2 z-stream (EUS).",
          "author": "jkurik@redhat.com",
          "creation_time": "20140429T07:05:09",
          "bug_id": "1092349",
          "creator_id": "352756",
          "time": "20140429T07:05:09",
          "id": "7047565",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "jkurik@redhat.com",
          "text": "Devel and QE acks are needed to complete 3ACK process and approval.",
          "author": "jkurik@redhat.com",
          "creation_time": "20140429T07:05:25",
          "bug_id": "1092349",
          "creator_id": "352756",
          "time": "20140429T07:05:25",
          "id": "7047568",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "dhoward@redhat.com",
          "text": "http://patchwork.usersys.redhat.com/patch/79233/\nhttp://patchwork.usersys.redhat.com/patch/79234/\nhttp://patchwork.lab.bos.redhat.com/patch/78854/\nhttp://patchwork.lab.bos.redhat.com/patch/78855/",
          "author": "dhoward@redhat.com",
          "creation_time": "20140430T19:35:08",
          "bug_id": "1092349",
          "creator_id": "32221",
          "time": "20140430T19:35:08",
          "id": "7053622",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "plougher@redhat.com",
          "text": "Fixed in kernel-2.6.32-220.50.1.el6",
          "author": "plougher@redhat.com",
          "creation_time": "20140501T19:05:38",
          "bug_id": "1092349",
          "creator_id": "310802",
          "time": "20140501T19:05:38",
          "id": "7055664",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHSA-2014:17636-01\nhttps://errata.devel.redhat.com/advisory/17636",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20140501T20:06:32",
          "bug_id": "1092349",
          "creator_id": "241731",
          "time": "20140501T20:06:32",
          "id": "7055790",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "chayang@redhat.com",
          "text": "Hi Jason,\n\nSince you provided a reproducer for rhel7 kernel, can you please also offer QE a reproducer for rhel6.2.z kernel? Thanks in advance.",
          "author": "chayang@redhat.com",
          "creation_time": "20140505T02:42:05",
          "bug_id": "1092349",
          "creator_id": "305022",
          "time": "20140505T02:42:05",
          "id": "7060425",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "jasowang@redhat.com",
          "text": "Please use this kernel as guest\n\nhttps://brewweb.devel.redhat.com/taskinfo?taskID=7425439\n\nAnd generate big packet (64K) in guest through either pktgen or other tools to stress the host.\n\nThanks",
          "author": "jasowang@redhat.com",
          "creation_time": "20140508T05:30:03",
          "bug_id": "1092349",
          "creator_id": "275766",
          "time": "20140508T05:30:03",
          "id": "7071393",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "chayang@redhat.com",
          "text": "(In reply to jason wang from comment #6)\n> Please use this kernel as guest\n> \n> https://brewweb.devel.redhat.com/taskinfo?taskID=7425439\n> \n> And generate big packet (64K) in guest through either pktgen or other tools\n> to stress the host.\n> \n> Thanks\n\nThanks very much for jason's reproducer.\n\nReproduced with kernel-2.6.32-220.49.1.el6.x86_64 on host.\n\nSteps:\n1. launch a guest and install reproducer in guest:\n/usr/libexec/qemu-kvm -M rhel6.2.0 -enable-kvm -m 4096 -smp 2,sockets=1,cores=2,threads=1 -cpu Westmere -name RHEL6.2 -rtc base=utc,clock=host,driftfix=slew -boot ndc -nodefaults -drive file=/home/chayang/rhel6.2.qcow2,if=none,id=drive-virtio-0-0,media=disk,format=qcow2,cache=none,werror=stop,rerror=stop -device virtio-blk-pci,drive=drive-virtio-0-0,id=virt0-0-0,bootindex=1 -netdev tap,id=hostnet1,vhost=on -device virtio-net-pci,netdev=hostnet1,id=net1,mac=00:22:19:c6:f6:14 -usb -device usb-tablet,id=input1,port=1 -vnc :1 -vga cirrus -monitor stdio\n\n2. load pktgen in guest and stress with large packets in guest:\n# echo ''add_device eth1'' > /proc/net/pktgen/kpktgend_1\n# echo ''dst_mac 00:22:19:c6:f6:14'' > /proc/net/pktgen/eth1\n# echo ''pkt_size 65536'' > /proc/net/pktgen/eth1\n# while :; do echo start > /proc/net/pktgen/pgctrl; done\n\n3. ping guest continuously to ensure tx doesn't hang.\n\n4. stress on host by:\n# stress --vm 100 --vm-keep\n\n\n\n\nActual Result:\n\nBelow log was observed on host:\nMay  9 18:03:40 localhost kernel: vhost-8789: page allocation failure. order:5, mode:0x4d0\nMay  9 18:03:41 localhost kernel: Pid: 8800, comm: vhost-8789 Not tainted 2.6.32-220.49.1.el6.x86_64 #1\nMay  9 18:03:41 localhost kernel: Call Trace:\nMay  9 18:03:41 localhost kernel: [<ffffffff8112472f>] ? __alloc_pages_nodemask+0x77f/0x940\nMay  9 18:03:41 localhost kernel: [<ffffffff8115e9f2>] ? kmem_getpages+0x62/0x170\nMay  9 18:03:41 localhost kernel: [<ffffffff8115f60a>] ? fallback_alloc+0x1ba/0x270\nMay  9 18:03:41 localhost kernel: [<ffffffff8115f389>] ? ____cache_alloc_node+0x99/0x160\nMay  9 18:03:41 localhost kernel: [<ffffffff81422efa>] ? __alloc_skb+0x7a/0x180\nMay  9 18:03:41 localhost kernel: [<ffffffff8116024f>] ? kmem_cache_alloc_node_notrace+0x6f/0x130\nMay  9 18:03:41 localhost kernel: [<ffffffff8116048b>] ? __kmalloc_node+0x7b/0x100\nMay  9 18:03:41 localhost kernel: [<ffffffff81422efa>] ? __alloc_skb+0x7a/0x180\nMay  9 18:03:41 localhost kernel: [<ffffffff8141ed30>] ? sock_alloc_send_pskb+0x1e0/0x350\nMay  9 18:03:41 localhost kernel: [<ffffffff81426895>] ? memcpy_fromiovec+0x55/0x80\nMay  9 18:03:41 localhost kernel: [<ffffffffa02765fb>] ? tun_sendmsg+0xbb/0x4ec [tun]\nMay  9 18:03:41 localhost kernel: [<ffffffffa03a4f25>] ? handle_tx+0x275/0x5b0 [vhost_net]\nMay  9 18:03:41 localhost kernel: [<ffffffffa03a5295>] ? handle_tx_kick+0x15/0x20 [vhost_net]\nMay  9 18:03:41 localhost kernel: [<ffffffffa03a250c>] ? vhost_worker+0xbc/0x140 [vhost_net]\nMay  9 18:03:41 localhost kernel: [<ffffffffa03a2450>] ? vhost_worker+0x0/0x140 [vhost_net]\nMay  9 18:03:41 localhost kernel: [<ffffffff81090bf6>] ? kthread+0x96/0xa0\nMay  9 18:03:41 localhost kernel: [<ffffffff8100c14a>] ? child_rip+0xa/0x20\nMay  9 18:03:41 localhost kernel: [<ffffffff81090b60>] ? kthread+0x0/0xa0\nMay  9 18:03:41 localhost kernel: [<ffffffff8100c140>] ? child_rip+0x0/0x20\n\n\nVerified pass with kernel-2.6.32-220.50.1.el6.x86_64 on host. Even triggered OOM, guest still responsible to ping. So this issue has fixed correctly.",
          "author": "chayang@redhat.com",
          "creation_time": "20140512T09:17:54",
          "bug_id": "1092349",
          "creator_id": "305022",
          "time": "20140512T09:17:54",
          "id": "7079969",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "qzhang@redhat.com",
          "text": "QE also run function test for bridge and macvtap on RHEL6.2 host, no new bug found.\n\nTest run for kernel-2.6.32-220.50.1.el6 & qemu-kvm-0.12.1.2-2.209.el6_2.5 - virtual nic device - macvtap - RHEL6.5-z-64\nhttps://tcms.engineering.redhat.com/run/133771/\n\n\nTest run for kernel-2.6.32-220.50.1.el6 & qemu-kvm-0.12.1.2-2.209.el6_2.5 - virtual nic device - Win7-32-sp1\nhttps://tcms.engineering.redhat.com/run/133770/\n\n\nTest run for kernel-2.6.32-220.50.1.el6 & qemu-kvm-0.12.1.2-2.209.el6_2.5 - virtual nic device - RHEL6.2-z-64\nhttps://tcms.engineering.redhat.com/run/133766/\n\n\nSo, based on comment 7 and comment 8, setting the status to VERIFIED.",
          "author": "qzhang@redhat.com",
          "creation_time": "20140512T09:54:59",
          "bug_id": "1092349",
          "creator_id": "280109",
          "time": "20140512T09:54:59",
          "id": "7080077",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to RELEASE_PENDING status by Errata System.\nAdvisory RHSA-2014:17636-05 has been changed to PUSH_READY status.\nhttps://errata.devel.redhat.com/advisory/17636",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20140519T15:00:24",
          "bug_id": "1092349",
          "creator_id": "241731",
          "time": "20140519T15:00:24",
          "id": "7099830",
          "is_private": "True"
        },
        {
          "count": "10",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHSA-2014-0520.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20140520T11:01:22",
          "bug_id": "1092349",
          "creator_id": "241731",
          "time": "20140520T11:01:22",
          "id": "7102508",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.5"
      ],
      "cc": [
        "chayang@redhat.com",
        "dhoward@redhat.com",
        "jasowang@redhat.com",
        "jshao@redhat.com",
        "juzhang@redhat.com",
        "kernel-eus-qe@redhat.com",
        "michen@redhat.com",
        "mst@redhat.com",
        "pm-eus@redhat.com",
        "qzhang@redhat.com",
        "rhod@redhat.com",
        "stefanha@redhat.com",
        "svenkatr@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "1083325"
      ],
      "qa_contact": "virt-bugs@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "kernel"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "groups": [
        "private"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "PMApproved",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "kernel 22 GA: 2014-05-15",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "Limit the head length of skb allocated for tun/macvtap [rhel-6.2.z]",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "?",
          "name": "requires_doc_text",
          "modification_date": "20140526T13:31:47",
          "type_id": "415",
          "is_active": "1",
          "creation_date": "20140526T13:31:47",
          "id": "1828798",
          "setter": "bugzilla@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.2.z",
          "modification_date": "20140430T19:45:21",
          "type_id": "315",
          "is_active": "1",
          "creation_date": "20140429T07:05:21",
          "id": "1797478",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20140429T07:05:21",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20140429T07:05:21",
          "id": "1797479",
          "setter": "jkurik@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20140430T19:35:08",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20140429T07:05:21",
          "id": "1797480",
          "setter": "dhoward@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20140429T07:18:17",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20140429T07:05:21",
          "id": "1797481",
          "setter": "jshao@redhat.com"
        }
      ],
      "last_change_time": "20140604T00:22:31",
      "assigned_to": "plougher@redhat.com",
      "update_token": "1403031798-roJc-AlEVQ-hx8Zro0eVf9QTiZwqZqYbrzIXUZoUGDM",
      "cf_partner": [],
      "cf_last_closed": "20140520T11:01:22",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [
        "1029381"
      ],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20140429T07:05:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "ZStream"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "1092350",
      "cf_release_notes": "",
      "priority": "unspecified",
      "severity": "unspecified",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "kernel-2.6.32-279.45.1.el6",
      "creator": "jkurik@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "jkurik@redhat.com",
          "text": "This bug has been copied from bug #1029381 and has been proposed\nto be backported to 6.3 z-stream (EUS).",
          "author": "jkurik@redhat.com",
          "creation_time": "20140429T07:05:44",
          "bug_id": "1092350",
          "creator_id": "352756",
          "time": "20140429T07:05:44",
          "id": "7047572",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "jkurik@redhat.com",
          "text": "Devel and QE acks are needed to complete 3ACK process and approval.",
          "author": "jkurik@redhat.com",
          "creation_time": "20140429T07:05:59",
          "bug_id": "1092350",
          "creator_id": "352756",
          "time": "20140429T07:05:59",
          "id": "7047575",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "pholasek@redhat.com",
          "text": "related patches:\nhttp://patchwork.usersys.redhat.com/patch/79233/ (6.2.z) backport\nhttp://patchwork.usersys.redhat.com/patch/78853/\nhttp://patchwork.usersys.redhat.com/patch/78854/\nhttp://patchwork.usersys.redhat.com/patch/78855/",
          "author": "pholasek@redhat.com",
          "creation_time": "20140507T10:07:27",
          "bug_id": "1092350",
          "creator_id": "300670",
          "time": "20140507T10:07:27",
          "id": "7068631",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "pholasek@redhat.com",
          "text": "(In reply to Petr Holasek from comment #2)\n> related patches:\n> http://patchwork.usersys.redhat.com/patch/79233/ (6.2.z) backport\n> http://patchwork.usersys.redhat.com/patch/78853/\n> http://patchwork.usersys.redhat.com/patch/78854/\n> http://patchwork.usersys.redhat.com/patch/78855/\n\nlist of patches have been corrected a bit after patchlist review:\n\nhttp://patchwork.usersys.redhat.com/patch/79233/ (6.2.z) backport\nhttp://patchwork.usersys.redhat.com/patch/79234/ (6.2.z) backport\nhttp://patchwork.usersys.redhat.com/patch/78854/\nhttp://patchwork.usersys.redhat.com/patch/78855/",
          "author": "pholasek@redhat.com",
          "creation_time": "20140516T20:44:05",
          "bug_id": "1092350",
          "creator_id": "300670",
          "time": "20140516T20:44:05",
          "id": "7096041",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "pholasek@redhat.com",
          "text": "Please dismiss comment 3, patchlist in comment 2 is still valid.",
          "author": "pholasek@redhat.com",
          "creation_time": "20140516T21:10:29",
          "bug_id": "1092350",
          "creator_id": "300670",
          "time": "20140516T21:10:29",
          "id": "7096068",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "pholasek@redhat.com",
          "text": "fixed in kernel-2.6.32-279.45.1.el6",
          "author": "pholasek@redhat.com",
          "creation_time": "20140518T12:46:32",
          "bug_id": "1092350",
          "creator_id": "300670",
          "time": "20140518T12:46:32",
          "id": "7096969",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHSA-2014:17760-02\nhttps://errata.devel.redhat.com/advisory/17760",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20140520T15:13:17",
          "bug_id": "1092350",
          "creator_id": "241731",
          "time": "20140520T15:13:17",
          "id": "7103539",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "chayang@redhat.com",
          "text": "QE performed acceptance test and virtual network function test for virito_net on kernel-2.6.32-279.45.1.el6.x86_64. And the tests are passed.\n\nAcceptance test:\nhttps://virtlab.englab.nay.redhat.com/job/86931/details/\n\nVirtual NIC test:\nvhost=off: https://virtlab.englab.nay.redhat.com/job/86929/details/\nvhost=on: https://virtlab.englab.nay.redhat.com/job/86930/details/\n\n\nMoving to VERIFIED.",
          "author": "chayang@redhat.com",
          "creation_time": "20140528T05:57:49",
          "bug_id": "1092350",
          "creator_id": "305022",
          "time": "20140528T05:57:49",
          "id": "7123792",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to RELEASE_PENDING status by Errata System.\nAdvisory RHSA-2014:17760-03 has been changed to PUSH_READY status.\nhttps://errata.devel.redhat.com/advisory/17760",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20140603T03:00:28",
          "bug_id": "1092350",
          "creator_id": "241731",
          "time": "20140603T03:00:28",
          "id": "7140503",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHSA-2014-0593.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20140603T16:27:30",
          "bug_id": "1092350",
          "creator_id": "241731",
          "time": "20140603T16:27:30",
          "id": "7143222",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.5"
      ],
      "cc": [
        "chayang@redhat.com",
        "dhoward@redhat.com",
        "jasowang@redhat.com",
        "jshao@redhat.com",
        "juzhang@redhat.com",
        "kernel-eus-qe@redhat.com",
        "michen@redhat.com",
        "mst@redhat.com",
        "pholasek@redhat.com",
        "pm-eus@redhat.com",
        "qzhang@redhat.com",
        "rhod@redhat.com",
        "stefanha@redhat.com",
        "svenkatr@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "1085488"
      ],
      "qa_contact": "virt-bugs@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "kernel"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "groups": [
        "private"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "PMApproved",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "kernel 19 GA: 2014-06-03",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "Limit the head length of skb allocated for tun/macvtap [rhel-6.3.z]",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.3.z",
          "modification_date": "20140507T10:10:26",
          "type_id": "352",
          "is_active": "1",
          "creation_date": "20140429T07:05:55",
          "id": "1797485",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20140429T07:05:55",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20140429T07:05:55",
          "id": "1797487",
          "setter": "jkurik@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20140507T10:07:27",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20140429T07:05:55",
          "id": "1797488",
          "setter": "pholasek@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20140429T07:18:33",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20140429T07:05:55",
          "id": "1797489",
          "setter": "jshao@redhat.com"
        }
      ],
      "last_change_time": "20140603T16:27:30",
      "assigned_to": "pholasek@redhat.com",
      "update_token": "1403031798--A8a0yguln0DT6JdSY4U3tdIB8PIVLo8Md5tvqgkVdY",
      "cf_partner": [],
      "cf_last_closed": "20140603T16:27:30",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [
        "1029381"
      ],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20140429T07:06:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "ZStream"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "1092352",
      "cf_release_notes": "Prior to this update, a guest-provided value was used as the head length of the socket buffer allocated on the host. If the host was under heavy memory load and the guest-provided value was too large, the allocation could have failed, resulting in stalls and packet drops in the guest's Tx path. With this update, the guest-provided value has been limited to a reasonable size so that socket buffer allocations on the host succeed regardless of the memory load on the host, and guests can send packets without experiencing packet drops or stalls.",
      "priority": "unspecified",
      "severity": "unspecified",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "kernel-2.6.32-358.42.1.el6",
      "creator": "jkurik@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "jkurik@redhat.com",
          "text": "This bug has been copied from bug #1029381 and has been proposed\nto be backported to 6.4 z-stream (EUS).",
          "author": "jkurik@redhat.com",
          "creation_time": "20140429T07:06:15",
          "bug_id": "1092352",
          "creator_id": "352756",
          "time": "20140429T07:06:15",
          "id": "7047579",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "jkurik@redhat.com",
          "text": "Devel and QE acks are needed to complete 3ACK process and approval.",
          "author": "jkurik@redhat.com",
          "creation_time": "20140429T07:06:25",
          "bug_id": "1092352",
          "creator_id": "352756",
          "time": "20140429T07:06:25",
          "id": "7047582",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "fhrbata@redhat.com",
          "text": "http://patchwork.lab.bos.redhat.com/patch/78852\n^ this one has a fuzz, because rhel6.4.z is missing the following rhel6 commit\n\ncommit ce40991aee398c0054b95d19974572150acd6316\nAuthor: Vlad Yasevich <vyasevic@redhat.com>\nDate:   Wed Jan 29 17:23:53 2014 -0500\n\n    [netdrv] tuntap: move socket to tun_file\n\nI will post 6.4.z specific version for review.\n\nhttp://patchwork.lab.bos.redhat.com/patch/78853\nhttp://patchwork.lab.bos.redhat.com/patch/78854\nhttp://patchwork.lab.bos.redhat.com/patch/78855",
          "author": "fhrbata@redhat.com",
          "creation_time": "20140429T13:15:37",
          "bug_id": "1092352",
          "creator_id": "303348",
          "time": "20140429T13:15:37",
          "id": "7048707",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "fhrbata@redhat.com",
          "text": "http://patchwork.lab.bos.redhat.com/patch/79264\n^ 6.4.z specific patch posted\nhttp://patchwork.lab.bos.redhat.com/patch/78853\nhttp://patchwork.lab.bos.redhat.com/patch/78854\nhttp://patchwork.lab.bos.redhat.com/patch/78855",
          "author": "fhrbata@redhat.com",
          "creation_time": "20140430T12:07:03",
          "bug_id": "1092352",
          "creator_id": "303348",
          "time": "20140430T12:07:03",
          "id": "7052184",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "fhrbata@redhat.com",
          "text": "again and better, it's 79263 not 79264\n\nhttp://patchwork.lab.bos.redhat.com/patch/79263\n^ 6.4.z specific patch posted\nhttp://patchwork.lab.bos.redhat.com/patch/78853\nhttp://patchwork.lab.bos.redhat.com/patch/78854\nhttp://patchwork.lab.bos.redhat.com/patch/78855",
          "author": "fhrbata@redhat.com",
          "creation_time": "20140430T12:08:45",
          "bug_id": "1092352",
          "creator_id": "303348",
          "time": "20140430T12:08:45",
          "id": "7052188",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "fhrbata@redhat.com",
          "text": "fixed in kernel-2.6.32-358.42.1.el6",
          "author": "fhrbata@redhat.com",
          "creation_time": "20140512T14:05:49",
          "bug_id": "1092352",
          "creator_id": "303348",
          "time": "20140512T14:05:49",
          "id": "7081051",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "qzhang@redhat.com",
          "text": "Hi, Jason\n\nCould you help provide QE a reproducer to reproduce and verify it like you did you RHEL6.2-z? \n\n\nThanks!\nQunfang",
          "author": "qzhang@redhat.com",
          "creation_time": "20140513T02:36:50",
          "bug_id": "1092352",
          "creator_id": "280109",
          "time": "20140513T02:36:50",
          "id": "7082680",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "jasowang@redhat.com",
          "text": "(In reply to Qunfang Zhang from comment #6)\n> Hi, Jason\n> \n> Could you help provide QE a reproducer to reproduce and verify it like you\n> did you RHEL6.2-z? \n> \n> \n> Thanks!\n> Qunfang\n\nHi, you can use the same reproducer as guest.\n\nThanks",
          "author": "jasowang@redhat.com",
          "creation_time": "20140513T02:46:13",
          "bug_id": "1092352",
          "creator_id": "275766",
          "time": "20140513T02:46:13",
          "id": "7082687",
          "is_private": "False"
        },
        {
          "count": "8",
          "creator": "qzhang@redhat.com",
          "text": "(In reply to jason wang from comment #7)\n> (In reply to Qunfang Zhang from comment #6)\n> > Hi, Jason\n> > \n> > Could you help provide QE a reproducer to reproduce and verify it like you\n> > did you RHEL6.2-z? \n> > \n> > \n> > Thanks!\n> > Qunfang\n> \n> Hi, you can use the same reproducer as guest.\n> \n> Thanks\n\nAh, okay and thanks.",
          "author": "qzhang@redhat.com",
          "creation_time": "20140513T03:03:41",
          "bug_id": "1092352",
          "creator_id": "280109",
          "time": "20140513T03:03:41",
          "id": "7082705",
          "is_private": "False"
        },
        {
          "count": "9",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHSA-2014:17694-02\nhttps://errata.devel.redhat.com/advisory/17694",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20140513T05:31:13",
          "bug_id": "1092352",
          "creator_id": "241731",
          "time": "20140513T05:31:13",
          "id": "7082965",
          "is_private": "True"
        },
        {
          "count": "10",
          "creator": "chayang@redhat.com",
          "text": "QE still can observe log like below on kernel-2.6.32-358.44.1.el6.x86_64\n\nvhost-2228: page allocation failure. order:5, mode:0x4d0\nPid: 2239, comm: vhost-2228 Not tainted 2.6.32-358.44.1.el6.x86_64 #1\nCall Trace:\n [<ffffffff8112c26a>] ? __alloc_pages_nodemask+0x74a/0x8d0\n [<ffffffff81166db2>] ? kmem_getpages+0x62/0x170\n [<ffffffff811679ca>] ? fallback_alloc+0x1ba/0x270\n [<ffffffff8116741f>] ? cache_grow+0x2cf/0x320\n [<ffffffff81167749>] ? ____cache_alloc_node+0x99/0x160\n [<ffffffff81168910>] ? kmem_cache_alloc_node_trace+0x90/0x200\n [<ffffffff81168b2d>] ? __kmalloc_node+0x4d/0x60\n [<ffffffff8143e60d>] ? __alloc_skb+0x6d/0x190\n [<ffffffff8143a5d0>] ? sock_alloc_send_pskb+0x1e0/0x350\n [<ffffffff81441fd5>] ? memcpy_fromiovec+0x55/0x80\n [<ffffffffa03ca5fa>] ? tun_sendmsg+0xca/0x508 [tun]\n [<ffffffffa03e2d95>] ? handle_tx+0x275/0x5e0 [vhost_net]\n [<ffffffffa03e3115>] ? handle_tx_net+0x15/0x20 [vhost_net]\n [<ffffffffa03e055c>] ? vhost_worker+0xbc/0x140 [vhost_net]\n [<ffffffffa03e04a0>] ? vhost_worker+0x0/0x140 [vhost_net]\n [<ffffffff81096a26>] ? kthread+0x96/0xa0\n [<ffffffff8100c0ca>] ? child_rip+0xa/0x20\n [<ffffffff81096990>] ? kthread+0x0/0xa0\n [<ffffffff8100c0c0>] ? child_rip+0x0/0x20",
          "author": "chayang@redhat.com",
          "creation_time": "20140523T10:05:47",
          "bug_id": "1092352",
          "creator_id": "305022",
          "time": "20140523T10:05:47",
          "id": "7113715",
          "is_private": "True"
        },
        {
          "count": "11",
          "creator": "fhrbata@redhat.com",
          "text": "Jason could you please take a look? Many thanks",
          "author": "fhrbata@redhat.com",
          "creation_time": "20140523T14:14:21",
          "bug_id": "1092352",
          "creator_id": "303348",
          "time": "20140523T14:14:21",
          "id": "7114574",
          "is_private": "True"
        },
        {
          "count": "12",
          "creator": "jasowang@redhat.com",
          "text": "Hi:\n\nSeveral questions:\n\nDid you face the similiar issue with 6.5 or 6.2z?\n\nPlease try the following debug kernel(when it was finished), and paste your dmesg after you reproduce the issue.\n\nhttps://brewweb.devel.redhat.com/taskinfo?taskID=7495435\n\nThanks.",
          "author": "jasowang@redhat.com",
          "creation_time": "20140526T04:56:44",
          "bug_id": "1092352",
          "creator_id": "275766",
          "time": "20140526T04:56:44",
          "id": "7117128",
          "is_private": "True"
        },
        {
          "count": "13",
          "creator": "chayang@redhat.com",
          "text": "(In reply to jason wang from comment #12)\n> Hi:\n> \n> Several questions:\n> \n> Did you face the similiar issue with 6.5 or 6.2z?\n> \n> Please try the following debug kernel(when it was finished), and paste your\n> dmesg after you reproduce the issue.\n> \n> https://brewweb.devel.redhat.com/taskinfo?taskID=7495435\n> \n> Thanks.\n\nI am retrying with 6.2.z\nI'll update here once the build is finished.",
          "author": "chayang@redhat.com",
          "creation_time": "20140526T05:07:16",
          "bug_id": "1092352",
          "creator_id": "305022",
          "time": "20140526T05:07:16",
          "id": "7117146",
          "is_private": "True"
        },
        {
          "count": "14",
          "creator": "chayang@redhat.com",
          "text": "(In reply to Chao Yang from comment #13)\n> (In reply to jason wang from comment #12)\n> > Hi:\n> > \n> > Several questions:\n> > \n> > Did you face the similiar issue with 6.5 or 6.2z?\n> > \n> > Please try the following debug kernel(when it was finished), and paste your\n> > dmesg after you reproduce the issue.\n> > \n> > https://brewweb.devel.redhat.com/taskinfo?taskID=7495435\n> > \n> > Thanks.\n> \n> I am retrying with 6.2.z\n\nIt is not reproducible for me with 6.2.z. \n\n> I'll update here once the build is finished.\n\nWill upload dmesg.\n\nSteps to trigger this calltrace:\n1. start a guest with reproducer installed:\n/usr/libexec/qemu-kvm -M rhel6.4.0 -enable-kvm -m 4096 -smp 2 -boot menu=on -drive file=rhel6.5.qcow2,if=none,id=drive-virtio-0-0,media=disk,format=qcow2 -device virtio-blk-pci,drive=drive-virtio-0-0,id=virtio-0-0 -netdev tap,id=hostnet0,vhost=on -device virtio-net-pci,netdev=hostnet0,id=net0,mac=52:54:5b:51:23:11 -usb -device usb-tablet,id=input0 -vnc :1 -vga cirrus -monitor stdio\n\n2. load pktgen in guest and stress with large packets in guest:\n# echo ''add_device eth0'' > /proc/net/pktgen/kpktgend_1\n# echo ''dst_mac 52:54:5b:51:23:11'' > /proc/net/pktgen/eth0\n# echo ''pkt_size 65536'' > /proc/net/pktgen/eth0\n# while :; do echo start > /proc/net/pktgen/pgctrl; done\n\n3. stress --vm 100 --vm-keep",
          "author": "chayang@redhat.com",
          "creation_time": "20140526T10:33:00",
          "bug_id": "1092352",
          "creator_id": "305022",
          "time": "20140526T10:33:00",
          "id": "7118133",
          "is_private": "True"
        },
        {
          "count": "15",
          "attachment_id": "899283",
          "author": "chayang@redhat.com",
          "text": "Created attachment 899283\ndmesg generated with debug kernel",
          "creator": "chayang@redhat.com",
          "creation_time": "20140526T10:34:44",
          "bug_id": "1092352",
          "creator_id": "305022",
          "time": "20140526T10:34:44",
          "id": "7118136",
          "is_private": "True"
        },
        {
          "count": "16",
          "attachment_id": "899368",
          "author": "chayang@redhat.com",
          "text": "Created attachment 899368\nhost calltrace",
          "creator": "chayang@redhat.com",
          "creation_time": "20140527T03:10:09",
          "bug_id": "1092352",
          "creator_id": "305022",
          "time": "20140527T03:10:09",
          "id": "7119515",
          "is_private": "True"
        },
        {
          "count": "17",
          "creator": "jasowang@redhat.com",
          "text": "The calltrace is probably expected. The patch was for GSO packet, for non-gso packet, because of commit 0eca93bcf73e5939053a94f7c48f8d6fe6199e00 (tun: Fix crash with non-GSO users) we probably could not do the same limitation for non-gso skb.\n\nSo please try using netperf UDP_STREAM to generate the traffic in guest. It can make sure to generate GSO packets.\n\nThanks",
          "author": "jasowang@redhat.com",
          "creation_time": "20140527T08:19:51",
          "bug_id": "1092352",
          "creator_id": "275766",
          "time": "20140527T08:19:51",
          "id": "7120097",
          "is_private": "True"
        },
        {
          "count": "18",
          "creator": "chayang@redhat.com",
          "text": "Thanks Jason.\n\nQE has running netperf stress test for more than 1 day with host kernel-2.6.32-358.44.1.el6.x86_64 and reproducer provided by Jason. Neither calltrace nor tx hang is found. Besides, QE performed acceptance test and virtual network function test for virito_net on kernel-2.6.32-358.42.1.el6.x86_64. And the tests are passed.\n\nAcceptance test:\nhttps://virtlab.englab.nay.redhat.com/job/86819/details/\n\nVirtual NIC test:\nvhost=on: https://virtlab.englab.nay.redhat.com/job/86876/details/\nvhost=off: https://virtlab.englab.nay.redhat.com/job/86913/details/\n\nMoving to VERIFIED.",
          "author": "chayang@redhat.com",
          "creation_time": "20140528T05:48:42",
          "bug_id": "1092352",
          "creator_id": "305022",
          "time": "20140528T05:48:42",
          "id": "7123770",
          "is_private": "True"
        },
        {
          "count": "19",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to RELEASE_PENDING status by Errata System.\nAdvisory RHSA-2014:17694-03 has been changed to PUSH_READY status.\nhttps://errata.devel.redhat.com/advisory/17694",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20140604T00:02:43",
          "bug_id": "1092352",
          "creator_id": "241731",
          "time": "20140604T00:02:43",
          "id": "7144123",
          "is_private": "True"
        },
        {
          "count": "20",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHSA-2014-0634.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20140604T17:08:20",
          "bug_id": "1092352",
          "creator_id": "241731",
          "time": "20140604T17:08:20",
          "id": "7147857",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.5"
      ],
      "cc": [
        "chayang@redhat.com",
        "dhoward@redhat.com",
        "fhrbata@redhat.com",
        "jasowang@redhat.com",
        "jshao@redhat.com",
        "juzhang@redhat.com",
        "kernel-eus-qe@redhat.com",
        "michen@redhat.com",
        "mst@redhat.com",
        "msvoboda@redhat.com",
        "pm-eus@redhat.com",
        "qzhang@redhat.com",
        "rhod@redhat.com",
        "stefanha@redhat.com",
        "svenkatr@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "1080690"
      ],
      "qa_contact": "virt-bugs@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "kernel"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "groups": [
        "private"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "PMApproved",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "kernel 11 GA: 2014-06-04",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "Limit the head length of skb allocated for tun/macvtap [rhel-6.4.z]",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "+",
          "name": "requires_doc_text",
          "modification_date": "20140528T14:19:55",
          "type_id": "415",
          "is_active": "1",
          "creation_date": "20140528T14:19:55",
          "id": "1832009",
          "setter": "bugzilla@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.4.z",
          "modification_date": "20140430T12:10:22",
          "type_id": "486",
          "is_active": "1",
          "creation_date": "20140429T07:06:21",
          "id": "1797493",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20140429T07:06:21",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20140429T07:06:21",
          "id": "1797494",
          "setter": "jkurik@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20140430T12:07:03",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20140429T07:06:21",
          "id": "1797495",
          "setter": "fhrbata@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20140429T07:18:41",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20140429T07:06:21",
          "id": "1797496",
          "setter": "jshao@redhat.com"
        }
      ],
      "last_change_time": "20140604T17:08:20",
      "assigned_to": "fhrbata@redhat.com",
      "update_token": "1403031798-JL7AyrvC8BqV2avMoib11N0Xufob2QWV2oxN_RDgoO4",
      "cf_partner": [],
      "cf_last_closed": "20140604T17:08:20",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "classification": "Red Hat",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [
        "1029381"
      ],
      "cf_story_points": "---",
      "cf_conditional_nak": [],
      "creation_time": "20140429T07:06:00",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "True",
      "keywords": [
        "ZStream"
      ],
      "summary": "Limit the head length of skb allocated for tun/macvtap [rhel-6.5.z]",
      "external_bugs": [],
      "id": "1092353",
      "cf_release_notes": "",
      "priority": "unspecified",
      "severity": "unspecified",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "jkurik@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "jkurik@redhat.com",
          "text": "This bug has been copied from bug #1029381 and has been proposed\nto be backported to 6.5 z-stream (EUS).",
          "author": "jkurik@redhat.com",
          "creation_time": "20140429T07:06:41",
          "bug_id": "1092353",
          "creator_id": "352756",
          "time": "20140429T07:06:41",
          "id": "7047585",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "jkurik@redhat.com",
          "text": "Devel and QE acks are needed to complete 3ACK process and approval.",
          "author": "jkurik@redhat.com",
          "creation_time": "20140429T07:06:51",
          "bug_id": "1092353",
          "creator_id": "352756",
          "time": "20140429T07:06:51",
          "id": "7047587",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "pholasek@redhat.com",
          "text": "related patches:\nhttp://patchwork.usersys.redhat.com/patch/78852/\nhttp://patchwork.usersys.redhat.com/patch/78853/\nhttp://patchwork.usersys.redhat.com/patch/78854/\nhttp://patchwork.usersys.redhat.com/patch/78855/\nother related superseded or NACKed patches:\nhttp://patchwork.usersys.redhat.com/patch/78751/\nhttp://patchwork.usersys.redhat.com/patch/78752/\nhttp://patchwork.usersys.redhat.com/patch/78753/\nhttp://patchwork.usersys.redhat.com/patch/78750/",
          "author": "pholasek@redhat.com",
          "creation_time": "20140430T07:58:31",
          "bug_id": "1092353",
          "creator_id": "300670",
          "time": "20140430T07:58:31",
          "id": "7051360",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "qzhang@redhat.com",
          "text": "Hi, Petr \n\nIs THE GA still Jun 19th?  Then we need to have the official build asap because we need to run a lot of regression test to verify this bug. \n\nThanks,\nQunfang",
          "author": "qzhang@redhat.com",
          "creation_time": "20140609T09:02:42",
          "bug_id": "1092353",
          "creator_id": "280109",
          "time": "20140609T09:02:42",
          "id": "7159598",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "pholasek@redhat.com",
          "text": "Hi Qunfang,\n\nthis bug has been deferred to kernel 6 (GA 2014-07-29).\n\nthanks,\nPetr",
          "author": "pholasek@redhat.com",
          "creation_time": "20140609T09:35:46",
          "bug_id": "1092353",
          "creator_id": "300670",
          "time": "20140609T09:35:46",
          "id": "7159697",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "qzhang@redhat.com",
          "text": "(In reply to Petr Holasek from comment #4)\n> Hi Qunfang,\n> \n> this bug has been deferred to kernel 6 (GA 2014-07-29).\n> \n> thanks,\n> Petr\n\nOkay, thanks Petr for the confirmation.",
          "author": "qzhang@redhat.com",
          "creation_time": "20140609T11:32:08",
          "bug_id": "1092353",
          "creator_id": "280109",
          "time": "20140609T11:32:08",
          "id": "7160091",
          "is_private": "True"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.5"
      ],
      "cc": [
        "chayang@redhat.com",
        "dhoward@redhat.com",
        "jasowang@redhat.com",
        "jshao@redhat.com",
        "juzhang@redhat.com",
        "kernel-eus-qe@redhat.com",
        "michen@redhat.com",
        "mst@redhat.com",
        "pholasek@redhat.com",
        "pm-eus@redhat.com",
        "qzhang@redhat.com",
        "rhod@redhat.com",
        "stefanha@redhat.com",
        "svenkatr@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_regression_status": "---",
      "cf_environment": "",
      "status": "POST",
      "product": "Red Hat Enterprise Linux 6",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "virt-bugs@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "kernel"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "groups": [
        "private"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "PMApproved",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "kernel 6 GA: 2014-07-29",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "target_release": [
        "---"
      ],
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.5.z",
          "modification_date": "20140430T08:05:29",
          "type_id": "618",
          "is_active": "1",
          "creation_date": "20140429T07:06:47",
          "id": "1797499",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20140429T07:06:47",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20140429T07:06:47",
          "id": "1797500",
          "setter": "jkurik@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20140430T07:58:31",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20140429T07:06:47",
          "id": "1797501",
          "setter": "pholasek@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20140429T07:18:50",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20140429T07:06:47",
          "id": "1797502",
          "setter": "jshao@redhat.com"
        }
      ],
      "last_change_time": "20140609T11:32:08",
      "assigned_to": "pholasek@redhat.com",
      "update_token": "1403031799-BPvOmPpAvTu1BnZnefb6u4FsvDrwlgJxT5wLaeFLX_w",
      "cf_partner": [],
      "resolution": "",
      "cf_mount_type": "---",
      "cf_layered_products": []
    }
  ]
}