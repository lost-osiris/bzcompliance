{
  "bugs": [
    {
      "cf_qe_conditional_nak": [],
      "classification": "Red Hat",
      "cf_pm_score": "200",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_story_points": "---",
      "cf_conditional_nak": [],
      "creation_time": "20120119T21:54:00",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "True",
      "keywords": [],
      "summary": "kerberos auth fails after relocating service to passive node",
      "external_bugs": [],
      "id": "783306",
      "cf_release_notes": "",
      "priority": "unspecified",
      "severity": "unspecified",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "nstraz@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "nstraz@redhat.com",
          "text": "Description of problem:\n\nI have a cluster of two nodes (dash-02 and dash-03) with a virtual IP address (rg-206).  Each node has a keytab with it's principal and the principal for the virtual IP.  I set ''GSSAPIStrictAcceptorCheck no'' in /etc/ssh/sshd_config on both nodes so I can ssh to the virtual IP's name and still authenticate with Kerberos.\n\nThis all works correctly when I set up and start authenticating.\n\n[root@dash-01 tmp]# kinit testmonkey\nPassword for testmonkey@EXAMPLE.COM:\n[root@dash-01 tmp]# klist\nTicket cache: FILE:/tmp/krb5cc_0\nDefault principal: testmonkey@EXAMPLE.COM\n\nValid starting     Expires            Service principal\n01/19/12 15:47:04  01/20/12 15:47:04  krbtgt/EXAMPLE.COM@EXAMPLE.COM\n        renew until 01/19/12 15:47:04\n[root@dash-01 tmp]# ssh -l testmonkey dash-02 uname -n\ndash-02\n[root@dash-01 tmp]# ssh -l testmonkey dash-03 uname -n\ndash-03\n[root@dash-01 tmp]# ssh -l testmonkey rg-206 uname -n\ndash-03\n\nWhen I relocate the service to dash-02 authentication fails to rg-206.\n\n[root@dash-01 tmp]# ssh -l testmonkey rg-206 uname -n\ntestmonkey@rg-206's password:\ndash-02\n\n\nVersion-Release number of selected component (if applicable):\nopenssh-5.3p1-70.el6.x86_64\n\n\nHow reproducible:\nEasily\n\nSteps to Reproduce:\n0. Start with three nodes and a virtual IP\n1. Create a Kerberos realm on node 1\n2. Create a two node cluster on nodes 2 and 3 w/ virtual IP\n2. Set ''GSSAPIStrictAcceptorCheck no'' in /etc/ssh/sshd_config on cluster nodes\n3. Copy ssh host keys from node 2 to node 3\n4. Create keytab for node 2 including principals for node 2 and virtual IP\n5. Create keytab for node 3 including principals for node 3 and virtual IP\n6. Create user principal and user on all nodes\n7. kinit user\n8. ssh -l user virtual IP\n9. relocate virtual IP to other node\n10. ssh -l user virtual IP\n\n\nActual results:\nssh asks for a password on the second node after IP is relocated to it\n\n\nExpected results:\nssh should not ask for a password regardless of where the virtual IP is located.\n\nAdditional info:",
          "author": "nstraz@redhat.com",
          "creation_time": "20120119T21:54:27",
          "bug_id": "783306",
          "creator_id": "183413",
          "time": "20120119T21:54:27",
          "id": "4374686",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120119T22:11:12",
          "bug_id": "783306",
          "creator_id": "193983",
          "time": "20120119T22:11:12",
          "id": "4374742",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "pm-rhel@redhat.com",
          "text": "Since RHEL 6.3 External Beta has begun, and this bug remains\nunresolved, it has been rejected as it is not proposed as\nexception or blocker.\n\nRed Hat invites you to ask your support representative to\npropose this request, if appropriate and relevant, in the\nnext release of Red Hat Enterprise Linux.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120503T05:18:12",
          "bug_id": "783306",
          "creator_id": "193983",
          "time": "20120503T05:18:12",
          "id": "4646204",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.2"
      ],
      "cc": [
        "mvadkert@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_regression_status": "---",
      "cf_environment": "",
      "status": "NEW",
      "product": "Red Hat Enterprise Linux 6",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "target_release": [
        "---"
      ],
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "-",
          "name": "rhel-6.3.0",
          "modification_date": "20120503T05:18:09",
          "type_id": "276",
          "is_active": "0",
          "creation_date": "20120119T22:11:10",
          "id": "963035",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20120119T22:27:02",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20120119T22:25:27",
          "id": "963044",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20120119T22:44:57",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20120119T22:44:57",
          "id": "963048",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20140102T09:04:05",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509316-NjEQkchk1BZ6oqVQAA1jQfVWGLLyzXAcJglkvvqXvsc",
      "cf_partner": [],
      "resolution": "",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "classification": "Red Hat",
      "cf_pm_score": "100",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_story_points": "---",
      "cf_conditional_nak": [],
      "creation_time": "20121114T11:55:00",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "True",
      "keywords": [],
      "summary": "Possible null dereference",
      "external_bugs": [],
      "id": "876544",
      "cf_release_notes": "",
      "priority": "unspecified",
      "severity": "unspecified",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "praiskup@redhat.com",
      "comments": [
        {
          "count": "0",
          "attachment_id": "644771",
          "author": "praiskup@redhat.com",
          "text": "Created attachment 644771\nList of all defects in openssh-5.3p1-82.el6.err\n\nHello, new Coverity scan revealed added defect between openssh versions:\n\n    openssh-5.3p1-81.el6.err\n    openssh-5.3p1-82.el6.err\n\npam_ssh_agent_auth.c|164 & 179|:  The check for whether 'user' is non null is\nuseless as there is done null-dereference on line 159 already.\n\nThere is possibility to check return value of pam_get_item() to be sure that\ngetting info was ok.\n\nThis error is mentioned just as a warning and it depends on you whether it will\nbe fixed.  This defect can be not so dangerous and/or not so prioritized to be\nfixed in 6.4 so feel free to move it to 6.5 or close it as a NOTABUG if we\ndon't need to fix it at all.\n\nQA: This issue was found by static analysis tool and we can't provide any\nreproducer for it.  We are able to rescan package once the problem is fixed,\nthough.  Please check this as SanityOnly (just check if corresponding patch\nfixes this defect and check if nothing unexpected was added by this commit).\nIf you want to check the new package with Coverity yourself, feel free to use\ncovscan tool (https://engineering.redhat.com/trac/CoverityScan/wiki/covscan).\n\nPavel",
          "creator": "praiskup@redhat.com",
          "creation_time": "20121114T11:55:29",
          "bug_id": "876544",
          "creator_id": "316145",
          "time": "20121114T11:55:29",
          "id": "5197953",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "This request was not resolved in time for the current release.\nRed Hat invites you to ask your support representative to\npropose this request, if still desired, for consideration in\nthe next release of Red Hat Enterprise Linux.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20121214T08:10:35",
          "bug_id": "876544",
          "creator_id": "193983",
          "time": "20121214T08:10:35",
          "id": "5288982",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "tlavigne@redhat.com",
          "text": "Since the release flag was set to ? after the pm_ack flag was set to + (was likely set for the previous release), the pm_ack flag has been reset to ? by the bugbot (pm-rhel). This action ensures the proper review by Product Management.",
          "author": "tlavigne@redhat.com",
          "creation_time": "20130703T16:36:17",
          "bug_id": "876544",
          "creator_id": "336123",
          "time": "20130703T16:36:17",
          "id": "6068706",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "pm-rhel@redhat.com",
          "text": "This request was not resolved in time for the current release.\nRed Hat invites you to ask your support representative to\npropose this request, if still desired, for consideration in\nthe next release of Red Hat Enterprise Linux.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20131014T04:39:24",
          "bug_id": "876544",
          "creator_id": "193983",
          "time": "20131014T04:39:24",
          "id": "6415042",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "tlavigne@redhat.com",
          "text": "Since the release flag was set to ? after the pm_ack flag was set to + (was likely set for the previous release), the pm_ack flag has been reset to ? by the bugbot (pm-rhel). This action ensures the proper review by Product Management.",
          "author": "tlavigne@redhat.com",
          "creation_time": "20140213T20:09:34",
          "bug_id": "876544",
          "creator_id": "336123",
          "time": "20140213T20:09:34",
          "id": "6817004",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "ksrot@redhat.com",
          "text": "qa_ack+ for 6.6, SanityOnly",
          "author": "ksrot@redhat.com",
          "creation_time": "20140328T07:42:23",
          "bug_id": "876544",
          "creator_id": "286283",
          "time": "20140328T07:42:23",
          "id": "6961855",
          "is_private": "True"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.4"
      ],
      "cc": [
        "pvrabec@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_regression_status": "---",
      "cf_environment": "",
      "status": "NEW",
      "product": "Red Hat Enterprise Linux 6",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "private"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "CoverityScan",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "target_release": [
        "---"
      ],
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "?",
          "name": "qe_test_coverage",
          "modification_date": "20140328T07:57:16",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20140328T07:57:16",
          "id": "1762714",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "-",
          "name": "rhel-6.4.0",
          "modification_date": "20121214T08:10:33",
          "type_id": "326",
          "is_active": "0",
          "creation_date": "20121114T11:55:29",
          "id": "1188116",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "-",
          "name": "rhel-6.5.0",
          "modification_date": "20131014T04:39:16",
          "type_id": "361",
          "is_active": "0",
          "creation_date": "20130702T14:06:44",
          "id": "1405792",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.6.0",
          "modification_date": "20140328T07:56:45",
          "type_id": "519",
          "is_active": "1",
          "creation_date": "20140204T15:06:29",
          "id": "1691449",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20140324T01:07:01",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20121114T11:55:29",
          "id": "1188117",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20140320T09:36:01",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20121114T11:55:29",
          "id": "1188118",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20140328T07:42:23",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20121114T11:55:29",
          "id": "1188119",
          "setter": "ksrot@redhat.com"
        }
      ],
      "last_change_time": "20140328T07:57:16",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509316-PcZdVTO2oFu2qiIewqLjxIf3YsOUi2Rx30JopoNWL4A",
      "cf_partner": [],
      "resolution": "",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "classification": "Red Hat",
      "cf_pm_score": "100",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_story_points": "---",
      "cf_conditional_nak": [
        "Design"
      ],
      "creation_time": "20130407T10:22:00",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "True",
      "keywords": [],
      "summary": "SummerTime .... and the chroot'ing ain't easy",
      "external_bugs": [],
      "id": "949264",
      "cf_release_notes": "",
      "priority": "unspecified",
      "severity": "low",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "ejtr@layer3.co.uk",
      "comments": [
        {
          "count": "0",
          "creator": "ejtr@layer3.co.uk",
          "text": "Description of problem:\n\nThe locale of sshd's internal-sftp server when chroot'ed reverts to UTC, which in England naturally only becomes apparent in Summer.\n\nThere are some further locale related effects which may need fixing in SELinux policy and rsyslog/syslog-ng, plus a chroot-related fix to openssh's internal-sftp server\n\nVersion-Release number of selected component (if applicable):\n\nselinux-policy-targeted-3.7.19-155.el6_3.14.noarch\nopenssh-server-5.3p1-81.el6.i686\nsyslog-ng-3.2.5-3.el6.i686  ( from EPEL repository )\nrsyslog-5.8.10-2.el6.i686\n\n\n\nAdditional info:\n\nThe locale of sshd's internal-sftp server when chroot'ed reverts to UTC, which in England naturally only becomes apparent in Summer.\n\nThis has two noticeable side-effects: syslog messages are issued with a UTC timestamp, and ''ls'' listings within SFTP itself show UTC rather than localtime timestamps.\n\nThe usual workround to this is to add /etc/localtime to the chroot area, but selinux-policy-targeted seems to lack the ability for chroot_user_t to read locale_t without enabing the ssh_chroot_full_access boolean.\n\nThis workround fixes visiblity of locale_t within the chroot:\n\n    miscfiles_read_localization(chroot_user_t)\n\n\nAnother workround which appears to work is to add this tweak to /etc/init.d/sshd:\n\nif [ -s /etc/sysconfig/clock ]; then\n. /etc/sysconfig/clock\nTZ=$ZONE\nexport TZ\nfi\n\nHowever, this in itself is slightly odd, as I understood that tzset() had to effectively decode the TZ variable via the ZoneInfo files in /usr/share/zoneinfo - which would be invisible inside the chroot.\n\nThe clue that the locale seems to be fixed when TZ is exported, whilst /etc/localtime and /usr/share/zoneinfo are invisible, implies that a better fix might be possible by recoding sshd itself to make all of sshd's children inherit the parent's locale by default, obviating any requirement to populate each chroot area with /etc/localtime.\n\n\nThese problems are not immediately apparent on a ''normal'' install which uses rsyslog, as rsyslogd seems to ignore a Client's timestamp and use it's own locale for stamping the log messages; I use syslog-ng as I prefer it's richer filtering language.\n\nA workround to this is to add an equivalent override to syslog-ng.conf's global options, as in:\n\noptions {\n   keep_timestamp(no);\n};\n\nNevertheless, it could be argued that it would be better for both syslog-ng and rsyslog to use ''keep_timestamp(yes)'' by default as it helps to highlight locale-related bugs in various applications anyway.\n\n\n\nThere is a further oddity which doesn't appear to be related to the chroot at all; these messages from sshd:\n\n...\nApr  6 21:07:05 hostname sshd[22628]: Did not receive identification string from 1.2.3.4\n...\nApr  7 10:35:34 hostname sshd[18970]: Connection closed by 1.2.3.4\n...\n\nare issued with a UTC timestamp which implies that the locale is only corrected once login is complete.\n\n\nA yet further issue is that when chroot'ed, the SFTP Server issues log messages with a ''sshd'' tag, rather than ''internal-sftp'' which is used by SFTP when not chroot'ed. It also seems that outside of the chroot, internal-sftp logs to /var/log/messages rather than /var/log/secure, suggesting that within the chroot internal-sftp inherits sshd's AUTHPRIV facility, but uses DAEMON outside of the chroot.\n\n\nChroot'ed:\n\nApr  6 17:00:43 hostname sshd[14083]: lstat name ''/test/Inbox''\n\nNot Chroot'ed:\n\nApr  7 10:43:32 hostname internal-sftp[19165]: realpath ''.''\n\n\nAll in all, I think the preferred fixes should be:\n\n\n1. Add ''miscfiles_read_localization(chroot_user_t)'' to selinux-policy-targeted.\n\n2. Add an equivalent of syslog-ng's ''keep_timestamp(yes)'' to rsyslog.conf.\n\n[ Highly controversial, I know. :) ]\n\n3. Fix sshd's locale in child processes pre-login\n\n4. Fix internal-sftp's syslog facility and tag within a chroot to be consistent with non-chroot operation.",
          "author": "ejtr@layer3.co.uk",
          "creation_time": "20130407T10:22:00",
          "bug_id": "949264",
          "creator_id": "196085",
          "time": "20130407T10:22:00",
          "id": "5807219",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this bug report was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20130506T21:25:28",
          "bug_id": "949264",
          "creator_id": "193983",
          "time": "20130506T21:25:28",
          "id": "5888729",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "pm-rhel@redhat.com",
          "text": "This request was not resolved in time for the current release.\nRed Hat invites you to ask your support representative to\npropose this request, if still desired, for consideration in\nthe next release of Red Hat Enterprise Linux.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20131014T03:51:58",
          "bug_id": "949264",
          "creator_id": "193983",
          "time": "20131014T03:51:58",
          "id": "6414704",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "tlavigne@redhat.com",
          "text": "Since the release flag was set to ? after the pm_ack flag was set to + (was likely set for the previous release), the pm_ack flag has been reset to ? by the bugbot (pm-rhel). This action ensures the proper review by Product Management.",
          "author": "tlavigne@redhat.com",
          "creation_time": "20140213T20:55:33",
          "bug_id": "949264",
          "creator_id": "336123",
          "time": "20140213T20:55:33",
          "id": "6817374",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "plautrba@redhat.com",
          "text": "(In reply to Ted Rule from comment #0)\n> A yet further issue is that when chroot'ed, the SFTP Server issues log\n> messages with a ''sshd'' tag, rather than ''internal-sftp'' which is used by\n> SFTP when not chroot'ed. It also seems that outside of the chroot,\n> internal-sftp logs to /var/log/messages rather than /var/log/secure,\n> suggesting that within the chroot internal-sftp inherits sshd's AUTHPRIV\n> facility, but uses DAEMON outside of the chroot.\n> \n> \n> Chroot'ed:\n> \n> Apr  6 17:00:43 hostname sshd[14083]: lstat name ''/test/Inbox''\n> \n> Not Chroot'ed:\n> \n> Apr  7 10:43:32 hostname internal-sftp[19165]: realpath ''.''\n> \n\n> 4. Fix internal-sftp's syslog facility and tag within a chroot to be\n> consistent with non-chroot operation.\n\nYou can change a facility in configuration file using -f option:\nSubsystem sftp internal-sftp -l VERBOSE -f AUTHPRIV\n\nLogging inside of chroot without /dev/log is tricky thing and it's currently solved using dirty hack. As chroot'ed internal-sftp can't call openlog() (missing /dev/log in chroot), it has to use a file descriptor inherited from sshd process for logging so that ident and facility for chrooted internal-sftp is same as the original's sshd.",
          "author": "plautrba@redhat.com",
          "creation_time": "20140404T11:53:36",
          "bug_id": "949264",
          "creator_id": "270148",
          "time": "20140404T11:53:36",
          "id": "6984924",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.3"
      ],
      "cc": [
        "pvrabec@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_regression_status": "---",
      "cf_environment": "",
      "status": "NEW",
      "product": "Red Hat Enterprise Linux 6",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "target_release": [
        "---"
      ],
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "-",
          "name": "rhel-6.5.0",
          "modification_date": "20131014T03:51:55",
          "type_id": "361",
          "is_active": "0",
          "creation_date": "20130506T21:25:24",
          "id": "1338176",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "rhel-6.6.0",
          "modification_date": "20140204T15:22:10",
          "type_id": "519",
          "is_active": "1",
          "creation_date": "20140204T15:22:10",
          "id": "1691493",
          "setter": "plautrba@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20140324T00:58:23",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20130506T21:47:39",
          "id": "1338281",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20130506T21:51:19",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20130506T21:51:19",
          "id": "1338370",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "qa_ack",
          "modification_date": "20130506T21:55:00",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20130506T21:55:00",
          "id": "1338462",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20140404T14:16:41",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509317-u3EPE26-qg1RC-DqKPL5zlZhAIvhvEA9L85tXXDq10o",
      "cf_partner": [],
      "resolution": "",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "classification": "Red Hat",
      "cf_pm_score": "3200",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_story_points": "---",
      "cf_conditional_nak": [],
      "creation_time": "20130417T10:35:00",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "True",
      "keywords": [
        "Patch"
      ],
      "summary": "OpenSSH adding ControlPersist patch to enable full usage of SSH control options",
      "external_bugs": [
        {
          "ext_status": "Waiting on Customer",
          "ext_bz_bug_id": "01004048",
          "bug_id": "953088",
          "ext_description": "OpenSSH adding ControlPersist patch to enable full usage of SSH control options",
          "ext_priority": "2 (High)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "136295"
        },
        {
          "ext_status": "Waiting on Red Hat",
          "ext_bz_bug_id": "01061989",
          "bug_id": "953088",
          "ext_description": "We need to use the OpenSSH ControlMaster and ControlPersist",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "150700"
        },
        {
          "ext_status": "Waiting on Red Hat",
          "ext_bz_bug_id": "01049317",
          "bug_id": "953088",
          "ext_description": "Feature request for ControlPersist in openssh in rhel6",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "146163"
        },
        {
          "ext_status": "Waiting on Red Hat",
          "ext_bz_bug_id": "01046521",
          "bug_id": "953088",
          "ext_description": "[RFE][6.6?] Need ControlPersist feature enabled in the current version in OpenSSH",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "145398"
        }
      ],
      "id": "953088",
      "cf_release_notes": "",
      "priority": "unspecified",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "toshaan@vantosh.com",
      "comments": [
        {
          "count": "0",
          "creator": "toshaan@vantosh.com",
          "text": "Description of problem:\nAdding the ControlPersist option to enable ControlMaster to shutdown without losing all sessions, as currently implemented in OpenSSH version \n\nVersion-Release number of selected component (if applicable):\nOpenSSH 5.3p1-84.1\n\nHow reproducible:\n- Rebuild rpm with patch it seems to work on all my systems\nhttp://repo.vantosh.com/yum/testing/el6/x86_64/openssh-5.3p1-84.2.el6.x86_64.rpm\nhttp://repo.vantosh.com/yum/testing/el6/x86_64/openssh-clients-5.3p1-84.2.el6.x86_64.rpm\n\nSteps to Reproduce:\n1. rebuild openssh rpm with patch\n2. install new rpm\n3. add ControlPersist option to ssh config\n  \nActual results:\n- ControlPersist works\n\nExpected results:\n- ControlPersist works\n\nAdditional info:\n- patch to rpm added in attachment",
          "author": "toshaan@vantosh.com",
          "creation_time": "20130417T10:35:11",
          "bug_id": "953088",
          "creator_id": "350579",
          "time": "20130417T10:35:11",
          "id": "5836531",
          "is_private": "False"
        },
        {
          "count": "1",
          "attachment_id": "736790",
          "author": "toshaan@vantosh.com",
          "text": "Created attachment 736790\nPatch file for RPM package as found on the Red Hat rhel6 ftp",
          "creator": "toshaan@vantosh.com",
          "creation_time": "20130417T10:37:29",
          "bug_id": "953088",
          "creator_id": "350579",
          "time": "20130417T10:37:29",
          "id": "5836541",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "plautrba@redhat.com",
          "text": "*** Bug 953087 has been marked as a duplicate of this bug. ***",
          "author": "plautrba@redhat.com",
          "creation_time": "20130422T14:22:21",
          "bug_id": "953088",
          "creator_id": "270148",
          "time": "20130422T14:22:21",
          "id": "5849238",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "plautrba@redhat.com",
          "text": "    Thank you for taking the time to enter a bug report with us. We appreciate the feedback and look to use reports such as this to guide our efforts at improving our products. That being said, this bug tracking system is not a mechanism for requesting support, and we are not able to  guarantee the timeliness or suitability of a resolution.\n\n     \n\n    If this issue is critical or in any way time sensitive, please raise a ticket through your regular Red Hat support channels to make certain  it receives the proper attention and prioritization to assure a timely resolution. \n\n     \n\n    For information on how to contact the Red Hat production support team, please visit:\n\n    https://www.redhat.com/support/process/production/#howto",
          "author": "plautrba@redhat.com",
          "creation_time": "20130422T14:22:58",
          "bug_id": "953088",
          "creator_id": "270148",
          "time": "20130422T14:22:58",
          "id": "5849243",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "toshaan@vantosh.com",
          "text": "This is not a critical issue, I already have applied the patch for myself, however given that Red Hat backported ControlMaster and ControlPath, it seemed to me necessary to also include ControlPersist, otherwise if your master connection goes all of your slaves also go",
          "author": "toshaan@vantosh.com",
          "creation_time": "20130422T14:28:41",
          "bug_id": "953088",
          "creator_id": "350579",
          "time": "20130422T14:28:41",
          "id": "5849278",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this bug report was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20130506T21:25:21",
          "bug_id": "953088",
          "creator_id": "193983",
          "time": "20130506T21:25:21",
          "id": "5888728",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "jkeating@j2solutions.net",
          "text": "This would be extremely helpful to us at Rackspace too.",
          "author": "jkeating@j2solutions.net",
          "creation_time": "20130715T22:03:54",
          "bug_id": "953088",
          "creator_id": "88641",
          "time": "20130715T22:03:54",
          "id": "6110424",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "toshaan@vantosh.com",
          "text": "@Jesse Keating\nMaybe test and use my package, till Red Hat decides to patch it\nTake a look at http://yum.vantosh.com/ , it is in the testing repo.",
          "author": "toshaan@vantosh.com",
          "creation_time": "20130717T09:42:18",
          "bug_id": "953088",
          "creator_id": "350579",
          "time": "20130717T09:42:18",
          "id": "6115719",
          "is_private": "False"
        },
        {
          "count": "8",
          "creator": "pm-rhel@redhat.com",
          "text": "This request was not resolved in time for the current release.\nRed Hat invites you to ask your support representative to\npropose this request, if still desired, for consideration in\nthe next release of Red Hat Enterprise Linux.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20131014T03:48:21",
          "bug_id": "953088",
          "creator_id": "193983",
          "time": "20131014T03:48:21",
          "id": "6414680",
          "is_private": "False"
        },
        {
          "count": "9",
          "creator": "tim.gollschewsky@suncorp.com.au",
          "text": "ControlPersist support is required for Ansible ''accelerated'' mode (new in Ansible 1.3).\n\n  http://www.ansibleworks.com/docs/playbooks_acceleration.html\n\nWould be great if this could be considered for RHEL6.5.",
          "author": "tim.gollschewsky@suncorp.com.au",
          "creation_time": "20131101T06:03:17",
          "bug_id": "953088",
          "creator_id": "337818",
          "time": "20131101T06:03:17",
          "id": "6478072",
          "is_private": "False"
        },
        {
          "count": "10",
          "creator": "kevin@scrye.com",
          "text": "Ansibles accelerated mode does not require ControlPersist that I know of. ;)\n\nIt does need python-keyczar installed on each node, but thats it.",
          "author": "kevin@scrye.com",
          "creation_time": "20131101T16:01:11",
          "bug_id": "953088",
          "creator_id": "189784",
          "time": "20131101T16:01:11",
          "id": "6479687",
          "is_private": "False"
        },
        {
          "count": "11",
          "creator": "tim.gollschewsky@suncorp.com.au",
          "text": "My apologies, Kevin you are absolutely correct. CP is not required for Ansible's new accelerated mode.",
          "author": "tim.gollschewsky@suncorp.com.au",
          "creation_time": "20131104T00:52:55",
          "bug_id": "953088",
          "creator_id": "337818",
          "time": "20131104T00:52:55",
          "id": "6482240",
          "is_private": "False"
        },
        {
          "count": "12",
          "creator": "toshaan@vantosh.com",
          "text": "As of release 6.5 this patch has been included.\nThank you for mentioning this in the Changelog and you're welcome\n\nAnd for the Ansible users, not ControlPersist is not required, but it does speed up to process. And remember to adjust your ~/.ansible.cfg for more options when using ssh",
          "author": "toshaan@vantosh.com",
          "creation_time": "20131202T10:04:59",
          "bug_id": "953088",
          "creator_id": "350579",
          "time": "20131202T10:04:59",
          "id": "6574783",
          "is_private": "False"
        },
        {
          "count": "13",
          "creator": "toshaan@vantosh.com",
          "text": "(In reply to Toshaan Bharvani from comment #12)\n> As of release 6.5 this patch has been included.\n> Thank you for mentioning this in the Changelog and you're welcome\nApparently my last comment is wrong, sorry but my own rpm builder did patch it again, so the official Red Hat openssh client still does NOT support Control Persist",
          "author": "toshaan@vantosh.com",
          "creation_time": "20131202T11:03:01",
          "bug_id": "953088",
          "creator_id": "350579",
          "time": "20131202T11:03:01",
          "id": "6574991",
          "is_private": "False"
        },
        {
          "count": "14",
          "creator": "ederevea@redhat.com",
          "text": "Hi, I have a request from a customer implementing a large-scale Ansible deployment for this feature. What is the current status, is there something blocking us from implementing this patch? If not, when can we expect this to be included in RHEL6?",
          "author": "ederevea@redhat.com",
          "creation_time": "20131228T09:24:59",
          "bug_id": "953088",
          "creator_id": "354558",
          "time": "20131228T09:24:59",
          "id": "6660762",
          "is_private": "True"
        },
        {
          "count": "15",
          "creator": "idhaoui@redhat.com",
          "text": "Hi, I would like to highlight again that customer have attached ticket #01004048 is flagging interest to this feature.\nCan you please update us regarding this patch implementation ?  What is the status of this feature ?",
          "author": "idhaoui@redhat.com",
          "creation_time": "20140102T09:16:22",
          "bug_id": "953088",
          "creator_id": "360216",
          "time": "20140102T09:16:22",
          "id": "6666238",
          "is_private": "True"
        },
        {
          "count": "16",
          "creator": "chorn@redhat.com",
          "text": "Every party interested in getting this into RHEL, please\n- open a case with Red Hat support, i.e. customer portal or via your TAM\n- state the reasoning behind the request.\n\nThis is the proper way to get focus on requests, and to get an overview here to properly prioritize.",
          "author": "chorn@redhat.com",
          "creation_time": "20140102T09:22:21",
          "bug_id": "953088",
          "creator_id": "309721",
          "time": "20140102T09:22:21",
          "id": "6666271",
          "is_private": "False"
        },
        {
          "count": "17",
          "creator": "chorn@redhat.com",
          "text": "Opening up bz again, this was done by mistake (as of today we are guided to lockdown new bz's, but doing this with ones opened as public is considered bad style).\n\nSo as of now we have Saudi aramco, strategic TAM customer from EMEA, requesting this.",
          "author": "chorn@redhat.com",
          "creation_time": "20140102T09:33:24",
          "bug_id": "953088",
          "creator_id": "309721",
          "time": "20140102T09:33:24",
          "id": "6666304",
          "is_private": "True"
        },
        {
          "count": "18",
          "creator": "cove_s@yahoo.com",
          "text": "What if we're using a downstream distro, such as CentOS, and aren't direct customers of RH; how can we help prioritize updating OpenSSH?",
          "author": "cove_s@yahoo.com",
          "creation_time": "20140102T09:40:44",
          "bug_id": "953088",
          "creator_id": "323220",
          "time": "20140102T09:40:44",
          "id": "6666346",
          "is_private": "False"
        },
        {
          "count": "19",
          "creator": "chorn@redhat.com",
          "text": "(In reply to cove_s from comment #18)\n> What if we're using a downstream distro, such as CentOS, and aren't direct\n> customers of RH; how can we help prioritize updating OpenSSH?\nOffering a tested patch and offering QA (so verifying that a patch we looked at works) are also of help.",
          "author": "chorn@redhat.com",
          "creation_time": "20140102T12:26:10",
          "bug_id": "953088",
          "creator_id": "309721",
          "time": "20140102T12:26:10",
          "id": "6666838",
          "is_private": "False"
        },
        {
          "count": "20",
          "creator": "tlavigne@redhat.com",
          "text": "Since the release flag was set to ? after the pm_ack flag was set to + (was likely set for the previous release), the pm_ack flag has been reset to ? by the bugbot (pm-rhel). This action ensures the proper review by Product Management.",
          "author": "tlavigne@redhat.com",
          "creation_time": "20140213T20:58:56",
          "bug_id": "953088",
          "creator_id": "336123",
          "time": "20140213T20:58:56",
          "id": "6817414",
          "is_private": "True"
        },
        {
          "count": "21",
          "creator": "chenders@redhat.com",
          "text": "My strategic customer is also requesting this.\n\nWho is the customer behind the request?\nAccount name: Northrop Grumman Mission Sys (Air Force Weather Agency)\nCustomer segment: Government\nTAM/SRM customer: yes, TAM and SRM customer\nStrategic Customer yes/no: yes\n\n--Chris Henderson\n  Technical Account Manager",
          "author": "chenders@redhat.com",
          "creation_time": "20140226T15:49:50",
          "bug_id": "953088",
          "creator_id": "332630",
          "time": "20140226T15:49:50",
          "id": "6860656",
          "is_private": "True"
        },
        {
          "count": "22",
          "creator": "ksrot@redhat.com",
          "text": "qa_ack+ for 6.6",
          "author": "ksrot@redhat.com",
          "creation_time": "20140310T19:11:19",
          "bug_id": "953088",
          "creator_id": "286283",
          "time": "20140310T19:11:19",
          "id": "6900214",
          "is_private": "True"
        },
        {
          "count": "23",
          "creator": "chenders@redhat.com",
          "text": "cooment from my customer:\n\n''Our developers need it in order to implement a product called Ansible that they're trying to roll out. The CM team is pretty insistent that they can't make any forward progress on using this product without this SSH feature.''",
          "author": "chenders@redhat.com",
          "creation_time": "20140321T18:13:44",
          "bug_id": "953088",
          "creator_id": "332630",
          "time": "20140321T18:13:44",
          "id": "6939758",
          "is_private": "True"
        },
        {
          "count": "24",
          "creator": "ahatfiel@redhat.com",
          "text": "I have a customer, Aarnet, who would also like to see ControlPersist shipped in RHEL.  Specifically for Ansible\n\nCase Number: 01049317\n\n\nCustomer Comments:\n\n\nHi there, as part of an upcoming large scale ansible rollout, have ControlPersist in RHEL6's openssh would be desirable. Please consider as per https://bugzilla.redhat.com/show_bug.cgi?id=953088",
          "author": "ahatfiel@redhat.com",
          "creation_time": "20140404T07:00:52",
          "bug_id": "953088",
          "creator_id": "332026",
          "time": "20140404T07:00:52",
          "id": "6983964",
          "is_private": "True"
        },
        {
          "count": "25",
          "creator": "sashaikh@redhat.com",
          "text": "I have a customer , Joachim Biester , who would also like to see ControlPersist shipped in RHEL.  Specifically for Ansible.\n\n\nCustomer stated :\n\nPlease note that ControlPersist is a feature of the ssh client and not the SSHD.\nRegarding business need please see http://docs.ansible.com/intro_getting_started.html:\n\nBy default, Ansible 1.3 and later will try to use native OpenSSH for remote communication when possible. This enables both ControlPersist (a performance feature), Kerberos, and options in ~/.ssh/config such as Jump Host setup. When using Enterprise Linux 6 operating systems as the control machine (Red Hat Enterprise Linux and derivatives such as CentOS), however, the version of OpenSSH may be too old to support ControlPersist.\n\n\nWe would also be willing to test this if you provide us with a custom binary.",
          "author": "sashaikh@redhat.com",
          "creation_time": "20140404T09:23:46",
          "bug_id": "953088",
          "creator_id": "355723",
          "time": "20140404T09:23:46",
          "id": "6984505",
          "is_private": "True"
        },
        {
          "count": "26",
          "attachment_id": "907685",
          "author": "plautrba@redhat.com",
          "text": "Created attachment 907685\nbackport ControlPersist option\n\nThis patch backports  ControlPersist option with few other upstream fixes. I've done some sanity testing but if you are able to test that it works for you as expected, it would be great.",
          "creator": "plautrba@redhat.com",
          "creation_time": "20140611T14:22:59",
          "bug_id": "953088",
          "creator_id": "270148",
          "time": "20140611T14:22:59",
          "id": "7174032",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.4"
      ],
      "cc": [
        "ahatfiel@redhat.com",
        "cervajs@fpf.slu.cz",
        "chenders@redhat.com",
        "chorn@redhat.com",
        "cove_s@yahoo.com",
        "daniel@pfile.net",
        "ederevea@redhat.com",
        "ggillies@redhat.com",
        "idhaoui@redhat.com",
        "jkeating@j2solutions.net",
        "kevin@scrye.com",
        "mdshaikh@redhat.com",
        "plautrba@redhat.com",
        "pvrabec@redhat.com",
        "sashaikh@redhat.com",
        "szidek@redhat.com",
        "tim.gollschewsky@suncorp.com.au",
        "tmz@pobox.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_regression_status": "---",
      "cf_environment": "",
      "status": "NEW",
      "product": "Red Hat Enterprise Linux 6",
      "cf_verified_branch": "",
      "blocks": [
        "994246",
        "1056252",
        "1070830"
      ],
      "qa_contact": "szidek@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "target_release": [
        "---"
      ],
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "?",
          "name": "qe_test_coverage",
          "modification_date": "20140310T19:18:53",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20140310T19:18:53",
          "id": "1737386",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "-",
          "name": "rhel-6.5.0",
          "modification_date": "20131014T03:48:18",
          "type_id": "361",
          "is_active": "0",
          "creation_date": "20130506T21:25:17",
          "id": "1338175",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.6.0",
          "modification_date": "20140320T09:24:20",
          "type_id": "519",
          "is_active": "1",
          "creation_date": "20140102T09:27:02",
          "id": "1645667",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20140305T14:19:51",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20130506T21:47:37",
          "id": "1338280",
          "setter": "tlavigne@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20140320T09:15:52",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20130506T21:51:17",
          "id": "1338369",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20140310T19:11:19",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20130506T21:54:59",
          "id": "1338461",
          "setter": "ksrot@redhat.com"
        }
      ],
      "last_change_time": "20140611T14:22:59",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509317-IjNWX2E6ImUtAgc5gOTcNK_JRqn-ffzbWO1_ZNYurqg",
      "cf_partner": [],
      "resolution": "",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "classification": "Red Hat",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_story_points": "---",
      "cf_conditional_nak": [],
      "creation_time": "20130913T22:51:00",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "True",
      "keywords": [],
      "summary": "sftp program has tty attributes setting problem",
      "external_bugs": [],
      "id": "1008042",
      "cf_release_notes": "",
      "priority": "unspecified",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "wzis@hotmail.com",
      "comments": [
        {
          "count": "0",
          "creator": "wzis@hotmail.com",
          "text": "Description of problem: the sftp program in RHEL 6.1/6.2/6.3/6.4 has a bug in tty settings.\n\n\nVersion-Release number of selected component (if applicable):\n6.1/6.2/6.3/6.4, likely 6.0 and 6.5 but didn't test to confirm.\n\nHow reproducible:\nEasy to reproduce.\n\nSteps to Reproduce:\n1. stty -echo\n2. sftp user@server\n3. key in pass as prompted.\n4. cd /tmp\n5. ls\n6. bye\n7. stty -a\n\n\nActual results:\nThe entered sftp sub-commands in step 4 to step 6 are visible, and the OS command entered after sftp in step 7 is also visible.\n\n\nExpected results:\nThose inputs entered in step 4 to step 7 shouldn't be visible.\n\nAdditional info:\nRHEL 5.x doesn't have this issue, and Solaris/AIX/HP-UX sftp also do not have such problem.",
          "author": "wzis@hotmail.com",
          "creation_time": "20130913T22:51:09",
          "bug_id": "1008042",
          "creator_id": "357466",
          "time": "20130913T22:51:09",
          "id": "6306444",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this bug report was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20130913T22:51:47",
          "bug_id": "1008042",
          "creator_id": "193983",
          "time": "20130913T22:51:47",
          "id": "6306445",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "wzis@hotmail.com",
          "text": "this bug affect our security to let customer to download file using a menu: we wan t to hide the sftp sub-commands.",
          "author": "wzis@hotmail.com",
          "creation_time": "20130920T02:19:43",
          "bug_id": "1008042",
          "creator_id": "357466",
          "time": "20130920T02:19:43",
          "id": "6327121",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "wzis@hotmail.com",
          "text": "an developer from openssh has reproduced the issue when --with-libedit compilation setting is used and can't reproduce it when that is not in use. So confirmed the issue is with the 2.11 libedit.\nPlease fix the problem.",
          "author": "wzis@hotmail.com",
          "creation_time": "20130920T05:44:33",
          "bug_id": "1008042",
          "creator_id": "357466",
          "time": "20130920T05:44:33",
          "id": "6327307",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "wzis@hotmail.com",
          "text": "What's the real reason when you generate openssh RPM to include the ''--with-libedit''? In RHEL 5.x, you didn't use the option, and openssh is working fine.\nOther UNIX vendors' openssh also don't use libedit and have no such problem or other problems, so need to understand why you include the libedit and make openssh not able to control the tty setting properly?",
          "author": "wzis@hotmail.com",
          "creation_time": "20130921T03:41:15",
          "bug_id": "1008042",
          "creator_id": "357466",
          "time": "20130921T03:41:15",
          "id": "6330450",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "kdudka@redhat.com",
          "text": "libedit implements the line editing user interface with history.  See bug 203009.",
          "author": "kdudka@redhat.com",
          "creation_time": "20130921T12:27:42",
          "bug_id": "1008042",
          "creator_id": "267952",
          "time": "20130921T12:27:42",
          "id": "6330713",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "pm-rhel@redhat.com",
          "text": "This request was not resolved in time for the current release.\nRed Hat invites you to ask your support representative to\npropose this request, if still desired, for consideration in\nthe next release of Red Hat Enterprise Linux.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20131014T02:11:17",
          "bug_id": "1008042",
          "creator_id": "193983",
          "time": "20131014T02:11:17",
          "id": "6413973",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.1"
      ],
      "cc": [
        "kdudka@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_regression_status": "---",
      "cf_environment": "",
      "status": "NEW",
      "product": "Red Hat Enterprise Linux 6",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "target_release": [
        "---"
      ],
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "-",
          "name": "rhel-6.5.0",
          "modification_date": "20131014T02:11:14",
          "type_id": "361",
          "is_active": "0",
          "creation_date": "20130913T22:51:44",
          "id": "1508030",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20130913T23:08:08",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20130913T23:06:10",
          "id": "1508034",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20130913T23:06:28",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20130913T23:06:28",
          "id": "1508035",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "qa_ack",
          "modification_date": "20130913T23:06:46",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20130913T23:06:46",
          "id": "1508036",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20131014T02:11:17",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509317-aPwOv40UJ7DcCTdYDcj7ssWLpnWblsnzmUCWD-jpVos",
      "cf_partner": [],
      "resolution": "",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "classification": "Red Hat",
      "cf_pm_score": "300",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_story_points": "---",
      "cf_conditional_nak": [],
      "creation_time": "20130920T18:49:00",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "True",
      "keywords": [],
      "summary": "Openssh Incorrectly sets oom_adj in all Children after Performing a Reload",
      "external_bugs": [
        {
          "ext_status": "None",
          "ext_bz_bug_id": "2156",
          "bug_id": "1010429",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "13",
          "type": {
            "must_send": "False",
            "description": "OpenSSH Project",
            "url": "http://bugzilla.mindrot.org",
            "can_get": "False",
            "id": "13",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "http://bugzilla.mindrot.org/show_bug.cgi?id=%id%"
          },
          "id": "133084"
        }
      ],
      "id": "1010429",
      "cf_release_notes": "",
      "priority": "unspecified",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "deleriux1@gmail.com",
      "comments": [
        {
          "count": "0",
          "attachment_id": "800620",
          "author": "deleriux1@gmail.com",
          "text": "Created attachment 800620\nRestore the initial oom_adj value prior to re-execing on HUP.\n\nDescription of problem:\nSSHD attempts to eliminate its chances of being killed by the OOM killer through manipulation of the oom_adj values in /proc for itself at startup.\n\nTo do this two functions are used. oom_adjust_save and oom_adjust_restore.\n\noom_adjust_save reads (and saves) the current value for this parameter before setting it to -17, this is called during startup when sshd has 0 as its initial oom_adj property. \n\noom_adjust_restore places the saved value back into the process' oom_adj property. This is called after fork()'ing a new ssh process in order to make sure the child process does not keep -17 when running an interactive session.\n\nHowever, on SIGHUP, openssl re-execs itself, re-initializing. Now, when sshd calls oom_adjust_save the value *is already* -17 (inherited from its previous instance) and when children are thus spawned oom_adjust_restore restores -17 into their oom_adj scores, which is subsequently inherited by all children of the sshd session created.\n\nThus any remote login sessions processes after a reload are never going to be selected by the oom-killer.\n\nVersion-Release number of selected component (if applicable):\nThis problem was tested on openssh-server-5.3p1-84.1.el6.x86_64 and in Fedora openssh-server-6.2p2-5.fc19.x86_64.\n\nHow reproducible:\nEvery time.\n\n\nSteps to Reproduce:\n1. Login to a host via ssh.\n2. Check your oom_adj score by doing: cat /proc/self/oom_adj\n3. Reload sshd on the host.\n4. Login again to this host with ssh.\n5. Check your oom_adj score by doing: cat /proc/self/oom_adj\n\nActual results:\nThe oom_adj score is -17 for any new session on the host.\n\n\nExpected results:\noom_adj score would normally be 0 for any new session.\n\n\nAdditional info:\nA patch is attached built against openssh-server-5.3p1-84.1.el6.x86_64 which rectifies the bug by restoring the initial oom_adj value prior to re-execing on HUP.",
          "creator": "deleriux1@gmail.com",
          "creation_time": "20130920T18:49:22",
          "bug_id": "1010429",
          "creator_id": "357720",
          "time": "20130920T18:49:22",
          "id": "6329456",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this bug report was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20130920T19:12:59",
          "bug_id": "1010429",
          "creator_id": "193983",
          "time": "20130920T19:12:59",
          "id": "6329545",
          "is_private": "True"
        },
        {
          "count": "2",
          "attachment_id": "801394",
          "author": "deleriux1@gmail.com",
          "text": "Created attachment 801394\nRestore the initial oom_adj value prior to re-execing on HUP.\n\nThis patch is reworked to be more compatible with the openssh design philosophy, it is similar to the one accepted upstream.",
          "creator": "deleriux1@gmail.com",
          "creation_time": "20130922T21:55:36",
          "bug_id": "1010429",
          "creator_id": "357720",
          "time": "20130922T21:55:36",
          "id": "6332305",
          "is_private": "False"
        },
        {
          "count": "3",
          "attachment_id": "801553",
          "author": "deleriux1@gmail.com",
          "text": "Created attachment 801553\nRestore the initial oom_adj value prior to re-execing on HUP.\n\nFix typo",
          "creator": "deleriux1@gmail.com",
          "creation_time": "20130923T09:27:35",
          "bug_id": "1010429",
          "creator_id": "357720",
          "time": "20130923T09:27:35",
          "id": "6333863",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "pm-rhel@redhat.com",
          "text": "This request was not resolved in time for the current release.\nRed Hat invites you to ask your support representative to\npropose this request, if still desired, for consideration in\nthe next release of Red Hat Enterprise Linux.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20131014T02:02:27",
          "bug_id": "1010429",
          "creator_id": "193983",
          "time": "20131014T02:02:27",
          "id": "6413906",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "deleriux1@gmail.com",
          "text": "The problem remains in the newest openssh-server build from 6.5",
          "author": "deleriux1@gmail.com",
          "creation_time": "20131128T17:21:20",
          "bug_id": "1010429",
          "creator_id": "357720",
          "time": "20131128T17:21:20",
          "id": "6569368",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "tlavigne@redhat.com",
          "text": "Since the release flag was set to ? after the pm_ack flag was set to + (was likely set for the previous release), the pm_ack flag has been reset to ? by the bugbot (pm-rhel). This action ensures the proper review by Product Management.",
          "author": "tlavigne@redhat.com",
          "creation_time": "20140224T19:32:09",
          "bug_id": "1010429",
          "creator_id": "336123",
          "time": "20140224T19:32:09",
          "id": "6851540",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "ksrot@redhat.com",
          "text": "Petr,\ncould you please confirm that this is different from bug 1071290?",
          "author": "ksrot@redhat.com",
          "creation_time": "20140328T07:51:42",
          "bug_id": "1010429",
          "creator_id": "286283",
          "time": "20140328T07:51:42",
          "id": "6961898",
          "is_private": "False"
        },
        {
          "count": "8",
          "creator": "todayyang@gmail.com",
          "text": "https://bugzilla.mindrot.org/show_bug.cgi?id=2156",
          "author": "todayyang@gmail.com",
          "creation_time": "20140507T10:52:40",
          "bug_id": "1010429",
          "creator_id": "310083",
          "time": "20140507T10:52:40",
          "id": "7068777",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.5"
      ],
      "cc": [
        "ksrot@redhat.com",
        "plautrba@redhat.com",
        "pvrabec@redhat.com",
        "todayyang@gmail.com",
        "tommi.tervo@iki.fi"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_regression_status": "---",
      "cf_environment": "",
      "status": "NEW",
      "product": "Red Hat Enterprise Linux 6",
      "cf_verified_branch": "",
      "blocks": [
        "1070830"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "target_release": [
        "---"
      ],
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "requestee": "plautrba@redhat.com",
          "status": "?",
          "name": "needinfo",
          "modification_date": "20140328T07:51:42",
          "type_id": "16",
          "is_active": "1",
          "creation_date": "20140328T07:51:42",
          "id": "1762701",
          "setter": "ksrot@redhat.com"
        },
        {
          "status": "-",
          "name": "rhel-6.5.0",
          "modification_date": "20131014T02:02:25",
          "type_id": "361",
          "is_active": "0",
          "creation_date": "20130920T19:12:56",
          "id": "1516901",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "rhel-6.6.0",
          "modification_date": "20140214T15:30:28",
          "type_id": "519",
          "is_active": "1",
          "creation_date": "20140214T15:30:28",
          "id": "1704942",
          "setter": "plautrba@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20140324T00:41:51",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20130920T19:36:14",
          "id": "1516922",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20140320T09:32:29",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20130920T19:36:35",
          "id": "1516924",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "?",
          "name": "qa_ack",
          "modification_date": "20130920T19:36:59",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20130920T19:36:59",
          "id": "1516927",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20140507T10:52:40",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509317-XcUG4hNty2_QhOjhKN_mV8Mw117648MNq2UNYWGdNTI",
      "cf_partner": [],
      "resolution": "",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "classification": "Red Hat",
      "cf_pm_score": "300",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_story_points": "---",
      "cf_conditional_nak": [],
      "creation_time": "20130926T16:33:00",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "True",
      "keywords": [],
      "summary": "Openssh cryptographic algorithms security",
      "external_bugs": [
        {
          "ext_status": "Waiting on Red Hat",
          "ext_bz_bug_id": "00947783",
          "bug_id": "1012577",
          "ext_description": "Security provided by OpenSSH seems questionable",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "123830"
        }
      ],
      "id": "1012577",
      "cf_release_notes": "",
      "priority": "unspecified",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "nparmar@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "nparmar@redhat.com",
          "text": "Description of problem:\n\nCloning the bugzilla 'https://bugzilla.redhat.com/show_bug.cgi?id=1010607' which opened for fedora.\n\n\n1. It is fairly hard to actually find out the exact cryptographic algorithms and their paramters used for a particular ssh session.  ssh -vvvv provides some hints, but you seem to need to already know what's going on to decipher the cryptic debug messages. This should be made a lot easier and more transparent. It should state simply a clearly, for example, that it is doing a Diffie-Hellman key exchange with parameters such and such.\n\n2. For legal reasons, Fedora's openssh comes without elliptic curve cryptography (ECC) support, see bug 319901. It has been argued that this is a bad thing since ECC provides high security efficiently. It has also been argued that this might be a good thing, since constants used in ECC might contain a NSA backdoor (see also http://www.theguardian.com/world/2013/sep/05/nsa-how-to-remain-secure-surveillance). One way or another, the absence of any *option* to use ECC can't be a good thing.\n\n3. Hoever, with ECC disabled, openssh defaults to discrete logarithm Diffie-Hellman (DH) for key exchange. This method uses dh.c:dh_estimate() to compute the group size DH parameter:\n\n/*\n * Estimates the group order for a Diffie-Hellman group that has an\n * attack complexity approximately the same as O(2**bits).  Estimate\n * with:  O(exp(1.9223 * (ln q)^(1/3) (ln ln q)^(2/3)))\n */\n\nint\ndh_estimate(int bits)\n{\n\n        if (bits <= 128)\n                return (1024);  /* O(2**86) */\n        if (bits <= 192)\n                return (2048);  /* O(2**116) */\n        return (4096);          /* O(2**156) */\n}\n\n\nHere the parameter ''bits'' is max(key size, block size, iv size, mac size), see kex.c:kex_choose_conf(), in the loop before ''kex->we_need = need'', also note the multiplication by 8 (because we_need is measured in bytes) in the call ''nbits = dh_estimate(kex->we_need * 8)'' in kexgexc.c:kexgex_client().\n\nNow I do not have the slightest idea what the author of this piece of code is trying to say with the comments (what is q supposed to be, and its relation to the only parameter ''bits''? Where do the number 86, 116, 156 come from?) However, I understand that a block cipher with 128 bit key size gives us a 1024 group size.\n\nThis is not in line with standard advice about cryptographic key lengths, which states that a 128 bit block cipher should be used with a group size of 3072 bits (192 bits with 7680 bit group size, 256 bits with 15360 bit group size), see http://www.keylength.com/en/compare/ (NIST; others are even more conservative). In fact, while today it practically impossible to break a 128 bit block cipher, it is considered fairly realistic to break a 1024 bit RSA, DSA or DH key.\n\nI ask for a second opinion on my analysis, please. If I am right, dh_estimate() should be changed as follows:\n\n/*\n * Estimates the group order for a Diffie-Hellman group that has an\n * attack complexity approximately the same as O(2**bits).  Estimates\n * are from ''Recommendation for Key Management,''\n * Special Publication 800-57 Part 1 Rev. 3, NIST, 07/2012.\n */\nint\ndh_estimate(int bits)\n{\n\n        if (bits <= 128)\n                return (3072);\n        if (bits <= 192)\n                return (7680);\n        return (15360);\n}\n\nNote that dh.c contains the definition\n\n#define DH_GRP_MAX      8192\n\nwhich is less than 15360, so this probably has to be changed, and possibly other places have to be changed as a consequence (again there is no useful explanation for this definiton and its interdependences or consequences in the source code). If this cannot be done (perhaps the maximum is mandated by some part of the ssh protocol, or something), ''return (4096);'' should be replaced instead by ''return (8192);''\n\nVersion-Release number of selected component (if applicable):\nopenssh-6.2p2-5.fc19.i686\n\nHow reproducible:\nalways\n\nSteps to Reproduce:\n1. ssh -vvvv localhost\n\nActual results:\n...\ndebug1: SSH2_MSG_KEX_DH_GEX_REQUEST(1024<1024<8192) sent\n...\n\nExpected results:\n...\ndebug1: kexgex_client: Using discrete logarithm Diffie-Hellman key exchange with 256 bit private key size and 3072 bit group size (we_need*8 = 128)\ndebug1: SSH2_MSG_KEX_DH_GEX_REQUEST(1024<3072<16384) sent\n...",
          "author": "nparmar@redhat.com",
          "creation_time": "20130926T16:33:33",
          "bug_id": "1012577",
          "creator_id": "326395",
          "time": "20130926T16:33:33",
          "id": "6349250",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this bug report was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20130926T17:02:51",
          "bug_id": "1012577",
          "creator_id": "193983",
          "time": "20130926T17:02:51",
          "id": "6349321",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "pm-rhel@redhat.com",
          "text": "This request was not resolved in time for the current release.\nRed Hat invites you to ask your support representative to\npropose this request, if still desired, for consideration in\nthe next release of Red Hat Enterprise Linux.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20131014T01:54:49",
          "bug_id": "1012577",
          "creator_id": "193983",
          "time": "20131014T01:54:49",
          "id": "6413858",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "nparmar@redhat.com",
          "text": "Hi Team,\n\nCustomer is following in regards to this bugzilla with case (00947783) as well,\nwherein customer viewed the updates in \n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1010607\n\nand concerns about OpenSSH in Fedora/RHEL seems only to provide the absolute minimum security and not the maximum",
          "author": "nparmar@redhat.com",
          "creation_time": "20131016T02:33:37",
          "bug_id": "1012577",
          "creator_id": "326395",
          "time": "20131016T02:33:37",
          "id": "6423879",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "hkario@redhat.com",
          "text": "(In reply to Nilesh Parmar from comment #3)\n> Hi Team,\n> \n> Customer is following in regards to this bugzilla with case (00947783) as\n> well,\n> wherein customer viewed the updates in \n> \n> https://bugzilla.redhat.com/show_bug.cgi?id=1010607\n> \n> and concerns about OpenSSH in Fedora/RHEL seems only to provide the absolute\n> minimum security and not the maximum\n\n''Maximum security'' does not come free and there are multiple problems if you actually try to enforce 192 bit or 256 bit security level as defined by NIST.\n\nAs is stated in the referenced bug, openssl has a hard limit of 10000 bit for DH param size. There also are no well-known DH parameters bigger than 8192 bit that were generated using a provably secure manner (using deterministic algorithm with a ''nothing up my sleeve'' seed value). Or in other words, there are no moduli in /etc/ssh/moduli file that have more than 8192 bits.\n\nSo, if they actually require 256 bit security, they need to migrate to ECC and as such the whole discussion from the referenced bug does not affect them.\n\nWhile not directly related, RFC 6460 (Suite B Profile for Transport Layer Security) states explicitly, that if a server is configured to a 128bit Level Of Security, it MUST prefer 128 bit cipher suites before falling back to 256 bit cipher suites.",
          "author": "hkario@redhat.com",
          "creation_time": "20140318T13:01:28",
          "bug_id": "1012577",
          "creator_id": "349956",
          "time": "20140318T13:01:28",
          "id": "6925870",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "hkario@redhat.com",
          "text": "One more thing: we are planning to add support for ECC in RHEL6.6 version of openssh: bug 1028335.",
          "author": "hkario@redhat.com",
          "creation_time": "20140318T13:05:54",
          "bug_id": "1012577",
          "creator_id": "349956",
          "time": "20140318T13:05:54",
          "id": "6925892",
          "is_private": "True"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.4"
      ],
      "cc": [
        "hkario@redhat.com",
        "rsawhill@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_regression_status": "---",
      "cf_environment": "",
      "status": "NEW",
      "product": "Red Hat Enterprise Linux 6",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "target_release": [
        "---"
      ],
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "-",
          "name": "rhel-6.5.0",
          "modification_date": "20131014T01:54:45",
          "type_id": "361",
          "is_active": "0",
          "creation_date": "20130926T17:02:48",
          "id": "1523901",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20130926T17:30:31",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20130926T17:27:10",
          "id": "1523925",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20130926T17:27:47",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20130926T17:27:47",
          "id": "1523928",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "qa_ack",
          "modification_date": "20130926T17:28:20",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20130926T17:28:20",
          "id": "1523940",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20140318T13:05:54",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509317-mFPVBFnkRlVC2FyU_VcjJD5zpgJFgOzcwi2m80A3D7U",
      "cf_partner": [],
      "resolution": "",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "classification": "Red Hat",
      "cf_pm_score": "300",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_story_points": "---",
      "cf_conditional_nak": [
        "Patch"
      ],
      "creation_time": "20131212T23:25:00",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "True",
      "keywords": [],
      "summary": "Smartcard does not work upon reinsertion after removal",
      "external_bugs": [
        {
          "ext_status": "Waiting on Red Hat",
          "ext_bz_bug_id": "00994035",
          "bug_id": "1042519",
          "ext_description": "[BZ]Openssh with smartcards and coolkey",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "135956"
        }
      ],
      "id": "1042519",
      "cf_release_notes": "",
      "priority": "unspecified",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "ccoursey@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "ccoursey@redhat.com",
          "text": "Description of problem:\nAfter a successful ''ssh-add -s libcoolkeypk11.so'', if the PIV badge is removed, it no longer works when reinserted. A second registration is necessary to re-add the key. Worse yet, the old key must be explicitly removed with ''ssh-add -e libcoolkeypk11.so''.\n\nVersion-Release number of selected component (if applicable):\nopenssh-5.3p1-94.el6.x86_64.rpm\n\nHow reproducible:\n100%\n\nSteps to Reproduce:\n1. Success use of the smart card\n2. Remove the badge\n3. Reinsert badge\n\nActual results:\nA second registration is necessary to re-add the key\n\nExpected results:\nContinual usage....\n\nAdditional info:",
          "author": "ccoursey@redhat.com",
          "creation_time": "20131212T23:25:21",
          "bug_id": "1042519",
          "creator_id": "317693",
          "time": "20131212T23:25:21",
          "id": "6615076",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this bug report was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20140102T21:27:20",
          "bug_id": "1042519",
          "creator_id": "193983",
          "time": "20140102T21:27:20",
          "id": "6668726",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "ccoursey@redhat.com",
          "text": "Hi,\nIs there anything else needed from the customer or GSS to assist with this ticket?\n\n-cc",
          "author": "ccoursey@redhat.com",
          "creation_time": "20140324T13:56:26",
          "bug_id": "1042519",
          "creator_id": "317693",
          "time": "20140324T13:56:26",
          "id": "6944863",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "plautrba@redhat.com",
          "text": "I would consider this as the expected behaviour. When you remove a card, it gets to be invalidated and the user needs to re-login.  \n\nHowever, I can backport the upstream change which skips requesting smartcard PIN when removing keys from agent [1]\n\n[1] https://bugzilla.mindrot.org/show_bug.cgi?id=2187",
          "author": "plautrba@redhat.com",
          "creation_time": "20140404T09:02:46",
          "bug_id": "1042519",
          "creator_id": "270148",
          "time": "20140404T09:02:46",
          "id": "6984446",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "ccoursey@redhat.com",
          "text": "(In reply to Petr Lautrbach from comment #3)\n> I would consider this as the expected behaviour. When you remove a card, it\n> gets to be invalidated and the user needs to re-login.  \n> \n> However, I can backport the upstream change which skips requesting smartcard\n> PIN when removing keys from agent [1]\n> \n> [1] https://bugzilla.mindrot.org/show_bug.cgi?id=2187\n\nThank you. I think that customer would appreciate that...\n\n-cliff",
          "author": "ccoursey@redhat.com",
          "creation_time": "20140407T15:07:49",
          "bug_id": "1042519",
          "creator_id": "317693",
          "time": "20140407T15:07:49",
          "id": "6990250",
          "is_private": "True"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "x86_64",
      "version": [
        "6.5"
      ],
      "cc": [
        "pvrabec@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_regression_status": "---",
      "cf_environment": "",
      "status": "NEW",
      "product": "Red Hat Enterprise Linux 6",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "groups": [
        "private"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "target_release": [
        "---"
      ],
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.6.0",
          "modification_date": "20140102T21:27:18",
          "type_id": "519",
          "is_active": "1",
          "creation_date": "20140102T21:27:18",
          "id": "1646524",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20140324T00:22:35",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20131212T23:25:44",
          "id": "1627754",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20131212T23:25:44",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20131212T23:25:44",
          "id": "1627755",
          "setter": "ccoursey@redhat.com"
        },
        {
          "status": "?",
          "name": "qa_ack",
          "modification_date": "20131212T23:25:44",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20131212T23:25:44",
          "id": "1627756",
          "setter": "ccoursey@redhat.com"
        }
      ],
      "last_change_time": "20140407T15:07:49",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509317-ZhXtkSoGq4DrtpXPMOKfNtbGhY9MRGrwxpzzB5mmIB0",
      "cf_partner": [],
      "resolution": "",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "classification": "Red Hat",
      "cf_pm_score": "1100",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_story_points": "---",
      "cf_conditional_nak": [],
      "creation_time": "20140502T22:03:00",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "True",
      "keywords": [],
      "summary": "ssh-keygen printing of extensions for certificates isn't correct",
      "external_bugs": [
        {
          "ext_status": "Waiting on Red Hat",
          "ext_bz_bug_id": "01081041",
          "bug_id": "1093869",
          "ext_description": "multiple bugs in ssh-keygen related to certificate support",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "156254"
        }
      ],
      "id": "1093869",
      "cf_release_notes": "",
      "priority": "unspecified",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "fhirtz@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "fhirtz@redhat.com",
          "text": "Description of problem:\n\n Using ''ssh-keygen -L -f <certificate file>'' to display a certificate created with the same program yields this:\n\n        Type: ssh-rsa-cert-v01@openssh.com user certificate\n        Public key: RSA-CERT 64:43:ca:45:34:09:34:23:bb:6c:84:83:34:c2:44:43\n        Signing CA: RSA cc:1f:87:ac:e5:e5:ca:b1:0a:c8:bb:11:c8:c5:8a:73\n        Key ID: ''res-6443CA45''\n        Serial: 1\n        Valid: forever\n        Principals: \n                res\n        Critical Options: (none)\n        Extensions: \n                permit-X11-forwarding UNKNOWN OPTION (len 0)\n                permit-agent-forwarding UNKNOWN OPTION (len 0)\n                permit-port-forwarding UNKNOWN OPTION (len 0)\n                permit-pty UNKNOWN OPTION (len 0)\n                permit-user-rc UNKNOWN OPTION (len 0)\n\nNote the spurious complaints about ''UNKNOWN OPTION''. Giving the same certificate to the upstream ssh-keygen (6.1p1) displays it correctly:\n\n        Type: ssh-rsa-cert-v01@openssh.com user certificate\n        Public key: RSA-CERT 64:43:ca:45:34:09:34:23:bb:6c:84:83:34:c2:44:43\n        Signing CA: RSA cc:1f:87:ac:e5:e5:ca:b1:0a:c8:bb:11:c8:c5:8a:73\n        Key ID: ''res-6443CA45''\n        Serial: 1\n        Valid: forever\n        Principals: \n                res\n        Critical Options: (none)\n        Extensions: \n                permit-X11-forwarding\n                permit-agent-forwarding\n                permit-port-forwarding\n                permit-pty\n                permit-user-rc\n\n\nVersion-Release number of selected component (if applicable):\n\nopenssh-5.3p1-94.el6.x86_64\n\nHow reproducible:\n\nGenerate openssh certificate.\n\n<snip>\n[root@rhel6 ~]# rpm -q openssh\nopenssh-5.3p1-94.el6.x86_64\n[root@rhel6 ~]# ssh-keygen -L -f id_rsa-cert.pub \nid_rsa-cert.pub:\n        Type: ssh-rsa-cert-v01@openssh.com user certificate\n        Public key: RSA-CERT a0:fb:59:30:48:a7:aa:07:3c:7c:ed:5d:31:49:2d:ef\n        Signing CA: RSA 10:19:09:79:a1:f6:a3:01:ae:bc:76:4f:fd:ac:f3:86\n        Key ID: ''userkey''\n        Serial: 0\n        Valid: forever\n        Principals: \n                fhirtz\n        Critical Options: (none)\n        Extensions: \n                permit-X11-forwarding UNKNOWN OPTION (len 0)\n                permit-agent-forwarding UNKNOWN OPTION (len 0)\n                permit-port-forwarding UNKNOWN OPTION (len 0)\n                permit-pty UNKNOWN OPTION (len 0)\n                permit-user-rc UNKNOWN OPTION (len 0)\n\nExpected results:\n[root@rhel6 ~]# rpm -q openssh\nopenssh-5.3p1-94.01081041test.el6.x86_64\n[root@rhel6 ~]# ssh-keygen -L -f id_rsa-cert.pub id_rsa-cert.pub:\n        Type: ssh-rsa-cert-v01@openssh.com user certificate\n        Public key: RSA-CERT a0:fb:59:30:48:a7:aa:07:3c:7c:ed:5d:31:49:2d:ef\n        Signing CA: RSA 10:19:09:79:a1:f6:a3:01:ae:bc:76:4f:fd:ac:f3:86\n        Key ID: ''userkey''\n        Serial: 0\n        Valid: forever\n        Principals: \n                fhirtz\n        Critical Options: (none)\n        Extensions: \n                permit-X11-forwarding\n                permit-agent-forwarding\n                permit-port-forwarding\n                permit-pty\n                permit-user-rc\n[root@rhel6 ~]# \n\nAdditional info:\n\nThis appears to be something that was explicitly fixed in upstream in revision 1.192 for ssh-keygen.c:\n\nhttp://www.openssh.com/cgi-bin/cvsweb/src/usr.bin/ssh/ssh-keygen.c\n\n<snip>\nRevision 1.192: download - view: text, markup, annotated - select for diffs\nWed Jun 23 02:59:02 2010 UTC (3 years, 10 months ago) by djm\nBranches: MAIN\nDiff to: previous 1.191: preferred, coloured\nChanges since revision 1.191: +46 -50 lines\nfix printing of extensions in v01 certificates that I broke in r1.190\n<snip>\n\nThe commit applied cleanly to our version of openssh and corrected the issue in local testing. I'll attach the patch that I used to the BZ here, though it's really the same as what's upstream.",
          "author": "fhirtz@redhat.com",
          "creation_time": "20140502T22:03:09",
          "bug_id": "1093869",
          "creator_id": "30797",
          "time": "20140502T22:03:09",
          "id": "7058598",
          "is_private": "False"
        },
        {
          "count": "1",
          "attachment_id": "892042",
          "author": "fhirtz@redhat.com",
          "text": "Created attachment 892042\nExtensions printing fix\n\nPatch that I'd tested with on RHEL6 attached:\n\n<snip>\n[root@rhel6 ~]# rpm -q openssh\nopenssh-5.3p1-94.el6.x86_64\n[root@rhel6 ~]# ssh-keygen -L -f id_rsa-cert.pub \nid_rsa-cert.pub:\n        Type: ssh-rsa-cert-v01@openssh.com user certificate\n        Public key: RSA-CERT a0:fb:59:30:48:a7:aa:07:3c:7c:ed:5d:31:49:2d:ef\n        Signing CA: RSA 10:19:09:79:a1:f6:a3:01:ae:bc:76:4f:fd:ac:f3:86\n        Key ID: ''userkey''\n        Serial: 0\n        Valid: forever\n        Principals: \n                fhirtz\n        Critical Options: (none)\n        Extensions: \n                permit-X11-forwarding UNKNOWN OPTION (len 0)\n                permit-agent-forwarding UNKNOWN OPTION (len 0)\n                permit-port-forwarding UNKNOWN OPTION (len 0)\n                permit-pty UNKNOWN OPTION (len 0)\n                permit-user-rc UNKNOWN OPTION (len 0)\n[root@rhel6 ~]# rpm -Uvh openssh-5.3p1-94.01081041test/openssh-5.3p1-94.01081041test.el6.x86_64.rpm openssh-5.3p1-94.01081041test/openssh-clients-5.3p1-94.01081041test.el6.x86_64.rpm openssh-5.3p1-94.01081041test/openssh-askpass-5.3p1-94.01081041test.el6.x86_64.rpm openssh-5.3p1-94.01081041test/openssh-server-5.3p1-94.01081041test.el6.x86_64.rpm \nPreparing...                ########################################### [100%]\n   1:openssh                ########################################### [ 25%]\n   2:openssh-clients        ########################################### [ 50%]\n   3:openssh-askpass        ########################################### [ 75%]\n   4:openssh-server         ########################################### [100%]\n[root@rhel6 ~]# rpm -q openssh\nopenssh-5.3p1-94.01081041test.el6.x86_64\n[root@rhel6 ~]# ssh-keygen -L -f id_rsa-cert.pub id_rsa-cert.pub:\n        Type: ssh-rsa-cert-v01@openssh.com user certificate\n        Public key: RSA-CERT a0:fb:59:30:48:a7:aa:07:3c:7c:ed:5d:31:49:2d:ef\n        Signing CA: RSA 10:19:09:79:a1:f6:a3:01:ae:bc:76:4f:fd:ac:f3:86\n        Key ID: ''userkey''\n        Serial: 0\n        Valid: forever\n        Principals: \n                fhirtz\n        Critical Options: (none)\n        Extensions: \n                permit-X11-forwarding\n                permit-agent-forwarding\n                permit-port-forwarding\n                permit-pty\n                permit-user-rc\n[root@rhel6 ~]# \n</snip>",
          "creator": "fhirtz@redhat.com",
          "creation_time": "20140502T22:04:32",
          "bug_id": "1093869",
          "creator_id": "30797",
          "time": "20140502T22:04:32",
          "id": "7058599",
          "is_private": "False"
        },
        {
          "count": "2",
          "attachment_id": "892043",
          "author": "fhirtz@redhat.com",
          "text": "Created attachment 892043\nTest cert",
          "creator": "fhirtz@redhat.com",
          "creation_time": "20140502T22:05:16",
          "bug_id": "1093869",
          "creator_id": "30797",
          "time": "20140502T22:05:16",
          "id": "7058600",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this bug report was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20140502T22:22:18",
          "bug_id": "1093869",
          "creator_id": "193983",
          "time": "20140502T22:22:18",
          "id": "7058619",
          "is_private": "True"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.5"
      ],
      "cc": [],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_regression_status": "---",
      "cf_environment": "",
      "status": "NEW",
      "product": "Red Hat Enterprise Linux 6",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "groups": [
        "redhat"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "target_release": [
        "---"
      ],
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.6.0",
          "modification_date": "20140502T22:22:16",
          "type_id": "519",
          "is_active": "1",
          "creation_date": "20140502T22:22:16",
          "id": "1802842",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20140502T22:49:01",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20140502T22:46:48",
          "id": "1802848",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20140502T22:47:07",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20140502T22:47:07",
          "id": "1802850",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "qa_ack",
          "modification_date": "20140502T22:47:27",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20140502T22:47:27",
          "id": "1802852",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20140508T08:22:47",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509317-ZgYauDDYejyzCWXQHWVhRpZ2w8jwdePVQgGeWoOA3_E",
      "cf_partner": [],
      "resolution": "",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "classification": "Red Hat",
      "cf_pm_score": "1400",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_story_points": "---",
      "cf_conditional_nak": [],
      "creation_time": "20130815T10:51:00",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "True",
      "keywords": [],
      "summary": "Send a message to /var/log/secure when ''ForceCommand internal-sftp'' is used and a ssh connection is dropped.",
      "external_bugs": [
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00895921",
          "bug_id": "997377",
          "ext_description": "[S3][6.5][Fixed]There is no response from ssh server when a chroot user is logged in. - RHSA-2013-1591",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "118249"
        }
      ],
      "id": "997377",
      "cf_release_notes": "",
      "priority": "medium",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "nbansal@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "nbansal@redhat.com",
          "text": "Description of problem:\nThis is related to Bug 993509, when \"ForceCommand internal-sftp\" is added to /etc/ssh/sshd_config and it connects to ssh server by using ssh command with the specific user name, there is no response from ssh server, e.g.:\n\n$ ssh sshuserB@10.x.x.x\nsshuserB@10.x.x.x's password: \n^C   <<---- connection hangs here and one has to issue Ctrl+c to close it. \n\nThe customer expects that an error is returned. Bug 993509 contains a patch which will print a message on console and will drop the connection properly. \n\nCustomer also wishes to see \"This service allows sftp connections only.\" in /var/log/secure as well when connection is dropped, sending the log message to /var/log/secure does not seem to be straight forward. Comment 5 in BZ 993509 lists a probable patch. \n\nVersion-Release number of selected component (if applicable):\nopenssh-5.3p1-81.el6.x86_64\n\nHow reproducible:\nAlways\n\nSteps to Reproduce:\n1. Edit /etc/ssh/sshd_config file, here is the diff of default and modified sshd_config:\n\n< Subsystem\tsftp\t/usr/libexec/openssh/sftp-server\n---\n> #Subsystem\tsftp\t/usr/libexec/openssh/sftp-server\n> Subsystem       sftp    internal-sftp -f AUTH -l DEBUG3\n> AllowUsers      sshuserB fujitsu pref root loguser\n133a136,139\n> Match User sshuserB\n> \tChrootDirectory /contents/bousai\n> \tPasswordAuthentication yes\n> \tForceCommand internal-sftp\n\n2.  Execute following commands:\n\n#mkdir /contents/bousai/\n#ls -ld /contents/bousai/\ndrwxr-xr-x. 2 root root 4096  6\u6708 25 03:51 2013 /contents/bousai/\n#useradd sshuserB\n#passwd sshuserB\n# id sshuserB\nuid=500(sshuserB) gid=500(sshuserB) groups=500(sshuserB)\n\n3. Take another system and try to login as sshuserB:\n\n#ssh sshuserB@IP-Addr-Of-SSH-Server\nConnection should hang\n\n#sftp sshuserB@IP-Addr-Of-SSH-Server \nThis should work. \n\n4. Apply the patch attached to BZ 993509 which after which connection is dropped properly\n\nConnection should be dropped properly and a message should be printed:\n\n$ ssh sshuserB@10.x.x.x\nsshuserB@10.x.x.x's password: \nThis service allows sftp connections only.\nConnection to 10.x.x.x closed.\n\n\nActual results:\n\"This service allows sftp connections only\" is only printed on console and not sent to /var/log/secure. \n\nExpected results:\n\"This service allows sftp connections only\" should be printed on console and should also appear in /var/log/secure. \n\nAdditional info:",
          "author": "nbansal@redhat.com",
          "creation_time": "20130815T10:51:39",
          "bug_id": "997377",
          "creator_id": "198324",
          "time": "20130815T10:51:39",
          "id": "6214605",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "This request was not resolved in time for the current release.\nRed Hat invites you to ask your support representative to\npropose this request, if still desired, for consideration in\nthe next release of Red Hat Enterprise Linux.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20131014T02:42:58",
          "bug_id": "997377",
          "creator_id": "193983",
          "time": "20131014T02:42:58",
          "id": "6414203",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "tlavigne@redhat.com",
          "text": "Since the release flag was set to ? after the pm_ack flag was set to + (was likely set for the previous release), the pm_ack flag has been reset to ? by the bugbot (pm-rhel). This action ensures the proper review by Product Management.",
          "author": "tlavigne@redhat.com",
          "creation_time": "20140213T21:30:44",
          "bug_id": "997377",
          "creator_id": "336123",
          "time": "20140213T21:30:44",
          "id": "6817684",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "ksrot@redhat.com",
          "text": "qa_ack+ for 6.6",
          "author": "ksrot@redhat.com",
          "creation_time": "20140310T19:11:16",
          "bug_id": "997377",
          "creator_id": "286283",
          "time": "20140310T19:11:16",
          "id": "6900213",
          "is_private": "True"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.3"
      ],
      "cc": [
        "pvrabec@redhat.com",
        "yoguma@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_regression_status": "---",
      "cf_environment": "",
      "status": "NEW",
      "product": "Red Hat Enterprise Linux 6",
      "cf_verified_branch": "",
      "blocks": [
        "1056252"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "fujitsu",
        "redhat"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "target_release": [
        "---"
      ],
      "alias": [],
      "op_sys": "All",
      "flags": [
        {
          "status": "?",
          "name": "qe_test_coverage",
          "modification_date": "20140311T10:47:20",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20140311T10:47:20",
          "id": "1738470",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "-",
          "name": "rhel-6.5.0",
          "modification_date": "20131014T02:42:50",
          "type_id": "361",
          "is_active": "0",
          "creation_date": "20130815T10:52:48",
          "id": "1473713",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.6.0",
          "modification_date": "20140320T09:23:31",
          "type_id": "519",
          "is_active": "1",
          "creation_date": "20131018T05:19:10",
          "id": "1553613",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20140305T14:19:56",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20130819T12:18:19",
          "id": "1475818",
          "setter": "tlavigne@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20140320T09:19:31",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20130819T12:20:06",
          "id": "1475841",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20140311T10:40:44",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20130819T12:21:49",
          "id": "1475862",
          "setter": "ksrot@redhat.com"
        }
      ],
      "last_change_time": "20140320T09:23:31",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509317-UKyg_poumCW9WefQZAmfMy5yKOLt-H8b4wkq4r2p3RY",
      "cf_partner": [],
      "resolution": "",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "classification": "Red Hat",
      "cf_pm_score": "600",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_story_points": "---",
      "cf_conditional_nak": [],
      "creation_time": "20130919T15:03:00",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "True",
      "keywords": [],
      "summary": "RSA1 host key file reading in FIPS mode",
      "external_bugs": [],
      "id": "1009959",
      "cf_release_notes": "",
      "priority": "medium",
      "severity": "low",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "lnovy@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "lnovy@redhat.com",
          "text": "Description of problem:\nEnabling protocol version 1 in sshd_config while running in FIPS mode leads to warning that protocol version 1 is disabled, but host key is still read and if it exists this leads to crash. If it doesn't exists warning is printed about the missing key file which is misleading and could lead user to try to put a rsa1 key file there thus inducing the crash.\n\nVersion-Release number of selected component (if applicable):\nopenssh-5.3p1-92.el6\n\nHow reproducible:\nAlways\n\nSteps to Reproduce:\n1. Install current rhel6.5 compose\n2. Enable sshd server service and let it generate keys\n3. Enable FIPS and reboot\n4. Set Protocol 2,1 in sshd_config\n5. Restart sshd service\n\nActual results:\nStarting sshd: md5_dgst.c(78): OpenSSL internal error, assertion failed: Digest MD5 forbidden in FIPS mode!\n/etc/init.d/sshd: line 128:  1639 Aborted                 (core dumped) $SSHD $OPTIONS\n                                                           [FAILED]\n\nExpected results:\nStarting sshd:\nDisabling protocol version 1. Not allowed in the FIPS mode.\n                                                           [  OK  ]\n\n\nAdditional info:\nWithout the keyfile, this output is printed:\nStarting sshd: Could not load host key: /etc/ssh/ssh_host_key\nDisabling protocol version 1. Not allowed in the FIPS mode.\n                                                           [  OK  ]\nSo the key is read before the protocol is disabled. This is not a regression as this happens with 84.1.el6 build also.\n\nBacktrace of the crashed sshd:\n#0  0x00007ffff52a4925 in raise () from /lib64/libc.so.6\n#1  0x00007ffff52a6105 in abort () from /lib64/libc.so.6\n#2  0x00007ffff6d88dbf in OpenSSLDie () from /usr/lib64/libcrypto.so.10\n#3  0x00007ffff6d8f519 in MD5_Init () from /usr/lib64/libcrypto.so.10\n#4  0x00007ffff7fc293c in cipher_set_key_string (cc=0x7fffffffd930, cipher=0x7ffff8201ae0, \n    passphrase=0x7ffff7fe7530 '''', do_encrypt=0) at cipher.c:315\n#5  0x00007ffff7fb7247 in key_load_private_rsa1 (fd=3, \n    filename=0x7ffff7fe0412 ''/etc/ssh/ssh_host_key'', passphrase=0x7ffff7fe7530 '''', commentp=0x0)\n    at authfile.c:423\n#6  0x00007ffff7f8a568 in main (ac=<value optimized out>, av=<value optimized out>) at sshd.c:1642",
          "author": "lnovy@redhat.com",
          "creation_time": "20130919T15:03:03",
          "bug_id": "1009959",
          "creator_id": "344083",
          "time": "20130919T15:03:03",
          "id": "6325271",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "This request was not resolved in time for the current release.\nRed Hat invites you to ask your support representative to\npropose this request, if still desired, for consideration in\nthe next release of Red Hat Enterprise Linux.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20131014T02:04:29",
          "bug_id": "1009959",
          "creator_id": "193983",
          "time": "20131014T02:04:29",
          "id": "6413923",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "jskeoch@redhat.com",
          "text": "User lnovy@redhat.com's account has been closed",
          "author": "jskeoch@redhat.com",
          "creation_time": "20140218T23:57:28",
          "bug_id": "1009959",
          "creator_id": "295967",
          "time": "20140218T23:57:28",
          "id": "6832603",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "tlavigne@redhat.com",
          "text": "Since the release flag was set to ? after the pm_ack flag was set to + (was likely set for the previous release), the pm_ack flag has been reset to ? by the bugbot (pm-rhel). This action ensures the proper review by Product Management.",
          "author": "tlavigne@redhat.com",
          "creation_time": "20140224T19:31:54",
          "bug_id": "1009959",
          "creator_id": "336123",
          "time": "20140224T19:31:54",
          "id": "6851539",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "mvadkert@redhat.com",
          "text": "For QE: gradeB bug, please add a FIPS test case ...",
          "author": "mvadkert@redhat.com",
          "creation_time": "20140414T08:21:01",
          "bug_id": "1009959",
          "creator_id": "271572",
          "time": "20140414T08:21:01",
          "id": "7007382",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "mvadkert@redhat.com",
          "text": "Bugzilla just replaced a few string. Reset them back ...",
          "author": "mvadkert@redhat.com",
          "creation_time": "20140414T08:22:52",
          "bug_id": "1009959",
          "creator_id": "271572",
          "time": "20140414T08:22:52",
          "id": "7007390",
          "is_private": "True"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.5"
      ],
      "cc": [
        "ebenes@redhat.com",
        "mvadkert@redhat.com",
        "pvrabec@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_regression_status": "---",
      "cf_environment": "",
      "status": "NEW",
      "product": "Red Hat Enterprise Linux 6",
      "cf_verified_branch": "",
      "blocks": [
        "1070830"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "redhat"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "target_release": [
        "---"
      ],
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20140414T08:21:01",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20130919T15:03:03",
          "id": "1515383",
          "setter": "mvadkert@redhat.com"
        },
        {
          "status": "-",
          "name": "rhel-6.5.0",
          "modification_date": "20131014T02:04:26",
          "type_id": "361",
          "is_active": "0",
          "creation_date": "20130919T15:03:03",
          "id": "1515384",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.6.0",
          "modification_date": "20140321T16:39:04",
          "type_id": "519",
          "is_active": "1",
          "creation_date": "20140214T15:27:52",
          "id": "1704939",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20140321T16:33:00",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20130919T15:03:03",
          "id": "1515385",
          "setter": "snagar@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20140320T09:33:52",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20130919T15:03:03",
          "id": "1515386",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20140320T11:01:46",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20130919T15:03:03",
          "id": "1515387",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20140424T08:44:50",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509318-XppFEwPBYfxgmPMjB2H4FACMIifaQF3_v3AxDYQa9Ds",
      "cf_partner": [],
      "resolution": "",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "classification": "Red Hat",
      "cf_pm_score": "600",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_story_points": "---",
      "cf_conditional_nak": [],
      "creation_time": "20131023T10:39:00",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "True",
      "keywords": [],
      "summary": "Fix ssh-keygen -V according to upstream",
      "external_bugs": [
        {
          "ext_status": "None",
          "ext_bz_bug_id": "308658",
          "bug_id": "1022459",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "69",
          "type": {
            "must_send": "False",
            "description": "TCMS Test Case",
            "url": "https://tcms.engineering.redhat.com",
            "can_get": "False",
            "id": "69",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          },
          "id": "128038"
        }
      ],
      "id": "1022459",
      "cf_release_notes": "",
      "priority": "medium",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "mvadkert@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "mvadkert@redhat.com",
          "text": "Description of problem:\nIn RHEL6.5 we introduced a feature for certificate support in OpenSSH [1]. Here we found an inconsistency in man page vs functionality for -V option of ssh-keygen command [2]. As we did not get at that time answer from the upstream we fixed the man page via MPO process.\n\nIn the mean time upstream replied that the documentation is indeed ok and the code is wrong [3]. As it is very late for RHEL6.5 I'm proposing to fix the issue according to upstream in RHEL6.6 or the upcoming RHEL6.5.z update. \n\n[1] Bug 906872\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=906872#c24\n[3] http://lists.mindrot.org/pipermail/openssh-unix-dev/2013-October/031718.html\n\nVersion-Release number of selected component (if applicable):\nopenssh-5.3p1-94.el6\n\nHow reproducible:\n100%\n\nSteps to Reproduce:\n1. ssh-keygen -f cakey -N ''''\n2. ssh-keygen (as a user)\n3. ssh-keygen -s cakey -I signedkey -V ''-1w:+1w'' ~/.ssh/id_rsa.pub\n\nActual results:\nValid between -1w to now\n\nExpected results:\nValid between -1w from now and +1w from now\n\nAdditional info:",
          "author": "mvadkert@redhat.com",
          "creation_time": "20131023T10:39:43",
          "bug_id": "1022459",
          "creator_id": "271572",
          "time": "20131023T10:39:43",
          "id": "6448917",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "ebenes@redhat.com",
          "text": "qa ack for 6.6.0",
          "author": "ebenes@redhat.com",
          "creation_time": "20140320T10:54:54",
          "bug_id": "1022459",
          "creator_id": "203333",
          "time": "20140320T10:54:54",
          "id": "6934317",
          "is_private": "True"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.5"
      ],
      "cc": [
        "ebenes@redhat.com",
        "ksrot@redhat.com",
        "pvrabec@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_regression_status": "---",
      "cf_environment": "",
      "status": "NEW",
      "product": "Red Hat Enterprise Linux 6",
      "cf_verified_branch": "",
      "blocks": [
        "1058234",
        "1070830"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "groups": [
        "redhat"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "target_release": [
        "---"
      ],
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20131023T10:39:43",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20131023T10:39:43",
          "id": "1560086",
          "setter": "mvadkert@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.6.0",
          "modification_date": "20140321T16:38:45",
          "type_id": "519",
          "is_active": "1",
          "creation_date": "20131023T10:39:43",
          "id": "1560087",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20140321T16:33:00",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20131023T10:39:43",
          "id": "1560088",
          "setter": "snagar@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20140320T09:30:10",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20131023T10:39:43",
          "id": "1560089",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20140320T10:54:54",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20131023T10:39:43",
          "id": "1560090",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20140424T08:44:53",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509318-YtCkQbbYDR4vWWtFCCapisx8E0iPFipwLGmh1xiEHPo",
      "cf_partner": [],
      "resolution": "",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "classification": "Red Hat",
      "cf_pm_score": "300",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_story_points": "---",
      "cf_conditional_nak": [],
      "creation_time": "20131106T11:11:00",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "True",
      "keywords": [],
      "summary": "X11 Forwarding does not work with default config - error: Failed to allocate internet-domain X11 display socket",
      "external_bugs": [],
      "id": "1027197",
      "cf_release_notes": "",
      "priority": "medium",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "jbelka@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "jbelka@redhat.com",
          "text": "Description of problem:\nX11 Forwarding does not work with default config.\n\nProblem seems to be line in /etc/ssh/sshd_config:\n\n-%-\n#AddressFamily any\n-%-\n\n-%-\nNov  6 11:50:13 test-rh6-x64 sshd[2509]: pam_unix(sshd:session): session opened for user root by (uid=0)\nNov  6 11:50:13 test-rh6-x64 sshd[2509]: error: Failed to allocate internet-domain X11 display socket.\n-%-\n\n-%-\ndebug1: session_input_channel_req: session 0 req x11-req\nFailed to allocate internet-domain X11 display socket.\ndebug1: x11_create_display_inet failed.\n-%-\n\nChanging it to AddressFamily inet makes it working again. Descr from man sshd_config.\n\n-%-\n     AddressFamily\n             Specifies which address family should be used by sshd(8).  Valid arguments are \u201cany\u201d, \u201cinet\u201d (use IPv4 only), or \u201cinet6\u201d (use IPv6\n             only).  The default is \u201cany\u201d.\n-%-\n\n\nVersion-Release number of selected component (if applicable):\nopenssh-server-5.3p1-94.el6.x86_64\nredhat-release-server-6Server-6.5.0.1.el6.x86_64\n\nHow reproducible:\n100%\n\nSteps to Reproduce:\n1. default config, install xauth\n2. ssh -X $remote # where remote is 6.5 RHEL\n3.\n\nActual results:\nx11 forwarding broken\n\nExpected results:\nshould work\n\nAdditional info:",
          "author": "jbelka@redhat.com",
          "creation_time": "20131106T11:11:50",
          "bug_id": "1027197",
          "creator_id": "340827",
          "time": "20131106T11:11:50",
          "id": "6492020",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this bug report was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20131106T11:23:37",
          "bug_id": "1027197",
          "creator_id": "193983",
          "time": "20131106T11:23:37",
          "id": "6492061",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "pm-rhel@redhat.com",
          "text": "This request was not resolved in time for the current release.\nRed Hat invites you to ask your support representative to\npropose this request, if still desired, for consideration in\nthe next release of Red Hat Enterprise Linux.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20131109T11:44:58",
          "bug_id": "1027197",
          "creator_id": "193983",
          "time": "20131109T11:44:58",
          "id": "6504060",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "ksrot@redhat.com",
          "text": "qa_ack+ for 6.6\n\nPetr, could you please describe what would be the actual fix?",
          "author": "ksrot@redhat.com",
          "creation_time": "20140328T07:49:24",
          "bug_id": "1027197",
          "creator_id": "286283",
          "time": "20140328T07:49:24",
          "id": "6961888",
          "is_private": "True"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.5"
      ],
      "cc": [
        "plautrba@redhat.com",
        "pvrabec@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_regression_status": "---",
      "cf_environment": "",
      "status": "NEW",
      "product": "Red Hat Enterprise Linux 6",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "target_release": [
        "---"
      ],
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "requestee": "plautrba@redhat.com",
          "status": "?",
          "name": "needinfo",
          "modification_date": "20140328T07:49:24",
          "type_id": "16",
          "is_active": "1",
          "creation_date": "20140328T07:49:24",
          "id": "1762697",
          "setter": "ksrot@redhat.com"
        },
        {
          "status": "?",
          "name": "qe_test_coverage",
          "modification_date": "20140328T07:57:12",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20140328T07:57:12",
          "id": "1762712",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "-",
          "name": "rhel-6.5.0",
          "modification_date": "20131109T11:44:55",
          "type_id": "361",
          "is_active": "0",
          "creation_date": "20131106T11:23:34",
          "id": "1576265",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.6.0",
          "modification_date": "20140328T07:54:10",
          "type_id": "519",
          "is_active": "1",
          "creation_date": "20140214T15:37:15",
          "id": "1704953",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20140324T00:30:16",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20131106T11:12:16",
          "id": "1576235",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20140320T09:39:51",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20131106T11:12:16",
          "id": "1576236",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20140328T07:49:24",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20131106T11:12:16",
          "id": "1576237",
          "setter": "ksrot@redhat.com"
        }
      ],
      "last_change_time": "20140402T18:35:44",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509318-PNsGMoCoZXhaJ56ipRUlvgyXf3hCLWL45ANIBbDCT8I",
      "cf_partner": [],
      "resolution": "",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "classification": "Red Hat",
      "cf_pm_score": "300",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_story_points": "---",
      "cf_conditional_nak": [],
      "creation_time": "20140410T13:22:00",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "True",
      "keywords": [],
      "summary": "AVC denial for prelink when user with expired password logs in via ssh in FIPS mode",
      "external_bugs": [],
      "id": "1086257",
      "cf_release_notes": "",
      "priority": "medium",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "pkis@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "pkis@redhat.com",
          "text": "Description of problem:\n\nNo sure if this is an openssh bug, but so far looks like it is and I was not able to get closer to the root cause.\n\ntype=AVC msg=audit(1397133840.906:239): avc:  denied  { chown } for  pid=1880 comm=''prelink'' capability=0  scontext=unconfined_u:unconfined_r:chkpwd_t:s0-s0:c0.c1023 tcontext=unconfined_u:unconfined_r:chkpwd_t:s0-s0:c0.c1023 tclass=capability\ntype=SYSCALL msg=audit(1397133840.906:239): arch=c000003e syscall=93 success=no exit=-1 a0=1 a1=0 a2=0 a3=2 items=1 ppid=1879 pid=1880 auid=506 uid=0 gid=506 euid=0 suid=0 fsuid=0 egid=506 sgid=506 fsgid=506 tty=pts2 ses=9 comm=''prelink'' exe=''/usr/sbin/prelink'' subj=unconfined_u:unconfined_r:chkpwd_t:s0-s0:c0.c1023 key=(null)\n\nThe AVC denial above is logged when user that has expired password tries to ssh in FIPS mode. If FIPS is disabled or login on console there are no AVC denials.\n\nOn top of that auditing of prelink showed that prelink is really called only in fips mode and only when login via ssh:\ntype=SYSCALL msg=audit(1397133828.524:195): arch=c000003e syscall=59 success=yes exit=0 a0=7f118b2a7ae0 a1=7f118b2a7b10 a2=7fff48a33678 a3=7fff48a31c90 items=1 ppid=1839 pid=1840 auid=4294967295 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=(none) ses=4294967295 comm=''prelink'' exe=''/usr/sbin/prelink'' subj=system_u:system_r:chkpwd_t:s0-s0:c0.c1023 key=''prelink_file''\n\nThe above syscall does not cause AVC denial (note the syscall number), but appears only in FIPS mode when login via ssh. I would say that prelink should no be called in FIPS (especially if it is not called in non FIPS mode).\n\nVersion-Release number of selected component (if applicable):\nopenssh-5.3p1-94.el6\nshadow-utils-4.1.4.2-13.el6\npam-1.1.1-17.el6\nselinux-policy-3.7.19-231.el6\n\nHow reproducible:\nalways\n\n\nSteps to Reproduce:\n\n[root@rhel6 ~]# cat /proc//sys/crypto/fips_enabled \n1\n[root@rhel6 ~]# chage -d 0 ccc\n[root@rhel6 ~]# \n[root@rhel6 ~]# ssh ccc@127.0.0.1\nFIPS mode initialized\nccc@127.0.0.1's password: \nYou are required to change your password immediately (root enforced)\nLast login: Thu Apr 10 15:10:15 2014 from localhost\n\nWARNING: Your password has expired.\nYou must change your password now and login again!\nChanging password for user ccc.\nChanging password for ccc.\n(current) UNIX password: Connection to 127.0.0.1 closed.\n\n[root@rhel6 ~]# \n[root@rhel6 ~]# ausearch -m avc -ts recent\n----\ntime->Thu Apr 10 14:55:22 2014\ntype=PATH msg=audit(1397134522.676:275): item=0 name=(null) inode=14331 dev=00:08 mode=010600 ouid=0 ogid=507 rdev=00:00 obj=unconfined_u:unconfined_r:chkpwd_t:s0-s0:c0.c1023 nametype=NORMAL\ntype=SYSCALL msg=audit(1397134522.676:275): arch=c000003e syscall=93 success=no exit=-1 a0=1 a1=0 a2=0 a3=2 items=1 ppid=1908 pid=1909 auid=507 uid=0 gid=507 euid=0 suid=0 fsuid=0 egid=507 sgid=507 fsgid=507 tty=pts2 ses=10 comm=''prelink'' exe=''/usr/sbin/prelink'' subj=unconfined_u:unconfined_r:chkpwd_t:s0-s0:c0.c1023 key=(null)\ntype=AVC msg=audit(1397134522.676:275): avc:  denied  { chown } for  pid=1909 comm=''prelink'' capability=0  scontext=unconfined_u:unconfined_r:chkpwd_t:s0-s0:c0.c1023 tcontext=unconfined_u:unconfined_r:chkpwd_t:s0-s0:c0.c1023 tclass=capability\n[root@rhel6 ~]# \n\nPrelink is called even if the password is not expired (without AVC denial):\n\n[root@rhel6 ~]# auditctl -w /usr/sbin/prelink -p warx -k prelink_file\n[root@rhel6 ~]# auditctl -l\nLIST_RULES: exit,always watch=/usr/sbin/prelink perm=rwxa key=prelink_file\n[root@rhel6 ~]# chage -d 3 ccc\n[root@rhel6 ~]# ssh ccc@127.0.0.1\nFIPS mode initialized\nccc@127.0.0.1's password: \nLast login: Thu Apr 10 15:19:10 2014 from localhost\n\n[ccc@rhel6 ~]$ exit\nlogout\nConnection to 127.0.0.1 closed.\n[root@rhel6 ~]# \n[root@rhel6 ~]# tail -1 /var/log/audit/audit.log \ntype=CRYPTO_KEY_USER msg=audit(1397134713.027:341): user pid=1962 uid=0 auid=507 ses=12 subj=system_u:system_r:sshd_t:s0-s0:c0.c1023 msg='op=destroy kind=server fp=fb:a5:b5:f6:9b:09:74:f3:05:e5:11:ee:22:10:15:8f:b5:a9:0d:d4 direction=? spid=1962 suid=0  exe=''/usr/sbin/sshd'' hostname=? addr=127.0.0.1 terminal=? res=success'\n[root@rhel6 ~]# \n\n\nActual results:\nAVC denial appear\n\nExpected results:\nno AVC denial\n\nAdditional info:\n\nIn non FIPS mode:\n\n[root@rhel6 ~]# auditctl -w /usr/sbin/prelink -p warx -k prelink_file\n[root@rhel6 ~]# auditctl -l\nLIST_RULES: exit,always watch=/usr/sbin/prelink perm=rwxa key=prelink_file\n[root@rhel6 ~]# ssh ccc@127.0.0.1\nccc@127.0.0.1's password: \nLast login: Thu Apr 10 15:08:05 2014 from localhost\n\n[ccc@rhel6 ~]$ exit\nlogout\nConnection to 127.0.0.1 closed.\n[root@rhel6 ~]# tail -50 /var/log/audit/audit.log | grep prelink\n[root@rhel6 ~]#",
          "author": "pkis@redhat.com",
          "creation_time": "20140410T13:22:06",
          "bug_id": "1086257",
          "creator_id": "324351",
          "time": "20140410T13:22:06",
          "id": "7000678",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.6"
      ],
      "cc": [],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_regression_status": "---",
      "cf_environment": "",
      "status": "NEW",
      "product": "Red Hat Enterprise Linux 6",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "target_release": [
        "---"
      ],
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "?",
          "name": "qe_test_coverage",
          "modification_date": "20140410T13:22:06",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20140410T13:22:06",
          "id": "1778913",
          "setter": "pkis@redhat.com"
        },
        {
          "status": "?",
          "name": "rhel-6.6.0",
          "modification_date": "20140410T13:22:06",
          "type_id": "519",
          "is_active": "1",
          "creation_date": "20140410T13:22:06",
          "id": "1778914",
          "setter": "pkis@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20140410T13:49:05",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20140410T13:22:06",
          "id": "1778915",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20140410T13:22:06",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20140410T13:22:06",
          "id": "1778916",
          "setter": "pkis@redhat.com"
        },
        {
          "status": "?",
          "name": "qa_ack",
          "modification_date": "20140410T13:22:06",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20140410T13:22:06",
          "id": "1778917",
          "setter": "pkis@redhat.com"
        }
      ],
      "last_change_time": "20140413T08:40:02",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509318--pMPiVO_M9ozXl5I2oFP7NBlNWvzLp4yAEWwtMWnONo",
      "cf_partner": [],
      "resolution": "",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "classification": "Red Hat",
      "cf_pm_score": "900",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_story_points": "---",
      "cf_conditional_nak": [],
      "creation_time": "20140521T10:10:00",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "True",
      "keywords": [],
      "summary": "Backport fix: Incorrect return code if mux master has completed",
      "external_bugs": [
        {
          "ext_status": "Waiting on Red Hat",
          "ext_bz_bug_id": "01099344",
          "bug_id": "1099832",
          "ext_description": "openSSH and Master Session",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "158637"
        }
      ],
      "id": "1099832",
      "cf_release_notes": "",
      "priority": "medium",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "klepikho@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "klepikho@redhat.com",
          "text": "Description of problem:\nCopy&Paste description from upstream report:\n\nhttps://bugzilla.mindrot.org/show_bug.cgi?id=1570\n\nWhen a control master is running because it still has clients, but the\ncommand that that master originally ran has already exited, a client\nwill incorrectly exit 255.  It will otherwise work correctly.\n\nVersion-Release number of selected component (if applicable):\n5.3p1-84.1\n\nHow reproducible:\nAlways\n\nSteps to Reproduce:\n\n> cat ~/.ssh/config\nControlMaster   auto\nControlPath     ~/.ssh/mux/%r@%h:%p\n> ssh -f remote-host sleep 60\nPassword: \n> ssh -n remote-host sleep 300 &\n[3] 9166\n> ssh -vv remote-host date\nOpenSSH_5.1p1, OpenSSL 0.9.8g 19 Oct 2007\ndebug1: Reading configuration data /home/xxx/.ssh/config\ndebug1: Reading configuration data /etc/ssh/ssh_config\ndebug1: auto-mux: Trying existing master\nTue Mar 10 12:31:01 GMT 2009\ndebug2: Received EOF from master\ndebug2: Received exit status from master 0\n> echo $?\n0\n> sleep 60\n> ssh -vv remote-host date\nOpenSSH_5.1p1, OpenSSL 0.9.8g 19 Oct 2007\ndebug1: Reading configuration data /home/xxx/.ssh/config\ndebug1: Reading configuration data /etc/ssh/ssh_config\ndebug1: auto-mux: Trying existing master\nTue Mar 10 12:32:14 GMT 2009\ndebug2: Received EOF from master\ndebug2: Control master terminated unexpectedly\n> echo $?\n255\n\nActual results:\nClient gets 255 error from master\n\nExpected results:\nClient should not be bothered from master\n\nAdditional info:\nThe same was asked by our customer from case 01099344:\n\nHello,\n\nWe have issue with openSSH, version 5.3p1-84.1. We use Master Session as our communication solution with ESXi 5.1u1 (on ESXi openSSH is 5.6p1 with OpenSSL 1.0.1g).\n\nWhen we stuck SSH Master Session, sometimes from ssh connection using that session, return code is 255.\n\nAfter debugging the connections, we found, that we could be getting this issue, solved in OpenSSH 5.4p1",
          "author": "klepikho@redhat.com",
          "creation_time": "20140521T10:10:01",
          "bug_id": "1099832",
          "creator_id": "354117",
          "time": "20140521T10:10:01",
          "id": "7106030",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this bug report was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20140521T10:15:18",
          "bug_id": "1099832",
          "creator_id": "193983",
          "time": "20140521T10:15:18",
          "id": "7106040",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "tbowling@redhat.com",
          "text": "Is it possible to get a test build of this for the customer to verify and test?\n\nCustomer might need to request this for either 6.5.z or 6.6.z.",
          "author": "tbowling@redhat.com",
          "creation_time": "20140605T15:42:02",
          "bug_id": "1099832",
          "creator_id": "320027",
          "time": "20140605T15:42:02",
          "id": "7151354",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "tlavigne@redhat.com",
          "text": "This bug has missed the 6.6 FasTrack filing deadline.  It has been moved to 6.7 FasTrack.",
          "author": "tlavigne@redhat.com",
          "creation_time": "20140605T17:01:23",
          "bug_id": "1099832",
          "creator_id": "336123",
          "time": "20140605T17:01:23",
          "id": "7151672",
          "is_private": "True"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.4"
      ],
      "cc": [
        "tbowling@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_regression_status": "---",
      "cf_environment": "",
      "status": "NEW",
      "product": "Red Hat Enterprise Linux 6",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "groups": [
        "redhat"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "target_release": [
        "---"
      ],
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "-",
          "name": "rhel-6.6.0",
          "modification_date": "20140605T17:01:22",
          "type_id": "519",
          "is_active": "1",
          "creation_date": "20140521T10:15:16",
          "id": "1823025",
          "setter": "tlavigne@redhat.com"
        },
        {
          "status": "?",
          "name": "rhel-6.7.0",
          "modification_date": "20140605T17:01:22",
          "type_id": "640",
          "is_active": "1",
          "creation_date": "20140605T17:01:22",
          "id": "1844047",
          "setter": "tlavigne@redhat.com"
        },
        {
          "status": "?",
          "name": "fast",
          "modification_date": "20140521T10:27:16",
          "type_id": "36",
          "is_active": "1",
          "creation_date": "20140521T10:27:16",
          "id": "1823031",
          "setter": "klepikho@redhat.com"
        },
        {
          "status": "?",
          "name": "pm_ack",
          "modification_date": "20140521T10:27:16",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20140521T10:27:16",
          "id": "1823032",
          "setter": "klepikho@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20140521T10:27:16",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20140521T10:27:16",
          "id": "1823033",
          "setter": "klepikho@redhat.com"
        },
        {
          "status": "?",
          "name": "qa_ack",
          "modification_date": "20140521T10:27:16",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20140521T10:27:16",
          "id": "1823034",
          "setter": "klepikho@redhat.com"
        }
      ],
      "last_change_time": "20140605T17:01:23",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509318-VQa9ziCK0hNdez4n3bhG55-SbgjakYVtnq9tEpeDAY8",
      "cf_partner": [],
      "resolution": "",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "classification": "Red Hat",
      "cf_pm_score": "1100",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_story_points": "---",
      "cf_conditional_nak": [],
      "creation_time": "20140523T20:40:00",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "True",
      "keywords": [],
      "summary": "conditional compilation error in OpenSSH for non-linux platforms",
      "external_bugs": [
        {
          "ext_status": "Waiting on Red Hat",
          "ext_bz_bug_id": "01081091",
          "bug_id": "1100913",
          "ext_description": "conditional compilation error in OpenSSH",
          "ext_priority": "4 (Low)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "159117"
        }
      ],
      "id": "1100913",
      "cf_release_notes": "",
      "priority": "unspecified",
      "severity": "low",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "fhirtz@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "fhirtz@redhat.com",
          "text": "Description of problem:\n\nThis is a minor issue that a client came across when doing an openssh build using our sources for a non-linux platform (they like to have just one version in the wild there). \n\nWe've applied the following patch to channels.c in OpenSSH, relative to the base upstream version 5.3p1:\n\n--------------------------------------------------------------------\n@@ -3190,8 +3252,21 @@\n connect_local_xsocket(u_int dnr)\n {\n        char buf[1024];\n-       snprintf(buf, sizeof buf, _PATH_UNIX_X, dnr);\n-       return connect_local_xsocket_path(buf);\n+       int len;\n+#ifdef linux\n+       int ret;\n+#endif\n+       len = snprintf(buf + 1, sizeof (buf) - 1, _PATH_UNIX_X, dnr);\n+#ifdef linux\n+       /* try abstract socket first */\n+       buf[0] = '\\0';\n+       if ((ret = connect_local_xsocket_path(buf, len + 1)) >= 0)\n+               return ret;\n+#endif\n+       if ((ret = connect_local_xsocket_path(buf + 1, len)) >= 0)\n+               return ret;\n+       error(''connect %.100s: %.100s'', buf + 1, strerror(errno));\n+       return -1;\n }\n \n int\n--------------------------------------------------------------------\n\nThe point of the #ifdef's is to add this alteration conditionally, so that it only applies when building on Linux and can continue to build on other platforms from the same source. However, it cannot build if the cpp macro ''linux'' is not defined, because you defined the variable 'ret' inside an #ifdef, but then used it outside.\n\n5.3 and current 6.6 upstream look the same in this function:\n\n<snip>\nstatic int\nconnect_local_xsocket(u_int dnr)\n{\n        char buf[1024];\n        snprintf(buf, sizeof buf, _PATH_UNIX_X, dnr);\n        return connect_local_xsocket_path(buf);\n}\n</snip>\n\nSo, it appears that we're changing the linux build with the patch, but we're also modifying the base non-linux build here. The fix was added to correct a ''connect : Connection refused'' error on SSH X11Forwading in the 6.0 beta. Having a look at the relevant patch, we're changing connect_local_xsocket_path() and connect_local_xsocket() and thus the changes to the 'default' are likely valid. In that case, it looks like the we should fix the #else so that we define 'ret' outside of the conditional so it doesn't break for non-linux builds.\n\nAs noted, this is minor, but it'd be nice if we fixed it.",
          "author": "fhirtz@redhat.com",
          "creation_time": "20140523T20:40:23",
          "bug_id": "1100913",
          "creator_id": "30797",
          "time": "20140523T20:40:23",
          "id": "7115418",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this bug report was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20140523T20:42:15",
          "bug_id": "1100913",
          "creator_id": "193983",
          "time": "20140523T20:42:15",
          "id": "7115423",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "plautrba@redhat.com",
          "text": "The first #ifdef seems to be  functionless and it'll be removed in the next update.",
          "author": "plautrba@redhat.com",
          "creation_time": "20140529T14:38:53",
          "bug_id": "1100913",
          "creator_id": "270148",
          "time": "20140529T14:38:53",
          "id": "7129899",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "ksrot@redhat.com",
          "text": "qa_ack+ for 6.6 as SanityOnly",
          "author": "ksrot@redhat.com",
          "creation_time": "20140605T11:26:36",
          "bug_id": "1100913",
          "creator_id": "286283",
          "time": "20140605T11:26:36",
          "id": "7150326",
          "is_private": "True"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.5"
      ],
      "cc": [
        "pvrabec@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_regression_status": "---",
      "cf_environment": "",
      "status": "ASSIGNED",
      "product": "Red Hat Enterprise Linux 6",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "groups": [
        "redhat"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "target_release": [
        "---"
      ],
      "alias": [],
      "op_sys": "Other",
      "flags": [
        {
          "status": "?",
          "name": "qe_test_coverage",
          "modification_date": "20140605T11:35:16",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20140605T11:35:16",
          "id": "1843322",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.6.0",
          "modification_date": "20140605T11:30:20",
          "type_id": "519",
          "is_active": "1",
          "creation_date": "20140523T20:42:13",
          "id": "1827219",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20140523T21:08:59",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20140523T21:06:44",
          "id": "1827223",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20140529T14:43:47",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20140523T21:07:02",
          "id": "1827224",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20140605T11:26:36",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20140523T21:07:22",
          "id": "1827225",
          "setter": "ksrot@redhat.com"
        }
      ],
      "last_change_time": "20140605T11:35:16",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509318-QuKNS1Qf6Xcx1RKsuvP6w9775SJTICZiOYLkuNnz9RI",
      "cf_partner": [],
      "resolution": "",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "classification": "Red Hat",
      "cf_pm_score": "900",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_story_points": "---",
      "cf_conditional_nak": [],
      "creation_time": "20131109T00:50:00",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "True",
      "keywords": [],
      "summary": "Connection remains when fork() fails.",
      "external_bugs": [
        {
          "ext_status": "Waiting on Red Hat",
          "ext_bz_bug_id": "00989538",
          "bug_id": "1028643",
          "ext_description": "ssh\u30d7\u30ed\u30bb\u30b9\u306e\u6b8b\u7559\u306b\u3064\u3044\u3066",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "133255"
        }
      ],
      "id": "1028643",
      "cf_release_notes": "",
      "priority": "medium",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "penguin-kernel@I-love.SAKURA.ne.jp",
      "comments": [
        {
          "count": "0",
          "creator": "penguin-kernel@I-love.SAKURA.ne.jp",
          "text": "Description of problem:\n\nPlease see upstream bug report at https://bugzilla.mindrot.org/show_bug.cgi?id=2167 .\nI attached a fix in that report. Please backport to RHEL/Fedora's openssh\npackage when the fix is committed, for this bug actually blocked an unattended\nssh session (execution of batched job) of an enterprise server.\n\nVersion-Release number of selected component (if applicable):\n\nAny.\n\nHow reproducible:\n\n100% reproducible when fork() in privsep_postauth() fails.\n\nSteps to Reproduce:\n\n1. Build as usual like ''rpmbuild -bb openssh.spec''.\n2. Go to the build directory and replace fork() in privsep_postauth() in sshd.c\n   with -1 and rebuild using ''make''.\n3. Run ./sshd and try to connect as an unprivileged user.\n\nActual results:\n\nConnection cannot be closed when fork() fails.\n\nExpected results:\n\nConnection should be closed immediately when fork() fails.",
          "author": "penguin-kernel@I-love.SAKURA.ne.jp",
          "creation_time": "20131109T00:50:00",
          "bug_id": "1028643",
          "creator_id": "270049",
          "time": "20131109T00:50:00",
          "id": "6503800",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this bug report was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20131109T00:52:09",
          "bug_id": "1028643",
          "creator_id": "193983",
          "time": "20131109T00:52:09",
          "id": "6503801",
          "is_private": "True"
        },
        {
          "count": "2",
          "attachment_id": "822474",
          "author": "plautrba@redhat.com",
          "text": "Created attachment 822474\nfix cleanup in openssh-5.3p1-audit.patch\n\nPlease apply this patch on your openssh-5.3p1-audit.patch from src.rpm and check if it help you.",
          "creator": "plautrba@redhat.com",
          "creation_time": "20131111T15:33:52",
          "bug_id": "1028643",
          "creator_id": "270148",
          "time": "20131111T15:33:52",
          "id": "6508030",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "penguin-kernel@I-love.SAKURA.ne.jp",
          "text": "Hello. Thank you for the patch.\n\nThe patch fixes fork() failure case in privsep_postauth() but does not fix\nfork() failure case in privsep_preauth(), for pmonitor->m_pid == 0 in the\nlatter function.\n\nI don't know whether it is safe to change privsep_preauth() from\n\n  pid = fork();\n  if (pid == -1) {\n    fatal(''fork of unprivileged child failed'');\n  } else if (pid != 0) {\n\nto\n\n  pmonitor->m_pid = fork();\n  if (pmonitor->m_pid == -1) {\n    fatal(''fork of unprivileged child failed'');\n  } else if (pmonitor->m_pid != 0) {\n\nlike privsep_postauth() does. But at least changing privsep_preauth() like\n\n   pid = fork();\n   if (pid == -1) {\n+    pmonitor->m_pid = -1\n     fatal(''fork of unprivileged child failed'');\n   } else if (pid != 0) {\n\ncan fix fork() failure case in privsep_preauth().\n\nRegards.",
          "author": "penguin-kernel@I-love.SAKURA.ne.jp",
          "creation_time": "20131112T05:47:15",
          "bug_id": "1028643",
          "creator_id": "270049",
          "time": "20131112T05:47:15",
          "id": "6510159",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "plautrba@redhat.com",
          "text": "Thanks for testing. You are right about privsep_preauth(). I personally would use:\n\n@@ -633,7 +683,7 @@ privsep_preauth(Authctxt *authctxt)\n \t/* Store a pointer to the kex for later rekeying */\n \tpmonitor->m_pkex = &xxx_kex;\n \n-\tpid = fork();\n+\tpmonitor->m_pid = pid = fork();\n \tif (pid == -1) {\n \t\tfatal(''fork of unprivileged child failed'');\n \t} else if (pid != 0) {\n\n\nbut it's only a cosmetic change. The fix will be included in the update.",
          "author": "plautrba@redhat.com",
          "creation_time": "20131112T15:38:16",
          "bug_id": "1028643",
          "creator_id": "270148",
          "time": "20131112T15:38:16",
          "id": "6512264",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "ykinoshi@redhat.com",
          "text": "I got fix request for RHEL6.6 from the customer, see the case summary of 00989538 for the business impact.",
          "author": "ykinoshi@redhat.com",
          "creation_time": "20131213T01:43:55",
          "bug_id": "1028643",
          "creator_id": "309014",
          "time": "20131213T01:43:55",
          "id": "6615659",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "ksrot@redhat.com",
          "text": "qa_ack+ for 6.6",
          "author": "ksrot@redhat.com",
          "creation_time": "20140328T07:44:38",
          "bug_id": "1028643",
          "creator_id": "286283",
          "time": "20140328T07:44:38",
          "id": "6961868",
          "is_private": "True"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.4"
      ],
      "cc": [
        "penguin-kernel@I-love.SAKURA.ne.jp",
        "pvrabec@redhat.com",
        "ykinoshi@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_regression_status": "---",
      "cf_environment": "",
      "status": "ASSIGNED",
      "product": "Red Hat Enterprise Linux 6",
      "cf_verified_branch": "",
      "blocks": [
        "1070830"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "target_release": [
        "---"
      ],
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "?",
          "name": "qe_test_coverage",
          "modification_date": "20140328T07:57:10",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20140328T07:57:10",
          "id": "1762711",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.6.0",
          "modification_date": "20140328T07:54:04",
          "type_id": "519",
          "is_active": "1",
          "creation_date": "20131112T15:38:16",
          "id": "1584314",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20140324T00:29:02",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20131109T01:16:43",
          "id": "1581280",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20131112T15:40:55",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20131109T01:17:00",
          "id": "1581281",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20140328T07:44:38",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20131109T01:17:18",
          "id": "1581282",
          "setter": "ksrot@redhat.com"
        }
      ],
      "last_change_time": "20140424T08:44:57",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509318-NDFrxUhwUPgxHTW-wTymIMN_qO0TaRIoiXflW9JPYAU",
      "cf_partner": [],
      "resolution": "",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "classification": "Red Hat",
      "cf_pm_score": "900",
      "estimated_time": "0.0",
      "depends_on": [
        "812676"
      ],
      "cf_story_points": "---",
      "cf_conditional_nak": [],
      "creation_time": "20140228T12:51:00",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "True",
      "keywords": [],
      "summary": "sshd does not reset oom_score_adj to 0",
      "external_bugs": [
        {
          "ext_status": "Waiting on Red Hat",
          "ext_bz_bug_id": "01046747",
          "bug_id": "1071290",
          "ext_description": "OpenSSH should not be immune to Out-of-Memory killer",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "145744"
        }
      ],
      "id": "1071290",
      "cf_release_notes": "",
      "priority": "medium",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "rupatel@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "rupatel@redhat.com",
          "text": "+++ This bug was initially created as a clone of Bug #812676 +++\n\nDescription of problem:\n\nWhen connecting to a Fedora 15 host through ssh, the remote shell (and its child processes) inherits oom_score_adj=-1000, instead of the expected 0. If these processes exhaust the available memory, then the oom killer terminates some daemons instead of them, resulting in a DoS condition.\n\nVersion-Release number of selected component (if applicable):\n\n- OpenSSH_5.6p1, OpenSSL 1.0.0h-fips 12 Mar 2012\n- rpm package: openssh-server-5.6p1-35.fc15.x86_64\n- Linux 2.6.42.12-1.fc15.x86_64 #1 SMP Tue Mar 20 16:30:08 UTC 2012 x86_64 x86_64 x86_64 GNU/Linux\n\nalso occured on\n- OpenSSH_5.6p1, OpenSSL 1.0.0g-fips 18 Jan 2012\n- rpm package: openssh-server-5.6p1-34.fc15.i686\n- Linux 2.6.41.10-3.fc15.i686.PAE #1 SMP Mon Jan 23 15:36:55 UTC 2012 i686 i686 i386 GNU/Linux\n\nHow reproducible:\n100%\n\nSteps to Reproduce:\n1. ssh user@fc15_host\n2. cat /proc/self/oom_score_adj\n  \nActual results:\n\noom_score_adj is -1000\n\nExpected results:\n\noom_score_adj is 0\n\nAdditional info:\n\n- Fixed in Fedora 16 (as of openssh-server-5.8p2-25.fc16.x86_64).\n- Leads the oom killer to select root daemons (in the attachment: systemd-logger, atd, avahi-daemon, smartd, irqbalance, dhclient, NetworkManager) over offending user process (in the attachment: main, treeUB), resulting in a DoS condition.\n- May be related: an earlier version (openssh-5.6p1-33.fc15.1.x86_64) used deprecated oom_adj instead of oom_score_adj (Bug 727335).\n\n--- Additional comment from Petr Lautrbach on 2012-04-15 22:45:44 EDT ---\n\nThere was a typo in the openssh-5.6p1-linux-oomkiller.patch:\n\n-+      if (oom_adj_save == INT_MIN || oom_adj_save == NULL ||\n++      if (oom_adj_save == INT_MIN || oom_adj_path == NULL ||\n\n\n$ ssh root@f15-openssh\n\n[root@f15-openssh ~]# rpm -q openssh-server\nopenssh-server-5.6p1-36.fc15.x86_64\n\n[root@f15-openssh ~]# cat /proc/$$/oom_*\n0\n1\n0\n\n\nNote: This sshd update should be restarted from a console in order not to inherit oom values from the running ssh shell.\n\n\nThanks for the report.\n\n--- Additional comment from Fedora Update System on 2012-04-15 22:49:07 EDT ---\n\nopenssh-5.6p1-36.fc15 has been submitted as an update for Fedora 15.\nhttps://admin.fedoraproject.org/updates/openssh-5.6p1-36.fc15\n\n--- Additional comment from Fedora Update System on 2012-04-18 15:31:23 EDT ---\n\nPackage openssh-5.6p1-36.fc15:\n* should fix your issue,\n* was pushed to the Fedora 15 testing repository,\n* should be available at your local mirror within two days.\nUpdate it with:\n# su -c 'yum update --enablerepo=updates-testing openssh-5.6p1-36.fc15'\nas soon as you are able to.\nPlease go to the following url:\nhttps://admin.fedoraproject.org/updates/FEDORA-2012-6025/openssh-5.6p1-36.fc15\nthen log in and leave karma (feedback).\n\n--- Additional comment from Laurent Poirrier on 2012-04-18 16:45:18 EDT ---\n\nTested openssh-5.6p1-36.fc15, oom_score_adj is back to normal.\nFeel free to close the bug. Thanks for the fix!\n\n--- Additional comment from Fedora Update System on 2012-04-21 23:25:40 EDT ---\n\nopenssh-5.6p1-36.fc15 has been pushed to the Fedora 15 stable repository.  If problems still persist, please make note of it in this bug report.",
          "author": "rupatel@redhat.com",
          "creation_time": "20140228T12:51:23",
          "bug_id": "1071290",
          "creator_id": "329853",
          "time": "20140228T12:51:23",
          "id": "6868213",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "rupatel@redhat.com",
          "text": "Additional Description :- \n\nCustomer Comment---- \n\nThe OpenSSH server daemon shipping with RHEL 6 includes a patch to adjust /proc/$sshd_pid/oom_adj and oom_score_adj to prevent the OOM killer from killing sshd.  This is not configurable (according to my reading of the patch) and is the wrong thing.  Because oom_adj scores are inherited, all children processes started by the ssh server will be immune to oom killing.\n\n# Fedora bugzilla has been shared with the customer and following was the reply from him.\n\nYes, this is basically the same issue.  This bug only mentions \noom_score_adj when oom_adj is also affected.  It looks like the fix does \nchange both files, however.\n\n--Rupesh",
          "author": "rupatel@redhat.com",
          "creation_time": "20140228T12:54:02",
          "bug_id": "1071290",
          "creator_id": "329853",
          "time": "20140228T12:54:02",
          "id": "6868221",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "ksrot@redhat.com",
          "text": "qa_ack+ for 6.6",
          "author": "ksrot@redhat.com",
          "creation_time": "20140328T07:46:24",
          "bug_id": "1071290",
          "creator_id": "286283",
          "time": "20140328T07:46:24",
          "id": "6961881",
          "is_private": "True"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.5"
      ],
      "cc": [
        "lpoirrier@gmail.com",
        "mattias.ellert@fysast.uu.se",
        "mgrepl@redhat.com",
        "plautrba@redhat.com",
        "pvrabec@redhat.com",
        "tmraz@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_regression_status": "---",
      "cf_environment": "",
      "status": "ASSIGNED",
      "product": "Red Hat Enterprise Linux 6",
      "cf_verified_branch": "",
      "blocks": [
        "1070830"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "812676",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "target_release": [
        "---"
      ],
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "?",
          "name": "qe_test_coverage",
          "modification_date": "20140328T07:57:08",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20140328T07:57:08",
          "id": "1762710",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.6.0",
          "modification_date": "20140328T07:51:02",
          "type_id": "519",
          "is_active": "1",
          "creation_date": "20140228T12:56:01",
          "id": "1724064",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20140324T00:06:46",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20140228T12:56:57",
          "id": "1724065",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20140320T09:29:20",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20140228T12:57:19",
          "id": "1724067",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20140328T07:46:24",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20140228T12:57:40",
          "id": "1724069",
          "setter": "ksrot@redhat.com"
        }
      ],
      "last_change_time": "20140424T08:45:01",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509318-2TZ3Ue0dYa_rA8vJAoPzbM9nJ-SoAysMulNm-RN8Ifw",
      "cf_partner": [],
      "resolution": "",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "classification": "Red Hat",
      "cf_pm_score": "800",
      "estimated_time": "0.0",
      "depends_on": [
        "1057712",
        "1020417"
      ],
      "cf_story_points": "---",
      "cf_conditional_nak": [],
      "creation_time": "20131024T13:43:00",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "True",
      "keywords": [
        "ManPageChange",
        "ZStream"
      ],
      "summary": "ssh_config manual page lists incorrect default value of KexAlgorithms",
      "external_bugs": [],
      "id": "1023043",
      "cf_release_notes": "",
      "priority": "unspecified",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "pschiffe@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "pschiffe@redhat.com",
          "text": "This is a clone of original report: bug #1020417.\nThe description of problem is contained in the original bug report.",
          "author": "pschiffe@redhat.com",
          "creation_time": "20131024T13:43:44",
          "bug_id": "1023043",
          "creator_id": "315866",
          "time": "20131024T13:43:44",
          "id": "6454131",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pschiffe@redhat.com",
          "text": "The original bug will be fixed using the Man-Pages-Overrides process in the current release.\n\nMore information about this process can be found here:\nhttps://url.corp.redhat.com/mpo-rst/\n\nPlease, fix this bug as soon as this component will be updated.",
          "author": "pschiffe@redhat.com",
          "creation_time": "20131024T13:44:01",
          "bug_id": "1023043",
          "creator_id": "315866",
          "time": "20131024T13:44:01",
          "id": "6454133",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "ksrot@redhat.com",
          "text": "qa_ack+ for 6.5.z",
          "author": "ksrot@redhat.com",
          "creation_time": "20140124T14:57:00",
          "bug_id": "1023043",
          "creator_id": "286283",
          "time": "20140124T14:57:00",
          "id": "6749269",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "plautrba@redhat.com",
          "text": "Even though openssh supports ecdh, it's not enabled by default so I've included MPO patch into openssh package and MPO patch can be dropped.",
          "author": "plautrba@redhat.com",
          "creation_time": "20140311T08:13:41",
          "bug_id": "1023043",
          "creator_id": "270148",
          "time": "20140311T08:13:41",
          "id": "6902028",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "jkurik@redhat.com",
          "text": "This bug has been copied as 6.5 z-stream (EUS) bug #1075032 and now must be\nresolved in the current update release, set blocker flag.\n\nCopy created by jkurik@redhat.com.",
          "author": "jkurik@redhat.com",
          "creation_time": "20140311T11:37:57",
          "bug_id": "1023043",
          "creator_id": "352756",
          "time": "20140311T11:37:57",
          "id": "6902802",
          "is_private": "True"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.5"
      ],
      "cc": [
        "ksrot@redhat.com",
        "mvadkert@redhat.com",
        "ovasik@redhat.com",
        "pkis@redhat.com",
        "pschiffe@redhat.com",
        "pvrabec@redhat.com",
        "tlavigne@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_regression_status": "---",
      "cf_environment": "",
      "status": "MODIFIED",
      "product": "Red Hat Enterprise Linux 6",
      "cf_verified_branch": "",
      "blocks": [
        "1070830",
        "1074599",
        "1075032"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "PMApproved",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "target_release": [
        "---"
      ],
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "?",
          "name": "qe_test_coverage",
          "modification_date": "20140124T14:58:39",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20140124T14:58:39",
          "id": "1679899",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.6.0",
          "modification_date": "20140307T14:42:52",
          "type_id": "519",
          "is_active": "1",
          "creation_date": "20131024T13:43:56",
          "id": "1562183",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "blocker",
          "modification_date": "20140311T11:38:00",
          "type_id": "24",
          "is_active": "1",
          "creation_date": "20140311T11:38:00",
          "id": "1738551",
          "setter": "jkurik@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20140307T14:37:07",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20131024T13:43:56",
          "id": "1562184",
          "setter": "tlavigne@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20140124T14:02:17",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20131024T13:43:56",
          "id": "1562185",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20140124T14:57:00",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20131024T13:43:56",
          "id": "1562186",
          "setter": "ksrot@redhat.com"
        }
      ],
      "last_change_time": "20140424T08:44:55",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509318-K_haCdiaZCwC7YWW2gGjhnOfBfcoaRXxhJyiIxvnEqY",
      "cf_partner": [],
      "resolution": "",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "classification": "Red Hat",
      "cf_pm_score": "800",
      "estimated_time": "0.0",
      "depends_on": [
        "1057712",
        "1020432"
      ],
      "cf_story_points": "---",
      "cf_conditional_nak": [],
      "creation_time": "20131024T13:44:00",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "True",
      "keywords": [
        "ManPageChange",
        "ZStream"
      ],
      "summary": "Fix man page for ssh-keygen because of certificate support",
      "external_bugs": [],
      "id": "1023044",
      "cf_release_notes": "",
      "priority": "unspecified",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "pschiffe@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "pschiffe@redhat.com",
          "text": "This is a clone of original report: bug #1020432.\nThe description of problem is contained in the original bug report.",
          "author": "pschiffe@redhat.com",
          "creation_time": "20131024T13:44:57",
          "bug_id": "1023044",
          "creator_id": "315866",
          "time": "20131024T13:44:57",
          "id": "6454136",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pschiffe@redhat.com",
          "text": "The original bug will be fixed using the Man-Pages-Overrides process in the current release.\n\nMore information about this process can be found here:\nhttps://url.corp.redhat.com/mpo-rst/\n\nPlease, fix this bug as soon as this component will be updated.",
          "author": "pschiffe@redhat.com",
          "creation_time": "20131024T13:45:14",
          "bug_id": "1023044",
          "creator_id": "315866",
          "time": "20131024T13:45:14",
          "id": "6454137",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "ksrot@redhat.com",
          "text": "qa_ack+ for 6.5.z",
          "author": "ksrot@redhat.com",
          "creation_time": "20140124T14:57:45",
          "bug_id": "1023044",
          "creator_id": "286283",
          "time": "20140124T14:57:45",
          "id": "6749274",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "plautrba@redhat.com",
          "text": "The patch is in the openssh package now.",
          "author": "plautrba@redhat.com",
          "creation_time": "20140310T14:48:39",
          "bug_id": "1023044",
          "creator_id": "270148",
          "time": "20140310T14:48:39",
          "id": "6899132",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "jkurik@redhat.com",
          "text": "This bug has been copied as 6.5 z-stream (EUS) bug #1075033 and now must be\nresolved in the current update release, set blocker flag.\n\nCopy created by jkurik@redhat.com.",
          "author": "jkurik@redhat.com",
          "creation_time": "20140311T11:38:03",
          "bug_id": "1023044",
          "creator_id": "352756",
          "time": "20140311T11:38:03",
          "id": "6902804",
          "is_private": "True"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.5"
      ],
      "cc": [
        "ksrot@redhat.com",
        "ovasik@redhat.com",
        "pkis@redhat.com",
        "pschiffe@redhat.com",
        "pvrabec@redhat.com",
        "tlavigne@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_regression_status": "---",
      "cf_environment": "",
      "status": "MODIFIED",
      "product": "Red Hat Enterprise Linux 6",
      "cf_verified_branch": "",
      "blocks": [
        "1070830",
        "1074599",
        "1075033"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "PMApproved",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "target_release": [
        "---"
      ],
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "?",
          "name": "qe_test_coverage",
          "modification_date": "20140124T14:58:36",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20140124T14:58:36",
          "id": "1679898",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.6.0",
          "modification_date": "20140307T14:42:47",
          "type_id": "519",
          "is_active": "1",
          "creation_date": "20131024T13:45:11",
          "id": "1562188",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "blocker",
          "modification_date": "20140311T11:38:08",
          "type_id": "24",
          "is_active": "1",
          "creation_date": "20140311T11:38:08",
          "id": "1738552",
          "setter": "jkurik@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20140307T14:37:33",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20131024T13:45:11",
          "id": "1562189",
          "setter": "tlavigne@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20140124T14:02:56",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20131024T13:45:11",
          "id": "1562190",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20140124T14:57:45",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20131024T13:45:11",
          "id": "1562191",
          "setter": "ksrot@redhat.com"
        }
      ],
      "last_change_time": "20140424T08:44:52",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509318-7EiUenMbCRg45_DYSy9At75E5LWySEfy6UxmluYfJKA",
      "cf_partner": [],
      "resolution": "",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "classification": "Red Hat",
      "cf_pm_score": "1400",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_story_points": "---",
      "cf_conditional_nak": [],
      "creation_time": "20130806T08:35:00",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "True",
      "keywords": [
        "ZStream"
      ],
      "summary": "based on SP800-131A, DSA with key size 1024 will be disallowed for  normal use at the end of this year",
      "external_bugs": [
        {
          "ext_status": "None",
          "ext_bz_bug_id": "2109",
          "bug_id": "993580",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "13",
          "type": {
            "must_send": "False",
            "description": "OpenSSH Project",
            "url": "http://bugzilla.mindrot.org",
            "can_get": "False",
            "id": "13",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "http://bugzilla.mindrot.org/show_bug.cgi?id=%id%"
          },
          "id": "117775"
        },
        {
          "ext_status": "None",
          "ext_bz_bug_id": "335372",
          "bug_id": "993580",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "69",
          "type": {
            "must_send": "False",
            "description": "TCMS Test Case",
            "url": "https://tcms.engineering.redhat.com",
            "can_get": "False",
            "id": "69",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          },
          "id": "139442"
        }
      ],
      "id": "993580",
      "cf_release_notes": "",
      "priority": "urgent",
      "severity": "urgent",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "plautrba@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "plautrba@redhat.com",
          "text": "From: Stephan Mueller <stephan.mueller@atsec.com>\nTo: fips140-external-list@redhat.com\nSubject: [Fips140-external-list] SSHD / SSH updates\nDate: Thu, 01 Aug 2013 03:44:24 +0200\n\nHi SSH hackers,\n\nbased on SP800-131A, DSA with key size 1024 will be disallowed for \nnormal use at the end of this year. OpenSSH, however, still uses them.\n\nIn FIPS mode, DSA certificates generated by ssh-keygen must not be used \nany more as ssh-keygen only generates them with 1024 bits key size.\n\nWe recommend to disable the acceptance of DSA keys in SSHD/SSH (host \nkeys / user keys) in the anticipation that the FIPS certificate will be \nawarded at the beginning of next year in the worst case. I am not sure \nthat guidance will be accepted here, especially for mechanisms that are \nconfigurable by normal users.",
          "author": "plautrba@redhat.com",
          "creation_time": "20130806T08:35:23",
          "bug_id": "993580",
          "creator_id": "270148",
          "time": "20130806T08:35:23",
          "id": "6184534",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this bug report was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20130806T08:41:34",
          "bug_id": "993580",
          "creator_id": "193983",
          "time": "20130806T08:41:34",
          "id": "6184553",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "plautrba@redhat.com",
          "text": "According to [1], the only suitable solution would be to use ECDSA key formats. The support for this format appeared in openssh-5.7 and the initial patch changed 45 files, 1784 insertions(+), 164 deletions(-). \n\n[1] https://bugzilla.mindrot.org/show_bug.cgi?id=2115",
          "author": "plautrba@redhat.com",
          "creation_time": "20130813T14:01:28",
          "bug_id": "993580",
          "creator_id": "270148",
          "time": "20130813T14:01:28",
          "id": "6207837",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "plautrba@redhat.com",
          "text": "It seems to be feasible to disable the acceptance of DSA keys when FIPS mode is enabled.",
          "author": "plautrba@redhat.com",
          "creation_time": "20130813T14:25:19",
          "bug_id": "993580",
          "creator_id": "270148",
          "time": "20130813T14:25:19",
          "id": "6207955",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "ksrot@redhat.com",
          "text": "Can we really disable DSA keys? For NSS we had to recently enable MD5 for accepting certificates again because customers were complaining. Can we be sure that this won't repeat for openssh?",
          "author": "ksrot@redhat.com",
          "creation_time": "20130828T14:39:03",
          "bug_id": "993580",
          "creator_id": "286283",
          "time": "20130828T14:39:03",
          "id": "6253878",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "ksrot@redhat.com",
          "text": "I see, disabling it in FIPS only is probably sane.\n\nqa_ack+ for 6.4",
          "author": "ksrot@redhat.com",
          "creation_time": "20130828T14:50:38",
          "bug_id": "993580",
          "creator_id": "286283",
          "time": "20130828T14:50:38",
          "id": "6253931",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "sforsber@redhat.com",
          "text": "Deferring this to 6.6 and 6.5.z (I cannot set the 6.5.z flag yet, since it does not exist, but I am moving to 6.6)",
          "author": "sforsber@redhat.com",
          "creation_time": "20130926T17:35:59",
          "bug_id": "993580",
          "creator_id": "309119",
          "time": "20130926T17:35:59",
          "id": "6349425",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "sgrubb@redhat.com",
          "text": "What this bug means is that ssh-keygen should not _generate_ 1024 bit DSA keys. 800-131a allows for legacy signature verification. Meaning, its OK for sshd/ssh to use 1024 bit keys. But sshd/ssh must also be able to use 2048 bit keys. Also, the ssh-keygen man page seems to be wrong. FIPS 186-2 was superseded by FIPS 186-3 which allows for 2048 and 3072 bits.",
          "author": "sgrubb@redhat.com",
          "creation_time": "20130929T15:48:30",
          "bug_id": "993580",
          "creator_id": "168751",
          "time": "20130929T15:48:30",
          "id": "6356185",
          "is_private": "False"
        },
        {
          "count": "8",
          "creator": "ksrot@redhat.com",
          "text": "Steve,\nI heard some rumours that this bug should be fixed in 6.5. Could you please confirm that it is targeted on 6.5.z/6.5? Thank you.",
          "author": "ksrot@redhat.com",
          "creation_time": "20131001T15:01:12",
          "bug_id": "993580",
          "creator_id": "286283",
          "time": "20131001T15:01:12",
          "id": "6366079",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "sgrubb@redhat.com",
          "text": "Yes, this bug is required to be fixed on 6.5 or 6.5.z because its needed for FIPS-140 certification.",
          "author": "sgrubb@redhat.com",
          "creation_time": "20131001T15:19:04",
          "bug_id": "993580",
          "creator_id": "168751",
          "time": "20131001T15:19:04",
          "id": "6366194",
          "is_private": "True"
        },
        {
          "count": "10",
          "creator": "pvrabec@redhat.com",
          "text": "I'm confirming this is going into 6.5.z / 6.6.",
          "author": "pvrabec@redhat.com",
          "creation_time": "20131002T12:15:01",
          "bug_id": "993580",
          "creator_id": "167999",
          "time": "20131002T12:15:01",
          "id": "6369935",
          "is_private": "True"
        },
        {
          "count": "11",
          "creator": "sgrubb@redhat.com",
          "text": "This requirement can be fulfilled by use of the KexAlgorithm setttng hat was abackported via bz #907610. This bug may be closed.",
          "author": "sgrubb@redhat.com",
          "creation_time": "20131016T15:30:37",
          "bug_id": "993580",
          "creator_id": "168751",
          "time": "20131016T15:30:37",
          "id": "6426729",
          "is_private": "False"
        },
        {
          "count": "12",
          "creator": "mitr@redhat.com",
          "text": "(In reply to Steve Grubb from comment #11)\n> This requirement can be fulfilled by use of the KexAlgorithm setttng hat was\n> abackported via bz #907610. This bug may be closed.\n\nIf at all possible, please don't ask the user to do extra work.  Booting with fips=1 should be enough to express the intent.",
          "author": "mitr@redhat.com",
          "creation_time": "20131016T16:36:00",
          "bug_id": "993580",
          "creator_id": "164954",
          "time": "20131016T16:36:00",
          "id": "6426992",
          "is_private": "True"
        },
        {
          "count": "13",
          "attachment_id": "830200",
          "author": "plautrba@redhat.com",
          "text": "Created attachment 830200\nadjust the key echange DH groups and ssh-keygen according to SP800-131A\n\nssh-keygen - don't allow to create DSA keys and RSA keys with less than 2048 bits:\n\n# ssh-keygen -t dsa\nDSA keys are not allowed in FIPS mode\n\n# ssh-keygen -t rsa -b 1024\nRSA keys must be at least 2048 bits in FIPS mode\n\n\nKey exchange - don't use DH groups with less than 2048 bits:\n\n# ssh -o 'KexAlgorithms diffie-hellman-group1-sha1' localhost\n''diffie-hellman-group1-sha1'' is not allowed in FIPS mode\ncommand-line line 0: Bad SSH2 KexAlgorithms 'diffie-hellman-group1-sha1'.\n\n# ssh -vvv localhost\n...\ndebug2: kex_parse_kexinit: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1\n...\ndebug1: SSH2_MSG_KEX_DH_GEX_REQUEST(2048<7680<8192) sent\n...",
          "creator": "plautrba@redhat.com",
          "creation_time": "20131128T12:21:36",
          "bug_id": "993580",
          "creator_id": "270148",
          "time": "20131128T12:21:36",
          "id": "6568486",
          "is_private": "False"
        },
        {
          "count": "14",
          "creator": "sforsber@redhat.com",
          "text": "This BZ is needed for FIPS so I am proposing for 6.5.z",
          "author": "sforsber@redhat.com",
          "creation_time": "20131205T12:53:49",
          "bug_id": "993580",
          "creator_id": "309119",
          "time": "20131205T12:53:49",
          "id": "6588440",
          "is_private": "True"
        },
        {
          "count": "15",
          "creator": "jkurik@redhat.com",
          "text": "Removing ZStream keyword as this keyword is reserved for bugs delivered over zstream.",
          "author": "jkurik@redhat.com",
          "creation_time": "20140109T15:00:21",
          "bug_id": "993580",
          "creator_id": "352756",
          "time": "20140109T15:00:21",
          "id": "6690968",
          "is_private": "True"
        },
        {
          "count": "16",
          "creator": "jkurik@redhat.com",
          "text": "Removing PMApproved flag as this issue must be approved for zstream by Product Management.",
          "author": "jkurik@redhat.com",
          "creation_time": "20140114T14:33:40",
          "bug_id": "993580",
          "creator_id": "352756",
          "time": "20140114T14:33:40",
          "id": "6707241",
          "is_private": "True"
        },
        {
          "count": "17",
          "creator": "snagar@redhat.com",
          "text": "Thanks Jan. I have now reviewed this request and have provided approval for z-stream.",
          "author": "snagar@redhat.com",
          "creation_time": "20140114T15:34:39",
          "bug_id": "993580",
          "creator_id": "271112",
          "time": "20140114T15:34:39",
          "id": "6707520",
          "is_private": "True"
        },
        {
          "count": "18",
          "creator": "jkurik@redhat.com",
          "text": "This bug has been copied as 6.5 z-stream (EUS) bug #1053043 and now must be\nresolved in the current update release, set blocker flag.\n\nCopy created by jkurik@redhat.com.",
          "author": "jkurik@redhat.com",
          "creation_time": "20140114T15:46:02",
          "bug_id": "993580",
          "creator_id": "352756",
          "time": "20140114T15:46:02",
          "id": "6707603",
          "is_private": "True"
        },
        {
          "count": "19",
          "creator": "plautrba@redhat.com",
          "text": "QE: https://bugzilla.redhat.com/show_bug.cgi?id=993580#c13 is more or less how to test.",
          "author": "plautrba@redhat.com",
          "creation_time": "20140120T14:07:57",
          "bug_id": "993580",
          "creator_id": "270148",
          "time": "20140120T14:07:57",
          "id": "6727614",
          "is_private": "True"
        },
        {
          "count": "20",
          "creator": "plautrba@redhat.com",
          "text": "*** Bug 1061353 has been marked as a duplicate of this bug. ***",
          "author": "plautrba@redhat.com",
          "creation_time": "20140205T08:36:11",
          "bug_id": "993580",
          "creator_id": "270148",
          "time": "20140205T08:36:11",
          "id": "6781975",
          "is_private": "False"
        },
        {
          "count": "21",
          "creator": "plautrba@redhat.com",
          "text": "With the latest respin, the ssh-keygen message will change:\n\n# ssh-keygen -t rsa -b 1024\nGenerating public/private rsa key pair.\nthe key length might be unsupported by FIPS mode approved key generation method\nrsa_generate_private_key: key generation failed.\n\n# ssh-keygen -t rsa -b 4096\nGenerating public/private rsa key pair.\nthe key length might be unsupported by FIPS mode approved key generation method\nrsa_generate_private_key: key generation failed.\n\nIt's due to more restrictions directly in openssl library.",
          "author": "plautrba@redhat.com",
          "creation_time": "20140310T14:51:30",
          "bug_id": "993580",
          "creator_id": "270148",
          "time": "20140310T14:51:30",
          "id": "6899188",
          "is_private": "False"
        },
        {
          "count": "22",
          "creator": "hkario@redhat.com",
          "text": "that's ok, at least the most likely cause is explicitly stated",
          "author": "hkario@redhat.com",
          "creation_time": "20140310T15:11:40",
          "bug_id": "993580",
          "creator_id": "349956",
          "time": "20140310T15:11:40",
          "id": "6899310",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.5"
      ],
      "cc": [
        "arubin@redhat.com",
        "hkario@redhat.com",
        "jkurik@redhat.com",
        "ksrot@redhat.com",
        "mitr@redhat.com",
        "pkis@redhat.com",
        "pvrabec@redhat.com",
        "sforsber@redhat.com",
        "sgrubb@redhat.com",
        "tlavigne@redhat.com",
        "tmraz@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_regression_status": "---",
      "cf_environment": "",
      "status": "MODIFIED",
      "product": "Red Hat Enterprise Linux 6",
      "cf_verified_branch": "",
      "blocks": [
        "1013077",
        "1053043"
      ],
      "qa_contact": "pkis@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "devel",
        "qa",
        "redhat"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "PMApproved",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "target_release": [
        "6.5"
      ],
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20140122T14:38:03",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20130828T15:11:31",
          "id": "1488681",
          "setter": "pkis@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.6.0",
          "modification_date": "20130926T17:42:55",
          "type_id": "519",
          "is_active": "1",
          "creation_date": "20130926T17:35:59",
          "id": "1523977",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "blocker",
          "modification_date": "20130926T17:42:55",
          "type_id": "24",
          "is_active": "1",
          "creation_date": "20130926T17:35:59",
          "id": "1523978",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20130806T09:00:51",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20130806T08:58:00",
          "id": "1463325",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20130820T14:07:55",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20130806T08:58:30",
          "id": "1463329",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20130828T14:50:38",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20130806T08:59:02",
          "id": "1463334",
          "setter": "ksrot@redhat.com"
        }
      ],
      "last_change_time": "20140611T08:57:25",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509319-pCYdir4NU8CVx3mC3OA_jIoW6fK8nQETmfVhxhoqi7Q",
      "cf_partner": [],
      "resolution": "",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "classification": "Red Hat",
      "cf_pm_score": "1400",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_story_points": "---",
      "cf_conditional_nak": [],
      "creation_time": "20131018T10:03:00",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "True",
      "keywords": [
        "ZStream"
      ],
      "summary": "sshd should be able to inform admin whether a system is correctly configured for FIPS",
      "external_bugs": [
        {
          "ext_status": "None",
          "ext_bz_bug_id": "318353",
          "bug_id": "1020803",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "69",
          "type": {
            "must_send": "False",
            "description": "TCMS Test Case",
            "url": "https://tcms.engineering.redhat.com",
            "can_get": "False",
            "id": "69",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          },
          "id": "127354"
        }
      ],
      "id": "1020803",
      "cf_release_notes": "",
      "priority": "urgent",
      "severity": "urgent",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "mvadkert@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "mvadkert@redhat.com",
          "text": "Description of problem:\nAccording to the FIPS-140 POST expectations email openssh should provide information about misconfigured FIPS (i.e. dracut fips installed, fips=0 on kernel cmdline).\n\nCurrently there is no information about the failure during FIPS test and the daemon silently continues.\n\n[snip]\nIf the POST fails but fips=1 is not detected, the app or library should stay \nrunning. (FIPS status messaging is cover in later paragraphs.) If the \napplication/library does not detect that its the ''FIPS product'', it does not \nand should not follow FIPS rules no matter what the intention was. This will \nprevent having an unusable system when there is a misconfiguration.\n\nThe admin should have a way of knowing that the system is properly configured. \nFor applications, they can do one a several things. They can write a message \nto syslog stating that a misconfiguration was detected and drop out of FIPS \nmode. This is perfectly legal and all we have to do is add it to the admin \nguidance section of our Security Policy. Another option for daemons is to add \nFIPS status if the daemon supports dumping its internal configuration. Some \ndaemons like xinetd support catching SIGUSR1 to tell it to write its state to \n/var/run. Doing something like this would be helpful to any admin that needs \ncheck the state.\n[snip]\n\nVersion-Release number of selected component (if applicable):\nopenssh-5.3p1-94.el6\n\nHow reproducible:\n100%\n\nSteps to Reproduce:\n1. Install dracut-fips\n2. Restart sshd\n3. Check syslog\n\nActual results:\nNo error\n\nExpected results:\nError in syslog about the failed enablement of fips mode\n\nAdditional info:",
          "author": "mvadkert@redhat.com",
          "creation_time": "20131018T10:03:26",
          "bug_id": "1020803",
          "creator_id": "271572",
          "time": "20131018T10:03:26",
          "id": "6434148",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "ebenes@redhat.com",
          "text": "One addition to the ''Expected results:'' section to be considered:\nAnother option for daemons is to add FIPS status if the daemon supports dumping its internal configuration. \n\nAddding to RHEL 6.5 FIPS tracker and initially proposing for fixing in 6.5.0 if possible together with a qa_ack+.",
          "author": "ebenes@redhat.com",
          "creation_time": "20131018T10:22:09",
          "bug_id": "1020803",
          "creator_id": "203333",
          "time": "20131018T10:22:09",
          "id": "6434207",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "sforsber@redhat.com",
          "text": "Since this is not a blocker for 6.5, I am deferring to 6.6.",
          "author": "sforsber@redhat.com",
          "creation_time": "20131018T13:35:30",
          "bug_id": "1020803",
          "creator_id": "309119",
          "time": "20131018T13:35:30",
          "id": "6434922",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "jkurik@redhat.com",
          "text": "Removing ZStream keyword as this keyword is reserved for bugs delivered over zstream.",
          "author": "jkurik@redhat.com",
          "creation_time": "20140109T15:03:12",
          "bug_id": "1020803",
          "creator_id": "352756",
          "time": "20140109T15:03:12",
          "id": "6690979",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "jkurik@redhat.com",
          "text": "Removing PMApproved flag as this issue must be approved for zstream by Product Management.",
          "author": "jkurik@redhat.com",
          "creation_time": "20140114T14:33:43",
          "bug_id": "1020803",
          "creator_id": "352756",
          "time": "20140114T14:33:43",
          "id": "6707242",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "snagar@redhat.com",
          "text": "Thanks Jan. I have now reviewed this request and have provided approval for z-stream.",
          "author": "snagar@redhat.com",
          "creation_time": "20140114T15:35:46",
          "bug_id": "1020803",
          "creator_id": "271112",
          "time": "20140114T15:35:46",
          "id": "6707528",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "jkurik@redhat.com",
          "text": "This bug has been copied as 6.5 z-stream (EUS) bug #1053044 and now must be\nresolved in the current update release, set blocker flag.\n\nCopy created by jkurik@redhat.com.",
          "author": "jkurik@redhat.com",
          "creation_time": "20140114T15:46:26",
          "bug_id": "1020803",
          "creator_id": "352756",
          "time": "20140114T15:46:26",
          "id": "6707607",
          "is_private": "True"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.5"
      ],
      "cc": [
        "arubin@redhat.com",
        "ebenes@redhat.com",
        "jkurik@redhat.com",
        "omoris@redhat.com",
        "pkis@redhat.com",
        "sforsber@redhat.com",
        "sgrubb@redhat.com",
        "tmraz@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_regression_status": "---",
      "cf_environment": "",
      "status": "MODIFIED",
      "product": "Red Hat Enterprise Linux 6",
      "cf_verified_branch": "",
      "blocks": [
        "1013077",
        "1053044"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "groups": [
        "redhat"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "PMApproved",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "target_release": [
        "---"
      ],
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20131018T10:03:26",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20131018T10:03:26",
          "id": "1554363",
          "setter": "mvadkert@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.6.0",
          "modification_date": "20140103T14:31:57",
          "type_id": "519",
          "is_active": "1",
          "creation_date": "20131018T13:35:30",
          "id": "1554672",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "blocker",
          "modification_date": "20140114T15:46:29",
          "type_id": "24",
          "is_active": "1",
          "creation_date": "20140114T15:46:29",
          "id": "1663286",
          "setter": "jkurik@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20140103T14:23:37",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20131018T10:03:26",
          "id": "1554365",
          "setter": "arubin@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20131129T10:25:35",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20131018T10:03:26",
          "id": "1554366",
          "setter": "tmraz@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20131018T10:22:09",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20131018T10:03:26",
          "id": "1554368",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20140122T14:34:54",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509319--szT1cORWK_9vIU3yUxKtLo-RKUKWR-R52fgHXVZaq4",
      "cf_partner": [],
      "resolution": "",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "classification": "Red Hat",
      "cf_pm_score": "4200",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_story_points": "---",
      "cf_conditional_nak": [],
      "creation_time": "20131108T08:53:00",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "True",
      "keywords": [
        "FutureFeature",
        "ZStream"
      ],
      "summary": "Backport ECDSA/ECDH support to openssh",
      "external_bugs": [
        {
          "ext_status": "Waiting on Red Hat",
          "ext_bz_bug_id": "01100471",
          "bug_id": "1028335",
          "ext_description": "ECDSA support in RHEL 6.5",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "159040"
        },
        {
          "ext_status": "None",
          "ext_bz_bug_id": "334973",
          "bug_id": "1028335",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "69",
          "type": {
            "must_send": "False",
            "description": "TCMS Test Case",
            "url": "https://tcms.engineering.redhat.com",
            "can_get": "False",
            "id": "69",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          },
          "id": "139387"
        },
        {
          "ext_status": "Waiting on Red Hat",
          "ext_bz_bug_id": "01000660",
          "bug_id": "1028335",
          "ext_description": "ecdsa support in ssh-keygen",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "135622"
        },
        {
          "ext_status": "Waiting on Red Hat",
          "ext_bz_bug_id": "01002194",
          "bug_id": "1028335",
          "ext_description": "[BZ]Receiving error message related to OpenSSH",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "135880"
        },
        {
          "ext_status": "Waiting on Red Hat",
          "ext_bz_bug_id": "00932603",
          "bug_id": "1028335",
          "ext_description": "ECDSA support",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "161496"
        }
      ],
      "id": "1028335",
      "cf_release_notes": "",
      "priority": "urgent",
      "severity": "urgent",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "tmraz@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "tmraz@redhat.com",
          "text": "As the security strength of RSA, DSA and regular DH is getting limiting in the SSH protocol we will need support of ECDSA and ECDH backported to OpenSSH in RHEL-6.\n\nThis needs to be done before the FIPS validation is done because it affects sources in the crypto boundary.\n\nThat means that it will have to be done in a 6.5.z errata.",
          "author": "tmraz@redhat.com",
          "creation_time": "20131108T08:53:59",
          "bug_id": "1028335",
          "creator_id": "167996",
          "time": "20131108T08:53:59",
          "id": "6501160",
          "is_private": "False"
        },
        {
          "count": "1",
          "attachment_id": "832758",
          "author": "plautrba@redhat.com",
          "text": "Created attachment 832758\nbackport ecdsa and ecdh support to openssh-5.3p1\n\nFor the compatibility reasons, ecdsa and ecda won't be enabled by default but an user and an admin will have to allow them via configuration, e.g.:\n\nglobal ssh client configuration:\n\n# cat >> /etc/ssh/ssh_config <<EOF\n        HostKeyAlgorithms ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ssh-rsa,ssh-dss\n        KexAlgorithms ecdh-sha2-nistp384,ecdh-sha2-nistp256,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1\nEOF\n\n\nsshd server configuration:\n\n# ssh-keygen -t ecdsa -b 384 -f /etc/ssh/ssh_host_ecdsa_key\n \n# cat >> /etc/ssh/sshd_config <<EOF\nHostKey /etc/ssh/ssh_host_ecdsa_key\nKexAlgorithms ecdh-sha2-nistp384,ecdh-sha2-nistp256,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1\nEOF\n \n# service sshd restart",
          "creator": "plautrba@redhat.com",
          "creation_time": "20131204T16:55:47",
          "bug_id": "1028335",
          "creator_id": "270148",
          "time": "20131204T16:55:47",
          "id": "6585413",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "plautrba@redhat.com",
          "text": "http://brewweb.devel.redhat.com/brew/taskinfo?taskID=6677252  temporary scratch build",
          "author": "plautrba@redhat.com",
          "creation_time": "20131204T17:01:53",
          "bug_id": "1028335",
          "creator_id": "270148",
          "time": "20131204T17:01:53",
          "id": "6585444",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "plautrba@redhat.com",
          "text": "What to test:\n\n- check that ecdsa keys can be generated\n\n- check that sshd can use ecdsa keys as HostKey\n - sshd loads an ecdsa key and uses it\n- check that sshd can use ecdh-sha2-nistp384 and ecdh-sha2-nistp256 as a key exchange algorithm\n\n- check that ssh-agent can load ecdsa keys\n- check that the ssh client can use ecsda keys for public key authentication\n- check that the ssh client can use ecdh-sha2-nistp384 and ecdh-sha2-nistp256 as a key exchange algorithm",
          "author": "plautrba@redhat.com",
          "creation_time": "20131205T10:28:48",
          "bug_id": "1028335",
          "creator_id": "270148",
          "time": "20131205T10:28:48",
          "id": "6587930",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "ccheney@redhat.com",
          "text": "In GSS we've had two customers request ecdsa support in just the past week. I have attached their cases to this BZ.",
          "author": "ccheney@redhat.com",
          "creation_time": "20131219T22:25:14",
          "bug_id": "1028335",
          "creator_id": "346193",
          "time": "20131219T22:25:14",
          "id": "6639319",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "plautrba@redhat.com",
          "text": "Note: NID_secp521r1 is not supported in openssl yet so ecdsa-sha2-nistp521 and ecdsa-sha2-nistp521-cert-v01@openssh.com don't work.",
          "author": "plautrba@redhat.com",
          "creation_time": "20140106T14:31:06",
          "bug_id": "1028335",
          "creator_id": "270148",
          "time": "20140106T14:31:06",
          "id": "6676697",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "jkurik@redhat.com",
          "text": "Removing ZStream keyword as this keyword is reserved for bugs delivered over zstream.",
          "author": "jkurik@redhat.com",
          "creation_time": "20140109T14:59:36",
          "bug_id": "1028335",
          "creator_id": "352756",
          "time": "20140109T14:59:36",
          "id": "6690964",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "jkurik@redhat.com",
          "text": "Removing PMApproved flag as this issue must be approved for zstream by Product Management.",
          "author": "jkurik@redhat.com",
          "creation_time": "20140114T14:30:35",
          "bug_id": "1028335",
          "creator_id": "352756",
          "time": "20140114T14:30:35",
          "id": "6707233",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "snagar@redhat.com",
          "text": "Thanks Jan. I have now reviewed this request and have provided approval for z-stream.",
          "author": "snagar@redhat.com",
          "creation_time": "20140114T15:36:57",
          "bug_id": "1028335",
          "creator_id": "271112",
          "time": "20140114T15:36:57",
          "id": "6707535",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "jkurik@redhat.com",
          "text": "This bug has been copied as 6.5 z-stream (EUS) bug #1053046 and now must be\nresolved in the current update release, set blocker flag.\n\nCopy created by jkurik@redhat.com.",
          "author": "jkurik@redhat.com",
          "creation_time": "20140114T15:46:46",
          "bug_id": "1028335",
          "creator_id": "352756",
          "time": "20140114T15:46:46",
          "id": "6707612",
          "is_private": "True"
        },
        {
          "count": "10",
          "creator": "jkurik@redhat.com",
          "text": "Removing the request for zstream: rhel-6.5.z?\nThere is already a clone for this stream. For more info please see Comment #9.",
          "author": "jkurik@redhat.com",
          "creation_time": "20140214T20:48:54",
          "bug_id": "1028335",
          "creator_id": "352756",
          "time": "20140214T20:48:54",
          "id": "6821932",
          "is_private": "True"
        },
        {
          "count": "11",
          "creator": "plautrba@redhat.com",
          "text": "(In reply to Petr Lautrbach from comment #5)\n> Note: NID_secp521r1 is not supported in openssl yet so ecdsa-sha2-nistp521\n> and ecdsa-sha2-nistp521-cert-v01@openssh.com don't work.\n\nThis will be no more true with the lastest respin. openssl will support keys and key exchange based on ec nistp521 curve",
          "author": "plautrba@redhat.com",
          "creation_time": "20140310T14:54:08",
          "bug_id": "1028335",
          "creator_id": "270148",
          "time": "20140310T14:54:08",
          "id": "6899208",
          "is_private": "False"
        },
        {
          "count": "12",
          "creator": "plautrba@redhat.com",
          "text": "*** Bug 1045404 has been marked as a duplicate of this bug. ***",
          "author": "plautrba@redhat.com",
          "creation_time": "20140319T19:03:02",
          "bug_id": "1028335",
          "creator_id": "270148",
          "time": "20140319T19:03:02",
          "id": "6932101",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.5"
      ],
      "cc": [
        "arubin@redhat.com",
        "ccheney@redhat.com",
        "ebenes@redhat.com",
        "h.reindl@thelounge.net",
        "jkurik@redhat.com",
        "omoris@redhat.com",
        "pkis@redhat.com",
        "sauchter@redhat.com",
        "sgrubb@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_regression_status": "---",
      "cf_environment": "",
      "status": "MODIFIED",
      "product": "Red Hat Enterprise Linux 6",
      "cf_verified_branch": "",
      "blocks": [
        "1013077",
        "1053046"
      ],
      "qa_contact": "pkis@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Enhancement",
      "groups": [
        "redhat"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "PMApproved",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "target_release": [
        "---"
      ],
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20140122T10:17:59",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20131205T10:50:43",
          "id": "1613023",
          "setter": "pkis@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.6.0",
          "modification_date": "20140103T14:31:27",
          "type_id": "519",
          "is_active": "1",
          "creation_date": "20131108T08:53:59",
          "id": "1580154",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "blocker",
          "modification_date": "20140114T15:46:52",
          "type_id": "24",
          "is_active": "1",
          "creation_date": "20140114T15:46:52",
          "id": "1663287",
          "setter": "jkurik@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20140103T14:21:47",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20131108T09:17:02",
          "id": "1580189",
          "setter": "arubin@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20131129T10:26:03",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20131108T09:17:31",
          "id": "1580192",
          "setter": "tmraz@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20131205T10:25:28",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20131108T09:18:04",
          "id": "1580196",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20140611T08:56:54",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509319-AbS1w_3x8bAzv12hq8h08-QIKXyDaFr9VYIDlo99Xvc",
      "cf_partner": [],
      "resolution": "",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "classification": "Red Hat",
      "cf_pm_score": "800",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_story_points": "---",
      "cf_conditional_nak": [],
      "creation_time": "20140526T10:44:00",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "True",
      "keywords": [
        "Security",
        "SecurityTracking",
        "ZStream"
      ],
      "summary": "CVE-2014-2653 CVE-2014-2532 openssh: two security flaws [rhel-6.6]",
      "external_bugs": [],
      "id": "1101172",
      "cf_release_notes": "",
      "priority": "medium",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "huzaifas@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "huzaifas@redhat.com",
          "text": "\nrhel-6.6 tracking bug for openssh: see blocks bug list for full details of the security issue(s).\n\nThis bug is never intended to be made public, please put any public notes\nin the blocked bugs.\n\nFor the Enterprise Linux security issues handling process overview see:\nhttps://home.corp.redhat.com/wiki/eus-z-stream-and-security-bugs\n\n[bug automatically created by: add-tracking-bugs]",
          "author": "huzaifas@redhat.com",
          "creation_time": "20140526T10:44:08",
          "bug_id": "1101172",
          "creator_id": "204345",
          "time": "20140526T10:44:08",
          "id": "7118164",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.6"
      ],
      "cc": [
        "jkurik@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_regression_status": "---",
      "cf_environment": "",
      "status": "MODIFIED",
      "product": "Red Hat Enterprise Linux 6",
      "cf_verified_branch": "",
      "blocks": [
        "1077843",
        "1081338"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Release Note",
      "groups": [
        "devel",
        "qe_staff"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "target_release": [
        "---"
      ],
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "-",
          "name": "requires_doc_text",
          "modification_date": "20140526T10:44:08",
          "type_id": "415",
          "is_active": "1",
          "creation_date": "20140526T10:44:08",
          "id": "1828517",
          "setter": "bugzilla@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.6.0",
          "modification_date": "20140526T10:44:08",
          "type_id": "519",
          "is_active": "1",
          "creation_date": "20140526T10:44:08",
          "id": "1828518",
          "setter": "huzaifas@redhat.com"
        },
        {
          "status": "+",
          "name": "blocker",
          "modification_date": "20140526T10:44:08",
          "type_id": "24",
          "is_active": "1",
          "creation_date": "20140526T10:44:08",
          "id": "1828519",
          "setter": "huzaifas@redhat.com"
        }
      ],
      "last_change_time": "20140527T11:04:58",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509319-oDV0NVW7icWweC86OjrmdZAnjQj34-5ymPwXmzyxC3s",
      "cf_partner": [],
      "resolution": "",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "classification": "Red Hat",
      "cf_pm_score": "300",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_story_points": "---",
      "cf_conditional_nak": [],
      "creation_time": "20140526T10:43:00",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "True",
      "keywords": [
        "Security",
        "SecurityTracking"
      ],
      "summary": "CVE-2014-2653 CVE-2014-2532 openssh: two security flaws [rhel-6.5.z]",
      "external_bugs": [],
      "id": "1101171",
      "cf_release_notes": "",
      "priority": "medium",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-95.el6_5.4",
      "creator": "huzaifas@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "huzaifas@redhat.com",
          "text": "\nrhel-6.5.z tracking bug for openssh: see blocks bug list for full details of the security issue(s).\n\nThis bug is never intended to be made public, please put any public notes\nin the blocked bugs.\n\nFor the Enterprise Linux security issues handling process overview see:\nhttps://home.corp.redhat.com/wiki/eus-z-stream-and-security-bugs\n\n[bug automatically created by: add-tracking-bugs]",
          "author": "huzaifas@redhat.com",
          "creation_time": "20140526T10:43:58",
          "bug_id": "1101171",
          "creator_id": "204345",
          "time": "20140526T10:43:58",
          "id": "7118163",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHSA-2014:16784-13\nhttps://errata.devel.redhat.com/advisory/16784",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20140527T11:39:29",
          "bug_id": "1101171",
          "creator_id": "241731",
          "time": "20140527T11:39:29",
          "id": "7120721",
          "is_private": "True"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.5"
      ],
      "cc": [
        "jkurik@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_regression_status": "---",
      "cf_environment": "",
      "status": "ON_QA",
      "product": "Red Hat Enterprise Linux 6",
      "cf_verified_branch": "",
      "blocks": [
        "1077843",
        "1081338"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Release Note",
      "groups": [
        "devel",
        "qe_staff"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "target_release": [
        "---"
      ],
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "-",
          "name": "requires_doc_text",
          "modification_date": "20140526T10:43:58",
          "type_id": "415",
          "is_active": "1",
          "creation_date": "20140526T10:43:58",
          "id": "1828515",
          "setter": "bugzilla@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.5.z",
          "modification_date": "20140526T10:43:58",
          "type_id": "618",
          "is_active": "1",
          "creation_date": "20140526T10:43:58",
          "id": "1828516",
          "setter": "huzaifas@redhat.com"
        }
      ],
      "last_change_time": "20140527T11:39:29",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509319-QBy4Uii8jfN59Qz-tPfRa9lTbRv_IwMT-GG41lJluY4",
      "cf_partner": [],
      "resolution": "",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20110414T10:33:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "696569",
      "cf_release_notes": "",
      "priority": "unspecified",
      "severity": "low",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "nick.jones@network-box.com",
      "comments": [
        {
          "count": "0",
          "attachment_id": "492025",
          "author": "nick.jones@network-box.com",
          "text": "Created attachment 492025\nAllow linux to use its own getopt\n\nDescription of problem:\nIf one wishes to use getopt_long in the ssh program, then one is confronted with issues because openssh uses an in-tree implementation of getopt based on the BSD implementation.\n\n\nVersion-Release number of selected component (if applicable):\nopenssh-5.3p1-20.el6_0.3.x86_64\n\n\nHow reproducible:\nAlways after making a trivial (at face value) conversion to getopt_long\n\nSteps to Reproduce:\nSetting up the appropriate variables including struct option list of a single { 0, 0, 0, 0 } element, and the required index variables, then calling getopt_long instead of getopt.  None of the parameters can receive the optarg string\n\n\nActual results:\nEven existing command line params that expect arguments are presented with an optarg value that is always NULL, the same goes for long options\n\n\nExpected results:\noptarg is not NULL, existing params receive their arguments as with getopt\n\n\nAdditional info:\nThis patch was motivated by an internal change I was making to add a custom command line flag to the ssh client.  Seeing as many single character flags are used already, I decided to use a long option to make it distinct and lessen chances of conflicts with common releases of openssh.\n\nDuring openssh configure, the host system is queried for the existence of an exported variable 'optreset', which is present in the BSD c library, but not in glibc.  If not found, as it is in linux, openssh then goes an aliases the getopt function and it's associated exported variables with those found in an in-tree BSD compat implementation of getopt using C macros, this alternative implementation of getopt provides optreset.\n\nThe alternative BSD getopt provides... getopt, but it doesn't provide getopt_long, so when one invokes that, they are getting the glibc version, which treats the exported variables differently to BSD, and hilarity ensues.\n\nMy patch addressing the issue doesn't try to use getopt_long, it just allows linux to use the glibc getopt, and the glibc (and other non-BSD C libraries) method of resetting the getopt parse.  It sets the stage for one to use getopt_long if they wish.\n\nI hope somebody can find this useful.",
          "creator": "nick.jones@network-box.com",
          "creation_time": "20110414T10:33:30",
          "bug_id": "696569",
          "creator_id": "167585",
          "time": "20110414T10:33:30",
          "id": "3674358",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20110414T10:42:40",
          "bug_id": "696569",
          "creator_id": "193983",
          "time": "20110414T10:42:40",
          "id": "3674385",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "jchadima@redhat.com",
          "text": "Did you consult the patch with the upstream? What is the upstream meaning? Have any reference to the mindrot bugzilla or openssh-devel mail list with the discussion?",
          "author": "jchadima@redhat.com",
          "creation_time": "20110414T16:35:18",
          "bug_id": "696569",
          "creator_id": "276623",
          "time": "20110414T16:35:18",
          "id": "3675364",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "nick.jones@network-box.com",
          "text": "You are right, I should consult upstream about this.\n\nIn addition, I think a better alternative would be to add getopt_long implementation to the in-tree BSD solution, rather than create more linkages with the external environment.  Openssh is a ported project after all, and not initially developed for Linux.",
          "author": "nick.jones@network-box.com",
          "creation_time": "20110420T04:35:40",
          "bug_id": "696569",
          "creator_id": "167585",
          "time": "20110420T04:35:40",
          "id": "3686016",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "jchadima@redhat.com",
          "text": "can I close this BZ in hope that the patch I'll get via upstream?",
          "author": "jchadima@redhat.com",
          "creation_time": "20110420T12:24:27",
          "bug_id": "696569",
          "creator_id": "276623",
          "time": "20110420T12:24:27",
          "id": "3686896",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "nick.jones@network-box.com",
          "text": "Yes, please close.  Upstream is a better place to propose this.",
          "author": "nick.jones@network-box.com",
          "creation_time": "20110421T03:52:50",
          "bug_id": "696569",
          "creator_id": "167585",
          "time": "20110421T03:52:50",
          "id": "3689048",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "x86_64",
      "version": [
        "6.0"
      ],
      "cc": [
        "jrieden@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "Don't use in-tree BSD getopt implementation",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.2.0",
          "modification_date": "20110414T20:14:44",
          "type_id": "249",
          "is_active": "0",
          "creation_date": "20110414T20:14:44",
          "id": "802114",
          "setter": "jrieden@redhat.com"
        },
        {
          "status": "?",
          "name": "blocker",
          "modification_date": "20110414T17:54:08",
          "type_id": "24",
          "is_active": "1",
          "creation_date": "20110414T17:54:08",
          "id": "801945",
          "setter": "syeghiay@redhat.com"
        },
        {
          "status": "?",
          "name": "pm_ack",
          "modification_date": "20110414T20:14:44",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20110414T10:56:17",
          "id": "801540",
          "setter": "jrieden@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20110414T11:15:31",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20110414T11:15:31",
          "id": "801555",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20110421T11:28:08",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509319-8THlDeah8_m_gYV3r-dkicDEqz8FyEh326QrqJF0sM8",
      "cf_partner": [],
      "cf_last_closed": "20110421T11:28:08",
      "resolution": "UPSTREAM",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "classification": "Red Hat",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_story_points": "---",
      "cf_conditional_nak": [],
      "creation_time": "20110622T17:32:00",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "summary": "openssh-server-5.3p1-60.el6.x86_64: SSH_KEYS are not generated properly.",
      "external_bugs": [],
      "id": "715375",
      "cf_release_notes": "",
      "priority": "unspecified",
      "cf_internal_whiteboard": "",
      "severity": "urgent",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "prarit@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "prarit@redhat.com",
          "text": "Description of problem: On recent RHEL6 SSH_KEYS are not generated properly.\n\n\nVersion-Release number of selected component (if applicable): openssh-server-5.3p1-60.el6.x86_64\n\n\nHow reproducible: 100%\n\n\nSteps to Reproduce:\n1. Install a system in RHTS with a recent RHEL6 tree\n2.\n3.\n  \nActual results:\n\nEnabling Bluetooth devices:\nGenerating SSH2 RSA host key: chgrp: invalid group: `ssh_keys'\n[  OK  ]\nGenerating SSH1 RSA host key: chgrp: invalid group: `ssh_keys'\n[  OK  ]\nGenerating SSH2 DSA host key: chgrp: invalid group: `ssh_keys'\n[  OK  ]\nStarting sshd: [  OK  ]\n\nExpected results:\n\nSSH_KEYS should be generated.\n\nAdditional info: Now seen on two separate systems in RHTS.",
          "author": "prarit@redhat.com",
          "creation_time": "20110622T17:32:40",
          "bug_id": "715375",
          "creator_id": "169588",
          "time": "20110622T17:32:40",
          "id": "3831329",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20110622T17:42:23",
          "bug_id": "715375",
          "creator_id": "193983",
          "time": "20110622T17:42:23",
          "id": "3831350",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "jchadima@redhat.com",
          "text": "\n\n*** This bug has been marked as a duplicate of bug 715326 ***",
          "author": "jchadima@redhat.com",
          "creation_time": "20110623T05:58:11",
          "bug_id": "715375",
          "creator_id": "276623",
          "time": "20110623T05:58:11",
          "id": "3832338",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "x86_64",
      "version": [
        "6.2"
      ],
      "cc": [],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_regression_status": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "product": "Red Hat Enterprise Linux 6",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "target_release": [
        "---"
      ],
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "sub_components": {},
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "op_sys": "Unspecified",
      "alias": [],
      "dupe_of": "715326",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.2.0",
          "modification_date": "20110622T17:42:22",
          "type_id": "249",
          "is_active": "0",
          "creation_date": "20110622T17:42:22",
          "id": "849599",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20110622T17:58:09",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20110622T17:56:23",
          "id": "849606",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20110622T18:15:40",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20110622T18:15:40",
          "id": "849624",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20110623T05:58:11",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509319-wSXGsZaJQakKzwFgzqZvSadtNyXsRv9Z6sude8nPMZM",
      "cf_partner": [],
      "cf_last_closed": "20110623T05:58:11",
      "resolution": "DUPLICATE",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20110628T12:46:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "717237",
      "cf_release_notes": "",
      "priority": "unspecified",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "gabor.szathmari@erstebank.hu",
      "comments": [
        {
          "count": "0",
          "creator": "gabor.szathmari@erstebank.hu",
          "text": "Double negation is not working as advertised in the Match stanza of sshd_config\n\nDisable login for non-admins from non-corporate (Example Ltd) network\n# cat /etc/ssh/sshd_config\nMatch Group !admin Host !*.example.com\n    MaxSessions 0\n\neviluser is not member of admins:\n# id eviluser | grep admin\nuid=1510(eviluser) gid=1500(evil) groups=2000(othergroup)\n\t\n# sshd -T -C user=eviluser,host=server.evilsite.com,addr=10.0.0.1 | grep -i maxsess\nmaxsessions 10\n\n\nDescription of problem:\nDouble negation is not working as advertised in the Match stanza of sshd_config\n\nDisable non-admin login from non-corporate (Example Ltd) network\n# cat /etc/ssh/sshd_config\nMatch Group !admin Host !*.example.com\n    MaxSessions 0\n\neviluser is not member of admins:\n# id eviluser | grep admin\nuid=1510(eviluser) gid=1500(evil) groups=2000(othergroup)\n\t\n# sshd -T -C user=eviluser,host=server.evilsite.com,addr=10.0.0.1 | grep -i maxsess\nmaxsessions 10\n\n\nVersion-Release number of selected component (if applicable):\nopenssh-5.3p1-52.el6_1.2.i686\nopenssh-clients-5.3p1-52.el6_1.2.i686\nopenssh-server-5.3p1-52.el6_1.2.i686\n\nHow reproducible:\nIf negation is not used, it just works:\n\nMatch Group test Host *.example.com\n    MaxSessions 0\n\n# usermod -a -G test eviluser\n# id eviluser | grep admin\nuid=1510(eviluser) gid=1500(evil) groups=2000(othergroup),2018(admin)\n\n# sshd -T -C user=eviluser,host=server.example.com,addr=10.0.0.1 | grep -i maxsess\nmaxsessions 0\n\nSteps to Reproduce:\n1. Configure sshd_config\n2. Test configuration file like above\n  \nActual results:\nRules are not working as expected.\n\nExpected results:\nExcerpt from man sshd_config:\n''If all of the criteria on the Match line are satisfied, the keywords on the following lines\noverride those set in the global section of the config file''",
          "author": "gabor.szathmari@erstebank.hu",
          "creation_time": "20110628T12:46:18",
          "bug_id": "717237",
          "creator_id": "308240",
          "time": "20110628T12:46:18",
          "id": "3851861",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "gabor.szathmari@erstebank.hu",
          "text": "So it seems that if negation is used, only the first criteria is used by the openssh daemon.",
          "author": "gabor.szathmari@erstebank.hu",
          "creation_time": "20110628T12:50:29",
          "bug_id": "717237",
          "creator_id": "308240",
          "time": "20110628T12:50:29",
          "id": "3851935",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "gabor.szathmari@erstebank.hu",
          "text": "Sorry, the first few lines are duplicated in the original description. Please omit everything before the ''Description of problem:'' line.",
          "author": "gabor.szathmari@erstebank.hu",
          "creation_time": "20110628T12:55:59",
          "bug_id": "717237",
          "creator_id": "308240",
          "time": "20110628T12:55:59",
          "id": "3852027",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20110628T13:03:25",
          "bug_id": "717237",
          "creator_id": "193983",
          "time": "20110628T13:03:25",
          "id": "3852131",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "gabor.szathmari@erstebank.hu",
          "text": "Additional info: ''eviluser'' is a user from OpenLDAP, but the ''admins'' group\nbelongs the the local server.",
          "author": "gabor.szathmari@erstebank.hu",
          "creation_time": "20110628T13:23:27",
          "bug_id": "717237",
          "creator_id": "308240",
          "time": "20110628T13:23:27",
          "id": "3852428",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "gabor.szathmari@erstebank.hu",
          "text": "Additional info: ''eviluser'' is a user from OpenLDAP, but the ''admins'' group\nbelongs to the local server.",
          "author": "gabor.szathmari@erstebank.hu",
          "creation_time": "20110628T13:23:46",
          "bug_id": "717237",
          "creator_id": "308240",
          "time": "20110628T13:23:46",
          "id": "3852432",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "jchadima@redhat.com",
          "text": "verified",
          "author": "jchadima@redhat.com",
          "creation_time": "20110628T13:57:26",
          "bug_id": "717237",
          "creator_id": "276623",
          "time": "20110628T13:57:26",
          "id": "3852926",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "jchadima@redhat.com",
          "text": "there is in configuration of the Match command mentioned ! only once :\n\nA pattern-list is a comma-separated list of patterns.  Patterns within pattern-lists may be negated by preceding them with an exclamation mark (\u2018!\u2019).\n\nFor example, to allow a key to be used from anywhere within an organisation except from the \u201cdialup\u201d pool, the following entry (in authorized_keys) could be used:\n\nfrom=\"!*.dialup.example.com,*.example.com\"\n\nThere is not generic negation support in the match command.",
          "author": "jchadima@redhat.com",
          "creation_time": "20110628T14:45:08",
          "bug_id": "717237",
          "creator_id": "276623",
          "time": "20110628T14:45:08",
          "id": "3853606",
          "is_private": "False"
        },
        {
          "count": "8",
          "creator": "gabor.szathmari@erstebank.hu",
          "text": "(In reply to comment #7)\n> there is in configuration of the Match command mentioned ! only once :\n> A pattern-list is a comma-separated list of patterns.  Patterns within\n> pattern-lists may be negated by preceding them with an exclamation mark (\u2018!\u2019).\n> For example, to allow a key to be used from anywhere within an organisation\n> except from the \u201cdialup\u201d pool, the following entry (in authorized_keys) could\n> be used:\n> from=\"!*.dialup.example.com,*.example.com\"\n> There is not generic negation support in the match command.\n\nThe man page might be slightly misleading. The following configuration settings work as expected, though:\n\nMatch User \"!username,*\"\n    MaxSessions 0\n\n# sshd -T -C user=username,host=client.example.com,addr=10.0.0.1 |grep maxsess\nmaxsessions 10\n\n# sshd -T -C user=otheruser,host=client.example.com,addr=10.0.0.1 |grep maxsess\nmaxsessions 0\n\n# sshd -T -C user=otheruser2,host=client.example.com,addr=10.0.0.1 |grep maxsess\nmaxsessions 0",
          "author": "gabor.szathmari@erstebank.hu",
          "creation_time": "20110628T15:03:18",
          "bug_id": "717237",
          "creator_id": "308240",
          "time": "20110628T15:03:18",
          "id": "3853841",
          "is_private": "False"
        },
        {
          "count": "9",
          "creator": "gabor.szathmari@erstebank.hu",
          "text": "Excerpts from the OpenSSH 5.1 Changelog:\nhttp://www.openssh.org/txt/release-5.1\n\n * sshd_config(5) now supports CIDR address/masklen matching in ''Match\n   address'' blocks, with a fallback to classic wildcard matching. For \n   example:\n     Match address 192.0.2.0/24,3ffe:ffff::/32,!10.*\n         PasswordAuthentication yes\n\n * ''Match group'' blocks in sshd_config(5) now support negation of\n   groups. E.g. ''Match group staff,!guests'' (bz#1315)",
          "author": "gabor.szathmari@erstebank.hu",
          "creation_time": "20110628T15:07:36",
          "bug_id": "717237",
          "creator_id": "308240",
          "time": "20110628T15:07:36",
          "id": "3853857",
          "is_private": "False"
        },
        {
          "count": "10",
          "creator": "jchadima@redhat.com",
          "text": "you have omitted trailng ,* in your config\ntry:\n\nMatch Group !admin,* Host !*.example.com,*\n        MaxSessions 0",
          "author": "jchadima@redhat.com",
          "creation_time": "20110628T15:24:52",
          "bug_id": "717237",
          "creator_id": "276623",
          "time": "20110628T15:24:52",
          "id": "3853915",
          "is_private": "False"
        },
        {
          "count": "11",
          "creator": "gabor.szathmari@erstebank.hu",
          "text": "(In reply to comment #10)\n> you have omitted trailng ,* in your config\n> try:\n> Match Group !admin,* Host !*.example.com,*\n>         MaxSessions 0\n\nThank you for your help, it seems to work now as expected. I reckon the manual page could be more detailed on the matter.\n\nOn a related note, the Match criterias are not working between quotation marks. It is not a bug but it is nice to know:\nMatch Group ''!admin,*'' Host ''!*.example.com,*'' <= erroneous config",
          "author": "gabor.szathmari@erstebank.hu",
          "creation_time": "20110629T07:11:57",
          "bug_id": "717237",
          "creator_id": "308240",
          "time": "20110629T07:11:57",
          "id": "3855282",
          "is_private": "False"
        },
        {
          "count": "12",
          "creator": "jchadima@redhat.com",
          "text": "thanks for the report\nclosing as not a bug",
          "author": "jchadima@redhat.com",
          "creation_time": "20110629T08:05:24",
          "bug_id": "717237",
          "creator_id": "276623",
          "time": "20110629T08:05:24",
          "id": "3855353",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.1"
      ],
      "cc": [],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "Double negation not matching",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.2.0",
          "modification_date": "20110628T13:03:23",
          "type_id": "249",
          "is_active": "0",
          "creation_date": "20110628T13:03:23",
          "id": "852332",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20110628T13:18:15",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20110628T13:16:38",
          "id": "852348",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20110628T13:35:44",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20110628T13:35:44",
          "id": "852360",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20110629T08:05:24",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509319-AdBGqeYzaSqatBsJ18YI4r9U6mZ4Ngc4wrHYsQ-BNpQ",
      "cf_partner": [],
      "cf_last_closed": "20110629T08:05:24",
      "resolution": "NOTABUG",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "classification": "Red Hat",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_story_points": "---",
      "cf_conditional_nak": [],
      "creation_time": "20111108T19:34:00",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "summary": "/root/.ssh created with wrong selinux context",
      "external_bugs": [],
      "id": "752197",
      "cf_release_notes": "",
      "priority": "unspecified",
      "cf_internal_whiteboard": "",
      "severity": "low",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "michael@supermathie.net",
      "comments": [
        {
          "count": "0",
          "creator": "michael@supermathie.net",
          "text": "Description of problem:\nOn a clean, updated RHEL 6.1 host, ssh-copy-id from a remote machine creates /root/.ssh with the wrong selinux context\n\nHow reproducible:\nEvery time\n\nSteps to Reproduce:\n[root@rhel ~]# ls -al /root/.ssh/\nls: cannot access /root/.ssh/: No such file or directory\n\n(on another computer, run: 'ssh-copy-id root@rhel' and enter the password)\n\n[root@rhel ~]# ls -alZ /root/.ssh\ndrwx------. root root unconfined_u:object_r:admin_home_t:s0 .\ndr-xr-x---. root root system_u:object_r:admin_home_t:s0 ..\n-rw-------. root root unconfined_u:object_r:admin_home_t:s0 authorized_keys\n\n(looks like .ssh has been created with the wrong context. It can't be used to\nssh in with a key)\n\n[root@rhel ~]# restorecon -r /root/.ssh\n[root@rhel ~]# ls -alZ /root/.ssh\ndrwx------. root root system_u:object_r:ssh_home_t:s0  .\ndr-xr-x---. root root system_u:object_r:admin_home_t:s0 ..\n-rw-------. root root system_u:object_r:ssh_home_t:s0  authorized_keys\n\n(context has been fixed - can now ssh in using a key)",
          "author": "michael@supermathie.net",
          "creation_time": "20111108T19:34:52",
          "bug_id": "752197",
          "creator_id": "99347",
          "time": "20111108T19:34:52",
          "id": "4135158",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "dwalsh@redhat.com",
          "text": "Please try this with RHEL6.2 policy\nselinux-policy-3.7.19-123.el6.noarch.rpm\n\nPreview release available on http://people.redhat.com/dwalsh/SELinux/RHEL6",
          "author": "dwalsh@redhat.com",
          "creation_time": "20111108T19:36:35",
          "bug_id": "752197",
          "creator_id": "81625",
          "time": "20111108T19:36:35",
          "id": "4135164",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20111108T19:52:42",
          "bug_id": "752197",
          "creator_id": "193983",
          "time": "20111108T19:52:42",
          "id": "4135198",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "mgrepl@redhat.com",
          "text": "Does your ssh-copy-id contain restorecon?\n\n# mgrepl@rhel6 RHEL-6]$ grep restorecon /usr/bin/ssh-copy-id \n{ eval ''$GET_ID'' ; } | ssh $1 ''umask 077; test -d .ssh || mkdir .ssh ; cat >> .ssh/authorized_keys; test -x /sbin/restorecon && /sbin/restorecon .ssh .ssh/authorized_keys'' || exit 1\n\nThe problem probably is you do ssh-copy-id from a machine where ssh-copy-id doesn't contain restorecon which is needed for RHEL6.2",
          "author": "mgrepl@redhat.com",
          "creation_time": "20111109T07:27:43",
          "bug_id": "752197",
          "creator_id": "269625",
          "time": "20111109T07:27:43",
          "id": "4136209",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "plautrba@redhat.com",
          "text": "This seems to be duplicate of #739989.\n\nWhat is version of openssh package on remote machine?",
          "author": "plautrba@redhat.com",
          "creation_time": "20111209T15:20:42",
          "bug_id": "752197",
          "creator_id": "270148",
          "time": "20111209T15:20:42",
          "id": "4241092",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "mvadkert@redhat.com",
          "text": "I think this is a problem of ssh-copy-id on the remote machine, which doesn't use restorecon.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20111212T09:48:23",
          "bug_id": "752197",
          "creator_id": "271572",
          "time": "20111212T09:48:23",
          "id": "4245135",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "dwalsh@redhat.com",
          "text": "\n\n*** This bug has been marked as a duplicate of bug 739989 ***",
          "author": "dwalsh@redhat.com",
          "creation_time": "20111212T16:35:37",
          "bug_id": "752197",
          "creator_id": "81625",
          "time": "20111212T16:35:37",
          "id": "4246404",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "plambri@redhat.com",
          "text": "I saw that this BZ was closed as duplicate of a Fedora BZ.\nDoes this means that the fix was included in a RH 6.x rpm?",
          "author": "plambri@redhat.com",
          "creation_time": "20121207T09:14:44",
          "bug_id": "752197",
          "creator_id": "302630",
          "time": "20121207T09:14:44",
          "id": "5267093",
          "is_private": "True"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "x86_64",
      "version": [
        "6.1"
      ],
      "cc": [
        "dwalsh@redhat.com",
        "mvadkert@redhat.com",
        "plambri@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_regression_status": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "product": "Red Hat Enterprise Linux 6",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "target_release": [
        "---"
      ],
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "sub_components": {},
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "op_sys": "Linux",
      "alias": [],
      "dupe_of": "739989",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.3.0",
          "modification_date": "20111109T07:27:43",
          "type_id": "276",
          "is_active": "0",
          "creation_date": "20111109T07:27:43",
          "id": "926720",
          "setter": "mgrepl@redhat.com"
        },
        {
          "status": "?",
          "name": "pm_ack",
          "modification_date": "20111109T07:27:43",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20111108T20:06:13",
          "id": "926531",
          "setter": "mgrepl@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20111108T20:25:49",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20111108T20:25:49",
          "id": "926534",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20121207T09:20:20",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509319-y8M9nys4SBWblj5FZU7FDrYx6vqGThRnLYJNBZn_C84",
      "cf_partner": [],
      "cf_last_closed": "20111212T16:35:37",
      "resolution": "DUPLICATE",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20111124T21:49:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "756861",
      "cf_release_notes": "",
      "priority": "unspecified",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "gea@hp.com",
      "comments": [
        {
          "count": "0",
          "creator": "gea@hp.com",
          "text": "Description of problem:\nWhile trying to setup chrooted ssh for certain users i found out that (at least) the Address Match parameter will ignore negated patterns (!192.168.0.0/32)\nIf you use:\n\nMatch User sshtest Address 192.168.0.1/32\nForceCommand /sbin/nologin\n\nIt will work (only users logging in from 192.168.0.1 will get kicked off\n\nbut if you attempt to negate the address pattern\n\nMatch User sshtest Address !192.168.0.1/32\nForceCommand /sbin/nologin\n\n\nIt will not work\n\n\n\n\nVersion-Release number of selected component (if applicable):\nopenssh-server-5.3p1-52.el6_1.2.x86_64\n\nHow reproducible:\nAlways\n\nSteps to Reproduce:\n1. Setup ssh with the configuration shown above using a negated address pattern\n2. Attempt to connect\n3. Check results.\n  \nActual results:\nRule should match as described in the sshd_config manpage.\n'' The match patterns may consist of single entries or comma-separated lists and may use the wildcard and negation operators described in the PATTERNS section of ssh_config(5).''\n\n\n\nExpected results:\nThe negated pattern takes effect\n\nAdditional info:",
          "author": "gea@hp.com",
          "creation_time": "20111124T21:49:12",
          "bug_id": "756861",
          "creator_id": "306771",
          "time": "20111124T21:49:12",
          "id": "4168603",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20111124T22:02:45",
          "bug_id": "756861",
          "creator_id": "193983",
          "time": "20111124T22:02:45",
          "id": "4168611",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "plautrba@redhat.com",
          "text": "\"A pattern-list is a comma-separated list of patterns.  Patterns within  pattern-lists may be negated by preceding them with an exclamation mark(\u2018!\u2019).\"\n\nSo you can negate only listed patterns, correct setting is:\n\nMatch User sshtest Address !192.168.0.1/32,*\n  ForceCommand /sbin/nologin",
          "author": "plautrba@redhat.com",
          "creation_time": "20111208T15:14:42",
          "bug_id": "756861",
          "creator_id": "270148",
          "time": "20111208T15:14:42",
          "id": "4205972",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "x86_64",
      "version": [
        "6.1"
      ],
      "cc": [
        "pvrabec@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "sshd_config Match parameter doesn't seem to work with negated address patterns",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.3.0",
          "modification_date": "20111124T22:02:43",
          "type_id": "276",
          "is_active": "0",
          "creation_date": "20111124T22:02:43",
          "id": "935023",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "pm_ack",
          "modification_date": "20111124T22:16:08",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20111124T22:16:08",
          "id": "935024",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20111208T13:03:10",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20111208T13:03:10",
          "id": "940973",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "?",
          "name": "qa_ack",
          "modification_date": "20111208T13:03:10",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20111208T13:03:10",
          "id": "940974",
          "setter": "pvrabec@redhat.com"
        }
      ],
      "last_change_time": "20111208T15:14:42",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509319-dVqDiKrzo3e2CYlr51v0luEHKa2K_TtIZUlRX8sAOq4",
      "cf_partner": [],
      "cf_last_closed": "20111208T15:14:42",
      "resolution": "NOTABUG",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [
        "Patch",
        "Upstream"
      ],
      "creation_time": "20120118T12:05:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "FutureFeature"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "782766",
      "cf_release_notes": "",
      "priority": "unspecified",
      "severity": "unspecified",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "jcholast@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "jcholast@redhat.com",
          "text": "OpenSSH in RHEL supports centralized management of SSH user keys (https://bugzilla.redhat.com/show_bug.cgi?id=455350), but there is no support for centralized management of SSH host keys.\n\nIn FreeIPA and SSSD there is ongoing work to support management of SSH public keys for both users and hosts (https://fedorahosted.org/freeipa/ticket/754, https://fedorahosted.org/sssd/ticket/610). Without support in OpenSSH, centralized management of SSH host keys cannot be fully implemented.\n\nThere is a related feature request in upstream bugzilla: https://bugzilla.mindrot.org/show_bug.cgi?id=1777",
          "author": "jcholast@redhat.com",
          "creation_time": "20120118T12:05:14",
          "bug_id": "782766",
          "creator_id": "194041",
          "time": "20120118T12:05:14",
          "id": "4371125",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120118T12:11:18",
          "bug_id": "782766",
          "creator_id": "193983",
          "time": "20120118T12:11:18",
          "id": "4371140",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "plautrba@redhat.com",
          "text": "I'd like to see this first in upstream, at least in Fedora.\n\nOn the other hand, Miroslav Trmac suggested that FreeIPA could start managing the /etc/ssh/ssh_known_hosts file (either refreshing it, say, once per hour, or, if possible, refreshing it whenever a host key is changed) and this is possible today without changes to ssh",
          "author": "plautrba@redhat.com",
          "creation_time": "20120126T07:49:08",
          "bug_id": "782766",
          "creator_id": "270148",
          "time": "20120126T07:49:08",
          "id": "4385203",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "jcholast@redhat.com",
          "text": "Updating known_hosts periodically is not very scalable approach. It could work well in a small domain, but in a large domain with thousands of users and computers the load on IPA servers would be enormous.\n\nHowever, there is one approach that could work without patching OpenSSH: using a custom ProxyCommand to acquire host keys for the SSH server from IPA before connecting to it, update known_hosts file and then estabilish the connection.",
          "author": "jcholast@redhat.com",
          "creation_time": "20120126T08:33:31",
          "bug_id": "782766",
          "creator_id": "194041",
          "time": "20120126T08:33:31",
          "id": "4385250",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "pvrabec@redhat.com",
          "text": "I'm not approving a solution that needs patching ssh and is not accepted in upstream. Setting devel NACK on Upstream.\n\nSteve, could you please clarify if there is any violation with our certifications?\n\n\nIs there any problem with the approach suggested by Jan? I mean the ''custom ProxyCommand''. What I like is that it does not touch ssh source code.",
          "author": "pvrabec@redhat.com",
          "creation_time": "20120126T12:09:52",
          "bug_id": "782766",
          "creator_id": "167999",
          "time": "20120126T12:09:52",
          "id": "4385617",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "dpal@redhat.com",
          "text": "We should explore two directions: one that does not touch SSH and can be delivered pretty quickly but might have some roughness and then have a proper functionality accepted upstream and brought into RHEL in a later major version.",
          "author": "dpal@redhat.com",
          "creation_time": "20120130T17:24:26",
          "bug_id": "782766",
          "creator_id": "263394",
          "time": "20120130T17:24:26",
          "id": "4393032",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "jkodak@redhat.com",
          "text": "It would be good to know if there is a cert. dependency.",
          "author": "jkodak@redhat.com",
          "creation_time": "20120419T18:18:40",
          "bug_id": "782766",
          "creator_id": "312464",
          "time": "20120419T18:18:40",
          "id": "4607341",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "sgrubb@redhat.com",
          "text": "Its unknown if there is a cert dependency. It depend on how the problem is solved. It is possible to place keys on the server without sshd being involved. For that kind of solution there is no cert dependency. If someone wanted sshd to retrieve keys from somewhere else, then we would have to look carefully at the patch to see if any files inside the crypto boundary are being touched.\n\nI think we have scalability issues with both solutions. In the method where keys are placed for sshd use, you could have many servers asking for updated keys. But if keys are checked at connect, then imagine a DDoS attack across a few sshd servers hammering an authentication server.",
          "author": "sgrubb@redhat.com",
          "creation_time": "20120419T18:34:34",
          "bug_id": "782766",
          "creator_id": "168751",
          "time": "20120419T18:34:34",
          "id": "4607381",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "dpal@redhat.com",
          "text": "1) There is no cert dependency\n2) Key are placed without SSHD being involved\n3) The keys are fetched, cached and provided by SSSD as an interim authority so the DDoS attack against the host would not result in the DDoS attack against the central server as the key would be taken from the SSSD cache and not from the central server. Thus there is no scalability problem here.\n\n\nThe solution that we implemented does not require any openssh changes so this bug might very well be closed.",
          "author": "dpal@redhat.com",
          "creation_time": "20120419T19:31:19",
          "bug_id": "782766",
          "creator_id": "263394",
          "time": "20120419T19:31:19",
          "id": "4607522",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "pm-rhel@redhat.com",
          "text": "Since RHEL 6.3 External Beta has begun, and this bug remains\nunresolved, it has been rejected as it is not proposed as\nexception or blocker.\n\nRed Hat invites you to ask your support representative to\npropose this request, if appropriate and relevant, in the\nnext release of Red Hat Enterprise Linux.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120503T05:18:16",
          "bug_id": "782766",
          "creator_id": "193983",
          "time": "20120503T05:18:16",
          "id": "4646205",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.3"
      ],
      "cc": [
        "dpal@redhat.com",
        "jkodak@redhat.com",
        "pvrabec@redhat.com",
        "sgrubb@redhat.com",
        "tmraz@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Enhancement",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "[RFE] Support centralized management of SSH host keys",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "-",
          "name": "rhel-6.3.0",
          "modification_date": "20120503T05:18:14",
          "type_id": "276",
          "is_active": "0",
          "creation_date": "20120118T12:11:15",
          "id": "961889",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "pm_ack",
          "modification_date": "20120118T12:25:48",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20120118T12:25:48",
          "id": "961901",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20120618T12:34:59",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509320-vrz3Z2KCo4u2Ec5rxCL4pcAajy2wmUI1lgJu78-7EQg",
      "cf_partner": [],
      "cf_last_closed": "20120618T12:34:59",
      "resolution": "NOTABUG",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "100",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20120224T13:00:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "797174",
      "cf_release_notes": "",
      "priority": "unspecified",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "amwang@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "amwang@redhat.com",
          "text": "Description of problem:\nThe 'sftp' on RHEL6 doesn't have ''[-i identity_file]''\noption:\n\n[root@sgi-xe250-02 ~]# sftp\nusage: sftp [-1Cv] [-B buffer_size] [-b batchfile] [-F ssh_config]\n            [-o ssh_option] [-P sftp_server_path] [-R num_requests]\n            [-S program] [-s subsystem | sftp_server] host\n       sftp [user@]host[:file ...]\n       sftp [user@]host[:dir[/]]\n       sftp -b batchfile [user@]host\n\n\nVersion-Release number of selected component (if applicable):\n\n[root@sgi-xe250-02 ~]# rpm -q --whatprovides /usr/bin/sftp\nopenssh-clients-5.3p1-70.el6_2.2.x86_64\n\n\nHow reproducible:\nAlways\n\nAdditional info:\n[-i identity_file] is needed by kdump to provide password-less access via sftp.",
          "author": "amwang@redhat.com",
          "creation_time": "20120224T13:00:20",
          "bug_id": "797174",
          "creator_id": "279029",
          "time": "20120224T13:00:20",
          "id": "4473067",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120224T13:11:49",
          "bug_id": "797174",
          "creator_id": "193983",
          "time": "20120224T13:11:49",
          "id": "4473083",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "plautrba@redhat.com",
          "text": "Either ssh-agent or 'ssh -o' can be used:\n\n$ ssh-copy-id -i .ssh/account_rsa localhost\naccount@localhost's password: \nNow try logging into the machine, with ''ssh 'localhost''', and check in:\n\n  ~/.ssh/authorized_keys\n\nto make sure we haven't added extra keys that you weren't expecting.\n\n$ ssh-add ~/.ssh/account_rsa\nEnter passphrase for /home/account/.ssh/account_rsa: \nIdentity added: /home/account/.ssh/account_rsa (/home/account/.ssh/account_rsa)\n\n$ sftp localhost\nConnected to localhost.\nsftp> \n\n$ ssh-add -D\nAll identities removed.\n\n-----------------\n\n$ sftp -o 'IdentityFile ~/.ssh/account_rsa' localhost\nEnter passphrase for key '/home/account/.ssh/account_rsa': \nConnected to localhost.\nsftp>",
          "author": "plautrba@redhat.com",
          "creation_time": "20120227T21:33:59",
          "bug_id": "797174",
          "creator_id": "270148",
          "time": "20120227T21:33:59",
          "id": "4478873",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "amwang@redhat.com",
          "text": "Hi, Petr,\n\n-o 'IdentityFile ~/.ssh/account_rsa' works fine for me, thanks for your help!\n\nI am closing this bug as WORKSFORME.",
          "author": "amwang@redhat.com",
          "creation_time": "20120228T05:56:01",
          "bug_id": "797174",
          "creator_id": "279029",
          "time": "20120228T05:56:01",
          "id": "4479453",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.2"
      ],
      "cc": [
        "mperez@redhat.com",
        "rkhan@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "795804",
        "807884",
        "815596"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "sftp command does not have '-i' option",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.3.0",
          "modification_date": "20120224T13:11:46",
          "type_id": "276",
          "is_active": "0",
          "creation_date": "20120224T13:11:46",
          "id": "989673",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20120224T13:27:31",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20120224T13:25:58",
          "id": "989692",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20120224T13:45:24",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20120224T13:45:24",
          "id": "989710",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20130930T02:30:21",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509320-m9ElXfkWkIR5TQsKv6lu_137IlnTZ2Zroh5vWKFFVH0",
      "cf_partner": [],
      "cf_last_closed": "20120228T05:56:01",
      "resolution": "WORKSFORME",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "classification": "Red Hat",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_story_points": "---",
      "cf_conditional_nak": [],
      "creation_time": "20120307T16:50:00",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "summary": "/etc/init.d/sshd: line 50: [: too many arguments",
      "external_bugs": [],
      "id": "801100",
      "cf_release_notes": "",
      "priority": "unspecified",
      "cf_internal_whiteboard": "",
      "severity": "low",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "frank.arnold@amd.com",
      "comments": [
        {
          "count": "0",
          "attachment_id": "568360",
          "author": "frank.arnold@amd.com",
          "text": "Created attachment 568360\nUse a default value if /proc/sys/crypto/fips_enabled does not exist\n\nThis is a very low priority RFE, because the problem does not happen with stock RHEL kernels.\n\nDescription of problem:\nWhen running a kernel without FIPS support, the sshd init script will fail with the following output while trying to generate the SSH1 RSA host key:\n\ncat: /proc/sys/crypto/fips_enabled: No such file or directory\n/etc/init.d/sshd: line 50: [: too many arguments\nGenerating SSH2 RSA host key: [  OK  ]\nGenerating SSH2 DSA host key: [  OK  ]\nStarting sshd: [  OK  ]\n\n\nVersion-Release number of selected component (if applicable):\nopenssh-5.3p1-70.el6\n\n\nThe attached patch fixes the issue.",
          "creator": "frank.arnold@amd.com",
          "creation_time": "20120307T16:50:17",
          "bug_id": "801100",
          "creator_id": "263930",
          "time": "20120307T16:50:17",
          "id": "4501154",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120307T16:52:01",
          "bug_id": "801100",
          "creator_id": "193983",
          "time": "20120307T16:52:01",
          "id": "4501192",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "plautrba@redhat.com",
          "text": "\n\n*** This bug has been marked as a duplicate of bug 797384 ***",
          "author": "plautrba@redhat.com",
          "creation_time": "20120308T09:45:01",
          "bug_id": "801100",
          "creator_id": "270148",
          "time": "20120308T09:45:01",
          "id": "4503092",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.2"
      ],
      "cc": [],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_regression_status": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "product": "Red Hat Enterprise Linux 6",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "target_release": [
        "---"
      ],
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "sub_components": {},
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "op_sys": "Linux",
      "alias": [],
      "dupe_of": "797384",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.3.0",
          "modification_date": "20120307T16:51:59",
          "type_id": "276",
          "is_active": "0",
          "creation_date": "20120307T16:51:59",
          "id": "999655",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20120307T17:07:46",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20120307T17:06:13",
          "id": "999670",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20120307T17:25:32",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20120307T17:25:32",
          "id": "999692",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20120308T09:45:01",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509320-heY6EZQVsn-VcZ2RQ2bEaCYtBA70ctGqfkfK7SuxExI",
      "cf_partner": [],
      "cf_last_closed": "20120308T09:45:01",
      "resolution": "DUPLICATE",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20120425T15:50:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "816249",
      "cf_release_notes": "",
      "priority": "unspecified",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "plarsen@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "plarsen@redhat.com",
          "text": "Description of problem:\n\nInstalled RHEL6.3 with a minimum configuration. After registering with RHN, did a yum update and then ''yum install @base''. This results in two dependency errors:\n\n--> Finished Dependency Resolution\nError: Package: openssh-clients-5.3p1-70.el6_2.2.x86_64 (rhel-x86_64-server-6)\n           Requires: openssh = 5.3p1-70.el6_2.2\n           Installed: openssh-5.3p1-76.el6.x86_64 (@anaconda-RedHatEnterpriseLinux-201204161311.x86_64/6.3)\n               openssh = 5.3p1-76.el6\n           Available: openssh-5.3p1-20.el6.x86_64 (rhel-x86_64-server-6)\n               openssh = 5.3p1-20.el6\n           Available: openssh-5.3p1-20.el6_0.3.x86_64 (rhel-x86_64-server-6)\n               openssh = 5.3p1-20.el6_0.3\n           Available: openssh-5.3p1-52.el6.x86_64 (rhel-x86_64-server-6)\n               openssh = 5.3p1-52.el6\n           Available: openssh-5.3p1-52.el6_1.2.x86_64 (rhel-x86_64-server-6)\n               openssh = 5.3p1-52.el6_1.2\n           Available: openssh-5.3p1-70.el6.x86_64 (rhel-x86_64-server-6)\n               openssh = 5.3p1-70.el6\n           Available: openssh-5.3p1-70.el6_2.2.x86_64 (rhel-x86_64-server-6)\n               openssh = 5.3p1-70.el6_2.2\nError: Package: ntsysv-1.3.49.3-1.el6_2.x86_64 (rhel-x86_64-server-6)\n           Requires: chkconfig = 1.3.49.3-1.el6_2\n           Installed: chkconfig-1.3.49.3-2.el6.x86_64 (@anaconda-RedHatEnterpriseLinux-201204161311.x86_64/6.3)\n               chkconfig = 1.3.49.3-2.el6\n           Available: chkconfig-1.3.47-1.el6.x86_64 (rhel-x86_64-server-6)\n               chkconfig = 1.3.47-1.el6\n           Available: chkconfig-1.3.49.3-1.el6_2.x86_64 (rhel-x86_64-server-6)\n               chkconfig = 1.3.49.3-1.el6_2\n\nHow reproducible:\n\nyum install @base on a freshly installed system created via the minimum profile.",
          "author": "plarsen@redhat.com",
          "creation_time": "20120425T15:50:58",
          "bug_id": "816249",
          "creator_id": "313668",
          "time": "20120425T15:50:58",
          "id": "4627956",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120425T15:52:35",
          "bug_id": "816249",
          "creator_id": "193983",
          "time": "20120425T15:52:35",
          "id": "4627966",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "plautrba@redhat.com",
          "text": "I cannot reproduce this issue with 6.3-Beta. Is it possible that repositories was in inconsistent state?",
          "author": "plautrba@redhat.com",
          "creation_time": "20120426T13:59:44",
          "bug_id": "816249",
          "creator_id": "270148",
          "time": "20120426T13:59:44",
          "id": "4630947",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "plarsen@redhat.com",
          "text": "It may be - I wasn't sure how to document the repo-state with RHN plugins. I've just repeated the yum update -y that wouldn't succeed yesterday and now it doesn't fail but it doesn't find any updates either.\n\nSo it looks like it may have been repository related.",
          "author": "plarsen@redhat.com",
          "creation_time": "20120426T18:05:29",
          "bug_id": "816249",
          "creator_id": "313668",
          "time": "20120426T18:05:29",
          "id": "4631570",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "plarsen@redhat.com",
          "text": "I just repeated the installation and ran into the same problem again.  See attachments for more details.  Process followed:\n\n1. Create KVM with 4GB hdd, 1G RAM and one processor\n2. Use RHEL63 beta ISO to boot into installation\n3. Setup/enable network on boot\n4. Choose review disk layout, reduce swap to 256M and allocate all free memory to /\n5. Write disk configuration to disk\n6. Pick ''Miminal'' from installation type choices\n7. Let installation complete\n8. On boot, use rhn_register (I use my RH account to register with with gives me a bunch of channels - see below)\n9. yum update -y  (succeeds)\n10. yum install @base -y\n\nStep 10 fails ....\n\n[root@rhel63-minimal ~]# yum install @base -y\nLoaded plugins: product-id, rhnplugin, subscription-manager\nUpdating certificate-based repositories.\nUnable to read consumer identity\nSetting up Install Process\nPackage matching logrotate-3.7.8-12.el6_0.1.x86_64 already installed. Checking for update.\nPackage matching file-5.04-11.el6.x86_64 already installed. Checking for update.\nPackage crontabs-1.10-33.el6.noarch already installed and latest version\nPackage matching authconfig-6.1.12-5.el6.x86_64 already installed. Checking for update.\nPackage matching lvm2-2.02.87-6.el6.x86_64 already installed. Checking for update.\nPackage bzip2-1.0.5-7.el6_0.x86_64 already installed and latest version\nPackage gnupg2-2.0.14-4.el6.x86_64 already installed and latest version\nPackage which-2.19-6.el6.x86_64 already installed and latest version\nPackage virt-what-1.11-1.1.el6.x86_64 already installed and latest version\nPackage 2:ethtool-2.6.33-0.3.el6.x86_64 already installed and latest version\nPackage plymouth-0.8.3-24.el6.x86_64 already installed and latest version\nResolving Dependencies\n--> Running transaction check\n---> Package Red_Hat_Enterprise_Linux-Release_Notes-6-en-US.noarch 0:2-22.el6_2 will be installed\n--> Processing Dependency: xdg-utils for package: Red_Hat_Enterprise_Linux-Release_Notes-6-en-US-2-22.el6_2.noarch\n---> Package abrt-addon-ccpp.x86_64 0:2.0.4-14.el6 will be installed\n--> Processing Dependency: abrt = 2.0.4-14.el6 for package: abrt-addon-ccpp-2.0.4-14.el6.x86_64\n--> Processing Dependency: elfutils for package: abrt-addon-ccpp-2.0.4-14.el6.x86_64\n--> Processing Dependency: libreport.so.0()(64bit) for package: abrt-addon-ccpp-2.0.4-14.el6.x86_64\n--> Processing Dependency: libbtparser.so.2()(64bit) for package: abrt-addon-ccpp-2.0.4-14.el6.x86_64\n--> Processing Dependency: libabrt.so.0()(64bit) for package: abrt-addon-ccpp-2.0.4-14.el6.x86_64\n---> Package abrt-addon-kerneloops.x86_64 0:2.0.4-14.el6 will be installed\n--> Processing Dependency: libreport-plugin-kerneloops for package: abrt-addon-kerneloops-2.0.4-14.el6.x86_64\n---> Package abrt-addon-python.x86_64 0:2.0.4-14.el6 will be installed\n---> Package abrt-cli.x86_64 0:2.0.4-14.el6 will be installed\n--> Processing Dependency: libreport-plugin-rhtsupport for package: abrt-cli-2.0.4-14.el6.x86_64\n--> Processing Dependency: libreport-plugin-mailx for package: abrt-cli-2.0.4-14.el6.x86_64\n--> Processing Dependency: libreport-plugin-logger for package: abrt-cli-2.0.4-14.el6.x86_64\n--> Processing Dependency: libreport-cli for package: abrt-cli-2.0.4-14.el6.x86_64\n---> Package acpid.x86_64 0:1.0.10-2.1.el6 will be installed\n---> Package alsa-utils.x86_64 0:1.0.21-3.el6 will be installed\n--> Processing Dependency: libasound.so.2(ALSA_0.9.0rc8)(64bit) for package: alsa-utils-1.0.21-3.el6.x86_64\n--> Processing Dependency: libasound.so.2(ALSA_0.9.0rc4)(64bit) for package: alsa-utils-1.0.21-3.el6.x86_64\n--> Processing Dependency: libasound.so.2(ALSA_0.9)(64bit) for package: alsa-utils-1.0.21-3.el6.x86_64\n--> Processing Dependency: libasound.so.2()(64bit) for package: alsa-utils-1.0.21-3.el6.x86_64\n---> Package at.x86_64 0:3.1.10-43.el6_2.1 will be installed\n---> Package b43-fwcutter.x86_64 0:012-2.2.el6 will be installed\n---> Package bc.x86_64 0:1.06.95-1.el6 will be installed\n---> Package bind-utils.x86_64 32:9.7.3-8.P3.el6_2.2 will be installed\n--> Processing Dependency: bind-libs = 32:9.7.3-8.P3.el6_2.2 for package: 32:bind-utils-9.7.3-8.P3.el6_2.2.x86_64\n--> Processing Dependency: liblwres.so.60()(64bit) for package: 32:bind-utils-9.7.3-8.P3.el6_2.2.x86_64\n--> Processing Dependency: libisccfg.so.62()(64bit) for package: 32:bind-utils-9.7.3-8.P3.el6_2.2.x86_64\n--> Processing Dependency: libisccc.so.60()(64bit) for package: 32:bind-utils-9.7.3-8.P3.el6_2.2.x86_64\n--> Processing Dependency: libisc.so.62()(64bit) for package: 32:bind-utils-9.7.3-8.P3.el6_2.2.x86_64\n--> Processing Dependency: libdns.so.69()(64bit) for package: 32:bind-utils-9.7.3-8.P3.el6_2.2.x86_64\n--> Processing Dependency: libbind9.so.60()(64bit) for package: 32:bind-utils-9.7.3-8.P3.el6_2.2.x86_64\n---> Package biosdevname.x86_64 0:0.3.11-1.el6 will be installed\n---> Package blktrace.x86_64 0:1.0.1-6.el6 will be installed\n---> Package bridge-utils.x86_64 0:1.2-9.el6 will be installed\n---> Package cpuspeed.x86_64 1:1.5-15.el6 will be installed\n---> Package cryptsetup-luks.x86_64 0:1.2.0-6.el6 will be installed\n--> Processing Dependency: cryptsetup-luks-libs = 1.2.0-6.el6 for package: cryptsetup-luks-1.2.0-6.el6.x86_64\n--> Processing Dependency: libcryptsetup.so.1(CRYPTSETUP_1.0)(64bit) for package: cryptsetup-luks-1.2.0-6.el6.x86_64\n--> Processing Dependency: libcryptsetup.so.1()(64bit) for package: cryptsetup-luks-1.2.0-6.el6.x86_64\n---> Package cyrus-sasl-plain.x86_64 0:2.1.23-13.el6 will be installed\n---> Package dbus.x86_64 1:1.2.24-5.el6_1 will be installed\n---> Package dmraid.x86_64 0:1.0.0.rc16-10.el6 will be installed\n--> Processing Dependency: kpartx for package: dmraid-1.0.0.rc16-10.el6.x86_64\n--> Processing Dependency: dmraid-events for package: dmraid-1.0.0.rc16-10.el6.x86_64\n---> Package dosfstools.x86_64 0:3.0.9-4.el6 will be installed\n---> Package ed.x86_64 0:1.1-3.3.el6 will be installed\n---> Package eject.x86_64 0:2.1.5-17.el6 will be installed\n---> Package fprintd-pam.x86_64 0:0.1-19.git04fd09cfa.el6 will be installed\n--> Processing Dependency: fprintd = 0.1-19.git04fd09cfa.el6 for package: fprintd-pam-0.1-19.git04fd09cfa.el6.x86_64\n---> Package hunspell.x86_64 0:1.2.8-16.el6 will be installed\n---> Package hunspell-en.noarch 0:0.20090216-7.1.el6 will be installed\n---> Package irqbalance.x86_64 2:0.55-29.el6 will be installed\n---> Package kexec-tools.x86_64 0:2.0.0-209.el6_2.5 will be installed\n--> Processing Dependency: busybox >= 1.2.0 for package: kexec-tools-2.0.0-209.el6_2.5.x86_64\n--> Processing Dependency: libdw.so.1(ELFUTILS_0.143)(64bit) for package: kexec-tools-2.0.0-209.el6_2.5.x86_64\n--> Processing Dependency: libdw.so.1(ELFUTILS_0.122)(64bit) for package: kexec-tools-2.0.0-209.el6_2.5.x86_64\n--> Processing Dependency: libdw.so.1()(64bit) for package: kexec-tools-2.0.0-209.el6_2.5.x86_64\n---> Package libaio.x86_64 0:0.3.107-10.el6 will be installed\n---> Package lsof.x86_64 0:4.82-2.el6 will be installed\n---> Package man.x86_64 0:1.6f-29.el6 will be installed\n--> Processing Dependency: lzma for package: man-1.6f-29.el6.x86_64\n---> Package man-pages.noarch 0:3.22-17.el6 will be installed\n---> Package man-pages-overrides.noarch 0:6.2.3-2.el6 will be installed\n---> Package mdadm.x86_64 0:3.2.2-9.el6 will be installed\n---> Package microcode_ctl.x86_64 1:1.17-9.el6 will be installed\n---> Package mlocate.x86_64 0:0.22.2-3.el6 will be installed\n---> Package mtr.x86_64 2:0.75-5.el6 will be installed\n---> Package nano.x86_64 0:2.0.9-7.el6 will be installed\n---> Package ntp.x86_64 0:4.2.4p8-2.el6 will be installed\n--> Processing Dependency: libedit.so.0()(64bit) for package: ntp-4.2.4p8-2.el6.x86_64\n---> Package ntpdate.x86_64 0:4.2.4p8-2.el6 will be installed\n---> Package ntsysv.x86_64 0:1.3.49.3-1.el6_2 will be installed\n--> Processing Dependency: chkconfig = 1.3.49.3-1.el6_2 for package: ntsysv-1.3.49.3-1.el6_2.x86_64\n---> Package openssh-clients.x86_64 0:5.3p1-70.el6_2.2 will be installed\n--> Processing Dependency: openssh = 5.3p1-70.el6_2.2 for package: openssh-clients-5.3p1-70.el6_2.2.x86_64\n---> Package pam_passwdqc.x86_64 0:1.0.5-6.el6 will be installed\n---> Package parted.x86_64 0:2.1-17.el6 will be installed\n---> Package pciutils.x86_64 0:3.1.4-11.el6 will be installed\n---> Package pcmciautils.x86_64 0:015-4.2.el6 will be installed\n---> Package pinfo.x86_64 0:0.6.9-12.el6 will be installed\n---> Package pm-utils.x86_64 0:1.2.5-9.el6 will be installed\n--> Processing Dependency: hdparm for package: pm-utils-1.2.5-9.el6.x86_64\n--> Processing Dependency: hal for package: pm-utils-1.2.5-9.el6.x86_64\n---> Package prelink.x86_64 0:0.4.6-3.el6 will be installed\n---> Package psacct.x86_64 0:6.3.2-63.el6 will be installed\n---> Package quota.x86_64 1:3.17-16.el6 will be installed\n--> Processing Dependency: tcp_wrappers for package: 1:quota-3.17-16.el6.x86_64\n---> Package rdate.x86_64 0:1.4-16.el6 will be installed\n---> Package readahead.x86_64 1:1.5.6-1.el6 will be installed\n---> Package redhat-indexhtml.noarch 0:6-1.el6 will be installed\n---> Package rfkill.x86_64 0:0.3-4.el6 will be installed\n---> Package rng-tools.x86_64 0:2-13.el6_2 will be installed\n---> Package rsync.x86_64 0:3.0.6-5.el6_0.1 will be installed\n---> Package setserial.x86_64 0:2.17-25.el6 will be installed\n---> Package setuptool.x86_64 0:1.19.9-3.el6 will be installed\n---> Package smartmontools.x86_64 1:5.39.1-5.el6 will be installed\n--> Processing Dependency: mailx for package: 1:smartmontools-5.39.1-5.el6.x86_64\n---> Package sos.noarch 0:2.2-17.el6 will be installed\n---> Package strace.x86_64 0:4.5.19-1.11.el6_2.1 will be installed\n---> Package sysstat.x86_64 0:9.0.4-18.el6 will be installed\n---> Package system-config-firewall-tui.noarch 0:1.2.27-5.el6 will be installed\n---> Package system-config-network-tui.noarch 0:1.6.0.el6.2-1.el6 will be installed\n--> Processing Dependency: python-iwlib for package: system-config-network-tui-1.6.0.el6.2-1.el6.noarch\n---> Package systemtap-runtime.x86_64 0:1.6-5.el6_2 will be installed\n---> Package tcpdump.x86_64 14:4.0.0-3.20090921gitdf3cb4.1.el6 will be installed\n--> Processing Dependency: libpcap.so.1()(64bit) for package: 14:tcpdump-4.0.0-3.20090921gitdf3cb4.1.el6.x86_64\n---> Package tcsh.x86_64 0:6.17-14.el6 will be installed\n---> Package time.x86_64 0:1.7-37.1.el6 will be installed\n---> Package tmpwatch.x86_64 0:2.9.16-4.el6 will be installed\n---> Package traceroute.x86_64 3:2.0.14-2.el6 will be installed\n---> Package unzip.x86_64 0:6.0-1.el6 will be installed\n---> Package usbutils.x86_64 0:003-4.el6 will be installed\n--> Processing Dependency: /usr/bin/pkg-config for package: usbutils-003-4.el6.x86_64\n--> Processing Dependency: libusb-1.0.so.0()(64bit) for package: usbutils-003-4.el6.x86_64\n---> Package vconfig.x86_64 0:1.9-8.1.el6 will be installed\n---> Package vim-enhanced.x86_64 2:7.2.411-1.6.el6 will be installed\n--> Processing Dependency: vim-common = 2:7.2.411-1.6.el6 for package: 2:vim-enhanced-7.2.411-1.6.el6.x86_64\n--> Processing Dependency: perl(:MODULE_COMPAT_5.10.1) for package: 2:vim-enhanced-7.2.411-1.6.el6.x86_64\n--> Processing Dependency: libperl.so()(64bit) for package: 2:vim-enhanced-7.2.411-1.6.el6.x86_64\n--> Processing Dependency: libgpm.so.2()(64bit) for package: 2:vim-enhanced-7.2.411-1.6.el6.x86_64\n---> Package wget.x86_64 0:1.12-1.4.el6 will be installed\n---> Package wireless-tools.x86_64 1:29-5.1.1.el6 will be installed\n--> Processing Dependency: crda for package: 1:wireless-tools-29-5.1.1.el6.x86_64\n---> Package words.noarch 0:3.0-17.el6 will be installed\n---> Package xz.x86_64 0:4.999.9-0.3.beta.20091007git.el6 will be installed\n---> Package yum-plugin-security.noarch 0:1.1.30-10.el6 will be installed\n---> Package yum-utils.noarch 0:1.1.30-10.el6 will be installed\n---> Package zip.x86_64 0:3.0-1.el6 will be installed\n--> Running transaction check\n---> Package abrt.x86_64 0:2.0.4-14.el6 will be installed\n---> Package abrt-libs.x86_64 0:2.0.4-14.el6 will be installed\n---> Package alsa-lib.x86_64 0:1.0.22-3.el6 will be installed\n---> Package bind-libs.x86_64 32:9.7.3-8.P3.el6_2.2 will be installed\n---> Package btparser.x86_64 0:0.13-1.el6 will be installed\n---> Package busybox.x86_64 1:1.15.1-11.el6 will be installed\n---> Package crda.x86_64 0:1.1.1_2010.11.22-1.el6 will be installed\n--> Processing Dependency: iw for package: crda-1.1.1_2010.11.22-1.el6.x86_64\n---> Package cryptsetup-luks-libs.x86_64 0:1.2.0-6.el6 will be installed\n---> Package dmraid-events.x86_64 0:1.0.0.rc16-10.el6 will be installed\n--> Processing Dependency: sgpio for package: dmraid-events-1.0.0.rc16-10.el6.x86_64\n---> Package elfutils.x86_64 0:0.152-1.el6 will be installed\n---> Package elfutils-libs.x86_64 0:0.152-1.el6 will be installed\n---> Package fprintd.x86_64 0:0.1-19.git04fd09cfa.el6 will be installed\n--> Processing Dependency: libpolkit-gobject-1.so.0()(64bit) for package: fprintd-0.1-19.git04fd09cfa.el6.x86_64\n--> Processing Dependency: libfprint.so.0()(64bit) for package: fprintd-0.1-19.git04fd09cfa.el6.x86_64\n---> Package gpm-libs.x86_64 0:1.20.6-12.el6 will be installed\n---> Package hal.x86_64 0:0.5.14-11.el6 will be installed\n--> Processing Dependency: hal-libs = 0.5.14-11.el6 for package: hal-0.5.14-11.el6.x86_64\n--> Processing Dependency: ConsoleKit >= 0.2.0 for package: hal-0.5.14-11.el6.x86_64\n--> Processing Dependency: hal-info for package: hal-0.5.14-11.el6.x86_64\n--> Processing Dependency: libhal.so.1()(64bit) for package: hal-0.5.14-11.el6.x86_64\n--> Processing Dependency: libhal-storage.so.1()(64bit) for package: hal-0.5.14-11.el6.x86_64\n---> Package hdparm.x86_64 0:9.16-3.4.el6 will be installed\n---> Package kpartx.x86_64 0:0.4.9-46.el6_2.2 will be installed\n---> Package libedit.x86_64 0:2.11-4.20080712cvs.1.el6 will be installed\n---> Package libpcap.x86_64 14:1.0.0-6.20091201git117cb5.el6 will be installed\n---> Package libreport.x86_64 0:2.0.5-20.el6 will be installed\n--> Processing Dependency: libreport-python = 2.0.5-20.el6 for package: libreport-2.0.5-20.el6.x86_64\n--> Processing Dependency: libreport-plugin-reportuploader for package: libreport-2.0.5-20.el6.x86_64\n--> Processing Dependency: libxmlrpc_client.so.3()(64bit) for package: libreport-2.0.5-20.el6.x86_64\n--> Processing Dependency: libxmlrpc.so.3()(64bit) for package: libreport-2.0.5-20.el6.x86_64\n---> Package libreport-cli.x86_64 0:2.0.5-20.el6 will be installed\n---> Package libreport-plugin-kerneloops.x86_64 0:2.0.5-20.el6 will be installed\n---> Package libreport-plugin-logger.x86_64 0:2.0.5-20.el6 will be installed\n---> Package libreport-plugin-mailx.x86_64 0:2.0.5-20.el6 will be installed\n---> Package libreport-plugin-rhtsupport.x86_64 0:2.0.5-20.el6 will be installed\n--> Processing Dependency: libtar.so.1()(64bit) for package: libreport-plugin-rhtsupport-2.0.5-20.el6.x86_64\n---> Package libusb1.x86_64 0:1.0.3-1.el6 will be installed\n---> Package mailx.x86_64 0:12.4-6.el6 will be installed\n---> Package ntsysv.x86_64 0:1.3.49.3-1.el6_2 will be installed\n--> Processing Dependency: chkconfig = 1.3.49.3-1.el6_2 for package: ntsysv-1.3.49.3-1.el6_2.x86_64\n---> Package openssh-clients.x86_64 0:5.3p1-70.el6_2.2 will be installed\n--> Processing Dependency: openssh = 5.3p1-70.el6_2.2 for package: openssh-clients-5.3p1-70.el6_2.2.x86_64\n---> Package perl.x86_64 4:5.10.1-119.el6_1.1 will be installed\n--> Processing Dependency: perl(version) for package: 4:perl-5.10.1-119.el6_1.1.x86_64\n--> Processing Dependency: perl(Pod::Simple) for package: 4:perl-5.10.1-119.el6_1.1.x86_64\n--> Processing Dependency: perl(Module::Pluggable) for package: 4:perl-5.10.1-119.el6_1.1.x86_64\n---> Package perl-libs.x86_64 4:5.10.1-119.el6_1.1 will be installed\n---> Package pkgconfig.x86_64 1:0.23-9.1.el6 will be installed\n---> Package python-iwlib.x86_64 0:0.1-1.2.el6 will be installed\n---> Package tcp_wrappers.x86_64 0:7.6-57.el6 will be installed\n---> Package vim-common.x86_64 2:7.2.411-1.6.el6 will be installed\n---> Package xdg-utils.noarch 0:1.0.2-17.20091016cvs.el6 will be installed\n--> Processing Dependency: desktop-file-utils for package: xdg-utils-1.0.2-17.20091016cvs.el6.noarch\n---> Package xz-lzma-compat.x86_64 0:4.999.9-0.3.beta.20091007git.el6 will be installed\n--> Running transaction check\n---> Package ConsoleKit.x86_64 0:0.4.1-3.el6 will be installed\n--> Processing Dependency: libck-connector.so.0()(64bit) for package: ConsoleKit-0.4.1-3.el6.x86_64\n---> Package desktop-file-utils.x86_64 0:0.15-9.el6 will be installed\n---> Package hal-info.noarch 0:20090716-3.1.el6 will be installed\n---> Package hal-libs.x86_64 0:0.5.14-11.el6 will be installed\n---> Package iw.x86_64 0:0.9.17-4.el6 will be installed\n---> Package libfprint.x86_64 0:0.1.0-19.pre2.el6 will be installed\n--> Processing Dependency: libgdk_pixbuf-2.0.so.0()(64bit) for package: libfprint-0.1.0-19.pre2.el6.x86_64\n---> Package libreport-plugin-reportuploader.x86_64 0:2.0.5-20.el6 will be installed\n---> Package libreport-python.x86_64 0:2.0.5-20.el6 will be installed\n---> Package libtar.x86_64 0:1.2.11-16.el6 will be installed\n---> Package ntsysv.x86_64 0:1.3.49.3-1.el6_2 will be installed\n--> Processing Dependency: chkconfig = 1.3.49.3-1.el6_2 for package: ntsysv-1.3.49.3-1.el6_2.x86_64\n---> Package openssh-clients.x86_64 0:5.3p1-70.el6_2.2 will be installed\n--> Processing Dependency: openssh = 5.3p1-70.el6_2.2 for package: openssh-clients-5.3p1-70.el6_2.2.x86_64\n---> Package perl-Module-Pluggable.x86_64 1:3.90-119.el6_1.1 will be installed\n---> Package perl-Pod-Simple.x86_64 1:3.13-119.el6_1.1 will be installed\n--> Processing Dependency: perl(Pod::Escapes) >= 1.04 for package: 1:perl-Pod-Simple-3.13-119.el6_1.1.x86_64\n---> Package perl-version.x86_64 3:0.77-119.el6_1.1 will be installed\n---> Package polkit.x86_64 0:0.96-2.el6_0.1 will be installed\n--> Processing Dependency: libeggdbus-1.so.0()(64bit) for package: polkit-0.96-2.el6_0.1.x86_64\n---> Package sgpio.x86_64 0:1.2.0.10-5.el6 will be installed\n---> Package xmlrpc-c.x86_64 0:1.16.24-1200.1840.el6_1.4 will be installed\n---> Package xmlrpc-c-client.x86_64 0:1.16.24-1200.1840.el6_1.4 will be installed\n--> Running transaction check\n---> Package ConsoleKit-libs.x86_64 0:0.4.1-3.el6 will be installed\n---> Package eggdbus.x86_64 0:0.6-3.el6 will be installed\n---> Package gtk2.x86_64 0:2.18.9-6.el6 will be installed\n--> Processing Dependency: pango >= 1.20.0-1 for package: gtk2-2.18.9-6.el6.x86_64\n--> Processing Dependency: libtiff >= 3.6.1 for package: gtk2-2.18.9-6.el6.x86_64\n--> Processing Dependency: libXrandr >= 1.2.99.4-2 for package: gtk2-2.18.9-6.el6.x86_64\n--> Processing Dependency: atk >= 1.13.0-1 for package: gtk2-2.18.9-6.el6.x86_64\n--> Processing Dependency: libpng12.so.0(PNG12_0)(64bit) for package: gtk2-2.18.9-6.el6.x86_64\n--> Processing Dependency: hicolor-icon-theme for package: gtk2-2.18.9-6.el6.x86_64\n--> Processing Dependency: libtiff.so.3()(64bit) for package: gtk2-2.18.9-6.el6.x86_64\n--> Processing Dependency: libpng12.so.0()(64bit) for package: gtk2-2.18.9-6.el6.x86_64\n--> Processing Dependency: libpangoft2-1.0.so.0()(64bit) for package: gtk2-2.18.9-6.el6.x86_64\n--> Processing Dependency: libpangocairo-1.0.so.0()(64bit) for package: gtk2-2.18.9-6.el6.x86_64\n--> Processing Dependency: libpango-1.0.so.0()(64bit) for package: gtk2-2.18.9-6.el6.x86_64\n--> Processing Dependency: libjpeg.so.62()(64bit) for package: gtk2-2.18.9-6.el6.x86_64\n--> Processing Dependency: libjasper.so.1()(64bit) for package: gtk2-2.18.9-6.el6.x86_64\n--> Processing Dependency: libfreetype.so.6()(64bit) for package: gtk2-2.18.9-6.el6.x86_64\n--> Processing Dependency: libfontconfig.so.1()(64bit) for package: gtk2-2.18.9-6.el6.x86_64\n--> Processing Dependency: libcups.so.2()(64bit) for package: gtk2-2.18.9-6.el6.x86_64\n--> Processing Dependency: libcairo.so.2()(64bit) for package: gtk2-2.18.9-6.el6.x86_64\n--> Processing Dependency: libatk-1.0.so.0()(64bit) for package: gtk2-2.18.9-6.el6.x86_64\n--> Processing Dependency: libXrender.so.1()(64bit) for package: gtk2-2.18.9-6.el6.x86_64\n--> Processing Dependency: libXrandr.so.2()(64bit) for package: gtk2-2.18.9-6.el6.x86_64\n--> Processing Dependency: libXinerama.so.1()(64bit) for package: gtk2-2.18.9-6.el6.x86_64\n--> Processing Dependency: libXi.so.6()(64bit) for package: gtk2-2.18.9-6.el6.x86_64\n--> Processing Dependency: libXfixes.so.3()(64bit) for package: gtk2-2.18.9-6.el6.x86_64\n--> Processing Dependency: libXext.so.6()(64bit) for package: gtk2-2.18.9-6.el6.x86_64\n--> Processing Dependency: libXdamage.so.1()(64bit) for package: gtk2-2.18.9-6.el6.x86_64\n--> Processing Dependency: libXcursor.so.1()(64bit) for package: gtk2-2.18.9-6.el6.x86_64\n--> Processing Dependency: libXcomposite.so.1()(64bit) for package: gtk2-2.18.9-6.el6.x86_64\n--> Processing Dependency: libX11.so.6()(64bit) for package: gtk2-2.18.9-6.el6.x86_64\n---> Package ntsysv.x86_64 0:1.3.49.3-1.el6_2 will be installed\n--> Processing Dependency: chkconfig = 1.3.49.3-1.el6_2 for package: ntsysv-1.3.49.3-1.el6_2.x86_64\n---> Package openssh-clients.x86_64 0:5.3p1-70.el6_2.2 will be installed\n--> Processing Dependency: openssh = 5.3p1-70.el6_2.2 for package: openssh-clients-5.3p1-70.el6_2.2.x86_64\n---> Package perl-Pod-Escapes.x86_64 1:1.04-119.el6_1.1 will be installed\n--> Running transaction check\n---> Package atk.x86_64 0:1.28.0-2.el6 will be installed\n---> Package cairo.x86_64 0:1.8.8-3.1.el6 will be installed\n--> Processing Dependency: libpixman-1.so.0()(64bit) for package: cairo-1.8.8-3.1.el6.x86_64\n---> Package cups-libs.x86_64 1:1.4.2-44.el6_2.3 will be installed\n--> Processing Dependency: libgnutls.so.26(GNUTLS_1_4)(64bit) for package: 1:cups-libs-1.4.2-44.el6_2.3.x86_64\n--> Processing Dependency: libgnutls.so.26()(64bit) for package: 1:cups-libs-1.4.2-44.el6_2.3.x86_64\n--> Processing Dependency: libavahi-common.so.3()(64bit) for package: 1:cups-libs-1.4.2-44.el6_2.3.x86_64\n--> Processing Dependency: libavahi-client.so.3()(64bit) for package: 1:cups-libs-1.4.2-44.el6_2.3.x86_64\n---> Package fontconfig.x86_64 0:2.8.0-3.el6 will be installed\n---> Package freetype.x86_64 0:2.3.11-6.el6_2.9 will be installed\n---> Package hicolor-icon-theme.noarch 0:0.11-1.1.el6 will be installed\n---> Package jasper-libs.x86_64 0:1.900.1-15.el6_1.1 will be installed\n---> Package libX11.x86_64 0:1.3-2.el6 will be installed\n--> Processing Dependency: libX11-common = 1.3-2.el6 for package: libX11-1.3-2.el6.x86_64\n--> Processing Dependency: libxcb.so.1()(64bit) for package: libX11-1.3-2.el6.x86_64\n---> Package libXcomposite.x86_64 0:0.4.1-2.el6 will be installed\n---> Package libXcursor.x86_64 0:1.1.10-2.el6 will be installed\n---> Package libXdamage.x86_64 0:1.1.2-1.el6 will be installed\n---> Package libXext.x86_64 0:1.1-3.el6 will be installed\n---> Package libXfixes.x86_64 0:4.0.4-1.el6 will be installed\n---> Package libXi.x86_64 0:1.3-3.el6 will be installed\n---> Package libXinerama.x86_64 0:1.1-1.el6 will be installed\n---> Package libXrandr.x86_64 0:1.3.0-4.el6 will be installed\n---> Package libXrender.x86_64 0:0.9.5-1.el6 will be installed\n---> Package libjpeg.x86_64 0:6b-46.el6 will be installed\n---> Package libpng.x86_64 2:1.2.49-1.el6_2 will be installed\n---> Package libtiff.x86_64 0:3.9.4-5.el6_2 will be installed\n---> Package ntsysv.x86_64 0:1.3.49.3-1.el6_2 will be installed\n--> Processing Dependency: chkconfig = 1.3.49.3-1.el6_2 for package: ntsysv-1.3.49.3-1.el6_2.x86_64\n---> Package openssh-clients.x86_64 0:5.3p1-70.el6_2.2 will be installed\n--> Processing Dependency: openssh = 5.3p1-70.el6_2.2 for package: openssh-clients-5.3p1-70.el6_2.2.x86_64\n---> Package pango.x86_64 0:1.28.1-3.el6_0.5 will be installed\n--> Processing Dependency: libthai >= 0.1.9 for package: pango-1.28.1-3.el6_0.5.x86_64\n--> Processing Dependency: libthai.so.0(LIBTHAI_0.1)(64bit) for package: pango-1.28.1-3.el6_0.5.x86_64\n--> Processing Dependency: libthai.so.0()(64bit) for package: pango-1.28.1-3.el6_0.5.x86_64\n--> Processing Dependency: libXft.so.2()(64bit) for package: pango-1.28.1-3.el6_0.5.x86_64\n--> Running transaction check\n---> Package avahi-libs.x86_64 0:0.6.25-11.el6 will be installed\n---> Package gnutls.x86_64 0:2.8.5-4.el6_2.2 will be installed\n--> Processing Dependency: libtasn1.so.3(LIBTASN1_0_3)(64bit) for package: gnutls-2.8.5-4.el6_2.2.x86_64\n--> Processing Dependency: libtasn1.so.3()(64bit) for package: gnutls-2.8.5-4.el6_2.2.x86_64\n---> Package libX11-common.noarch 0:1.3-2.el6 will be installed\n---> Package libXft.x86_64 0:2.1.13-4.1.el6 will be installed\n---> Package libthai.x86_64 0:0.1.12-3.el6 will be installed\n---> Package libxcb.x86_64 0:1.5-1.el6 will be installed\n--> Processing Dependency: libXau.so.6()(64bit) for package: libxcb-1.5-1.el6.x86_64\n---> Package ntsysv.x86_64 0:1.3.49.3-1.el6_2 will be installed\n--> Processing Dependency: chkconfig = 1.3.49.3-1.el6_2 for package: ntsysv-1.3.49.3-1.el6_2.x86_64\n---> Package openssh-clients.x86_64 0:5.3p1-70.el6_2.2 will be installed\n--> Processing Dependency: openssh = 5.3p1-70.el6_2.2 for package: openssh-clients-5.3p1-70.el6_2.2.x86_64\n---> Package pixman.x86_64 0:0.18.4-1.el6_0.1 will be installed\n--> Running transaction check\n---> Package libXau.x86_64 0:1.0.5-1.el6 will be installed\n---> Package libtasn1.x86_64 0:2.3-3.el6_2.1 will be installed\n---> Package ntsysv.x86_64 0:1.3.49.3-1.el6_2 will be installed\n--> Processing Dependency: chkconfig = 1.3.49.3-1.el6_2 for package: ntsysv-1.3.49.3-1.el6_2.x86_64\n---> Package openssh-clients.x86_64 0:5.3p1-70.el6_2.2 will be installed\n--> Processing Dependency: openssh = 5.3p1-70.el6_2.2 for package: openssh-clients-5.3p1-70.el6_2.2.x86_64\n--> Finished Dependency Resolution\nError: Package: openssh-clients-5.3p1-70.el6_2.2.x86_64 (rhel-x86_64-server-6)\n           Requires: openssh = 5.3p1-70.el6_2.2\n           Installed: openssh-5.3p1-76.el6.x86_64 (@anaconda-RedHatEnterpriseLinux-201204161311.x86_64/6.3)\n               openssh = 5.3p1-76.el6\n           Available: openssh-5.3p1-20.el6.x86_64 (rhel-x86_64-server-6)\n               openssh = 5.3p1-20.el6\n           Available: openssh-5.3p1-20.el6_0.3.x86_64 (rhel-x86_64-server-6)\n               openssh = 5.3p1-20.el6_0.3\n           Available: openssh-5.3p1-52.el6.x86_64 (rhel-x86_64-server-6)\n               openssh = 5.3p1-52.el6\n           Available: openssh-5.3p1-52.el6_1.2.x86_64 (rhel-x86_64-server-6)\n               openssh = 5.3p1-52.el6_1.2\n           Available: openssh-5.3p1-70.el6.x86_64 (rhel-x86_64-server-6)\n               openssh = 5.3p1-70.el6\n           Available: openssh-5.3p1-70.el6_2.2.x86_64 (rhel-x86_64-server-6)\n               openssh = 5.3p1-70.el6_2.2\nError: Package: ntsysv-1.3.49.3-1.el6_2.x86_64 (rhel-x86_64-server-6)\n           Requires: chkconfig = 1.3.49.3-1.el6_2\n           Installed: chkconfig-1.3.49.3-2.el6.x86_64 (@anaconda-RedHatEnterpriseLinux-201204161311.x86_64/6.3)\n               chkconfig = 1.3.49.3-2.el6\n           Available: chkconfig-1.3.47-1.el6.x86_64 (rhel-x86_64-server-6)\n               chkconfig = 1.3.47-1.el6\n           Available: chkconfig-1.3.49.3-1.el6_2.x86_64 (rhel-x86_64-server-6)\n               chkconfig = 1.3.49.3-1.el6_2\n You could try using --skip-broken to work around the problem\n You could try running: rpm -Va --nofiles --nodigest",
          "author": "plarsen@redhat.com",
          "creation_time": "20120426T19:27:01",
          "bug_id": "816249",
          "creator_id": "313668",
          "time": "20120426T19:27:01",
          "id": "4631746",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "plarsen@redhat.com",
          "text": "# rhn-channel -l\njbappplatform-5-x86_64-server-6-rpm\nrhel-x86_64-rhev-agent-6-server\nrhel-x86_64-rhev-mgmt-agent-6\nrhel-x86_64-server-6\nrhel-x86_64-server-6-rhevh\nrhel-x86_64-server-6-rhevm-3\nrhel-x86_64-server-optional-6\nrhel-x86_64-server-supplementary-6\nrhel-x86_64-server-v2vwin-6\nrhn-tools-rhel-x86_64-server-6\n\nI've run with just the server-6 channel and this doesn't make a difference on subsequent yum install calls.",
          "author": "plarsen@redhat.com",
          "creation_time": "20120426T19:28:06",
          "bug_id": "816249",
          "creator_id": "313668",
          "time": "20120426T19:28:06",
          "id": "4631754",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "plarsen@redhat.com",
          "text": "(In reply to comment #3)\n> It may be - I wasn't sure how to document the repo-state with RHN plugins. I've\n> just repeated the yum update -y that wouldn't succeed yesterday and now it\n> doesn't fail but it doesn't find any updates either.\n> \n> So it looks like it may have been repository related.\n\nOk - this was wrong. I cannot do yum install @base -y on the original node still. It's still failing, nothing changed.",
          "author": "plarsen@redhat.com",
          "creation_time": "20120426T19:33:30",
          "bug_id": "816249",
          "creator_id": "313668",
          "time": "20120426T19:33:30",
          "id": "4631785",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "plarsen@redhat.com",
          "text": "I've reduced the number of channels to:\n\nrhel-x86_64-server-6\nrhn-tools-rhel-x86_64-server-6\n\n\nStill same problem/error (did yum clean all first).",
          "author": "plarsen@redhat.com",
          "creation_time": "20120426T19:50:39",
          "bug_id": "816249",
          "creator_id": "313668",
          "time": "20120426T19:50:39",
          "id": "4631839",
          "is_private": "False"
        },
        {
          "count": "8",
          "creator": "plarsen@redhat.com",
          "text": "Looks like rhn_register is registering to the non-beta channels. Correcting this makes the updates work.",
          "author": "plarsen@redhat.com",
          "creation_time": "20120428T20:57:05",
          "bug_id": "816249",
          "creator_id": "313668",
          "time": "20120428T20:57:05",
          "id": "4636073",
          "is_private": "False"
        },
        {
          "count": "9",
          "creator": "pm-rhel@redhat.com",
          "text": "Since RHEL 6.3 External Beta has begun, and this bug remains\nunresolved, it has been rejected as it is not proposed as\nexception or blocker.\n\nRed Hat invites you to ask your support representative to\npropose this request, if appropriate and relevant, in the\nnext release of Red Hat Enterprise Linux.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120503T05:18:06",
          "bug_id": "816249",
          "creator_id": "193983",
          "time": "20120503T05:18:06",
          "id": "4646203",
          "is_private": "False"
        },
        {
          "count": "10",
          "creator": "jjaburek@redhat.com",
          "text": "I'm unable to reproduce this bug (2012-09-07).\n\n> 1. Create KVM with 4GB hdd, 1G RAM and one processor\n> 2. Use RHEL63 beta ISO to boot into installation\nI used PXE install of a final RHEL6.3 (not beta). At this point, the kickstart is the same as the one used for ISO install (used to be different), judging by the installation steps and the final installed system.\n\n> 3. Setup/enable network on boot\n> 4. Choose review disk layout, reduce swap to 256M and allocate all free memory to /\nI assumed disk space is meant by ''memory''.\n\n> 5. Write disk configuration to disk\n> 6. Pick ''Miminal'' from installation type choices\n> 7. Let installation complete\n> 8. On boot, use rhn_register (I use my RH account to register with with gives me a bunch of channels - see below)\nI had to enable the additional ''tools'' channel manually using the web interface to get two channels reported in comment 7.\n\n> 9. yum update -y  (succeeds)\nConfirmed, 11 packages updated successfully.\n\n> 10. yum install @base -y\nSucceeds as well, starts to download ''(1/167): ConsoleKit-libs-0.4.1-3.el6.x86_64.rpm''.",
          "author": "jjaburek@redhat.com",
          "creation_time": "20120907T08:19:12",
          "bug_id": "816249",
          "creator_id": "327802",
          "time": "20120907T08:19:12",
          "id": "5024311",
          "is_private": "False"
        },
        {
          "count": "11",
          "creator": "jjaburek@redhat.com",
          "text": "(In reply to comment #10)\n> > 9. yum update -y  (succeeds)\n> Confirmed, 11 packages updated successfully.\n> \n> > 10. yum install @base -y\n> Succeeds as well, starts to download ''(1/167):\n> ConsoleKit-libs-0.4.1-3.el6.x86_64.rpm''.\n\nI incorrectly assumed EUS rhn base channel (6.3.z).\n\nI have re-tested it with\n\n# rhn-channel -l\nrhel-x86_64-server-6\nrhn-tools-rhel-x86_64-server-6\n\nbut I was still unable to reproduce the bug.",
          "author": "jjaburek@redhat.com",
          "creation_time": "20120907T08:26:02",
          "bug_id": "816249",
          "creator_id": "327802",
          "time": "20120907T08:26:02",
          "id": "5024320",
          "is_private": "False"
        },
        {
          "count": "12",
          "creator": "plautrba@redhat.com",
          "text": "Given comments 10 and 11, I believe that this is not an issue anymore. Feel free to reopen if you find any other reproducer.",
          "author": "plautrba@redhat.com",
          "creation_time": "20120907T08:40:02",
          "bug_id": "816249",
          "creator_id": "270148",
          "time": "20120907T08:40:02",
          "id": "5024352",
          "is_private": "False"
        },
        {
          "count": "13",
          "creator": "plarsen@redhat.com",
          "text": "I can ''only'' reproduce the bug when I install with the repos set for the online repos, and not the offline CDROM repo. I enable both the core and updates repo on the last installation step, and all packages (with a few exceptions) are downloaded in their updated state instead of the outdated on the ISO image. I get a working system, but yum install @base fails (and other yum installs).\n\nAs a work-around I returned to install directly from the CD and then do a big yum update after install. I was trying to skip a step, which I couldn't make work.",
          "author": "plarsen@redhat.com",
          "creation_time": "20120907T12:52:53",
          "bug_id": "816249",
          "creator_id": "313668",
          "time": "20120907T12:52:53",
          "id": "5024880",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "x86_64",
      "version": [
        "6.3"
      ],
      "cc": [
        "jjaburek@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "jjaburek@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "qa",
        "redhat"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "Install @base causes dependency error",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "-",
          "name": "rhel-6.3.0",
          "modification_date": "20120503T05:18:01",
          "type_id": "276",
          "is_active": "0",
          "creation_date": "20120425T15:52:33",
          "id": "1036063",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20120425T16:08:44",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20120425T16:07:10",
          "id": "1036078",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20120425T16:25:41",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20120425T16:25:41",
          "id": "1036095",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20120907T12:52:53",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509320-s1XrWAP7-5PV91FUpKHitZKvAK4P4I1RjKtjQb4hJR8",
      "cf_partner": [],
      "cf_last_closed": "20120907T08:40:02",
      "resolution": "NOTABUG",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20120711T09:14:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "839218",
      "cf_release_notes": "",
      "priority": "unspecified",
      "severity": "urgent",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "pbabinca@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "pbabinca@redhat.com",
          "text": "As a result of DistCVS to dist-git migration audit, RCM Team has indicated that openssh may have inconsistent rhel-6.3 dist-git branch.\n\nCould you check the rhel-6.3 dist-git branch to make sure that there are no missing patches or other regressions?\n\nFor further information follow the dist-git verification how-to wiki:\nhttps://engineering.redhat.com/trac/rcm/wiki/DistGitIssues/HowToFix\n\nFollow up at dist-git-support@redhat.com if you have any questions.\n\nPlease DO NOT include this bug in any advisory (errata), it's internal only. Close the bug CLOSED CURRENTRELEASE once resolved.",
          "author": "pbabinca@redhat.com",
          "creation_time": "20120711T09:14:47",
          "bug_id": "839218",
          "creator_id": "324519",
          "time": "20120711T09:14:47",
          "id": "4892045",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this bug report was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120711T09:23:09",
          "bug_id": "839218",
          "creator_id": "193983",
          "time": "20120711T09:23:09",
          "id": "4892065",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "jpallich@redhat.com",
          "text": "Set directly to rhel-6.3.z+ since this is the dist-git-consistency bug.",
          "author": "jpallich@redhat.com",
          "creation_time": "20120711T10:11:21",
          "bug_id": "839218",
          "creator_id": "314851",
          "time": "20120711T10:11:21",
          "id": "4892182",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "plautrba@redhat.com",
          "text": "This should be already fixed by commit http://pkgs.devel.redhat.com/cgit/rpms/openssh/commit/?h=rhel-6.3&id=c481a011b11e0c837423a2efbfbbbf16703b287d\n\ncommit c481a011b11e0c837423a2efbfbbbf16703b287d\nAuthor: Jesse Keating <jkeating@redhat.com>\nDate:   Wed Apr 4 15:24:51 2012 -0700\n\n    Fix mangled files by dist-git conversion",
          "author": "plautrba@redhat.com",
          "creation_time": "20120711T10:30:58",
          "bug_id": "839218",
          "creator_id": "270148",
          "time": "20120711T10:30:58",
          "id": "4892216",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.3"
      ],
      "cc": [
        "jpallich@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "redhat"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "dist-git-consistency",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "Check consistency of dist-git branch head for openssh",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.3.z",
          "modification_date": "20120711T10:11:21",
          "type_id": "352",
          "is_active": "1",
          "creation_date": "20120711T09:27:07",
          "id": "1094008",
          "setter": "jpallich@redhat.com"
        },
        {
          "status": "+",
          "name": "blocker",
          "modification_date": "20120711T10:11:21",
          "type_id": "24",
          "is_active": "1",
          "creation_date": "20120711T10:11:21",
          "id": "1094058",
          "setter": "jpallich@redhat.com"
        }
      ],
      "last_change_time": "20120711T10:30:58",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509320-w1RMszIyiLoph7OL1wwlRhsbhcWro1MIpEmrGbU6WX0",
      "cf_partner": [],
      "cf_last_closed": "20120711T10:30:58",
      "resolution": "CURRENTRELEASE",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20120830T06:05:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "852962",
      "cf_release_notes": "",
      "priority": "unspecified",
      "severity": "low",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "pattonme@yahoo.com",
      "comments": [
        {
          "count": "0",
          "creator": "pattonme@yahoo.com",
          "text": "Description of problem:\n\nThe start order of SSHd is way late and is killed too early when booting/shutting down a system. currently it's '55 25' it should be something akin to '15 85'. There are many needless things ahead of SSHd; In particular the frightfully unreliable cluster daemons like cman and clvmd. On shutdown, again we have the badly behaved cluster subsystems, gfs2 etc. that have a nasty tendency to just hang forever. With SSHd long dead there is no recourse except to resort to fencing or other brutal methods when sshd should still and can be an option.\n\nYes, I'm aware of bug 494937, but talk about a pitiful hack. Nor did it deal with shutdown problems. Clustering is like NFSd, it is a system ADD-ON, not a core function like SSHd.\n\n[ aside: cman and clvmd properly belong at level=3. Just imagine the fun when the cluster tries to start at runlevel=2 (the current wrong-headed default) and all kinds of block devices (eg. iscsi) aren't available. Doesn't anybody bother to sanity-check runlevels anymore? ]\n\nVersion-Release number of selected component (if applicable):\nall\n\nHow reproducible:\nevery time\n\nSteps to Reproduce:\n1. boot/shutdown the system\n  \nActual results:\nSSHd not started right after network. SSHd shut down while a multitude of network related processes are still open and some are well known to hang forever.\n\nExpected results:\n\nSSHd should be available as soon as the network is up and turned off right before the network is torn down.\n\nAdditional info:",
          "author": "pattonme@yahoo.com",
          "creation_time": "20120830T06:05:58",
          "bug_id": "852962",
          "creator_id": "192333",
          "time": "20120830T06:05:58",
          "id": "5006512",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this bug report was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120830T06:10:52",
          "bug_id": "852962",
          "creator_id": "193983",
          "time": "20120830T06:10:52",
          "id": "5006516",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "plautrba@redhat.com",
          "text": "I'm afraid that we can't change default this values during this period of the release cycle. But you can do a simple local workaround using a chkconfig ovveride file, see chkconfig(8):\n\n# ls /etc/rc.d/rc3.d/S*sshd\n/etc/rc.d/rc3.d/S55sshd\n# echo '# chkconfig: 2345 15 85' > /etc/chkconfig.d/sshd\n# chkconfig --del sshd && chkconfig --add sshd\n# ls /etc/rc.d/rc3.d/S*sshd\n/etc/rc.d/rc3.d/S15sshd\n\n\n> \n> [ aside: cman and clvmd properly belong at level=3. Just imagine the fun\n> when the cluster tries to start at runlevel=2 (the current wrong-headed\n> default) and all kinds of block devices (eg. iscsi) aren't available.\n> Doesn't anybody bother to sanity-check runlevels anymore? ]\n\nI'm not sure what do you mean. Both cman and clvmd have chkconfig comments like:\n# chkconfig: - 24 76\n\nwhat means that this services are disabled by default and it's up to an administrator to enable them in the right runlevels.",
          "author": "plautrba@redhat.com",
          "creation_time": "20120903T14:50:45",
          "bug_id": "852962",
          "creator_id": "270148",
          "time": "20120903T14:50:45",
          "id": "5014183",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.3"
      ],
      "cc": [],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "SSHD started way too late, and stopped too soon",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.4.0",
          "modification_date": "20120830T06:10:50",
          "type_id": "326",
          "is_active": "0",
          "creation_date": "20120830T06:10:50",
          "id": "1130152",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20120830T06:28:03",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20120830T06:25:54",
          "id": "1130154",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20120830T06:26:11",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20120830T06:26:11",
          "id": "1130156",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "qa_ack",
          "modification_date": "20120830T06:26:29",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20120830T06:26:29",
          "id": "1130158",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20120903T14:50:45",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509320-JvRu_62WdJPAFerIAHDE0UuFtetITrstFzMxiI8EexE",
      "cf_partner": [],
      "cf_last_closed": "20120903T14:50:45",
      "resolution": "WONTFIX",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20120904T06:19:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "854125",
      "cf_release_notes": "",
      "priority": "unspecified",
      "severity": "unspecified",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "xutian@redhat.com",
      "comments": [
        {
          "count": "0",
          "attachment_id": "609553",
          "author": "xutian@redhat.com",
          "text": "Created attachment 609553\nstrace.log\n\nDescription of problem:\n\nscp pasued when I use '' -r -v -f'' option to copy files from local host to a remote host; if we hit ''Enter'' double hit ''Enter'' in keyboard  scp exit without any error message; check return code with ''echo $?'' it return 1;\n\nI can ssh from local host to remote host,so no networking issue between localhost and remote host; and if I remove ''-f'' option, everything work as expect;\n\nVersion-Release number of selected component (if applicable):\n\n\nHow reproducible:\n\n100%\n\nSteps to Reproduce:\n1. open a terminal and executed ''scp /root/*.log  root@<remote_host_IP>:/tmp/''\n2. wait ro read password\n\n  \nActual results:\n\nssh paused\n\nExpected results:\n\nask use to input password,then begin to copy files\n\nAdditional info:\n\nI can't found ''-f'' option in man package of scp , if ''-f'' option is not support, scp should print error message, and print usage info;\n\nstart scp with strace, it look scp alway wait for read, please see attachment",
          "creator": "xutian@redhat.com",
          "creation_time": "20120904T06:19:40",
          "bug_id": "854125",
          "creator_id": "332682",
          "time": "20120904T06:19:40",
          "id": "5015001",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "xutian@redhat.com",
          "text": "packages:(In reply to comment #0)\n> Created attachment 609553 [details]\n> strace.log\n> \n> Description of problem:\n> \n> scp pasued when I use '' -r -v -f'' option to copy files from local host to a\n> remote host; if we hit ''Enter'' double hit ''Enter'' in keyboard  scp exit\n> without any error message; check return code with ''echo $?'' it return 1;\n> \n> I can ssh from local host to remote host,so no networking issue between\n> localhost and remote host; and if I remove ''-f'' option, everything work as\n> expect;\n> \n> Version-Release number of selected component (if applicable):\n> \n> \n> How reproducible:\n> \n> 100%\n> \n> Steps to Reproduce:\n> 1. open a terminal and executed ''scp /root/*.log \n> root@<remote_host_IP>:/tmp/''\n> 2. wait ro read password\n> \n>   \n> Actual results:\n> \n> ssh paused\n> \n> Expected results:\n> \n> ask use to input password,then begin to copy files\n> \n> Additional info:\n> \n> I can't found ''-f'' option in man package of scp , if ''-f'' option is not\n> support, scp should print error message, and print usage info;\n> \n> start scp with strace, it look scp alway wait for read, please see attachment\n\npackages version:openssh-clients-5.3p1-81.el6.x86_64",
          "author": "xutian@redhat.com",
          "creation_time": "20120904T06:23:06",
          "bug_id": "854125",
          "creator_id": "332682",
          "time": "20120904T06:23:06",
          "id": "5015006",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this bug report was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120904T06:33:23",
          "bug_id": "854125",
          "creator_id": "193983",
          "time": "20120904T06:33:23",
          "id": "5015026",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "plautrba@redhat.com",
          "text": "This is not documented intentionally  as it's used only for internal purposes. See https://blogs.oracle.com/janp/entry/how_the_scp_protocol_works",
          "author": "plautrba@redhat.com",
          "creation_time": "20121011T16:13:47",
          "bug_id": "854125",
          "creator_id": "270148",
          "time": "20121011T16:13:47",
          "id": "5106060",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.4"
      ],
      "cc": [],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "scp paused when used ''-f''  option",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.4.0",
          "modification_date": "20120904T06:33:21",
          "type_id": "326",
          "is_active": "0",
          "creation_date": "20120904T06:33:21",
          "id": "1132890",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20120904T06:49:40",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20120904T06:47:13",
          "id": "1132896",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20120904T06:47:29",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20120904T06:47:29",
          "id": "1132897",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "qa_ack",
          "modification_date": "20120904T06:47:45",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20120904T06:47:45",
          "id": "1132898",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20121011T16:13:47",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509320-KLIoIMJWJXRMEyFSWnqJnd92n3qIKcwNWl4hdHGSuLs",
      "cf_partner": [],
      "cf_last_closed": "20121011T16:13:47",
      "resolution": "NOTABUG",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20120916T20:40:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "None",
          "ext_bz_bug_id": "213077",
          "bug_id": "857760",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "69",
          "type": {
            "must_send": "False",
            "description": "TCMS Test Case",
            "url": "https://tcms.engineering.redhat.com",
            "can_get": "False",
            "id": "69",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          },
          "id": "83595"
        }
      ],
      "id": "857760",
      "cf_release_notes": "",
      "priority": "unspecified",
      "severity": "low",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "tigalch@tigalch.org",
      "comments": [
        {
          "count": "0",
          "creator": "tigalch@tigalch.org",
          "text": "Description of problem:\nThe howto /usr/share/doc/openssh-ldap-5.3p1/HOWTO.ldap-keys seems to contain typos that affect the usability of the HWOWTO:\n\nThe HOWTO suggests to include the following line in sshd_config :\n\nAuthorizedKeysCommand ''/usr/libexec/openssh/ssh-ldap-wrapper''\n\nThe correct line is :\n\nAuthorizedKeysCommand /usr/libexec/openssh/ssh-ldap-wrapper\n\nWithout ''''. When using '''', sshd skip the ldap-warpper and directly tries to read the ~/.ssh/authorized_keys file\n\nVersion-Release number of selected component (if applicable):\nopenssh-ldap-5.3p1-81.el6.x86_64\nopenssh-server-5.3p1-81.el6.x86_64\nopenssh-clients-5.3p1-81.el6.x86_64\nopenssh-5.3p1-81.el6.x86_64\n\n\nHow reproducible:\nalways\n\nSteps to Reproduce:\n1. install package openssh-ldap\n2. search for 'AuthorizedKeys' in the HOWTO mentioned above\n  \nActual results:\n\n\nExpected results:\n\n\nAdditional info:",
          "author": "tigalch@tigalch.org",
          "creation_time": "20120916T20:40:04",
          "bug_id": "857760",
          "creator_id": "335777",
          "time": "20120916T20:40:04",
          "id": "5043084",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this bug report was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120916T20:42:39",
          "bug_id": "857760",
          "creator_id": "193983",
          "time": "20120916T20:42:39",
          "id": "5043086",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "mvadkert@redhat.com",
          "text": "QA_ACK for RHEL6.4\n\n@QE:\ngradeA, simple test - see description",
          "author": "mvadkert@redhat.com",
          "creation_time": "20121008T07:04:57",
          "bug_id": "857760",
          "creator_id": "271572",
          "time": "20121008T07:04:57",
          "id": "5093015",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2012:14032-01\nhttp://errata.devel.redhat.com/errata/show/14032",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20121009T16:38:05",
          "bug_id": "857760",
          "creator_id": "241731",
          "time": "20121009T16:38:05",
          "id": "5098125",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2012:14032-01: \nhttp://errata.devel.redhat.com/errata/stateview/14032\n\nSuccessfully reproduced and verified via an automatic test on all relevant architectures.\n\nhttps://beaker.engineering.redhat.com/tasks/executed?recipe_task_id=9208581&recipe_task_id=9208577&recipe_task_id=9153902&recipe_task_id=9153898&recipe_task_id=9153878&recipe_task_id=9153874&recipe_task_id=9153866&recipe_task_id=9153862",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20121119T16:13:18",
          "bug_id": "857760",
          "creator_id": "241731",
          "time": "20121119T16:13:18",
          "id": "5211437",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHSA-2013-0519.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20130221T10:28:10",
          "bug_id": "857760",
          "creator_id": "241731",
          "time": "20130221T10:28:10",
          "id": "5529765",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.3"
      ],
      "cc": [
        "jjaburek@redhat.com",
        "mvadkert@redhat.com",
        "pvrabec@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "965038"
      ],
      "qa_contact": "jjaburek@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "Error/typo in openssh-ldap HOWTO file",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20121008T07:04:57",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20121008T07:04:57",
          "id": "1156783",
          "setter": "mvadkert@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.4.0",
          "modification_date": "20121008T07:14:20",
          "type_id": "326",
          "is_active": "0",
          "creation_date": "20120916T20:42:37",
          "id": "1142914",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20120916T21:09:09",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20120916T21:06:37",
          "id": "1142917",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20121004T15:44:48",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20120916T21:06:54",
          "id": "1142919",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20121008T07:04:57",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20120916T21:07:14",
          "id": "1142921",
          "setter": "mvadkert@redhat.com"
        }
      ],
      "last_change_time": "20130520T10:52:23",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509320-plLYSx5UpVnkwDt6N6aFL_NT_gxADv44rUt-TeEjd8c",
      "cf_partner": [],
      "cf_last_closed": "20130221T10:28:10",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "classification": "Red Hat",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_story_points": "---",
      "cf_conditional_nak": [],
      "creation_time": "20121009T19:43:00",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "summary": "SElinux patch introduces a code path for a null pointer reference - openssh-5.3p1-81",
      "external_bugs": [
        {
          "ext_status": "None",
          "ext_bz_bug_id": "6006",
          "bug_id": "864632",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "34",
          "type": {
            "must_send": "False",
            "description": "CentOS",
            "url": "http://bugs.centos.org",
            "can_get": "False",
            "id": "34",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "http://bugs.centos.org/view.php?id=%id%"
          },
          "id": "80339"
        }
      ],
      "id": "864632",
      "cf_release_notes": "",
      "priority": "unspecified",
      "cf_internal_whiteboard": "",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "herrold@owlriver.com",
      "comments": [
        {
          "count": "0",
          "creator": "herrold@owlriver.com",
          "text": "Description of problem:\n\nSElinux patch (improperly) introduces a code path for a null pointer reference\n\nVersion-Release number of selected component (if applicable):\n\nopenssh-5.3p1-81\n\nHow reproducible:\n\nin the patched ssh.c\n\n791         * Now that we are back to our own permissions, create ~/.ssh\n792         * directory if it doesn't already exist.\n793         */\n794        r = snprintf(buf, sizeof buf, ''%s%s%s'', pw->pw_dir,\n795            strcmp(pw->pw_dir, ''/'') ? ''/'' : '''', _PATH_SSH_USER_DIR);\n796        if (r > 0 && (size_t)r < sizeof(buf) && stat(buf, &st) < 0) {\n797            char *scon;\n798\n799            matchpathcon(buf, 0700, &scon);\n800            setfscreatecon(scon);\n\nmatchpathcon doesn't change the value of scon so whatever is in scon at run\ntime (i.e. An uninitialized variable) gets passed to setfscreatecon where\neventually we get:\n\nProgram terminated with signal 11, Segmentation fault.\n#0  __strdup (s=0x3ff00000000 <Address 0x3ff00000000 out of bounds>) at\nstrdup.c:42\n42      size_t len = strlen (s) + 1;\n(gdb) up\n#1  0x000003fffd285330 in selinux_trans_to_raw_context (\n    trans=0x3ff00000000 <Address 0x3ff00000000 out of bounds>,\nrawp=0x3ffffe33ee8) at setrans_client.c:290\n290            *rawp = strdup(trans);\n(gdb) p trans\n$1 = 0x3ff00000000 <Address 0x3ff00000000 out of bounds>\n(gdb) p rcontext\n$3 = (security_context_t) 0x3ff00000000 <Address 0x3ff00000000 out of\nbounds>\n(gdb) up\n#3  0x000002aab834c156 in main (ac=<value optimized out>, av=<value\noptimized out>) at ssh.c:800\n800            setfscreatecon(scon);\n(gdb) p scon\n$4 = 0x3ff00000000 <Address 0x3ff00000000 out of bounds>\n\n\nexposed doing: \n\nAs root: sudo -u nobody ssh <sshoptions> <target>\n\n\nsuspect code and fix is this:\n\n- char *scon;\n+ char *scon = NULL;\n\nCredit to neale@sinenomine.net for the analysis ... reported to the CentOS tracker, but I have not noted the potential security aspect there (segfault)\n\nhttp://bugs.centos.org/view.php?id=6006",
          "author": "herrold@owlriver.com",
          "creation_time": "20121009T19:43:57",
          "bug_id": "864632",
          "creator_id": "338",
          "time": "20121009T19:43:57",
          "id": "5098694",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "herrold@owlriver.com",
          "text": "questionable patch is:  openssh-5.3p1-selabel.patch",
          "author": "herrold@owlriver.com",
          "creation_time": "20121009T19:46:54",
          "bug_id": "864632",
          "creator_id": "338",
          "time": "20121009T19:46:54",
          "id": "5098702",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this bug report was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20121009T19:51:03",
          "bug_id": "864632",
          "creator_id": "193983",
          "time": "20121009T19:51:03",
          "id": "5098704",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "vdanen@redhat.com",
          "text": "I don't believe this is a security issue, as it only crashes the ssh client, not the server.  This is similar to CVE-2006-4925 (also a client-side NULL pointer dereference), however we did not consider that to be a security flaw either, see:\n\nhttps://access.redhat.com/security/cve/CVE-2006-4925\n\nHaving said that, it is obviously incorrect behaviour and should be fixed.\n\nI'm going to remove the security-related bits from this bug, but I did keep it private since it was filed as such (although I personally think there is no harm in having this bug public).",
          "author": "vdanen@redhat.com",
          "creation_time": "20121009T20:51:22",
          "bug_id": "864632",
          "creator_id": "275188",
          "time": "20121009T20:51:22",
          "id": "5098816",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "plautrba@redhat.com",
          "text": "\n\n*** This bug has been marked as a duplicate of bug 836655 ***",
          "author": "plautrba@redhat.com",
          "creation_time": "20121010T12:35:36",
          "bug_id": "864632",
          "creator_id": "270148",
          "time": "20121010T12:35:36",
          "id": "5101378",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.3"
      ],
      "cc": [
        "herrold@owlriver.com",
        "vdanen@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_regression_status": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "product": "Red Hat Enterprise Linux 6",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "target_release": [
        "---"
      ],
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "devel"
      ],
      "cf_documentation_action": "---",
      "sub_components": {},
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "op_sys": "Linux",
      "alias": [],
      "dupe_of": "836655",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.4.0",
          "modification_date": "20121009T19:51:00",
          "type_id": "326",
          "is_active": "0",
          "creation_date": "20121009T19:51:00",
          "id": "1158448",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20121009T20:07:53",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20121009T20:05:46",
          "id": "1158449",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20121009T20:06:00",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20121009T20:06:00",
          "id": "1158450",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "qa_ack",
          "modification_date": "20121009T20:06:15",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20121009T20:06:15",
          "id": "1158451",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20121010T12:35:36",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509320-YWjcFdV6kvhrvbi_g1o3ENklk0IiqN9Aih-rwq-Hkak",
      "cf_partner": [],
      "cf_last_closed": "20121010T12:35:36",
      "resolution": "DUPLICATE",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20121025T06:18:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "None",
          "ext_bz_bug_id": "224617",
          "bug_id": "869903",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "69",
          "type": {
            "must_send": "False",
            "description": "TCMS Test Case",
            "url": "https://tcms.engineering.redhat.com",
            "can_get": "False",
            "id": "69",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          },
          "id": "83562"
        }
      ],
      "id": "869903",
      "cf_release_notes": "",
      "priority": "unspecified",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-83.el6",
      "creator": "netwiz@crc.id.au",
      "comments": [
        {
          "count": "0",
          "creator": "netwiz@crc.id.au",
          "text": "Description of problem:\nI have set up some critical machines to use publickey + password authentication. I have done this by adding the following to /etc/ssh/sshd_config:\n        RequiredAuthentications2 publickey,password\n\nI have certain hosts that run automated tasks that require JUST publickey auth. As such, these scripts are currently broken.\n\nI have set up a Match block as follows:\nMatch Address !1.2.3.4/32,*\n        X11Forwarding no\n        AllowTcpForwarding no\n        RequiredAuthentications2 publickey,password\n\nThis should allow publickey auth (as the default) to the specific hosts excluded, and require publickey + password for all other hosts.\n\nWhen trying to run a script that uses a public key, I get the following returned:\nAuthenticated with partial success.\nPermission denied (password).\n\nThe documentation in 'man sshd_config' shows:\n             Only a subset of keywords may be used on the lines following a Match keyword.  Available keywords\n             are AllowAgentForwarding, AllowTcpForwarding, Banner, ChrootDirectory, ForceCommand, GatewayPorts,\n             GSSAPIAuthentication, HostbasedAuthentication, KbdInteractiveAuthentication,\n             KerberosAuthentication, KerberosUseKuserok, MaxAuthTries, MaxSessions, PubkeyAuthentication,\n             AuthorizedKeysCommand, AuthorizedKeysCommandRunAs, PasswordAuthentication, PermitEmptyPasswords,\n             PermitOpen, PermitRootLogin, RequiredAuthentications1, RequiredAuthentications2,\n             RhostsRSAAuthentication, RSAAuthentication, X11DisplayOffset, X11Forwarding and X11UseLocalHost.\n\nThis configuration should therefore work.\n\nVersion-Release number of selected component (if applicable):\n# rpm -qa | grep openssh\nopenssh-5.3p1-81.el6.x86_64\nopenssh-clients-5.3p1-81.el6.x86_64\nopenssh-server-5.3p1-81.el6.x86_64",
          "author": "netwiz@crc.id.au",
          "creation_time": "20121025T06:18:54",
          "bug_id": "869903",
          "creator_id": "193314",
          "time": "20121025T06:18:54",
          "id": "5144555",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "netwiz@crc.id.au",
          "text": "As a side note, I have also tried matching the single address and using ''RequiredAuthentications2 publickey'', however I still get a rejection stating further auth was required (password).\n\nConfig also tested:\n\nRequiredAuthentications2 publickey,password\n\nMatch Address 1.2.3.4/32\n        X11Forwarding no\n        AllowTcpForwarding no\n        RequiredAuthentications2 publickey",
          "author": "netwiz@crc.id.au",
          "creation_time": "20121025T06:21:05",
          "bug_id": "869903",
          "creator_id": "193314",
          "time": "20121025T06:21:05",
          "id": "5144556",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this bug report was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20121025T06:33:31",
          "bug_id": "869903",
          "creator_id": "193983",
          "time": "20121025T06:33:31",
          "id": "5144597",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "netwiz@crc.id.au",
          "text": "Added to #872608 filed against Fedora:\n\nWhile I'm not 100% sure of the syntax here, I've also tried the following config:\n\nMatch Address 203.56.246.89\n        X11Forwarding no\n        AllowTcpForwarding no\n        RequiredAuthentications2 publickey\n\nMatch Address *\n        X11Forwarding no\n        AllowTcpForwarding no\n        RequiredAuthentications2 publickey,password\n\nThis has no effect any anyone can log in via public key only.",
          "author": "netwiz@crc.id.au",
          "creation_time": "20121105T04:52:47",
          "bug_id": "869903",
          "creator_id": "193314",
          "time": "20121105T04:52:47",
          "id": "5169660",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "plautrba@redhat.com",
          "text": "For further reproducers see bug #872608. There's an issue in parsing config file and Match subsections. I'll prepare fix soon. Also qe test would need to be changed according to the new reproducers.",
          "author": "plautrba@redhat.com",
          "creation_time": "20121108T12:11:09",
          "bug_id": "869903",
          "creator_id": "270148",
          "time": "20121108T12:11:09",
          "id": "5181172",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "ksrot@redhat.com",
          "text": "qa_ack+ for 6.4",
          "author": "ksrot@redhat.com",
          "creation_time": "20121109T12:40:14",
          "bug_id": "869903",
          "creator_id": "286283",
          "time": "20121109T12:40:14",
          "id": "5184715",
          "is_private": "True"
        },
        {
          "count": "6",
          "attachment_id": "643648",
          "author": "plautrba@redhat.com",
          "text": "Created attachment 643648\nfixed required authentications patch",
          "creator": "plautrba@redhat.com",
          "creation_time": "20121112T17:49:28",
          "bug_id": "869903",
          "creator_id": "270148",
          "time": "20121112T17:49:28",
          "id": "5192160",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from MODIFIED to ON_QA status by the Errata System: \nAdvisory RHBA-2012:14032-01: \nhttp://errata.devel.redhat.com/errata/stateview/14032",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20121112T21:41:03",
          "bug_id": "869903",
          "creator_id": "241731",
          "time": "20121112T21:41:03",
          "id": "5192833",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2012:14032-01: \nhttp://errata.devel.redhat.com/errata/stateview/14032\n\nVerified with:\n/CoreOS/openssh/Regression/bz869903-RequiredAuthentications2-does-not-work-in-Match\n\nOLD: openssh-5.3p1-81.el6_3\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Setup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Checking for the presence of openssh rpm\n:: [   PASS   ] :: Running 'useradd bz869903'\n:: [   PASS   ] :: Running 'echo bz869903 | passwd --stdin bz869903'\n:: [   PASS   ] :: Running 'cp *.exp /home/bz869903'\n:: [   PASS   ] :: Generate default SSH keys\n:: [   PASS   ] :: Copy the default SSH keys\n:: [   LOG    ] :: Duration: 5s\n:: [   LOG    ] :: Assertions: 6 good, 0 bad\n:: [   PASS   ] :: RESULT: Setup\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   FAIL   ] :: Try to connect with pubkey (Expected 0, got 1)\n:: [   LOG    ] :: Duration: 1s\n:: [   LOG    ] :: Assertions: 0 good, 1 bad\n:: [   FAIL   ] :: RESULT: Test\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Cleanup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'userdel -rf bz869903'\n:: [   LOG    ] :: Duration: 1s\n:: [   LOG    ] :: Assertions: 1 good, 0 bad\n:: [   PASS   ] :: RESULT: Cleanup\n\n\nNEW: openssh-5.3p1-83.el6\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Setup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Checking for the presence of openssh rpm\n:: [   PASS   ] :: Running 'useradd bz869903'\n:: [   PASS   ] :: Running 'echo bz869903 | passwd --stdin bz869903'\n:: [   PASS   ] :: Running 'cp *.exp /home/bz869903'\n:: [   PASS   ] :: Generate default SSH keys\n:: [   PASS   ] :: Copy the default SSH keys\n:: [   LOG    ] :: Duration: 5s\n:: [   LOG    ] :: Assertions: 6 good, 0 bad\n:: [   PASS   ] :: RESULT: Setup\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Try to connect with pubkey\n:: [   LOG    ] :: Duration: 1s\n:: [   LOG    ] :: Assertions: 1 good, 0 bad\n:: [   PASS   ] :: RESULT: Test\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Cleanup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'userdel -rf bz869903'\n:: [   LOG    ] :: Duration: 1s\n:: [   LOG    ] :: Assertions: 1 good, 0 bad\n:: [   PASS   ] :: RESULT: Cleanup",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20121115T09:22:54",
          "bug_id": "869903",
          "creator_id": "241731",
          "time": "20121115T09:22:54",
          "id": "5201248",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "pkis@redhat.com",
          "text": "The whole log from verification can be found here:\nhttps://beaker.engineering.redhat.com/jobs/333808",
          "author": "pkis@redhat.com",
          "creation_time": "20121115T09:38:54",
          "bug_id": "869903",
          "creator_id": "324351",
          "time": "20121115T09:38:54",
          "id": "5201292",
          "is_private": "True"
        },
        {
          "count": "10",
          "creator": "netwiz@crc.id.au",
          "text": "I've done a bit more testing and I can say that this doesn't *always* work. For example:\n\nHost: 10.1.1.1 has the following in sshd_config:\nRequiredAuthentications2 publickey,password\nMatch Address 203.56.246.89/32\n        RequiredAuthentications2 publickey\n\nWhen I SSH in from 203.56.246.89, I get:\n# ssh 10.1.1.1\nAuthenticated with partial success.\nroot@10.1.1.1's password:\n\nThis shouldn't happen.\n\n# ifconfig | grep addr\neth0      Link encap:Ethernet  HWaddr 00:16:36:35:35:09\n          inet addr:203.56.246.89  Bcast:203.56.246.95  Mask:255.255.255.240\n\n# ssh -v 10.1.1.1\n....\ndebug1: Authentications that can continue: publickey,password\ndebug1: Next authentication method: publickey\ndebug1: Offering public key: /root/.ssh/identity\ndebug1: Server accepts key: pkalg ssh-rsa blen 1045\ndebug1: read PEM private key done: type RSA\nAuthenticated with partial success.\ndebug1: Authentications that can continue: password\ndebug1: Next authentication method: password\nroot@10.1.1.1's password:\n\nOn 10.1.1.1:\n# rpm -qa | grep openssh\nopenssh-server-5.3p1-81.el6_3.x86_64\nopenssh-clients-5.3p1-81.el6_3.x86_64\nopenssh-5.3p1-81.el6_3.x86_64",
          "author": "netwiz@crc.id.au",
          "creation_time": "20121121T13:53:44",
          "bug_id": "869903",
          "creator_id": "193314",
          "time": "20121121T13:53:44",
          "id": "5217868",
          "is_private": "False"
        },
        {
          "count": "11",
          "creator": "netwiz@crc.id.au",
          "text": "Output from the SSH server side (10.1.1.1) with DEBUG1 set:\n\nNov 22 11:06:00 xenhost sshd[5256]: Connection from 203.56.246.89 port 58966\nNov 22 11:06:00 xenhost sshd[5256]: debug1: Client protocol version 2.0; client software version OpenSSH_5.3\nNov 22 11:06:00 xenhost sshd[5256]: debug1: match: OpenSSH_5.3 pat OpenSSH*\nNov 22 11:06:00 xenhost sshd[5256]: debug1: Enabling compatibility mode for protocol 2.0\nNov 22 11:06:00 xenhost sshd[5256]: debug1: Local version string SSH-2.0-OpenSSH_5.3\nNov 22 11:06:00 xenhost sshd[5257]: debug1: permanently_set_uid: 74/74\nNov 22 11:06:00 xenhost sshd[5257]: debug1: list_hostkey_types: ssh-rsa,ssh-dss\nNov 22 11:06:00 xenhost sshd[5257]: debug1: SSH2_MSG_KEXINIT sent\nNov 22 11:06:00 xenhost sshd[5257]: debug1: SSH2_MSG_KEXINIT received\nNov 22 11:06:00 xenhost sshd[5257]: debug1: kex: client->server aes128-ctr hmac-md5 none\nNov 22 11:06:00 xenhost sshd[5257]: debug1: kex: server->client aes128-ctr hmac-md5 none\nNov 22 11:06:00 xenhost sshd[5257]: debug1: SSH2_MSG_KEX_DH_GEX_REQUEST received\nNov 22 11:06:00 xenhost sshd[5257]: debug1: SSH2_MSG_KEX_DH_GEX_GROUP sent\nNov 22 11:06:00 xenhost sshd[5257]: debug1: expecting SSH2_MSG_KEX_DH_GEX_INIT\nNov 22 11:06:00 xenhost sshd[5257]: debug1: SSH2_MSG_KEX_DH_GEX_REPLY sent\nNov 22 11:06:00 xenhost sshd[5257]: debug1: SSH2_MSG_NEWKEYS sent\nNov 22 11:06:00 xenhost sshd[5257]: debug1: expecting SSH2_MSG_NEWKEYS\nNov 22 11:06:00 xenhost sshd[5257]: debug1: SSH2_MSG_NEWKEYS received\nNov 22 11:06:00 xenhost sshd[5257]: debug1: KEX done\nNov 22 11:06:00 xenhost sshd[5257]: debug1: userauth-request for user root service ssh-connection method none\nNov 22 11:06:00 xenhost sshd[5257]: debug1: attempt 0 failures 0\nNov 22 11:06:00 xenhost sshd[5256]: debug1: connection from 203.56.246.89 matched 'Address 203.56.246.89/32' at line 142\nNov 22 11:06:00 xenhost sshd[5256]: debug1: PAM: initializing for ''root''\nNov 22 11:06:00 xenhost sshd[5257]: debug1: userauth-request for user root service ssh-connection method publickey\nNov 22 11:06:00 xenhost sshd[5257]: debug1: attempt 1 failures 0\nNov 22 11:06:00 xenhost sshd[5257]: debug1: test whether pkalg/pkblob are acceptable\nNov 22 11:06:00 xenhost sshd[5256]: debug1: PAM: setting PAM_RHOST to ''tsm.vm.crc.id.au''\nNov 22 11:06:00 xenhost sshd[5256]: debug1: PAM: setting PAM_TTY to ''ssh''\nNov 22 11:06:00 xenhost sshd[5256]: debug1: temporarily_use_uid: 0/0 (e=0/0)\nNov 22 11:06:00 xenhost sshd[5256]: debug1: trying public key file /root/.ssh/authorized_keys\nNov 22 11:06:00 xenhost sshd[5256]: debug1: fd 4 clearing O_NONBLOCK\nNov 22 11:06:00 xenhost sshd[5256]: debug1: matching key found: file /root/.ssh/authorized_keys, line 2\nNov 22 11:06:00 xenhost sshd[5256]: Found matching RSA key: ef:82:51:b0:dd:0d:b7:3d:ca:b1:67:23:d0:06:7b:7a\nNov 22 11:06:00 xenhost sshd[5256]: debug1: restore_uid: 0/0\nNov 22 11:06:00 xenhost sshd[5257]: Postponed publickey for root from 203.56.246.89 port 58966 ssh2\nNov 22 11:06:00 xenhost sshd[5257]: debug1: userauth-request for user root service ssh-connection method publickey\nNov 22 11:06:00 xenhost sshd[5257]: debug1: attempt 2 failures 0\nNov 22 11:06:00 xenhost sshd[5256]: debug1: temporarily_use_uid: 0/0 (e=0/0)\nNov 22 11:06:00 xenhost sshd[5256]: debug1: trying public key file /root/.ssh/authorized_keys\nNov 22 11:06:00 xenhost sshd[5256]: debug1: fd 4 clearing O_NONBLOCK\nNov 22 11:06:00 xenhost sshd[5256]: debug1: matching key found: file /root/.ssh/authorized_keys, line 2\nNov 22 11:06:00 xenhost sshd[5256]: Found matching RSA key: ef:82:51:b0:dd:0d:b7:3d:ca:b1:67:23:d0:06:7b:7a\nNov 22 11:06:00 xenhost sshd[5256]: debug1: restore_uid: 0/0\nNov 22 11:06:00 xenhost sshd[5256]: debug1: ssh_rsa_verify: signature correct\nNov 22 11:06:00 xenhost sshd[5256]: debug1: do_pam_account: called\nNov 22 11:06:00 xenhost sshd[5256]: Accepted publickey for root from 203.56.246.89 port 58966 ssh2\nNov 22 11:06:05 xenhost sshd[5257]: Connection closed by 203.56.246.89\nNov 22 11:06:05 xenhost sshd[5257]: debug1: do_cleanup\nNov 22 11:06:05 xenhost sshd[5256]: debug1: do_cleanup\nNov 22 11:06:05 xenhost sshd[5256]: debug1: PAM: cleanup\n\nSo. It does see that the address matches. It also sets the userauth-request to publickey. It then accepts the key, but still wants password auth.",
          "author": "netwiz@crc.id.au",
          "creation_time": "20121122T00:08:44",
          "bug_id": "869903",
          "creator_id": "193314",
          "time": "20121122T00:08:44",
          "id": "5219243",
          "is_private": "False"
        },
        {
          "count": "12",
          "creator": "plautrba@redhat.com",
          "text": "(In reply to comment #10)\n> # rpm -qa | grep openssh\n> openssh-server-5.3p1-81.el6_3.x86_64\n> openssh-clients-5.3p1-81.el6_3.x86_64\n> openssh-5.3p1-81.el6_3.x86_64\n\nYou need at least openssh-5.3p1-83.el6, see ''Fixed in version'' (which is not available yet), or build your own rpm with fixed required authentications patch from comment #c6.",
          "author": "plautrba@redhat.com",
          "creation_time": "20121126T13:38:02",
          "bug_id": "869903",
          "creator_id": "270148",
          "time": "20121126T13:38:02",
          "id": "5228052",
          "is_private": "False"
        },
        {
          "count": "13",
          "creator": "pkis@redhat.com",
          "text": "(In reply to comment #10)\n> I've done a bit more testing and I can say that this doesn't *always* work.\n> For example:\n> \n> Host: 10.1.1.1 has the following in sshd_config:\n> RequiredAuthentications2 publickey,password\n> Match Address 203.56.246.89/32\n>         RequiredAuthentications2 publickey\n> \n> When I SSH in from 203.56.246.89, I get:\n> # ssh 10.1.1.1\n> Authenticated with partial success.\n> root@10.1.1.1's password:\n> \n> This shouldn't happen.\n> \n> # ifconfig | grep addr\n> eth0      Link encap:Ethernet  HWaddr 00:16:36:35:35:09\n>           inet addr:203.56.246.89  Bcast:203.56.246.95  Mask:255.255.255.240\n> \n> # ssh -v 10.1.1.1\n> ....\n> debug1: Authentications that can continue: publickey,password\n> debug1: Next authentication method: publickey\n> debug1: Offering public key: /root/.ssh/identity\n> debug1: Server accepts key: pkalg ssh-rsa blen 1045\n> debug1: read PEM private key done: type RSA\n> Authenticated with partial success.\n> debug1: Authentications that can continue: password\n> debug1: Next authentication method: password\n> root@10.1.1.1's password:\n> \n> On 10.1.1.1:\n> # rpm -qa | grep openssh\n> openssh-server-5.3p1-81.el6_3.x86_64\n> openssh-clients-5.3p1-81.el6_3.x86_64\n> openssh-5.3p1-81.el6_3.x86_64\n\nThis case is also working on the new openssh version that will be released in RHEL-6.4.\n\n# rpm -qa | grep openssh\nopenssh-server-5.3p1-84.el6.x86_64\nopenssh-5.3p1-84.el6.x86_64\nopenssh-clients-5.3p1-84.el6.x86_64\n\nSERVER SIDE:\n\n# tail /etc/ssh/sshd_config \n# Example of overriding settings on a per-user basis\n#Match User anoncvs\n#\tX11Forwarding no\n#\tAllowTcpForwarding no\n#\tForceCommand cvs server\nRequiredAuthentications2 publickey,password\nMatch Address 127.0.0.1\n    RequiredAuthentications2 publickey\nMatch Address 192.168.100.1/32\n    RequiredAuthentications2 publickey\n# \n\nCLIENT SIDE:\n\n$ ifconfig eth0 |grep addr\neth0      Link encap:Ethernet  HWaddr F0:DE:F1:95:82:E8  \n          inet addr:10.34.25.37  Bcast:10.34.25.255  Mask:255.255.254.0\n$ ssh root@192.168.100.63\nLast login: Mon Nov 26 14:40:07 2012 from 192.168.100.1\n#",
          "author": "pkis@redhat.com",
          "creation_time": "20121126T13:48:31",
          "bug_id": "869903",
          "creator_id": "324351",
          "time": "20121126T13:48:31",
          "id": "5228083",
          "is_private": "False"
        },
        {
          "count": "14",
          "creator": "netwiz@crc.id.au",
          "text": "I'm wondering if there is any way we can fast track this for existing 6.3 installs?",
          "author": "netwiz@crc.id.au",
          "creation_time": "20121207T03:51:45",
          "bug_id": "869903",
          "creator_id": "193314",
          "time": "20121207T03:51:45",
          "id": "5266496",
          "is_private": "False"
        },
        {
          "count": "15",
          "creator": "bkurt@bgsu.edu",
          "text": "We are running into this bug as well where our global configuration specifies publickey and password authentication, yet we'd like to have some internal hosts only need to use public key.  It would seem that no matter what we put in the match block they are still being forced to do both.  It would be great if this could be fast tracked as mentioned as this has been sitting way too long in my opinion.",
          "author": "bkurt@bgsu.edu",
          "creation_time": "20130216T04:33:27",
          "bug_id": "869903",
          "creator_id": "267030",
          "time": "20130216T04:33:27",
          "id": "5513196",
          "is_private": "False"
        },
        {
          "count": "16",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHSA-2013-0519.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20130221T10:32:38",
          "bug_id": "869903",
          "creator_id": "241731",
          "time": "20130221T10:32:38",
          "id": "5529821",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.3"
      ],
      "cc": [
        "bkurt@bgsu.edu",
        "jjaburek@redhat.com",
        "netwiz@crc.id.au",
        "pkis@redhat.com",
        "pvrabec@redhat.com",
        "tru@pasteur.fr"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "pkis@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "https://bugzilla.mindrot.org/show_bug.cgi?id=983",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "RequiredAuthentications2 does not work in Match blocks as documented.",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20121115T09:33:25",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20121109T12:56:31",
          "id": "1184850",
          "setter": "pkis@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.4.0",
          "modification_date": "20121109T12:55:04",
          "type_id": "326",
          "is_active": "0",
          "creation_date": "20121025T06:33:29",
          "id": "1172657",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20121025T06:49:04",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20121025T06:46:36",
          "id": "1172678",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20121108T12:06:34",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20121025T06:46:53",
          "id": "1172679",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20121109T12:40:14",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20121025T06:47:09",
          "id": "1172680",
          "setter": "ksrot@redhat.com"
        }
      ],
      "last_change_time": "20130221T10:32:38",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509320-s4XwV8eLHjhZsvzZiJ5aM0nsL6z0crtRc-8Uf2r_C4M",
      "cf_partner": [],
      "cf_last_closed": "20130221T10:32:38",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20121029T07:29:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "870911",
      "cf_release_notes": "",
      "priority": "unspecified",
      "severity": "unspecified",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "Mr.Miteshah@gmail.com",
      "comments": [
        {
          "count": "0",
          "creator": "Mr.Miteshah@gmail.com",
          "text": "Description of problem: I'm just setup RHEL 6.3 server with openssh-server and copy my pub key using ssh-copy-id to RHEL server and whenever i'm try to login RHEL, The RHEL server ask me password to login (Don't accept my ssh keys) while i'm configure same thing to test on CentOS 6.3 and its works just fine\n\n\nVersion-Release number of selected component (if applicable):OpenSSH_5.3p1, OpenSSL 1.0.0-fips 29 Mar 2010\n\n\nHow reproducible:\nRHEL Server IP 192.168.0.120\n[Mitesh@localhost:] ssh -v root@192.168.0.120\nOpenSSH_5.3p1 Debian-3ubuntu7, OpenSSL 0.9.8k 25 Mar 2009\ndebug1: Reading configuration data /etc/ssh/ssh_config\ndebug1: Applying options for *\ndebug1: Connecting to 192.168.0.120 [192.168.0.120] port 22.\ndebug1: Connection established.\ndebug1: permanently_set_uid: 0/0\ndebug1: identity file /root/.ssh/identity type -1\ndebug1: identity file /root/.ssh/id_rsa type 1\ndebug1: Checking blacklist file /usr/share/ssh/blacklist.RSA-2048\ndebug1: Checking blacklist file /etc/ssh/blacklist.RSA-2048\ndebug1: identity file /root/.ssh/id_dsa type -1\ndebug1: Remote protocol version 2.0, remote software version OpenSSH_5.3\ndebug1: match: OpenSSH_5.3 pat OpenSSH*\ndebug1: Enabling compatibility mode for protocol 2.0\ndebug1: Local version string SSH-2.0-OpenSSH_5.3p1 Debian-3ubuntu7\ndebug1: SSH2_MSG_KEXINIT sent\ndebug1: SSH2_MSG_KEXINIT received\ndebug1: kex: server->client aes128-ctr hmac-md5 none\ndebug1: kex: client->server aes128-ctr hmac-md5 none\ndebug1: SSH2_MSG_KEX_DH_GEX_REQUEST(1024<1024<8192) sent\ndebug1: expecting SSH2_MSG_KEX_DH_GEX_GROUP\ndebug1: SSH2_MSG_KEX_DH_GEX_INIT sent\ndebug1: expecting SSH2_MSG_KEX_DH_GEX_REPLY\nThe authenticity of host '192.168.0.120 (192.168.0.120)' can't be established.\nRSA key fingerprint is 6e:c0:bc:9f:1a:df:b5:35:82:5a:37:79:fe:fa:64:d4.\nAre you sure you want to continue connecting (yes/no)? yes\nWarning: Permanently added '192.168.0.120' (RSA) to the list of known hosts.\ndebug1: ssh_rsa_verify: signature correct\ndebug1: SSH2_MSG_NEWKEYS sent\ndebug1: expecting SSH2_MSG_NEWKEYS\ndebug1: SSH2_MSG_NEWKEYS received\ndebug1: SSH2_MSG_SERVICE_REQUEST sent\ndebug1: SSH2_MSG_SERVICE_ACCEPT received\ndebug1: Authentications that can continue: publickey,gssapi-keyex,gssapi-with-mic,password\ndebug1: Next authentication method: gssapi-keyex\ndebug1: No valid Key exchange context\ndebug1: Next authentication method: gssapi-with-mic\ndebug1: An invalid name was supplied\nCannot determine realm for numeric host address\n\ndebug1: An invalid name was supplied\nCannot determine realm for numeric host address\n\ndebug1: An invalid name was supplied\n\n\ndebug1: Next authentication method: publickey\ndebug1: Offering public key: /root/.ssh/id_rsa\ndebug1: Authentications that can continue: publickey,gssapi-keyex,gssapi-with-mic,password\ndebug1: Trying private key: /root/.ssh/identity\ndebug1: Trying private key: /root/.ssh/id_dsa\ndebug1: Next authentication method: password\nroot@192.168.0.120's password: \n\nSteps to Reproduce:\n1.\n2.\n3.\n  \nActual results:\n\n\nExpected results:\nThe RHEL accept my rsa key and i'm able to login \n\nAdditional info:",
          "author": "Mr.Miteshah@gmail.com",
          "creation_time": "20121029T07:29:53",
          "bug_id": "870911",
          "creator_id": "318635",
          "time": "20121029T07:29:53",
          "id": "5152233",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this bug report was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20121029T07:33:03",
          "bug_id": "870911",
          "creator_id": "193983",
          "time": "20121029T07:33:03",
          "id": "5152242",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "plautrba@redhat.com",
          "text": "Thank you for taking the time to enter a bug report with us. We appreciate the feedback and look to use reports such as this to guide our efforts at improving our products. That being said, this bug tracking system is not a mechanism for requesting support, and we are not able to  guarantee the timeliness or suitability of a resolution.\n\nIf this issue is critical or in any way time sensitive, please raise a ticket through your regular Red Hat support channels to make certain  it receives the proper attention and prioritization to assure a timely resolution. \n\nFor information on how to contact the Red Hat production support team, please visit: https://www.redhat.com/support/process/production/#howto",
          "author": "plautrba@redhat.com",
          "creation_time": "20121029T09:05:16",
          "bug_id": "870911",
          "creator_id": "270148",
          "time": "20121029T09:05:16",
          "id": "5152447",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "Mr.Miteshah@gmail.com",
          "text": "@Petr\n\nI'm just want to report bug so in next release some other users don't face the same problem that is occurred in current release :)\n\nI'm check available guide in Google but don't work for me so i hope in next release some end users don't face this problem again.",
          "author": "Mr.Miteshah@gmail.com",
          "creation_time": "20121029T10:45:34",
          "bug_id": "870911",
          "creator_id": "318635",
          "time": "20121029T10:45:34",
          "id": "5152705",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "plautrba@redhat.com",
          "text": "I use this feature every day. It is most probably not a bug, but a misconfigured system. You should check /var/log/secure on the server, ~/.ssh directory permissins and SELinux context, a content of ~/.ssh/authorized_keys, ... \n\n\n$ ssh-copy-id localhost\nThe authenticity of host 'localhost (127.0.0.1)' can't be established.\nRSA key fingerprint is b7:d0:2f:39:b3:e6:6c:80:a2:c9:a6:92:18:86:ce:0b.\nAre you sure you want to continue connecting (yes/no)? yes\nWarning: Permanently added 'localhost' (RSA) to the list of known hosts.\nplautrba@localhost's password:\nNow try logging into the machine, with ''ssh 'localhost''', and check in:\n\n  .ssh/authorized_keys\n\nto make sure we haven't added extra keys that you weren't expecting.\n\n$ ls -ldZ .ssh\ndrwx------. plautrba plautrba unconfined_u:object_r:ssh_home_t:s0 .ss\n$ ls -lZ .ssh/authorized_keys\n-rw-------. plautrba plautrba unconfined_u:object_r:ssh_home_t:s0 .ssh/authorized_keys\n$ ssh localhost\nHost key fingerprint is b7:d0:2f:39:b3:e6:6c:80:a2:c9:a6:92:18:86:ce:0b\nLast login: Mon Oct 29 11:58:44 2012 from localhost.localdomain\n$",
          "author": "plautrba@redhat.com",
          "creation_time": "20121029T11:05:13",
          "bug_id": "870911",
          "creator_id": "270148",
          "time": "20121029T11:05:13",
          "id": "5152749",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "Mr.Miteshah@gmail.com",
          "text": "Problem is solved but wonder what is the issue i'm run the following commands and after that my problem is solved\n\n\n[root@RHEL ~]# ssh-keygen \nGenerating public/private rsa key pair.\nEnter file in which to save the key (/root/.ssh/id_rsa): \nEnter passphrase (empty for no passphrase): \nEnter same passphrase again: \nYour identification has been saved in /root/.ssh/id_rsa.\nYour public key has been saved in /root/.ssh/id_rsa.pub.\nThe key fingerprint is:\nf4:46:f0:c8:32:32:9a:1b:db:f8:ed:1a:b8:8f:f6:00 root@RHEL\nThe key's randomart image is:\n+--[ RSA 2048]----+\n|        .        |\n|       . +       |\n|    o o + o      |\n|   o o + o       |\n|E +     S o      |\n| . B     .       |\n|  * o            |\n|  .= o           |\n| .oo=oo          |\n+-----------------+\n[root@RHEL ~]# ssh-copy-id localhost\nThe authenticity of host 'localhost (::1)' can't be established.\nRSA key fingerprint is 58:99:8e:f1:75:3a:25:99:fb:f7:60:6c:98:21:73:11.\nAre you sure you want to continue connecting (yes/no)? yes\nWarning: Permanently added 'localhost' (RSA) to the list of known hosts.\nroot@localhost's password: \nNow try logging into the machine, with ''ssh 'localhost''', and check in:\n\n  .ssh/authorized_keys\n\nto make sure we haven't added extra keys that you weren't expecting.\n\n[root@RHEL ~]# ssh localhost\nLast login: Mon Oct 29 16:21:51 2012 from 192.168.0.90\n[root@RHEL ~]# logout\n\n\n\n\nNow able to login without password from another system can any one explain what the issue is?",
          "author": "Mr.Miteshah@gmail.com",
          "creation_time": "20121029T13:40:30",
          "bug_id": "870911",
          "creator_id": "318635",
          "time": "20121029T13:40:30",
          "id": "5153076",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "i386",
      "version": [
        "6.3"
      ],
      "cc": [],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "Public Key authentication fails on ssh",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.4.0",
          "modification_date": "20121029T07:33:01",
          "type_id": "326",
          "is_active": "0",
          "creation_date": "20121029T07:33:01",
          "id": "1174855",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20121029T07:49:15",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20121029T07:46:41",
          "id": "1174863",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20121029T07:46:58",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20121029T07:46:58",
          "id": "1174865",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "qa_ack",
          "modification_date": "20121029T07:47:18",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20121029T07:47:18",
          "id": "1174870",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20121029T13:40:30",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509320-LpiPD2Xft_RqVaLBGiWFIiQl6cx_QbpxNEDNDuQ6xFA",
      "cf_partner": [],
      "cf_last_closed": "20121029T11:05:13",
      "resolution": "WORKSFORME",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "1700",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20130412T20:28:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "FutureFeature"
      ],
      "target_release": [
        "6.5"
      ],
      "external_bugs": [
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00777547",
          "bug_id": "951704",
          "ext_description": "[RFE] IPCBU: Openssh rpm does not support diffie-hellman-group1-sha1 algorithm",
          "ext_priority": "4 (Low)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "102048"
        },
        {
          "ext_status": "None",
          "ext_bz_bug_id": "308661",
          "bug_id": "951704",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "69",
          "type": {
            "must_send": "False",
            "description": "TCMS Test Case",
            "url": "https://tcms.engineering.redhat.com",
            "can_get": "False",
            "id": "69",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          },
          "id": "121540"
        }
      ],
      "id": "951704",
      "cf_release_notes": "Feature: \r\nAdd a KexAlgorithms to client and server configuration to allow selection of which key exchange methods are\r\nused by ssh(1) and sshd(8) and their order of preference.\r\nReason: \r\nSpecifying KexAlgorithms allows a user and an admin which key exchange methods they want to use and also their order.\r\nResult (if any): specify\r\nThe KexAlgorithms option is now supported.",
      "priority": "unspecified",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "platform-rfe@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "platform-rfe@redhat.com",
          "text": "This request for enhancement (RFE) is a copy of the initial request filed under the 'RHEL RFE' product. It has been triaged by Product Management and is now being proposed for the appropriate release(s). All previous comments have been copied to this bugzilla. Please see the 'Blocks' field for the original RFE and associated release specific bugzillas. The original RFE will remain open until all associated release specific bugs are resolved.",
          "author": "platform-rfe@redhat.com",
          "creation_time": "20130412T20:28:27",
          "bug_id": "951704",
          "creator_id": "316518",
          "time": "20130412T20:28:27",
          "id": "5825594",
          "is_private": "True"
        },
        {
          "count": "1",
          "creator": "platform-rfe@redhat.com",
          "text": "** Original comment by seldridg@redhat.com **\n\n1. Proposed title of this feature request\nAdd KexAlgorithms configuration option in openssh \n\n2. Who is the customer behind the request?\nAccount name: Cisco\nCustomer segment:3\nTAM/SRM customer: yes/yes, \nStrategic Customer yes\n\n3. What is the nature and description of the request?\n- Add KexAlgorithms configuration option in openssh to allow selection of key exchange methods\n\n4. Why does the customer need this? (List the business requirements here)\n- This is required as part of the requirement from DoD (UCR 2008 CH3 from DoD) which requires the usage of this option.\n\n5. How would the customer like to achieve this? (List the functional\nrequirements here)\n- Customer would like to be able to specify ''KexAlgorithms diffie-hellman-group14-sha1,diffie-hellman-group1-sha1,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1'' in /etc/ssh/ssh_config \n\n6. For each functional requirement listed in question 5, specify how Red Hat\nand the customer can test to confirm the requirement is successfully\nimplemented.\n- Make configuration change and restart ssh\n- Have Cisco test their script\n\n7. Is there already an existing RFE upstream or in Red Hat bugzilla?\n\n- no RFE exists in Red Hat bugzilla.\n- KexAlgorithms became an option in the upstream openssh-5.7\n\nhttp://openssh.org/txt/release-5.7\n\n * ssh(1)/sshd(8): add a KexAlgorithms knob to the client and server\n   configuration to allow selection of which key exchange methods are\n   used by ssh(1) and sshd(8) and their order of preference.\n\n8. Does the customer have any specific timeline dependencies?\n- Customer is requesting before end of Feb\n\n9. Is the sales team involved in this request and do they have any additional input?\n- no\n\n10. List any affected packages or components.\n- openssh-clients\n\n11. Would the customer be able to assist in testing this functionality if\nimplemented?\n- yes",
          "author": "platform-rfe@redhat.com",
          "creation_time": "20130412T20:28:35",
          "bug_id": "951704",
          "creator_id": "316518",
          "time": "20130412T20:28:35",
          "id": "5825595",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "platform-rfe@redhat.com",
          "text": "** Original comment by sgrubb@redhat.com **\n\nWe are looking at doing a FIPS-140 re-val of openssh on 6.5, so this would be perfect timing to add this if we ever wanted to.",
          "author": "platform-rfe@redhat.com",
          "creation_time": "20130412T20:28:37",
          "bug_id": "951704",
          "creator_id": "316518",
          "time": "20130412T20:28:37",
          "id": "5825596",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "platform-rfe@redhat.com",
          "text": "** Original comment by jkodak@redhat.com **\n\nThank you for submitting this issue for consideration in Red Hat Enterprise Linux. This request will be considered in a future release of Red Hat Enterprise Linux.",
          "author": "platform-rfe@redhat.com",
          "creation_time": "20130412T20:28:40",
          "bug_id": "951704",
          "creator_id": "316518",
          "time": "20130412T20:28:40",
          "id": "5825598",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "ksrot@redhat.com",
          "text": "qa_ack+ for 6.5",
          "author": "ksrot@redhat.com",
          "creation_time": "20130710T06:59:14",
          "bug_id": "951704",
          "creator_id": "286283",
          "time": "20130710T06:59:14",
          "id": "6095114",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2013:15245-01\nhttp://errata.devel.redhat.com/errata/show/15245",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20130712T10:37:51",
          "bug_id": "951704",
          "creator_id": "241731",
          "time": "20130712T10:37:51",
          "id": "6103789",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHSA-2013:15245-02: \nChanged by: Lukas Novy (lnovy@redhat.com)\nhttp://errata.devel.redhat.com/advisory/15245\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: TEST PROTOCOL\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Test run ID   : 16530719\n:: [   LOG    ] :: Package       : openssh\n:: [   LOG    ] :: Installed:    : openssh-5.3p1-84.1.el6.x86_64 \n:: [   LOG    ] :: Test started  : 2013-10-17 13:20:33 EDT\n:: [   LOG    ] :: Test finished : 2013-10-17 13:21:13 EDT\n:: [   LOG    ] :: Test name     : /CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in\n:: [   LOG    ] :: Distro:       : Red Hat Enterprise Linux Server release 6.4 (Santiago)\n:: [   LOG    ] :: Hostname      : dell-p690-01.rhts.eng.bos.redhat.com\n:: [   LOG    ] :: Architecture  : x86_64\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test description\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\nPURPOSE of\n/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in\nDescription: Test for BZ#951704 (RFE - Add KexAlgorithms configuration option\nin)\nAuthor: Lukas Novy <lnovy@redhat.com>\nBug summary: RFE - Add KexAlgorithms configuration option in openssh\nBugzilla link: https://bugzilla.redhat.com/show_bug.cgi?id=951704\n\nAdd KexAlgorithms configuration option in openssh to allow selection of key\nexchange methods\n\n- Customer would like to be able to specify ''KexAlgorithms\ndiffie-hellman-group14-sha1,diffie-hellman-group1-sha1,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1''\nin /etc/ssh/ssh_config \n\n\n- no RFE exists in Red Hat bugzilla.\n- KexAlgorithms became an option in the upstream openssh-5.7\n\nhttp://openssh.org/txt/release-5.7\n\n * ssh(1)/sshd(8): add a KexAlgorithms knob to the client and server\n   configuration to allow selection of which key exchange methods are\n   used by ssh(1) and sshd(8) and their order of preference.\n\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Setup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Checking for the presence of openssh rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   openssh-5.3p1-84.1.el6.x86_64\n:: [   PASS   ] :: Creating tmp directory (Expected 0, got 0)\n:: [   PASS   ] :: Running 'pushd /tmp/tmp.md61kTDh8B' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'useradd bz951704' (Expected 0-255, got 0)\n:: [   PASS   ] :: Running 'echo bz951704 | passwd --stdin bz951704' (Expected 0, got 0)\n:: [   INFO   ] :: KexAlgorithms known: ecdh-sha2-nistp256 ecdh-sha2-nistp384 ecdh-sha2-nistp521 diffie-hellman-group-exchange-sha256 diffie-hellman-group-exchange-sha1 diffie-hellman-group14-sha1 diffie-hellman-group1-sha1 maionese-hellman\n:: [   INFO   ] :: KexAlgorithms that need to work: diffie-hellman-group-exchange-sha256 diffie-hellman-group-exchange-sha1 diffie-hellman-group14-sha1 diffie-hellman-group1-sha1\n:: [   INFO   ] :: KexAlgorithms must not work: ecdh-sha2-nistp256 ecdh-sha2-nistp384 ecdh-sha2-nistp521 diffie-hellman-group-exchange-sha256 diffie-hellman-group-exchange-sha1 diffie-hellman-group14-sha1 diffie-hellman-group1-sha1 maionese-hellman\n:: [   LOG    ] :: Duration: 3s\n:: [   LOG    ] :: Assertions: 5 good, 0 bad\n:: [   PASS   ] :: RESULT: Setup\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   INFO   ] :: Allowed server KEXs: diffie-hellman-group-exchange-sha256\n:: [   INFO   ] :: Allowed client KEXs: diffie-hellman-group-exchange-sha256\n:: [   INFO   ] :: Expected connection KEX: diffie-hellman-group-exchange-sha256\n:: [   ERROR  ] :: rlServiceStart: Starting service sshd failed\n:: [   ERROR  ] :: Status of the failed service:\n:: [   LOG    ] ::   openssh-daemon is stopped\n:: [   FAIL   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in/ssh.exp bz951704 127.0.0.1 bz951704 2>/tmp/tmp.DUqbF5l0xd >/tmp/tmp.q27ZQCeWi5' (Expected 0, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.q27ZQCeWi5 as tmp-tmp.q27ZQCeWi5\n:: [   INFO   ] :: Sending /tmp/tmp.DUqbF5l0xd as tmp-tmp.DUqbF5l0xd\n:: [   INFO   ] :: Allowed server KEXs: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1\n:: [   INFO   ] :: Allowed client KEXs: diffie-hellman-group-exchange-sha256\n:: [   INFO   ] :: Expected connection KEX: diffie-hellman-group-exchange-sha256\n:: [   ERROR  ] :: rlServiceStart: Starting service sshd failed\n:: [   ERROR  ] :: Status of the failed service:\n:: [   LOG    ] ::   openssh-daemon is stopped\n:: [   FAIL   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in/ssh.exp bz951704 127.0.0.1 bz951704 2>/tmp/tmp.1Vnb4Lv2Oa >/tmp/tmp.PG2ebRwBXN' (Expected 0, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.PG2ebRwBXN as tmp-tmp.PG2ebRwBXN\n:: [   INFO   ] :: Sending /tmp/tmp.1Vnb4Lv2Oa as tmp-tmp.1Vnb4Lv2Oa\n:: [   INFO   ] :: Allowed server KEXs: diffie-hellman-group-exchange-sha256\n:: [   INFO   ] :: Allowed client KEXs: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1\n:: [   INFO   ] :: Expected connection KEX: diffie-hellman-group-exchange-sha256\n:: [   ERROR  ] :: rlServiceStart: Starting service sshd failed\n:: [   ERROR  ] :: Status of the failed service:\n:: [   LOG    ] ::   openssh-daemon is stopped\n:: [   FAIL   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in/ssh.exp bz951704 127.0.0.1 bz951704 2>/tmp/tmp.zZ4NJOSY4T >/tmp/tmp.jLjSxtlKnK' (Expected 0, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.jLjSxtlKnK as tmp-tmp.jLjSxtlKnK\n:: [   INFO   ] :: Sending /tmp/tmp.zZ4NJOSY4T as tmp-tmp.zZ4NJOSY4T\n:: [   INFO   ] :: Allowed server KEXs: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha256\n:: [   INFO   ] :: Allowed client KEXs: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha256\n:: [   INFO   ] :: Expected connection KEX: diffie-hellman-group-exchange-sha256\n:: [   ERROR  ] :: rlServiceStart: Starting service sshd failed\n:: [   ERROR  ] :: Status of the failed service:\n:: [   LOG    ] ::   openssh-daemon is stopped\n:: [   FAIL   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in/ssh.exp bz951704 127.0.0.1 bz951704 2>/tmp/tmp.UJuXGyeq59 >/tmp/tmp.C1s17dVc6k' (Expected 0, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.C1s17dVc6k as tmp-tmp.C1s17dVc6k\n:: [   INFO   ] :: Sending /tmp/tmp.UJuXGyeq59 as tmp-tmp.UJuXGyeq59\n:: [   INFO   ] :: Allowed server KEXs: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha256\n:: [   INFO   ] :: Allowed client KEXs: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1,maionese-hellman\n:: [   INFO   ] :: Expected connection KEX: \n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0-255, got 255)\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in/ssh-fail.exp bz951704 127.0.0.1 bz951704 2>/tmp/tmp.TSsL9BY26J >/tmp/tmp.yIWE3cdITR' (Expected 1-2, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.yIWE3cdITR as tmp-tmp.yIWE3cdITR\n:: [   INFO   ] :: Sending /tmp/tmp.TSsL9BY26J as tmp-tmp.TSsL9BY26J\n:: [   INFO   ] :: Allowed server KEXs: diffie-hellman-group-exchange-sha1\n:: [   INFO   ] :: Allowed client KEXs: diffie-hellman-group-exchange-sha1\n:: [   INFO   ] :: Expected connection KEX: diffie-hellman-group-exchange-sha1\n:: [   ERROR  ] :: rlServiceStart: Starting service sshd failed\n:: [   ERROR  ] :: Status of the failed service:\n:: [   LOG    ] ::   openssh-daemon is stopped\n:: [   FAIL   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in/ssh.exp bz951704 127.0.0.1 bz951704 2>/tmp/tmp.VZd2zp81hn >/tmp/tmp.Y8ik4xpi5R' (Expected 0, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.Y8ik4xpi5R as tmp-tmp.Y8ik4xpi5R\n:: [   INFO   ] :: Sending /tmp/tmp.VZd2zp81hn as tmp-tmp.VZd2zp81hn\n:: [   INFO   ] :: Allowed server KEXs: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1\n:: [   INFO   ] :: Allowed client KEXs: diffie-hellman-group-exchange-sha1\n:: [   INFO   ] :: Expected connection KEX: diffie-hellman-group-exchange-sha1\n:: [   ERROR  ] :: rlServiceStart: Starting service sshd failed\n:: [   ERROR  ] :: Status of the failed service:\n:: [   LOG    ] ::   openssh-daemon is stopped\n:: [   FAIL   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in/ssh.exp bz951704 127.0.0.1 bz951704 2>/tmp/tmp.7Vxp5YD0TI >/tmp/tmp.oHbU3FT1Wv' (Expected 0, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.oHbU3FT1Wv as tmp-tmp.oHbU3FT1Wv\n:: [   INFO   ] :: Sending /tmp/tmp.7Vxp5YD0TI as tmp-tmp.7Vxp5YD0TI\n:: [   INFO   ] :: Allowed server KEXs: diffie-hellman-group-exchange-sha1\n:: [   INFO   ] :: Allowed client KEXs: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1\n:: [   INFO   ] :: Expected connection KEX: diffie-hellman-group-exchange-sha1\n:: [   ERROR  ] :: rlServiceStart: Starting service sshd failed\n:: [   ERROR  ] :: Status of the failed service:\n:: [   LOG    ] ::   openssh-daemon is stopped\n:: [   FAIL   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in/ssh.exp bz951704 127.0.0.1 bz951704 2>/tmp/tmp.Gz9G9My0lz >/tmp/tmp.1LScrqoWn8' (Expected 0, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.1LScrqoWn8 as tmp-tmp.1LScrqoWn8\n:: [   INFO   ] :: Sending /tmp/tmp.Gz9G9My0lz as tmp-tmp.Gz9G9My0lz\n:: [   INFO   ] :: Allowed server KEXs: diffie-hellman-group-exchange-sha1,diffie-hellman-group-exchange-sha256\n:: [   INFO   ] :: Allowed client KEXs: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1\n:: [   INFO   ] :: Expected connection KEX: diffie-hellman-group-exchange-sha1\n:: [   ERROR  ] :: rlServiceStart: Starting service sshd failed\n:: [   ERROR  ] :: Status of the failed service:\n:: [   LOG    ] ::   openssh-daemon is stopped\n:: [   FAIL   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in/ssh.exp bz951704 127.0.0.1 bz951704 2>/tmp/tmp.sYGBXeGQZJ >/tmp/tmp.Yg2qZZ0dgE' (Expected 0, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.Yg2qZZ0dgE as tmp-tmp.Yg2qZZ0dgE\n:: [   INFO   ] :: Sending /tmp/tmp.sYGBXeGQZJ as tmp-tmp.sYGBXeGQZJ\n:: [   INFO   ] :: Allowed server KEXs: diffie-hellman-group-exchange-sha1,diffie-hellman-group-exchange-sha256\n:: [   INFO   ] :: Allowed client KEXs: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1,maionese-hellman\n:: [   INFO   ] :: Expected connection KEX: \n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0-255, got 255)\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in/ssh-fail.exp bz951704 127.0.0.1 bz951704 2>/tmp/tmp.VfWo6azh4H >/tmp/tmp.UAVsaYH3wB' (Expected 1-2, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.UAVsaYH3wB as tmp-tmp.UAVsaYH3wB\n:: [   INFO   ] :: Sending /tmp/tmp.VfWo6azh4H as tmp-tmp.VfWo6azh4H\n:: [   INFO   ] :: Allowed server KEXs: diffie-hellman-group14-sha1\n:: [   INFO   ] :: Allowed client KEXs: diffie-hellman-group14-sha1\n:: [   INFO   ] :: Expected connection KEX: diffie-hellman-group14-sha1\n:: [   ERROR  ] :: rlServiceStart: Starting service sshd failed\n:: [   ERROR  ] :: Status of the failed service:\n:: [   LOG    ] ::   openssh-daemon is stopped\n:: [   FAIL   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in/ssh.exp bz951704 127.0.0.1 bz951704 2>/tmp/tmp.mXzqRjMOKZ >/tmp/tmp.UHasq3RDXy' (Expected 0, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.UHasq3RDXy as tmp-tmp.UHasq3RDXy\n:: [   INFO   ] :: Sending /tmp/tmp.mXzqRjMOKZ as tmp-tmp.mXzqRjMOKZ\n:: [   INFO   ] :: Allowed server KEXs: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1\n:: [   INFO   ] :: Allowed client KEXs: diffie-hellman-group14-sha1\n:: [   INFO   ] :: Expected connection KEX: diffie-hellman-group14-sha1\n:: [   ERROR  ] :: rlServiceStart: Starting service sshd failed\n:: [   ERROR  ] :: Status of the failed service:\n:: [   LOG    ] ::   openssh-daemon is stopped\n:: [   FAIL   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in/ssh.exp bz951704 127.0.0.1 bz951704 2>/tmp/tmp.35H7gzVie4 >/tmp/tmp.arkL6lhI9N' (Expected 0, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.arkL6lhI9N as tmp-tmp.arkL6lhI9N\n:: [   INFO   ] :: Sending /tmp/tmp.35H7gzVie4 as tmp-tmp.35H7gzVie4\n:: [   INFO   ] :: Allowed server KEXs: diffie-hellman-group14-sha1\n:: [   INFO   ] :: Allowed client KEXs: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1\n:: [   INFO   ] :: Expected connection KEX: diffie-hellman-group14-sha1\n:: [   ERROR  ] :: rlServiceStart: Starting service sshd failed\n:: [   ERROR  ] :: Status of the failed service:\n:: [   LOG    ] ::   openssh-daemon is stopped\n:: [   FAIL   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in/ssh.exp bz951704 127.0.0.1 bz951704 2>/tmp/tmp.6E8mVWrPwE >/tmp/tmp.OZYQuTepLS' (Expected 0, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.OZYQuTepLS as tmp-tmp.OZYQuTepLS\n:: [   INFO   ] :: Sending /tmp/tmp.6E8mVWrPwE as tmp-tmp.6E8mVWrPwE\n:: [   INFO   ] :: Allowed server KEXs: diffie-hellman-group14-sha1,diffie-hellman-group-exchange-sha256\n:: [   INFO   ] :: Allowed client KEXs: diffie-hellman-group-exchange-sha256,diffie-hellman-group14-sha1\n:: [   INFO   ] :: Expected connection KEX: diffie-hellman-group14-sha1\n:: [   ERROR  ] :: rlServiceStart: Starting service sshd failed\n:: [   ERROR  ] :: Status of the failed service:\n:: [   LOG    ] ::   openssh-daemon is stopped\n:: [   FAIL   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in/ssh.exp bz951704 127.0.0.1 bz951704 2>/tmp/tmp.ZaMMVvdoEg >/tmp/tmp.9ouojeatAv' (Expected 0, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.9ouojeatAv as tmp-tmp.9ouojeatAv\n:: [   INFO   ] :: Sending /tmp/tmp.ZaMMVvdoEg as tmp-tmp.ZaMMVvdoEg\n:: [   INFO   ] :: Allowed server KEXs: diffie-hellman-group14-sha1,diffie-hellman-group-exchange-sha256\n:: [   INFO   ] :: Allowed client KEXs: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1,maionese-hellman\n:: [   INFO   ] :: Expected connection KEX: \n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0-255, got 255)\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in/ssh-fail.exp bz951704 127.0.0.1 bz951704 2>/tmp/tmp.cItt8zZAGg >/tmp/tmp.vJiFjgQR4E' (Expected 1-2, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.vJiFjgQR4E as tmp-tmp.vJiFjgQR4E\n:: [   INFO   ] :: Sending /tmp/tmp.cItt8zZAGg as tmp-tmp.cItt8zZAGg\n:: [   INFO   ] :: Allowed server KEXs: diffie-hellman-group1-sha1\n:: [   INFO   ] :: Allowed client KEXs: diffie-hellman-group1-sha1\n:: [   INFO   ] :: Expected connection KEX: diffie-hellman-group1-sha1\n:: [   ERROR  ] :: rlServiceStart: Starting service sshd failed\n:: [   ERROR  ] :: Status of the failed service:\n:: [   LOG    ] ::   openssh-daemon is stopped\n:: [   FAIL   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in/ssh.exp bz951704 127.0.0.1 bz951704 2>/tmp/tmp.eidrRDzahv >/tmp/tmp.GRJpDplxkn' (Expected 0, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.GRJpDplxkn as tmp-tmp.GRJpDplxkn\n:: [   INFO   ] :: Sending /tmp/tmp.eidrRDzahv as tmp-tmp.eidrRDzahv\n:: [   INFO   ] :: Allowed server KEXs: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1\n:: [   INFO   ] :: Allowed client KEXs: diffie-hellman-group1-sha1\n:: [   INFO   ] :: Expected connection KEX: diffie-hellman-group1-sha1\n:: [   ERROR  ] :: rlServiceStart: Starting service sshd failed\n:: [   ERROR  ] :: Status of the failed service:\n:: [   LOG    ] ::   openssh-daemon is stopped\n:: [   FAIL   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in/ssh.exp bz951704 127.0.0.1 bz951704 2>/tmp/tmp.dkWORZOXOA >/tmp/tmp.OiFV2ZIjUW' (Expected 0, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.OiFV2ZIjUW as tmp-tmp.OiFV2ZIjUW\n:: [   INFO   ] :: Sending /tmp/tmp.dkWORZOXOA as tmp-tmp.dkWORZOXOA\n:: [   INFO   ] :: Allowed server KEXs: diffie-hellman-group1-sha1\n:: [   INFO   ] :: Allowed client KEXs: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1\n:: [   INFO   ] :: Expected connection KEX: diffie-hellman-group1-sha1\n:: [   ERROR  ] :: rlServiceStart: Starting service sshd failed\n:: [   ERROR  ] :: Status of the failed service:\n:: [   LOG    ] ::   openssh-daemon is stopped\n:: [   FAIL   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in/ssh.exp bz951704 127.0.0.1 bz951704 2>/tmp/tmp.MK2czrDfE0 >/tmp/tmp.vpqMANcAAi' (Expected 0, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.vpqMANcAAi as tmp-tmp.vpqMANcAAi\n:: [   INFO   ] :: Sending /tmp/tmp.MK2czrDfE0 as tmp-tmp.MK2czrDfE0\n:: [   INFO   ] :: Allowed server KEXs: diffie-hellman-group1-sha1,diffie-hellman-group-exchange-sha256\n:: [   INFO   ] :: Allowed client KEXs: diffie-hellman-group-exchange-sha256,diffie-hellman-group1-sha1\n:: [   INFO   ] :: Expected connection KEX: diffie-hellman-group1-sha1\n:: [   ERROR  ] :: rlServiceStart: Starting service sshd failed\n:: [   ERROR  ] :: Status of the failed service:\n:: [   LOG    ] ::   openssh-daemon is stopped\n:: [   FAIL   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in/ssh.exp bz951704 127.0.0.1 bz951704 2>/tmp/tmp.0MAX7QWChb >/tmp/tmp.heUA42Z1OK' (Expected 0, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.heUA42Z1OK as tmp-tmp.heUA42Z1OK\n:: [   INFO   ] :: Sending /tmp/tmp.0MAX7QWChb as tmp-tmp.0MAX7QWChb\n:: [   INFO   ] :: Allowed server KEXs: diffie-hellman-group1-sha1,diffie-hellman-group-exchange-sha256\n:: [   INFO   ] :: Allowed client KEXs: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1,maionese-hellman\n:: [   INFO   ] :: Expected connection KEX: \n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0-255, got 255)\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in/ssh-fail.exp bz951704 127.0.0.1 bz951704 2>/tmp/tmp.ceMfy58cKy >/tmp/tmp.kLxlM6MWWV' (Expected 1-2, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.kLxlM6MWWV as tmp-tmp.kLxlM6MWWV\n:: [   INFO   ] :: Sending /tmp/tmp.ceMfy58cKy as tmp-tmp.ceMfy58cKy\n:: [   LOG    ] :: Duration: 33s\n:: [   LOG    ] :: Assertions: 8 good, 16 bad\n:: [   FAIL   ] :: RESULT: Test\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Cleanup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'userdel -f -r bz951704' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'popd' (Expected 0, got 0)\n:: [   PASS   ] :: Removing tmp directory (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 1s\n:: [   LOG    ] :: Assertions: 3 good, 0 bad\n:: [   PASS   ] :: RESULT: Cleanup\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: /CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Phases: 2 good, 1 bad\n:: [   FAIL   ] :: RESULT: /CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: TEST PROTOCOL\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Test run ID   : 16530721\n:: [   LOG    ] :: Package       : openssh\n:: [   LOG    ] :: Installed:    : openssh-5.3p1-94.el6.x86_64 \n:: [   LOG    ] :: Test started  : 2013-10-17 13:26:16 EDT\n:: [   LOG    ] :: Test finished : 2013-10-17 13:26:59 EDT\n:: [   LOG    ] :: Test name     : /CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in\n:: [   LOG    ] :: Distro:       : Red Hat Enterprise Linux Server release 6.4 (Santiago)\n:: [   LOG    ] :: Hostname      : dell-p690-01.rhts.eng.bos.redhat.com\n:: [   LOG    ] :: Architecture  : x86_64\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test description\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\nPURPOSE of\n/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in\nDescription: Test for BZ#951704 (RFE - Add KexAlgorithms configuration option\nin)\nAuthor: Lukas Novy <lnovy@redhat.com>\nBug summary: RFE - Add KexAlgorithms configuration option in openssh\nBugzilla link: https://bugzilla.redhat.com/show_bug.cgi?id=951704\n\nAdd KexAlgorithms configuration option in openssh to allow selection of key\nexchange methods\n\n- Customer would like to be able to specify ''KexAlgorithms\ndiffie-hellman-group14-sha1,diffie-hellman-group1-sha1,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1''\nin /etc/ssh/ssh_config \n\n\n- no RFE exists in Red Hat bugzilla.\n- KexAlgorithms became an option in the upstream openssh-5.7\n\nhttp://openssh.org/txt/release-5.7\n\n * ssh(1)/sshd(8): add a KexAlgorithms knob to the client and server\n   configuration to allow selection of which key exchange methods are\n   used by ssh(1) and sshd(8) and their order of preference.\n\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Setup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Checking for the presence of openssh rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   openssh-5.3p1-94.el6.x86_64\n:: [   PASS   ] :: Creating tmp directory (Expected 0, got 0)\n:: [   PASS   ] :: Running 'pushd /tmp/tmp.RmK3fwvyuo' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'useradd bz951704' (Expected 0-255, got 0)\n:: [   PASS   ] :: Running 'echo bz951704 | passwd --stdin bz951704' (Expected 0, got 0)\n:: [   INFO   ] :: KexAlgorithms known: ecdh-sha2-nistp256 ecdh-sha2-nistp384 ecdh-sha2-nistp521 diffie-hellman-group-exchange-sha256 diffie-hellman-group-exchange-sha1 diffie-hellman-group14-sha1 diffie-hellman-group1-sha1 maionese-hellman\n:: [   INFO   ] :: KexAlgorithms that need to work: diffie-hellman-group-exchange-sha256 diffie-hellman-group-exchange-sha1 diffie-hellman-group14-sha1 diffie-hellman-group1-sha1\n:: [   INFO   ] :: KexAlgorithms must not work: ecdh-sha2-nistp256 ecdh-sha2-nistp384 ecdh-sha2-nistp521 diffie-hellman-group-exchange-sha256 diffie-hellman-group-exchange-sha1 diffie-hellman-group14-sha1 diffie-hellman-group1-sha1 maionese-hellman\n:: [   LOG    ] :: Duration: 2s\n:: [   LOG    ] :: Assertions: 5 good, 0 bad\n:: [   PASS   ] :: RESULT: Setup\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   INFO   ] :: Allowed server KEXs: diffie-hellman-group-exchange-sha256\n:: [   INFO   ] :: Allowed client KEXs: diffie-hellman-group-exchange-sha256\n:: [   INFO   ] :: Expected connection KEX: diffie-hellman-group-exchange-sha256\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in/ssh.exp bz951704 127.0.0.1 bz951704 2>/tmp/tmp.o2QO4wWqMY >/tmp/tmp.wRZ1dDsxkR' (Expected 0, got 0)\n:: [   INFO   ] :: Sending /tmp/tmp.wRZ1dDsxkR as tmp-tmp.wRZ1dDsxkR\n:: [   INFO   ] :: Sending /tmp/tmp.o2QO4wWqMY as tmp-tmp.o2QO4wWqMY\n:: [   INFO   ] :: Allowed server KEXs: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1\n:: [   INFO   ] :: Allowed client KEXs: diffie-hellman-group-exchange-sha256\n:: [   INFO   ] :: Expected connection KEX: diffie-hellman-group-exchange-sha256\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in/ssh.exp bz951704 127.0.0.1 bz951704 2>/tmp/tmp.mi2URzRiR3 >/tmp/tmp.urNJe7n0al' (Expected 0, got 0)\n:: [   INFO   ] :: Sending /tmp/tmp.urNJe7n0al as tmp-tmp.urNJe7n0al\n:: [   INFO   ] :: Sending /tmp/tmp.mi2URzRiR3 as tmp-tmp.mi2URzRiR3\n:: [   INFO   ] :: Allowed server KEXs: diffie-hellman-group-exchange-sha256\n:: [   INFO   ] :: Allowed client KEXs: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1\n:: [   INFO   ] :: Expected connection KEX: diffie-hellman-group-exchange-sha256\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in/ssh.exp bz951704 127.0.0.1 bz951704 2>/tmp/tmp.upHKW8Eedd >/tmp/tmp.6Vx36bDDBY' (Expected 0, got 0)\n:: [   INFO   ] :: Sending /tmp/tmp.6Vx36bDDBY as tmp-tmp.6Vx36bDDBY\n:: [   INFO   ] :: Sending /tmp/tmp.upHKW8Eedd as tmp-tmp.upHKW8Eedd\n:: [   INFO   ] :: Allowed server KEXs: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha256\n:: [   INFO   ] :: Allowed client KEXs: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha256\n:: [   INFO   ] :: Expected connection KEX: diffie-hellman-group-exchange-sha256\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in/ssh.exp bz951704 127.0.0.1 bz951704 2>/tmp/tmp.vBYZMWaAFN >/tmp/tmp.onFHT9FKcu' (Expected 0, got 0)\n:: [   INFO   ] :: Sending /tmp/tmp.onFHT9FKcu as tmp-tmp.onFHT9FKcu\n:: [   INFO   ] :: Sending /tmp/tmp.vBYZMWaAFN as tmp-tmp.vBYZMWaAFN\n:: [   INFO   ] :: Allowed server KEXs: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha256\n:: [   INFO   ] :: Allowed client KEXs: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1,maionese-hellman\n:: [   INFO   ] :: Expected connection KEX: \n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0-255, got 0)\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in/ssh-fail.exp bz951704 127.0.0.1 bz951704 2>/tmp/tmp.LJHl2pCJWb >/tmp/tmp.FijJDzpzIg' (Expected 1-2, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.FijJDzpzIg as tmp-tmp.FijJDzpzIg\n:: [   INFO   ] :: Sending /tmp/tmp.LJHl2pCJWb as tmp-tmp.LJHl2pCJWb\n:: [   INFO   ] :: Allowed server KEXs: diffie-hellman-group-exchange-sha1\n:: [   INFO   ] :: Allowed client KEXs: diffie-hellman-group-exchange-sha1\n:: [   INFO   ] :: Expected connection KEX: diffie-hellman-group-exchange-sha1\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in/ssh.exp bz951704 127.0.0.1 bz951704 2>/tmp/tmp.4o2CIW7RrA >/tmp/tmp.4pssnfKS4R' (Expected 0, got 0)\n:: [   INFO   ] :: Sending /tmp/tmp.4pssnfKS4R as tmp-tmp.4pssnfKS4R\n:: [   INFO   ] :: Sending /tmp/tmp.4o2CIW7RrA as tmp-tmp.4o2CIW7RrA\n:: [   INFO   ] :: Allowed server KEXs: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1\n:: [   INFO   ] :: Allowed client KEXs: diffie-hellman-group-exchange-sha1\n:: [   INFO   ] :: Expected connection KEX: diffie-hellman-group-exchange-sha1\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in/ssh.exp bz951704 127.0.0.1 bz951704 2>/tmp/tmp.Jn9Imc6xVT >/tmp/tmp.ZRFDM0EoOn' (Expected 0, got 0)\n:: [   INFO   ] :: Sending /tmp/tmp.ZRFDM0EoOn as tmp-tmp.ZRFDM0EoOn\n:: [   INFO   ] :: Sending /tmp/tmp.Jn9Imc6xVT as tmp-tmp.Jn9Imc6xVT\n:: [   INFO   ] :: Allowed server KEXs: diffie-hellman-group-exchange-sha1\n:: [   INFO   ] :: Allowed client KEXs: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1\n:: [   INFO   ] :: Expected connection KEX: diffie-hellman-group-exchange-sha1\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in/ssh.exp bz951704 127.0.0.1 bz951704 2>/tmp/tmp.FkSYj8qcP4 >/tmp/tmp.7PWAFA9Otp' (Expected 0, got 0)\n:: [   INFO   ] :: Sending /tmp/tmp.7PWAFA9Otp as tmp-tmp.7PWAFA9Otp\n:: [   INFO   ] :: Sending /tmp/tmp.FkSYj8qcP4 as tmp-tmp.FkSYj8qcP4\n:: [   INFO   ] :: Allowed server KEXs: diffie-hellman-group-exchange-sha1,diffie-hellman-group-exchange-sha256\n:: [   INFO   ] :: Allowed client KEXs: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1\n:: [   INFO   ] :: Expected connection KEX: diffie-hellman-group-exchange-sha1\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in/ssh.exp bz951704 127.0.0.1 bz951704 2>/tmp/tmp.F8HYnP5GT2 >/tmp/tmp.fGbpjjLBj4' (Expected 0, got 0)\n:: [   INFO   ] :: Sending /tmp/tmp.fGbpjjLBj4 as tmp-tmp.fGbpjjLBj4\n:: [   INFO   ] :: Sending /tmp/tmp.F8HYnP5GT2 as tmp-tmp.F8HYnP5GT2\n:: [   INFO   ] :: Allowed server KEXs: diffie-hellman-group-exchange-sha1,diffie-hellman-group-exchange-sha256\n:: [   INFO   ] :: Allowed client KEXs: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1,maionese-hellman\n:: [   INFO   ] :: Expected connection KEX: \n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0-255, got 0)\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in/ssh-fail.exp bz951704 127.0.0.1 bz951704 2>/tmp/tmp.SxWCJ4pt4L >/tmp/tmp.Eq476YjVlv' (Expected 1-2, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.Eq476YjVlv as tmp-tmp.Eq476YjVlv\n:: [   INFO   ] :: Sending /tmp/tmp.SxWCJ4pt4L as tmp-tmp.SxWCJ4pt4L\n:: [   INFO   ] :: Allowed server KEXs: diffie-hellman-group14-sha1\n:: [   INFO   ] :: Allowed client KEXs: diffie-hellman-group14-sha1\n:: [   INFO   ] :: Expected connection KEX: diffie-hellman-group14-sha1\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in/ssh.exp bz951704 127.0.0.1 bz951704 2>/tmp/tmp.Wg6VwQo5EQ >/tmp/tmp.DpntI404uH' (Expected 0, got 0)\n:: [   INFO   ] :: Sending /tmp/tmp.DpntI404uH as tmp-tmp.DpntI404uH\n:: [   INFO   ] :: Sending /tmp/tmp.Wg6VwQo5EQ as tmp-tmp.Wg6VwQo5EQ\n:: [   INFO   ] :: Allowed server KEXs: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1\n:: [   INFO   ] :: Allowed client KEXs: diffie-hellman-group14-sha1\n:: [   INFO   ] :: Expected connection KEX: diffie-hellman-group14-sha1\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in/ssh.exp bz951704 127.0.0.1 bz951704 2>/tmp/tmp.43FUB81Iy3 >/tmp/tmp.vE6EAPwOxq' (Expected 0, got 0)\n:: [   INFO   ] :: Sending /tmp/tmp.vE6EAPwOxq as tmp-tmp.vE6EAPwOxq\n:: [   INFO   ] :: Sending /tmp/tmp.43FUB81Iy3 as tmp-tmp.43FUB81Iy3\n:: [   INFO   ] :: Allowed server KEXs: diffie-hellman-group14-sha1\n:: [   INFO   ] :: Allowed client KEXs: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1\n:: [   INFO   ] :: Expected connection KEX: diffie-hellman-group14-sha1\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in/ssh.exp bz951704 127.0.0.1 bz951704 2>/tmp/tmp.Di0TsZWrTG >/tmp/tmp.dp4WccBHw0' (Expected 0, got 0)\n:: [   INFO   ] :: Sending /tmp/tmp.dp4WccBHw0 as tmp-tmp.dp4WccBHw0\n:: [   INFO   ] :: Sending /tmp/tmp.Di0TsZWrTG as tmp-tmp.Di0TsZWrTG\n:: [   INFO   ] :: Allowed server KEXs: diffie-hellman-group14-sha1,diffie-hellman-group-exchange-sha256\n:: [   INFO   ] :: Allowed client KEXs: diffie-hellman-group-exchange-sha256,diffie-hellman-group14-sha1\n:: [   INFO   ] :: Expected connection KEX: diffie-hellman-group14-sha1\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in/ssh.exp bz951704 127.0.0.1 bz951704 2>/tmp/tmp.VkoOXxWdHF >/tmp/tmp.lRyVmqjDR8' (Expected 0, got 0)\n:: [   INFO   ] :: Sending /tmp/tmp.lRyVmqjDR8 as tmp-tmp.lRyVmqjDR8\n:: [   INFO   ] :: Sending /tmp/tmp.VkoOXxWdHF as tmp-tmp.VkoOXxWdHF\n:: [   INFO   ] :: Allowed server KEXs: diffie-hellman-group14-sha1,diffie-hellman-group-exchange-sha256\n:: [   INFO   ] :: Allowed client KEXs: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1,maionese-hellman\n:: [   INFO   ] :: Expected connection KEX: \n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0-255, got 0)\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in/ssh-fail.exp bz951704 127.0.0.1 bz951704 2>/tmp/tmp.fb984LrUDo >/tmp/tmp.2AbPacVpQW' (Expected 1-2, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.2AbPacVpQW as tmp-tmp.2AbPacVpQW\n:: [   INFO   ] :: Sending /tmp/tmp.fb984LrUDo as tmp-tmp.fb984LrUDo\n:: [   INFO   ] :: Allowed server KEXs: diffie-hellman-group1-sha1\n:: [   INFO   ] :: Allowed client KEXs: diffie-hellman-group1-sha1\n:: [   INFO   ] :: Expected connection KEX: diffie-hellman-group1-sha1\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in/ssh.exp bz951704 127.0.0.1 bz951704 2>/tmp/tmp.dT1fKUevhj >/tmp/tmp.dCYKQ74nMO' (Expected 0, got 0)\n:: [   INFO   ] :: Sending /tmp/tmp.dCYKQ74nMO as tmp-tmp.dCYKQ74nMO\n:: [   INFO   ] :: Sending /tmp/tmp.dT1fKUevhj as tmp-tmp.dT1fKUevhj\n:: [   INFO   ] :: Allowed server KEXs: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1\n:: [   INFO   ] :: Allowed client KEXs: diffie-hellman-group1-sha1\n:: [   INFO   ] :: Expected connection KEX: diffie-hellman-group1-sha1\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in/ssh.exp bz951704 127.0.0.1 bz951704 2>/tmp/tmp.yxwgut4T5M >/tmp/tmp.CRO1WOOKIp' (Expected 0, got 0)\n:: [   INFO   ] :: Sending /tmp/tmp.CRO1WOOKIp as tmp-tmp.CRO1WOOKIp\n:: [   INFO   ] :: Sending /tmp/tmp.yxwgut4T5M as tmp-tmp.yxwgut4T5M\n:: [   INFO   ] :: Allowed server KEXs: diffie-hellman-group1-sha1\n:: [   INFO   ] :: Allowed client KEXs: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1\n:: [   INFO   ] :: Expected connection KEX: diffie-hellman-group1-sha1\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in/ssh.exp bz951704 127.0.0.1 bz951704 2>/tmp/tmp.yOWZTQM70j >/tmp/tmp.o5O2nji5fx' (Expected 0, got 0)\n:: [   INFO   ] :: Sending /tmp/tmp.o5O2nji5fx as tmp-tmp.o5O2nji5fx\n:: [   INFO   ] :: Sending /tmp/tmp.yOWZTQM70j as tmp-tmp.yOWZTQM70j\n:: [   INFO   ] :: Allowed server KEXs: diffie-hellman-group1-sha1,diffie-hellman-group-exchange-sha256\n:: [   INFO   ] :: Allowed client KEXs: diffie-hellman-group-exchange-sha256,diffie-hellman-group1-sha1\n:: [   INFO   ] :: Expected connection KEX: diffie-hellman-group1-sha1\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in/ssh.exp bz951704 127.0.0.1 bz951704 2>/tmp/tmp.3kC9uVcoZe >/tmp/tmp.a6E3Q1S2gC' (Expected 0, got 0)\n:: [   INFO   ] :: Sending /tmp/tmp.a6E3Q1S2gC as tmp-tmp.a6E3Q1S2gC\n:: [   INFO   ] :: Sending /tmp/tmp.3kC9uVcoZe as tmp-tmp.3kC9uVcoZe\n:: [   INFO   ] :: Allowed server KEXs: diffie-hellman-group1-sha1,diffie-hellman-group-exchange-sha256\n:: [   INFO   ] :: Allowed client KEXs: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1,maionese-hellman\n:: [   INFO   ] :: Expected connection KEX: \n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0-255, got 0)\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in/ssh-fail.exp bz951704 127.0.0.1 bz951704 2>/tmp/tmp.VUivkU9cHJ >/tmp/tmp.rpeqxWcJBq' (Expected 1-2, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.rpeqxWcJBq as tmp-tmp.rpeqxWcJBq\n:: [   INFO   ] :: Sending /tmp/tmp.VUivkU9cHJ as tmp-tmp.VUivkU9cHJ\n:: [   LOG    ] :: Duration: 36s\n:: [   LOG    ] :: Assertions: 24 good, 0 bad\n:: [   PASS   ] :: RESULT: Test\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Cleanup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'userdel -f -r bz951704' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'popd' (Expected 0, got 0)\n:: [   PASS   ] :: Removing tmp directory (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 2s\n:: [   LOG    ] :: Assertions: 3 good, 0 bad\n:: [   PASS   ] :: RESULT: Cleanup\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: /CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Phases: 3 good, 0 bad\n:: [   PASS   ] :: RESULT: /CoreOS/openssh/Sanity/bz951704-RFE-Add-KexAlgorithms-configuration-option-in",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20131018T07:25:14",
          "bug_id": "951704",
          "creator_id": "241731",
          "time": "20131018T07:25:14",
          "id": "6433428",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHSA-2013-1591.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20131121T09:45:43",
          "bug_id": "951704",
          "creator_id": "241731",
          "time": "20131121T09:45:43",
          "id": "6542264",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.5"
      ],
      "cc": [
        "ebenes@redhat.com",
        "ksrot@redhat.com",
        "lnovy@redhat.com",
        "pvrabec@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "907610"
      ],
      "qa_contact": "lnovy@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Enhancement",
      "cf_clone_of": "0",
      "groups": [
        "redhat"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "RFE - Add KexAlgorithms configuration option in openssh",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20130909T15:21:10",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20130710T07:05:01",
          "id": "1412528",
          "setter": "lnovy@redhat.com"
        },
        {
          "status": "?",
          "name": "requires_doc_text",
          "modification_date": "20131025T09:05:20",
          "type_id": "415",
          "is_active": "1",
          "creation_date": "20131025T09:05:20",
          "id": "1563391",
          "setter": "plautrba@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.5.0",
          "modification_date": "20130710T07:07:45",
          "type_id": "361",
          "is_active": "0",
          "creation_date": "20130412T20:28:32",
          "id": "1316040",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20130531T18:47:58",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20130412T20:28:32",
          "id": "1316041",
          "setter": "snagar@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20130619T11:29:11",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20130412T20:28:32",
          "id": "1316042",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20130710T06:59:14",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20130412T20:28:32",
          "id": "1316043",
          "setter": "ksrot@redhat.com"
        }
      ],
      "last_change_time": "20140218T23:56:43",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509321-I0zEDb_5fYj3V6vHboTdRvQRJ05Se-pntDKntPMn3QI",
      "cf_partner": [],
      "cf_last_closed": "20131121T09:45:43",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "classification": "Red Hat",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_story_points": "---",
      "cf_conditional_nak": [],
      "creation_time": "20130417T10:34:00",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "summary": "OpenSSH adding ControlPersist patch to enable full usage of SSH control options",
      "external_bugs": [],
      "id": "953087",
      "cf_release_notes": "",
      "priority": "unspecified",
      "cf_internal_whiteboard": "",
      "severity": "unspecified",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "toshaan@vantosh.com",
      "comments": [
        {
          "count": "0",
          "creator": "toshaan@vantosh.com",
          "text": "Description of problem:\nAdding the ControlPersist option to enable ControlMaster to shutdown without losing all sessions, as currently implemented in OpenSSH version \n\nVersion-Release number of selected component (if applicable):\nOpenSSH 5.3p1-84.1\n\nHow reproducible:\n- Rebuild rpm with patch it seems to work on all my systems\nhttp://repo.vantosh.com/yum/testing/el6/x86_64/openssh-5.3p1-84.2.el6.x86_64.rpm\nhttp://repo.vantosh.com/yum/testing/el6/x86_64/openssh-clients-5.3p1-84.2.el6.x86_64.rpm\n\nSteps to Reproduce:\n1. rebuild openssh rpm with patch\n2. install new rpm\n3. add ControlPersist option to ssh config\n  \nActual results:\n- ControlPersist works\n\nExpected results:\n- ControlPersist works\n\nAdditional info:\n- patch to rpm added in attachment",
          "author": "toshaan@vantosh.com",
          "creation_time": "20130417T10:34:03",
          "bug_id": "953087",
          "creator_id": "350579",
          "time": "20130417T10:34:03",
          "id": "5836526",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "toshaan@vantosh.com",
          "text": "somehow Bugzilla created two bugs",
          "author": "toshaan@vantosh.com",
          "creation_time": "20130422T10:49:38",
          "bug_id": "953087",
          "creator_id": "350579",
          "time": "20130422T10:49:38",
          "id": "5847788",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "plautrba@redhat.com",
          "text": "\n\n*** This bug has been marked as a duplicate of bug 953088 ***",
          "author": "plautrba@redhat.com",
          "creation_time": "20130422T14:22:21",
          "bug_id": "953087",
          "creator_id": "270148",
          "time": "20130422T14:22:21",
          "id": "5849237",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.4"
      ],
      "cc": [],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_regression_status": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "product": "Red Hat Enterprise Linux 6",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "target_release": [
        "---"
      ],
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "sub_components": {},
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "op_sys": "Unspecified",
      "alias": [],
      "dupe_of": "953088",
      "flags": [],
      "last_change_time": "20130422T14:22:21",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509321-AtWz-C_RdeJTCeDNgKVvX68hFwJIpzepILYXf5xWOiE",
      "cf_partner": [],
      "cf_last_closed": "20130422T14:22:21",
      "resolution": "DUPLICATE",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20130626T00:05:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "6.5"
      ],
      "external_bugs": [],
      "id": "978080",
      "cf_release_notes": "",
      "priority": "unspecified",
      "severity": "low",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "djasa@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "djasa@redhat.com",
          "text": "Description of problem:\nwhen connected with RHEL 6 ssh to any host (localhost, remote F19 openssh/bash, remote OpenWRT dropbear/ash), terminal misbehaves when editing CLIs that contain 2 byte unicode characters - when the cursor is to the right of such character and you move left, the cursor gets in the middle of the character instead of left to it. In some remote systems (F19 with tmux), even some whitespace is inserted to the right of the characters...\nGiven that all the remote systems misbehave the same, local (X) terminal works ok, I suspect ssh client as the culprit\nThe system locale is cs_CZ.UTF-8\n\nVersion-Release number of selected component (if applicable):\nopenssh-5.3p1-84.1.el6.x86_64\nbash-4.1.2-14.el6.x86_64\n\nHow reproducible:\nalways\n\nSteps to Reproduce:\n1. connect with ssh to some host\n2. paste this command to the terminal, hit enter:\necho -n '' | hexdump\n3. hit up arrow\n4. paste '\u0161' character inside the apostrophes, hit enter\n5. hit up arrow\n6. move left to get the cursor right right of '\u0161' character, ie '\u0161|' (pipe sign is placeholder for the cursor)\n7. move one more character to the right\n8. paste '\u0161' character\n9. hit enter again\n\nActual results:\n4. you can see output like this:\n0000000 a1c5                                   \n0000002\nor:\n0000000 c5a1                                   \n000000\ndepending on your architecture\n8. you can notice that something goes wrong with the CLI\nyou see output like:\n0000000 c5c5 a1a1                              \n0000004\nmeaning that the second '\u0161' got pasted right into middle of first '\u0161'\n\n\nExpected results:\n4. the same\n8. nothing gets wrong when editing cli - i.e.:\n0000000 a1c5 a1c5                              \n0000004\nor:\n0000000 c5a1 c5a1                              \n0000004\n\n\nAdditional info:\nwhen you hop from the beginning to the end and vice versa in plain shell (no tmux), the PS1 prompt gets eaten with each hop to the left",
          "author": "djasa@redhat.com",
          "creation_time": "20130626T00:05:21",
          "bug_id": "978080",
          "creator_id": "309140",
          "time": "20130626T00:05:21",
          "id": "6043344",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "plautrba@redhat.com",
          "text": "I'm not able to reproduce your issue. What kind of xterminal do you use? Is it on rhel-6 or are you connected to rhel-6 via ssh? Are you on a physical console? Or is it a virtual and do you use vnc? spice?",
          "author": "plautrba@redhat.com",
          "creation_time": "20130627T13:25:13",
          "bug_id": "978080",
          "creator_id": "270148",
          "time": "20130627T13:25:13",
          "id": "6051308",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "djasa@redhat.com",
          "text": "gnome-terminal on RHEL6.",
          "author": "djasa@redhat.com",
          "creation_time": "20130627T13:45:01",
          "bug_id": "978080",
          "creator_id": "309140",
          "time": "20130627T13:45:01",
          "id": "6051397",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "plautrba@redhat.com",
          "text": "still can't reproduce. Random idea: how does your prompt PS1 or so looks like?",
          "author": "plautrba@redhat.com",
          "creation_time": "20130627T18:11:40",
          "bug_id": "978080",
          "creator_id": "270148",
          "time": "20130627T18:11:40",
          "id": "6052395",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "plautrba@redhat.com",
          "text": "If you can provide more information how to reproduce this issue, please attach them and reopen this bug.",
          "author": "plautrba@redhat.com",
          "creation_time": "20130712T10:58:35",
          "bug_id": "978080",
          "creator_id": "270148",
          "time": "20130712T10:58:35",
          "id": "6103837",
          "is_private": "False"
        },
        {
          "count": "5",
          "attachment_id": "775801",
          "author": "djasa@redhat.com",
          "text": "Created attachment 775801\nenv",
          "creator": "djasa@redhat.com",
          "creation_time": "20130719T13:10:56",
          "bug_id": "978080",
          "creator_id": "309140",
          "time": "20130719T13:10:56",
          "id": "6123679",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "djasa@redhat.com",
          "text": "The observed behaviour was caused by setting LC_ALL to C, so there is no bug on ssh part indeed, just bogus configuration.",
          "author": "djasa@redhat.com",
          "creation_time": "20130719T15:23:22",
          "bug_id": "978080",
          "creator_id": "309140",
          "time": "20130719T15:23:22",
          "id": "6124052",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.4"
      ],
      "cc": [
        "djasa@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "beta",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "ssh seems to mishandle unicode characters > 1b when editing CLI",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.5.0",
          "modification_date": "20130626T00:05:21",
          "type_id": "361",
          "is_active": "0",
          "creation_date": "20130626T00:05:21",
          "id": "1393273",
          "setter": "djasa@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20130626T00:07:57",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20130626T00:05:21",
          "id": "1393274",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20130626T00:05:21",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20130626T00:05:21",
          "id": "1393275",
          "setter": "djasa@redhat.com"
        },
        {
          "status": "?",
          "name": "qa_ack",
          "modification_date": "20130626T00:05:21",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20130626T00:05:21",
          "id": "1393276",
          "setter": "djasa@redhat.com"
        }
      ],
      "last_change_time": "20130719T15:23:22",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509321-KC9Tjl6Fc_YnZnYrQ8SBjKfxRFz-uYNrg3EJlg6i9nI",
      "cf_partner": [],
      "cf_last_closed": "20130712T10:58:35",
      "resolution": "NOTABUG",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20130806T08:32:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "None",
          "ext_bz_bug_id": "86508",
          "bug_id": "993577",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "69",
          "type": {
            "must_send": "False",
            "description": "TCMS Test Case",
            "url": "https://tcms.engineering.redhat.com",
            "can_get": "False",
            "id": "69",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          },
          "id": "121578"
        }
      ],
      "id": "993577",
      "cf_release_notes": "Feature: \r\nDue to the new FIPS validation requirements the RNG seed has to have at least \r\n112 bits of entropy instead of curent 80 bits. This is higher than the minimum \r\nvalue in SSH_USE_STRONG_RNG in previous versions so that the minimum value\r\nin SSH_USE_STRONG_RNG which can be used has been bumped to 14.",
      "priority": "unspecified",
      "severity": "unspecified",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "plautrba@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "plautrba@redhat.com",
          "text": "From: Stephan Mueller <stephan.mueller@atsec.com>\nTo: fips140-external-list@redhat.com\nSubject: [Fips140-external-list] OpenSSH: SSH_USE_STRONG_RNG\nDate: Mon, 05 Aug 2013 19:18:40 +0200\n\nHi hackers,\n\nwith SP800-131A, by the end of the year, the requirement of having at \nleast 80 bits of entropy to seed an RNG is now raised to 112 bits.\n\nAs that is higher than the minimum value in SSH_USE_STRONG_RNG, you may \nwant to bump the minimum value.\n\nI am not yet sure whether that environment variable will be required for \na FIPS validation. But mind you that NIST is currently drafting a new IG \nthat requires the seed source to comply with SP800-90B. If that gets \nenacted, I feel that /dev/urandom is not good enough. Though, I have to \ninvestigate /dev/urandom further.",
          "author": "plautrba@redhat.com",
          "creation_time": "20130806T08:32:28",
          "bug_id": "993577",
          "creator_id": "270148",
          "time": "20130806T08:32:28",
          "id": "6184521",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this bug report was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20130806T08:41:40",
          "bug_id": "993577",
          "creator_id": "193983",
          "time": "20130806T08:41:40",
          "id": "6184555",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "ebenes@redhat.com",
          "text": "Providing qa_ack+ as we have already a test coverage for ''less'' bits of entropy to seed an RNG created for bug 681296. If the solution needs a different approach (and testing / requirements) than before, please inform us ASAP.\n\n@Devel, please review the current test [2] and propose any necessary enhancements for this new bug. Thanks!\n\n1. https://tcms.engineering.redhat.com/case/86508/\n2. http://pkgs.devel.redhat.com/cgit/tests/openssh/tree/Regression/bz681296-SSH_USE_STRONG_RNG-for-seeding-from-dev-random/runtest.sh",
          "author": "ebenes@redhat.com",
          "creation_time": "20130809T08:39:46",
          "bug_id": "993577",
          "creator_id": "203333",
          "time": "20130809T08:39:46",
          "id": "6197688",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "plautrba@redhat.com",
          "text": "(In reply to Eduard Benes from comment #2)\n> @Devel, please review the current test [2] and propose any necessary\n> enhancements for this new bug. Thanks!\n> \n> 1. https://tcms.engineering.redhat.com/case/86508/\n> 2.\n> http://pkgs.devel.redhat.com/cgit/tests/openssh/tree/Regression/bz681296-\n> SSH_USE_STRONG_RNG-for-seeding-from-dev-random/runtest.sh\n\nThe test needs to change the minimal expected amount of read bytes from 6 to 14.",
          "author": "plautrba@redhat.com",
          "creation_time": "20130813T11:27:22",
          "bug_id": "993577",
          "creator_id": "270148",
          "time": "20130813T11:27:22",
          "id": "6207250",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "plautrba@redhat.com",
          "text": "The minimal amount of read bytes based on SSH_USE_STRONG_RNG has been bumped to 14 (bytes) from 6 (bytes).",
          "author": "plautrba@redhat.com",
          "creation_time": "20130813T11:48:43",
          "bug_id": "993577",
          "creator_id": "270148",
          "time": "20130813T11:48:43",
          "id": "6207301",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2013:15245-01\nhttp://errata.devel.redhat.com/errata/show/15245",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20130814T07:12:21",
          "bug_id": "993577",
          "creator_id": "241731",
          "time": "20130814T07:12:21",
          "id": "6210054",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2013:15245-01: \nChanged by: Lukas Novy (lnovy@redhat.com)\nhttp://errata.devel.redhat.com/advisory/15245\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: TEST PROTOCOL\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Package       : openssh\n:: [   LOG    ] :: Installed:    : openssh-5.3p1-84.1.el6.i686 \n:: [   LOG    ] :: Test started  : 2013-09-12 10:59:55 EDT\n:: [   LOG    ] :: Test finished : 2013-09-12 11:23:43 EDT\n:: [   LOG    ] :: Test name     : /CoreOS/openssh/Regression/bz681296-SSH_USE_STRONG_RNG-for-seeding-from-dev-random\n:: [   LOG    ] :: Distro:       : Red Hat Enterprise Linux Server release 6.4 (Santiago)\n:: [   LOG    ] :: Hostname      : hp-dl360g3-01.rhts.eng.bos.redhat.com\n:: [   LOG    ] :: Architecture  : i686\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test description\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\nPURPOSE of\n/CoreOS/openssh/Regression/bz681296-SSH_USE_STRONG_RNG-for-seeding-from-dev-random\nDescription: Checks if openssh is seeding from /dev/random if enviroment\nvariable SSH_USE_STRONG_RNG=1\nAuthor: Miroslav Vadkerti <mvadkert@redhat.com>\n\nDescription of problem:\nOpenSSL seeds its RNGs from /dev/urandom. An attacker could do \ncat /dev/random > /dev/null\ncat /dev/urandom > /dev/null\nand thereby drain entropy from /dev/urandom. BSI requires that a seed for a RNG\ncontains entropy.\n\n\nTest scenarios:\n\n1. Run sshd without SSH_USE_STRONG_RNG\n   -> should reseed from /dev/urandom\n\n2. Run sshd with SSH_USE_STRONG_RNG=1 \n   -> should reseed from /dev/random and should take longer then 10s \n      (waiting for enough entropy)\n  \n3. Run sshd with SSH_USE_STRONG_RNG=1 with rngd running\n   -> should seed from /dev/random and should not wait longer then 10s\n      (enough entropy should be generated by rngd)\n\nNote:\nWhen reseeding from /dev/random openssl also opens /dev/urandom but this \nis not a bug.\n\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Setup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Checking for the presence of openssh rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   openssh-5.3p1-84.1.el6.i686\n:: [   PASS   ] :: Running 'useradd tstusr' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'echo tstusr | passwd --stdin tstusr' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'semanage port -a -p tcp -t ssh_port_t 8998' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'make -f /usr/share/selinux/devel/Makefile' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'semodule -i runcon_allow.pp' (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 2m 38s\n:: [   LOG    ] :: Assertions: 6 good, 0 bad\n:: [   PASS   ] :: RESULT: Setup\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Seeding from /dev/urandom\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'unset SSH_USE_STRONG_RNG' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'strace runcon -u system_u -r system_r -t sshd_t -- /usr/sbin/sshd -p8998 -o 'PidFile /tmp/tmp.JIIEPkOUSt' &> /tmp/tmp.VB80cQf9QU' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'time ./ssh.exp tstusr tstusr 8998' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.VB80cQf9QU' should not contain '/dev/random' \n:: [   PASS   ] :: File '/tmp/tmp.VB80cQf9QU' should contain '/dev/urandom' \n:: [   PASS   ] :: Running 'kill 17027' (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 3s\n:: [   LOG    ] :: Assertions: 6 good, 0 bad\n:: [   PASS   ] :: RESULT: Seeding from /dev/urandom\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Seeding from /dev/random\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'export SSH_USE_STRONG_RNG=48' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'strace runcon -u system_u -r system_r -t sshd_t -- /usr/sbin/sshd -p8998 -o 'PidFile /tmp/tmp.JIIEPkOUSt' &> /tmp/tmp.VB80cQf9QU' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'time ./ssh_timeout.exp tstusr tstusr 8998' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.VB80cQf9QU' should contain '/dev/random' \n:: [   PASS   ] :: Running 'kill 17111' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'unset SSH_USE_STRONG_RNG' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rm -f /tmp/tmp.VB80cQf9QU' (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 18m 2s\n:: [   LOG    ] :: Assertions: 7 good, 0 bad\n:: [   PASS   ] :: RESULT: Seeding from /dev/random\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=1\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'SOUT=/tmp/tmp.sc84lJJAm9' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'export SSH_USE_STRONG_RNG=1' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rngd -r /dev/urandom' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'strace runcon -u system_u -r system_r -t sshd_t -- /usr/sbin/sshd -p8998 -o 'PidFile /tmp/tmp.JIIEPkOUSt' &> /tmp/tmp.sc84lJJAm9' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'time ./ssh.exp tstusr tstusr 8998' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.sc84lJJAm9' should contain '/dev/random' \n:: [   LOG    ] :: Minmum bytes expected from /dev/random: 14 / read bytes: 6\n:: [   FAIL   ] :: Check if correct (14) count of bytes read (6 (Assert: 14 should equal 6)\n:: [   PASS   ] :: Running 'kill 17186' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'unset SSH_USE_STRONG_RNG' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rm -f /tmp/tmp.sc84lJJAm9' (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 4s\n:: [   LOG    ] :: Assertions: 9 good, 1 bad\n:: [   FAIL   ] :: RESULT: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=1\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=6\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'SOUT=/tmp/tmp.MwtPfPPNlz' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'export SSH_USE_STRONG_RNG=6' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rngd -r /dev/urandom' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'strace runcon -u system_u -r system_r -t sshd_t -- /usr/sbin/sshd -p8998 -o 'PidFile /tmp/tmp.JIIEPkOUSt' &> /tmp/tmp.MwtPfPPNlz' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'time ./ssh.exp tstusr tstusr 8998' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.MwtPfPPNlz' should contain '/dev/random' \n:: [   LOG    ] :: Minmum bytes expected from /dev/random: 14 / read bytes: 6\n:: [   FAIL   ] :: Check if correct (14) count of bytes read (6 (Assert: 14 should equal 6)\n:: [   PASS   ] :: Running 'kill 17366' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'unset SSH_USE_STRONG_RNG' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rm -f /tmp/tmp.MwtPfPPNlz' (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 4s\n:: [   LOG    ] :: Assertions: 9 good, 1 bad\n:: [   FAIL   ] :: RESULT: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=6\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=7\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'SOUT=/tmp/tmp.FRC3gHAHfM' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'export SSH_USE_STRONG_RNG=7' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rngd -r /dev/urandom' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'strace runcon -u system_u -r system_r -t sshd_t -- /usr/sbin/sshd -p8998 -o 'PidFile /tmp/tmp.JIIEPkOUSt' &> /tmp/tmp.FRC3gHAHfM' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'time ./ssh.exp tstusr tstusr 8998' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.FRC3gHAHfM' should contain '/dev/random' \n:: [   LOG    ] :: Minmum bytes expected from /dev/random: 14 / read bytes: 7\n:: [   FAIL   ] :: Check if correct (14) count of bytes read (7 (Assert: 14 should equal 7)\n:: [   PASS   ] :: Running 'kill 17546' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'unset SSH_USE_STRONG_RNG' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rm -f /tmp/tmp.FRC3gHAHfM' (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 4s\n:: [   LOG    ] :: Assertions: 9 good, 1 bad\n:: [   FAIL   ] :: RESULT: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=7\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=13\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'SOUT=/tmp/tmp.rI8azjoI80' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'export SSH_USE_STRONG_RNG=13' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rngd -r /dev/urandom' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'strace runcon -u system_u -r system_r -t sshd_t -- /usr/sbin/sshd -p8998 -o 'PidFile /tmp/tmp.JIIEPkOUSt' &> /tmp/tmp.rI8azjoI80' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'time ./ssh.exp tstusr tstusr 8998' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.rI8azjoI80' should contain '/dev/random' \n:: [   LOG    ] :: Minmum bytes expected from /dev/random: 14 / read bytes: 13\n:: [   FAIL   ] :: Check if correct (14) count of bytes read (13 (Assert: 14 should equal 13)\n:: [   PASS   ] :: Running 'kill 17726' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'unset SSH_USE_STRONG_RNG' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rm -f /tmp/tmp.rI8azjoI80' (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 4s\n:: [   LOG    ] :: Assertions: 9 good, 1 bad\n:: [   FAIL   ] :: RESULT: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=13\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=14\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'SOUT=/tmp/tmp.9TtsMCD3jr' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'export SSH_USE_STRONG_RNG=14' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rngd -r /dev/urandom' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'strace runcon -u system_u -r system_r -t sshd_t -- /usr/sbin/sshd -p8998 -o 'PidFile /tmp/tmp.JIIEPkOUSt' &> /tmp/tmp.9TtsMCD3jr' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'time ./ssh.exp tstusr tstusr 8998' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.9TtsMCD3jr' should contain '/dev/random' \n:: [   LOG    ] :: Minmum bytes expected from /dev/random: 14 / read bytes: 14\n:: [   PASS   ] :: Check if correct (14) count of bytes read (14 (Assert: 14 should equal 14)\n:: [   PASS   ] :: Running 'kill 17906' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'unset SSH_USE_STRONG_RNG' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rm -f /tmp/tmp.9TtsMCD3jr' (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 4s\n:: [   LOG    ] :: Assertions: 10 good, 0 bad\n:: [   PASS   ] :: RESULT: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=14\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=16\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'SOUT=/tmp/tmp.5hPuAqsVDh' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'export SSH_USE_STRONG_RNG=16' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rngd -r /dev/urandom' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'strace runcon -u system_u -r system_r -t sshd_t -- /usr/sbin/sshd -p8998 -o 'PidFile /tmp/tmp.JIIEPkOUSt' &> /tmp/tmp.5hPuAqsVDh' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'time ./ssh.exp tstusr tstusr 8998' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.5hPuAqsVDh' should contain '/dev/random' \n:: [   LOG    ] :: Minmum bytes expected from /dev/random: 14 / read bytes: 16\n:: [   PASS   ] :: Check if correct (16) count of bytes read (16 (Assert: 16 should equal 16)\n:: [   PASS   ] :: Running 'kill 18086' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'unset SSH_USE_STRONG_RNG' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rm -f /tmp/tmp.5hPuAqsVDh' (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 4s\n:: [   LOG    ] :: Assertions: 10 good, 0 bad\n:: [   PASS   ] :: RESULT: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=16\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Cleanup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'killall rngd' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'semodule -r runcon_allow' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'semanage port -d -p tcp -t ssh_port_t 8998' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'userdel -r tstusr' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rm -f /tmp/tmp.5hPuAqsVDh /tmp/tmp.JIIEPkOUSt' (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 2m 38s\n:: [   LOG    ] :: Assertions: 5 good, 0 bad\n:: [   PASS   ] :: RESULT: Cleanup\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: /CoreOS/openssh/Regression/bz681296-SSH_USE_STRONG_RNG-for-seeding-from-dev-random\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Phases: 6 good, 4 bad\n:: [   FAIL   ] :: RESULT: /CoreOS/openssh/Regression/bz681296-SSH_USE_STRONG_RNG-for-seeding-from-dev-random\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: TEST PROTOCOL\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Package       : openssh\n:: [   LOG    ] :: Installed:    : openssh-5.3p1-92.el6.i686 \n:: [   LOG    ] :: Test started  : 2013-09-12 10:07:39 EDT\n:: [   LOG    ] :: Test finished : 2013-09-12 10:43:59 EDT\n:: [   LOG    ] :: Test name     : /CoreOS/openssh/Regression/bz681296-SSH_USE_STRONG_RNG-for-seeding-from-dev-random\n:: [   LOG    ] :: Distro:       : Red Hat Enterprise Linux Server release 6.4 (Santiago)\n:: [   LOG    ] :: Hostname      : hp-dl360g3-01.rhts.eng.bos.redhat.com\n:: [   LOG    ] :: Architecture  : i686\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test description\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\nPURPOSE of\n/CoreOS/openssh/Regression/bz681296-SSH_USE_STRONG_RNG-for-seeding-from-dev-random\nDescription: Checks if openssh is seeding from /dev/random if enviroment\nvariable SSH_USE_STRONG_RNG=1\nAuthor: Miroslav Vadkerti <mvadkert@redhat.com>\n\nDescription of problem:\nOpenSSL seeds its RNGs from /dev/urandom. An attacker could do \ncat /dev/random > /dev/null\ncat /dev/urandom > /dev/null\nand thereby drain entropy from /dev/urandom. BSI requires that a seed for a RNG\ncontains entropy.\n\n\nTest scenarios:\n\n1. Run sshd without SSH_USE_STRONG_RNG\n   -> should reseed from /dev/urandom\n\n2. Run sshd with SSH_USE_STRONG_RNG=1 \n   -> should reseed from /dev/random and should take longer then 10s \n      (waiting for enough entropy)\n  \n3. Run sshd with SSH_USE_STRONG_RNG=1 with rngd running\n   -> should seed from /dev/random and should not wait longer then 10s\n      (enough entropy should be generated by rngd)\n\nNote:\nWhen reseeding from /dev/random openssl also opens /dev/urandom but this \nis not a bug.\n\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Setup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Checking for the presence of openssh rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   openssh-5.3p1-92.el6.i686\n:: [   PASS   ] :: Running 'useradd tstusr' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'echo tstusr | passwd --stdin tstusr' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'semanage port -a -p tcp -t ssh_port_t 8998' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'make -f /usr/share/selinux/devel/Makefile' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'semodule -i runcon_allow.pp' (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 2m 38s\n:: [   LOG    ] :: Assertions: 6 good, 0 bad\n:: [   PASS   ] :: RESULT: Setup\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Seeding from /dev/urandom\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'unset SSH_USE_STRONG_RNG' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'strace runcon -u system_u -r system_r -t sshd_t -- /usr/sbin/sshd -p8998 -o 'PidFile /tmp/tmp.OKLdnAJZY9' &> /tmp/tmp.l9IED9ohEP' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'time ./ssh.exp tstusr tstusr 8998' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.l9IED9ohEP' should not contain '/dev/random' \n:: [   PASS   ] :: File '/tmp/tmp.l9IED9ohEP' should contain '/dev/urandom' \n:: [   PASS   ] :: Running 'kill 15353' (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 4s\n:: [   LOG    ] :: Assertions: 6 good, 0 bad\n:: [   PASS   ] :: RESULT: Seeding from /dev/urandom\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Seeding from /dev/random\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'export SSH_USE_STRONG_RNG=48' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'strace runcon -u system_u -r system_r -t sshd_t -- /usr/sbin/sshd -p8998 -o 'PidFile /tmp/tmp.OKLdnAJZY9' &> /tmp/tmp.l9IED9ohEP' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'time ./ssh_timeout.exp tstusr tstusr 8998' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.l9IED9ohEP' should contain '/dev/random' \n:: [   PASS   ] :: Running 'kill 15443' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'unset SSH_USE_STRONG_RNG' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rm -f /tmp/tmp.l9IED9ohEP' (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 30m 17s\n:: [   LOG    ] :: Assertions: 7 good, 0 bad\n:: [   PASS   ] :: RESULT: Seeding from /dev/random\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=1\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'SOUT=/tmp/tmp.2PDyWwVmWo' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'export SSH_USE_STRONG_RNG=1' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rngd -r /dev/urandom' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'strace runcon -u system_u -r system_r -t sshd_t -- /usr/sbin/sshd -p8998 -o 'PidFile /tmp/tmp.OKLdnAJZY9' &> /tmp/tmp.2PDyWwVmWo' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'time ./ssh.exp tstusr tstusr 8998' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.2PDyWwVmWo' should contain '/dev/random' \n:: [   LOG    ] :: Minmum bytes expected from /dev/random: 14 / read bytes: 14\n:: [   PASS   ] :: Check if correct (14) count of bytes read (14 (Assert: 14 should equal 14)\n:: [   PASS   ] :: Running 'kill 15520' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'unset SSH_USE_STRONG_RNG' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rm -f /tmp/tmp.2PDyWwVmWo' (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 5s\n:: [   LOG    ] :: Assertions: 10 good, 0 bad\n:: [   PASS   ] :: RESULT: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=1\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=6\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'SOUT=/tmp/tmp.W6rQ15wY6e' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'export SSH_USE_STRONG_RNG=6' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rngd -r /dev/urandom' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'strace runcon -u system_u -r system_r -t sshd_t -- /usr/sbin/sshd -p8998 -o 'PidFile /tmp/tmp.OKLdnAJZY9' &> /tmp/tmp.W6rQ15wY6e' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'time ./ssh.exp tstusr tstusr 8998' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.W6rQ15wY6e' should contain '/dev/random' \n:: [   LOG    ] :: Minmum bytes expected from /dev/random: 14 / read bytes: 14\n:: [   PASS   ] :: Check if correct (14) count of bytes read (14 (Assert: 14 should equal 14)\n:: [   PASS   ] :: Running 'kill 15703' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'unset SSH_USE_STRONG_RNG' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rm -f /tmp/tmp.W6rQ15wY6e' (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 5s\n:: [   LOG    ] :: Assertions: 10 good, 0 bad\n:: [   PASS   ] :: RESULT: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=6\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=7\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'SOUT=/tmp/tmp.Gflyt6Ys5L' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'export SSH_USE_STRONG_RNG=7' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rngd -r /dev/urandom' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'strace runcon -u system_u -r system_r -t sshd_t -- /usr/sbin/sshd -p8998 -o 'PidFile /tmp/tmp.OKLdnAJZY9' &> /tmp/tmp.Gflyt6Ys5L' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'time ./ssh.exp tstusr tstusr 8998' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.Gflyt6Ys5L' should contain '/dev/random' \n:: [   LOG    ] :: Minmum bytes expected from /dev/random: 14 / read bytes: 14\n:: [   PASS   ] :: Check if correct (14) count of bytes read (14 (Assert: 14 should equal 14)\n:: [   PASS   ] :: Running 'kill 15886' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'unset SSH_USE_STRONG_RNG' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rm -f /tmp/tmp.Gflyt6Ys5L' (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 6s\n:: [   LOG    ] :: Assertions: 10 good, 0 bad\n:: [   PASS   ] :: RESULT: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=7\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=13\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'SOUT=/tmp/tmp.xgmO0MLdGf' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'export SSH_USE_STRONG_RNG=13' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rngd -r /dev/urandom' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'strace runcon -u system_u -r system_r -t sshd_t -- /usr/sbin/sshd -p8998 -o 'PidFile /tmp/tmp.OKLdnAJZY9' &> /tmp/tmp.xgmO0MLdGf' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'time ./ssh.exp tstusr tstusr 8998' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.xgmO0MLdGf' should contain '/dev/random' \n:: [   LOG    ] :: Minmum bytes expected from /dev/random: 14 / read bytes: 14\n:: [   PASS   ] :: Check if correct (14) count of bytes read (14 (Assert: 14 should equal 14)\n:: [   PASS   ] :: Running 'kill 16069' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'unset SSH_USE_STRONG_RNG' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rm -f /tmp/tmp.xgmO0MLdGf' (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 6s\n:: [   LOG    ] :: Assertions: 10 good, 0 bad\n:: [   PASS   ] :: RESULT: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=13\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=14\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'SOUT=/tmp/tmp.bMcfw5hqcy' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'export SSH_USE_STRONG_RNG=14' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rngd -r /dev/urandom' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'strace runcon -u system_u -r system_r -t sshd_t -- /usr/sbin/sshd -p8998 -o 'PidFile /tmp/tmp.OKLdnAJZY9' &> /tmp/tmp.bMcfw5hqcy' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'time ./ssh.exp tstusr tstusr 8998' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.bMcfw5hqcy' should contain '/dev/random' \n:: [   LOG    ] :: Minmum bytes expected from /dev/random: 14 / read bytes: 14\n:: [   PASS   ] :: Check if correct (14) count of bytes read (14 (Assert: 14 should equal 14)\n:: [   PASS   ] :: Running 'kill 16252' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'unset SSH_USE_STRONG_RNG' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rm -f /tmp/tmp.bMcfw5hqcy' (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 6s\n:: [   LOG    ] :: Assertions: 10 good, 0 bad\n:: [   PASS   ] :: RESULT: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=14\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=16\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'SOUT=/tmp/tmp.honNnI2JSx' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'export SSH_USE_STRONG_RNG=16' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rngd -r /dev/urandom' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'strace runcon -u system_u -r system_r -t sshd_t -- /usr/sbin/sshd -p8998 -o 'PidFile /tmp/tmp.OKLdnAJZY9' &> /tmp/tmp.honNnI2JSx' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'time ./ssh.exp tstusr tstusr 8998' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.honNnI2JSx' should contain '/dev/random' \n:: [   LOG    ] :: Minmum bytes expected from /dev/random: 14 / read bytes: 16\n:: [   PASS   ] :: Check if correct (16) count of bytes read (16 (Assert: 16 should equal 16)\n:: [   PASS   ] :: Running 'kill 16435' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'unset SSH_USE_STRONG_RNG' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rm -f /tmp/tmp.honNnI2JSx' (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 5s\n:: [   LOG    ] :: Assertions: 10 good, 0 bad\n:: [   PASS   ] :: RESULT: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=16\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Cleanup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'killall rngd' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'semodule -r runcon_allow' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'semanage port -d -p tcp -t ssh_port_t 8998' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'userdel -r tstusr' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rm -f /tmp/tmp.honNnI2JSx /tmp/tmp.OKLdnAJZY9' (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 2m 41s\n:: [   LOG    ] :: Assertions: 5 good, 0 bad\n:: [   PASS   ] :: RESULT: Cleanup\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: /CoreOS/openssh/Regression/bz681296-SSH_USE_STRONG_RNG-for-seeding-from-dev-random\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Phases: 10 good, 0 bad\n:: [   PASS   ] :: RESULT: /CoreOS/openssh/Regression/bz681296-SSH_USE_STRONG_RNG-for-seeding-from-dev-random",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20130912T15:30:22",
          "bug_id": "993577",
          "creator_id": "241731",
          "time": "20130912T15:30:22",
          "id": "6301652",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHSA-2013-1591.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20131121T09:46:44",
          "bug_id": "993577",
          "creator_id": "241731",
          "time": "20131121T09:46:44",
          "id": "6542274",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.5"
      ],
      "cc": [
        "ebenes@redhat.com",
        "lnovy@redhat.com",
        "plautrba@redhat.com",
        "pvrabec@redhat.com",
        "tmraz@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "968473"
      ],
      "qa_contact": "lnovy@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Enhancement",
      "cf_clone_of": "0",
      "groups": [
        "devel",
        "qa",
        "redhat"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "OpenSSH: SSH_USE_STRONG_RNG",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20130909T18:43:35",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20130809T08:58:10",
          "id": "1467861",
          "setter": "lnovy@redhat.com"
        },
        {
          "status": "?",
          "name": "requires_doc_text",
          "modification_date": "20131107T14:25:52",
          "type_id": "415",
          "is_active": "1",
          "creation_date": "20131107T14:25:52",
          "id": "1578698",
          "setter": "plautrba@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.5.0",
          "modification_date": "20130813T11:30:33",
          "type_id": "361",
          "is_active": "0",
          "creation_date": "20130806T08:41:37",
          "id": "1463302",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20130806T09:00:54",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20130806T08:58:04",
          "id": "1463326",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20130813T11:30:00",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20130806T08:58:34",
          "id": "1463330",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20130809T08:39:46",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20130806T08:59:06",
          "id": "1463335",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20140218T23:57:00",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509321-jVN4S_ibeyxFAkwJ12PKnR9ipAh7NJFpFzJj1icac3A",
      "cf_partner": [],
      "cf_last_closed": "20131121T09:46:44",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "1000",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20130905T12:26:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "Regression"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "None",
          "ext_bz_bug_id": "64190",
          "bug_id": "1004763",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "69",
          "type": {
            "must_send": "False",
            "description": "TCMS Test Case",
            "url": "https://tcms.engineering.redhat.com",
            "can_get": "False",
            "id": "69",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          },
          "id": "121488"
        }
      ],
      "id": "1004763",
      "cf_release_notes": "",
      "priority": "unspecified",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-91.el6",
      "creator": "hkario@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "hkario@redhat.com",
          "text": "Description of problem:\nWhen using NSS for key storage (-o ''UseNSS yes''), the ssh command is unable to extract private keys. In debug output, where the keys should be, the ssh reports nulls:\n\ndebug2: key:  ((nil))\ndebug2: key:  ((nil))\ndebug2: key:  ((nil))\ndebug2: key: /root/.ssh/id_rsa (0x7fe2992df550)\ndebug2: key: /root/.ssh/id_dsa ((nil))\n\nThat of course makes the public key based authentication fail.\n\nThis is a regression from version openssh-5.3p1-84.1 so proposing as blocker.\n\nVersion-Release number of selected component (if applicable):\nopenssh-5.3p1-89.el6.x86_64\nopenssh-server-5.3p1-89.el6.x86_64\nopenssh-clients-5.3p1-89.el6.x86_64\nnspr-4.9.5-3.el6.x86_64\nnss-util-3.14.3-4.el6.x86_64\nnss-util-devel-3.14.3-4.el6.x86_64\nnss-softokn-3.14.3-5.el6.x86_64\nnss-sysinit-3.14.3-37.el6.x86_64\nnss-tools-3.14.3-37.el6.x86_64\nnss-softokn-devel-3.14.3-5.el6.x86_64\nnss-softokn-freebl-3.14.3-5.el6.x86_64\nnspr-devel-4.9.5-3.el6.x86_64\nnss-3.14.3-37.el6.x86_64\n\nOld version that works:\nopenssh-5.3p1-84.1.el6.x86_64\nopenssh-server-5.3p1-84.1.el6.x86_64\nopenssh-clients-5.3p1-84.1.el6.x86_64\nnss and nspr versions as above\n\nHow reproducible:\nAlways\n\nSteps to Reproduce:\n1. Schedule /CoreOS/nss/Sanity/simple-openssh-test task on RHEL6.5-20130830.2 compose\n\nor run:\n\nPACKAGE=''nss''\n_RHEL_VER=`lsb_release -sr | sed 's/^\\([0-9]\\+\\)\\..*$/\\1/'`\n_SSHD_CONF_F=''/etc/ssh/sshd_config''\n_SYS_LOG_F=''/var/log/secure''\n_HOME_SSH_D=''${HOME}/.ssh''\n_AUTH_KEY_F=''${_HOME_SSH_D}/authorized_keys''\n_NSS_DB_D=''${HOME}/.ssh''\n_NSS_DB_PREFIX=''''\n_USER=''root''\n_PASSWORD=''redhat''\n_NSS_DB_PASSWORD_F=''${_HOME_SSH_D}/nsspassword''\n_FILES_TO_BACKUP=''${_SYS_LOG_F} /etc/passwd /etc/shadow''\n[ -e ${_SSHD_CONF_F} ] && _FILES_TO_BACKUP=''${_FILES_TO_BACKUP} ${_SSHD_CONF_F}''\n[ -e ${_HOME_SSH_D} ] && _FILES_TO_BACKUP=''${_FILES_TO_BACKUP} ${_HOME_SSH_D}''\n_CIPHERS=''aes128-ctr''\n\n\nTmpDir=$(mktemp -d)\npushd $TmpDir\nservice sshd stop\n\necho ''Backup files: ${_FILES_TO_BACKUP}''\n\necho '${_PASSWORD}' | passwd --stdin ${_USER}\n[ -e ${_HOME_SSH_D} ] && rm -rf ${_HOME_SSH_D} >/dev/null 2>&1\nmkdir -p ${_HOME_SSH_D}\nprintf ''\\n\\n'' >${_NSS_DB_PASSWORD_F}\nssh-keygen -t rsa -f ${_HOME_SSH_D}/id_rsa -N ${_PASSWORD}\nssh-keygen -t rsa1 -f ${_HOME_SSH_D}/identity -N ${_PASSWORD}\ncat ${_HOME_SSH_D}/id_rsa.pub >> ${_AUTH_KEY_F}\ncertutil -N -f ${_NSS_DB_PASSWORD_F} -d ${_NSS_DB_PREFIX}${_NSS_DB_D}\nwhile [ 1 -eq 1 ]; do dd if=/dev/urandom bs=1 count=1; echo; sleep 0.0\\${RANDOM}; done 2>/dev/null| certutil -S -k rsa -n myca -m ${_C} -s \\''CN=myca\\'' -t \\''C,C,C\\'' -v 12 -x -f ${_NSS_DB_PASSWORD_F} -d ${_NSS_DB_PREFIX}${_NSS_DB_D}\nwhile [ 1 -eq 1 ]; do dd if=/dev/urandom bs=1 count=1; echo; sleep 0.0\\${RANDOM}; done 2>/dev/null | certutil -S -k rsa -c myca -n \\''mycert\\'' -m ${_C} -s \\''CN=mycert\\'' -v 12 -t \\''u,u,u\\'' -f ${_NSS_DB_PASSWORD_F} -d ${_NSS_DB_PREFIX}${_NSS_DB_D}\nwhile [ 1 -eq 1 ]; do dd if=/dev/urandom bs=1 count=1; echo; sleep 0.0\\${RANDOM}; done 2>/dev/null | certutil -R -k rsa -g 2048 -s 'CN=mycertreq' -o /dev/null -f ${_NSS_DB_PASSWORD_F} -d ${_NSS_DB_PREFIX}${_NSS_DB_D}\ncertutil -K -f ${_NSS_DB_PASSWORD_F} -d ${_NSS_DB_PREFIX}${_NSS_DB_D}\ncertutil -L -f ${_NSS_DB_PASSWORD_F} -d ${_NSS_DB_PREFIX}${_NSS_DB_D}\nrestorecon -Rv ${_NSS_DB_D}\ngrep ''^PubkeyAuthentication'' ${_SSHD_CONF_F} >/dev/null 2>&1 && sed -i 's/^PubkeyAuthentication.*/PubkeyAuthentication yes/' ${_SSHD_CONF_F} || echo ''PubkeyAuthentication yes'' >>${_SSHD_CONF_F}\necho >${_SYS_LOG_F}\nssh-keygen -n >${_AUTH_KEY_F}\nservice sshd start\nsleep 2\n\nssh -c $_CIPHERS -o ''UseNSS yes'' $_USER@`hostname`\n\nYou should be asked only for confirming the hostkey hash, not password\n\nActual results:\nspawn ssh -vvv -c aes128-ctr -o UseNSS yes root@x86-64-v05.lab.eng.brq.redhat.com\nOpenSSH_5.3p1, OpenSSL 1.0.0-fips 29 Mar 2010\ndebug1: Reading configuration data /etc/ssh/ssh_config\ndebug1: Applying options for *\ndebug2: ssh_connect: needpriv 0\ndebug1: Connecting to x86-64-v05.lab.eng.brq.redhat.com [10.34.36.91] port 22.\ndebug1: Connection established.\ndebug1: permanently_set_uid: 0/0\ndebug1: Looking for: (null):(null)\ndebug1: SHA1 fingerprint 1024 96:15:ef:79:14:f8:3c:2e:44:12:ae:ea:03:17:e1:ef:52:2b:01:46\ndebug1: SHA1 fingerprint 1024 98:ed:9f:ba:da:2d:49:6c:ab:35:9f:1f:db:1c:ae:cb:08:35:32:11\ndebug1: SHA1 fingerprint 2048 0c:17:b3:f0:ae:59:d1:4c:70:00:0b:4b:24:5d:92:f3:d5:52:0b:f5\ndebug1: identity file  type -1\ndebug1: identity file -cert type -1\ndebug1: identity file  type -1\ndebug1: identity file -cert type -1\ndebug1: identity file  type -1\ndebug1: identity file -cert type -1\ndebug1: identity file /root/.ssh/identity type 0\ndebug1: identity file /root/.ssh/identity-cert type -1\ndebug3: Not a RSA1 key file /root/.ssh/id_rsa.\ndebug2: key_type_from_name: unknown key type '-----BEGIN'\ndebug3: key_read: missing keytype\ndebug2: key_type_from_name: unknown key type 'Proc-Type:'\ndebug3: key_read: missing keytype\ndebug2: key_type_from_name: unknown key type 'DEK-Info:'\ndebug3: key_read: missing keytype\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug2: key_type_from_name: unknown key type '-----END'\ndebug3: key_read: missing keytype\ndebug1: identity file /root/.ssh/id_rsa type 1\ndebug1: identity file /root/.ssh/id_rsa-cert type -1\ndebug1: identity file /root/.ssh/id_dsa type -1\ndebug1: identity file /root/.ssh/id_dsa-cert type -1\nexit\ndebug1: Remote protocol version 2.0, remote software version OpenSSH_5.3\ndebug1: match: OpenSSH_5.3 pat OpenSSH*\ndebug1: Enabling compatibility mode for protocol 2.0\ndebug1: Local version string SSH-2.0-OpenSSH_5.3\ndebug2: fd 4 setting O_NONBLOCK\ndebug1: SSH2_MSG_KEXINIT sent\ndebug3: Wrote 672 bytes for a total of 693\ndebug1: SSH2_MSG_KEXINIT received\ndebug2: kex_parse_kexinit: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1\ndebug2: kex_parse_kexinit: ssh-rsa-cert-v01@openssh.com,ssh-dss-cert-v01@openssh.com,ssh-rsa-cert-v00@openssh.com,ssh-dss-cert-v00@openssh.com,ssh-rsa,ssh-dss\ndebug2: kex_parse_kexinit: aes128-ctr\ndebug2: kex_parse_kexinit: aes128-ctr\ndebug2: kex_parse_kexinit: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\ndebug2: kex_parse_kexinit: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\ndebug2: kex_parse_kexinit: none,zlib@openssh.com,zlib\ndebug2: kex_parse_kexinit: none,zlib@openssh.com,zlib\ndebug2: kex_parse_kexinit: \ndebug2: kex_parse_kexinit: \ndebug2: kex_parse_kexinit: first_kex_follows 0 \ndebug2: kex_parse_kexinit: reserved 0 \ndebug2: kex_parse_kexinit: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1\ndebug2: kex_parse_kexinit: ssh-rsa,ssh-dss\ndebug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se\ndebug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se\ndebug2: kex_parse_kexinit: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\ndebug2: kex_parse_kexinit: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\ndebug2: kex_parse_kexinit: none,zlib@openssh.com\ndebug2: kex_parse_kexinit: none,zlib@openssh.com\ndebug2: kex_parse_kexinit: \ndebug2: kex_parse_kexinit: \ndebug2: kex_parse_kexinit: first_kex_follows 0 \ndebug2: kex_parse_kexinit: reserved 0 \ndebug2: mac_setup: found hmac-md5\ndebug1: kex: server->client aes128-ctr hmac-md5 none\ndebug2: mac_setup: found hmac-md5\ndebug1: kex: client->server aes128-ctr hmac-md5 none\ndebug1: SSH2_MSG_KEX_DH_GEX_REQUEST(1024<1024<8192) sent\ndebug1: expecting SSH2_MSG_KEX_DH_GEX_GROUP\ndebug3: Wrote 24 bytes for a total of 717\ndebug2: dh_gen_key: priv key bits set: 132/256\ndebug2: bits set: 510/1024\ndebug1: SSH2_MSG_KEX_DH_GEX_INIT sent\ndebug1: expecting SSH2_MSG_KEX_DH_GEX_REPLY\ndebug3: Wrote 144 bytes for a total of 861\ndebug3: check_host_in_hostfile: host x86-64-v05.lab.eng.brq.redhat.com filename /root/.ssh/known_hosts\ndebug3: check_host_in_hostfile: host x86-64-v05.lab.eng.brq.redhat.com filename /root/.ssh/known_hosts\ndebug3: check_host_in_hostfile: host x86-64-v05.lab.eng.brq.redhat.com filename /etc/ssh/ssh_known_hosts\ndebug3: check_host_in_hostfile: host x86-64-v05.lab.eng.brq.redhat.com filename /etc/ssh/ssh_known_hosts\ndebug3: check_host_in_hostfile: host 10.34.36.91 filename /root/.ssh/known_hosts\ndebug3: check_host_in_hostfile: host 10.34.36.91 filename /root/.ssh/known_hosts\ndebug3: check_host_in_hostfile: host 10.34.36.91 filename /etc/ssh/ssh_known_hosts\ndebug3: check_host_in_hostfile: host 10.34.36.91 filename /etc/ssh/ssh_known_hosts\nWarning: Permanently added 'x86-64-v05.lab.eng.brq.redhat.com,10.34.36.91' (RSA) to the list of known hosts.\ndebug2: bits set: 522/1024\ndebug1: ssh_rsa_verify: signature correct\ndebug2: kex_derive_keys\ndebug2: set_newkeys: mode 1\ndebug1: SSH2_MSG_NEWKEYS sent\ndebug1: expecting SSH2_MSG_NEWKEYS\ndebug3: Wrote 16 bytes for a total of 877\ndebug2: set_newkeys: mode 0\ndebug1: SSH2_MSG_NEWKEYS received\ndebug1: SSH2_MSG_SERVICE_REQUEST sent\ndebug3: Wrote 48 bytes for a total of 925\ndebug2: service_accept: ssh-userauth\ndebug1: SSH2_MSG_SERVICE_ACCEPT received\ndebug2: key:  ((nil))\ndebug2: key:  ((nil))\ndebug2: key:  ((nil))\ndebug2: key: /root/.ssh/id_rsa (0x7fe2992df550)\ndebug2: key: /root/.ssh/id_dsa ((nil))\ndebug3: Wrote 64 bytes for a total of 989\ndebug1: Authentications that can continue: publickey,gssapi-keyex,gssapi-with-mic,password\ndebug3: start over, passed a different list publickey,gssapi-keyex,gssapi-with-mic,password\ndebug3: preferred gssapi-keyex,gssapi-with-mic,publickey,keyboard-interactive,password\ndebug3: authmethod_lookup gssapi-keyex\ndebug3: remaining preferred: gssapi-with-mic,publickey,keyboard-interactive,password\ndebug3: authmethod_is_enabled gssapi-keyex\ndebug1: Next authentication method: gssapi-keyex\ndebug1: No valid Key exchange context\ndebug2: we did not send a packet, disable method\ndebug3: authmethod_lookup gssapi-with-mic\ndebug3: remaining preferred: publickey,keyboard-interactive,password\ndebug3: authmethod_is_enabled gssapi-with-mic\ndebug1: Next authentication method: gssapi-with-mic\ndebug3: Trying to reverse map address 10.34.36.91.\ndebug1: Unspecified GSS failure.  Minor code may provide more information\nCredentials cache file '/tmp/krb5cc_0' not found\n\ndebug1: Unspecified GSS failure.  Minor code may provide more information\nCredentials cache file '/tmp/krb5cc_0' not found\n\ndebug1: Unspecified GSS failure.  Minor code may provide more information\n\n\ndebug1: Unspecified GSS failure.  Minor code may provide more information\nCredentials cache file '/tmp/krb5cc_0' not found\n\ndebug2: we did not send a packet, disable method\ndebug3: authmethod_lookup publickey\ndebug3: remaining preferred: keyboard-interactive,password\ndebug3: authmethod_is_enabled publickey\ndebug1: Next authentication method: publickey\ndebug1: Trying private key: \ndebug3: no such identity: \ndebug1: Trying private key: \ndebug3: no such identity: \ndebug1: Trying private key: \ndebug3: no such identity: \ndebug1: Offering public key: /root/.ssh/id_rsa\ndebug3: send_pubkey_test\ndebug2: we sent a publickey packet, wait for reply\ndebug3: Wrote 368 bytes for a total of 1357\ndebug1: Authentications that can continue: publickey,gssapi-keyex,gssapi-with-mic,password\ndebug1: Trying private key: /root/.ssh/id_dsa\ndebug3: no such identity: /root/.ssh/id_dsa\ndebug2: we did not send a packet, disable method\ndebug3: authmethod_lookup password\ndebug3: remaining preferred: ,password\ndebug3: authmethod_is_enabled password\ndebug1: Next authentication method: password\nroot@x86-64-v05.lab.eng.brq.redhat.com's password:\n\nExpected results:\nspawn ssh -vvv -c aes128-ctr -o UseNSS yes root@localhost\nOpenSSH_5.3p1, OpenSSL 1.0.0-fips 29 Mar 2010\ndebug1: Reading configuration data /etc/ssh/ssh_config\ndebug1: Applying options for *\ndebug2: ssh_connect: needpriv 0\ndebug1: Connecting to localhost [127.0.0.1] port 22.\ndebug1: Connection established.\ndebug1: permanently_set_uid: 0/0\ndebug1: Looking for: (null):(null)\ndebug1: SHA1 fingerprint 1024 49:b8:b4:f7:43:3f:c1:61:54:ae:9c:6d:25:23:c2:b8:6d:2a:2e:f6\ndebug1: SHA1 fingerprint 1024 e7:01:2c:13:c1:f0:31:2a:38:48:ac:96:25:42:89:fd:e4:b8:4c:99\ndebug1: SHA1 fingerprint 2048 f5:31:ea:48:f5:e0:d8:b2:67:df:0e:be:a0:14:6b:93:f5:2d:89:99\ndebug1: identity file /root/.ssh/identity type 0\ndebug3: Not a RSA1 key file /root/.ssh/id_rsa.\ndebug2: key_type_from_name: unknown key type '-----BEGIN'\ndebug3: key_read: missing keytype\ndebug2: key_type_from_name: unknown key type 'Proc-Type:'\ndebug3: key_read: missing keytype\ndebug2: key_type_from_name: unknown key type 'DEK-Info:'\ndebug3: key_read: missing keytype\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug2: key_type_from_name: unknown key type '-----END'\ndebug3: key_read: missing keytype\ndebug1: identity file /root/.ssh/id_rsa type 1\ndebug1: identity file /root/.ssh/id_dsa type -1\nexit\ndebug1: Remote protocol version 2.0, remote software version OpenSSH_5.3\ndebug1: match: OpenSSH_5.3 pat OpenSSH*\ndebug1: Enabling compatibility mode for protocol 2.0\ndebug1: Local version string SSH-2.0-OpenSSH_5.3\ndebug2: fd 4 setting O_NONBLOCK\ndebug1: SSH2_MSG_KEXINIT sent\ndebug3: Wrote 496 bytes for a total of 517\ndebug1: SSH2_MSG_KEXINIT received\ndebug2: kex_parse_kexinit: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1\ndebug2: kex_parse_kexinit: ssh-rsa,ssh-dss\ndebug2: kex_parse_kexinit: aes128-ctr\ndebug2: kex_parse_kexinit: aes128-ctr\ndebug2: kex_parse_kexinit: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\ndebug2: kex_parse_kexinit: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\ndebug2: kex_parse_kexinit: none,zlib@openssh.com,zlib\ndebug2: kex_parse_kexinit: none,zlib@openssh.com,zlib\ndebug2: kex_parse_kexinit: \ndebug2: kex_parse_kexinit: \ndebug2: kex_parse_kexinit: first_kex_follows 0 \ndebug2: kex_parse_kexinit: reserved 0 \ndebug2: kex_parse_kexinit: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1\ndebug2: kex_parse_kexinit: ssh-rsa,ssh-dss\ndebug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se\ndebug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se\ndebug2: kex_parse_kexinit: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\ndebug2: kex_parse_kexinit: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\ndebug2: kex_parse_kexinit: none,zlib@openssh.com\ndebug2: kex_parse_kexinit: none,zlib@openssh.com\ndebug2: kex_parse_kexinit: \ndebug2: kex_parse_kexinit: \ndebug2: kex_parse_kexinit: first_kex_follows 0 \ndebug2: kex_parse_kexinit: reserved 0 \ndebug2: mac_setup: found hmac-md5\ndebug1: kex: server->client aes128-ctr hmac-md5 none\ndebug2: mac_setup: found hmac-md5\ndebug1: kex: client->server aes128-ctr hmac-md5 none\ndebug1: SSH2_MSG_KEX_DH_GEX_REQUEST(1024<1024<8192) sent\ndebug1: expecting SSH2_MSG_KEX_DH_GEX_GROUP\ndebug3: Wrote 24 bytes for a total of 541\ndebug2: dh_gen_key: priv key bits set: 139/256\ndebug2: bits set: 533/1024\ndebug1: SSH2_MSG_KEX_DH_GEX_INIT sent\ndebug1: expecting SSH2_MSG_KEX_DH_GEX_REPLY\ndebug3: Wrote 144 bytes for a total of 685\ndebug3: check_host_in_hostfile: filename /root/.ssh/known_hosts\ndebug3: check_host_in_hostfile: filename /etc/ssh/ssh_known_hosts\nWarning: Permanently added 'localhost' (RSA) to the list of known hosts.\ndebug2: bits set: 500/1024\ndebug1: ssh_rsa_verify: signature correct\ndebug2: kex_derive_keys\ndebug2: set_newkeys: mode 1\ndebug1: SSH2_MSG_NEWKEYS sent\ndebug1: expecting SSH2_MSG_NEWKEYS\ndebug3: Wrote 16 bytes for a total of 701\ndebug2: set_newkeys: mode 0\ndebug1: SSH2_MSG_NEWKEYS received\ndebug1: SSH2_MSG_SERVICE_REQUEST sent\ndebug3: Wrote 48 bytes for a total of 749\ndebug2: service_accept: ssh-userauth\ndebug1: SSH2_MSG_SERVICE_ACCEPT received\ndebug2: key:  (0x7f95a343db30)\ndebug2: key:  (0x7f95a3437da0)\ndebug2: key:  (0x7f95a343be70)\ndebug2: key: /root/.ssh/id_rsa (0x7f95a343bf00)\ndebug2: key: /root/.ssh/id_dsa ((nil))\ndebug3: Wrote 64 bytes for a total of 813\ndebug1: Authentications that can continue: publickey,gssapi-keyex,gssapi-with-mic,password\ndebug3: start over, passed a different list publickey,gssapi-keyex,gssapi-with-mic,password\ndebug3: preferred gssapi-keyex,gssapi-with-mic,publickey,keyboard-interactive,password\ndebug3: authmethod_lookup gssapi-keyex\ndebug3: remaining preferred: gssapi-with-mic,publickey,keyboard-interactive,password\ndebug3: authmethod_is_enabled gssapi-keyex\ndebug1: Next authentication method: gssapi-keyex\ndebug1: No valid Key exchange context\ndebug2: we did not send a packet, disable method\ndebug3: authmethod_lookup gssapi-with-mic\ndebug3: remaining preferred: publickey,keyboard-interactive,password\ndebug3: authmethod_is_enabled gssapi-with-mic\ndebug1: Next authentication method: gssapi-with-mic\ndebug3: Trying to reverse map address 127.0.0.1.\ndebug1: Unspecified GSS failure.  Minor code may provide more information\nCredentials cache file '/tmp/krb5cc_0' not found\n\ndebug1: Unspecified GSS failure.  Minor code may provide more information\nCredentials cache file '/tmp/krb5cc_0' not found\n\ndebug1: Unspecified GSS failure.  Minor code may provide more information\n\n\ndebug1: Unspecified GSS failure.  Minor code may provide more information\nCredentials cache file '/tmp/krb5cc_0' not found\n\ndebug2: we did not send a packet, disable method\ndebug3: authmethod_lookup publickey\ndebug3: remaining preferred: keyboard-interactive,password\ndebug3: authmethod_is_enabled publickey\ndebug1: Next authentication method: publickey\ndebug1: Offering public key: \ndebug3: send_pubkey_test\ndebug2: we sent a publickey packet, wait for reply\ndebug3: Wrote 368 bytes for a total of 1181\ndebug1: Server accepts key: pkalg ssh-rsa blen 279\ndebug2: input_userauth_pk_ok: SHA1 fp f5:31:ea:48:f5:e0:d8:b2:67:df:0e:be:a0:14:6b:93:f5:2d:89:99\ndebug3: sign_and_send_pubkey\ndebug3: Wrote 640 bytes for a total of 1821\ndebug1: Authentication succeeded (publickey).\ndebug1: channel 0: new [client-session]\ndebug3: ssh_session2_open: channel_new: 0\ndebug2: channel 0: send open\ndebug1: Requesting no-more-sessions@openssh.com\ndebug1: Entering interactive session.\ndebug3: Wrote 128 bytes for a total of 1949\ndebug2: callback start\ndebug2: client_session2_setup: id 0\ndebug2: channel 0: request pty-req confirm 1\ndebug1: Sending environment.\ndebug3: Ignored env HOSTNAME\ndebug3: Ignored env __INTERNAL_DEFAULT_REPORT_RESULT\ndebug3: Ignored env SELINUX_ROLE_REQUESTED\ndebug3: Ignored env TERM\ndebug3: Ignored env SHELL\ndebug3: Ignored env BEAKERLIB_COMMAND_SUBMIT_LOG\ndebug3: Ignored env HISTSIZE\ndebug3: Ignored env MAKEFLAGS\ndebug3: Ignored env TESTVERSION\ndebug3: Ignored env SSH_CLIENT\ndebug3: Ignored env SELINUX_USE_CURRENT_RANGE\ndebug3: Ignored env BEAKERLIB\ndebug3: Ignored env QTDIR\ndebug3: Ignored env QTINC\ndebug3: Ignored env SSH_TTY\ndebug3: Ignored env BEAKERLIB_JOURNAL\ndebug3: Ignored env USER\ndebug3: Ignored env LS_COLORS\ndebug3: Ignored env MAKELEVEL\ndebug3: Ignored env __INTERNAL_RPM_ASSERTED_PACKAGES\ndebug3: Ignored env MFLAGS\ndebug3: Ignored env MAIL\ndebug3: Ignored env PATH\ndebug3: Ignored env BEAKERLIB_COMMAND_REPORT_RESULT\ndebug3: Ignored env PWD\ndebug1: Sending env XMODIFIERS = @im=none\ndebug2: channel 0: request env confirm 0\ndebug1: Sending env LANG = en_GB.UTF-8\ndebug2: channel 0: request env confirm 0\ndebug3: Ignored env SELINUX_LEVEL_REQUESTED\ndebug3: Ignored env OUTPUTFILE\ndebug3: Ignored env BEAKERLIB_DIR\ndebug3: Ignored env HISTCONTROL\ndebug3: Ignored env TEST\ndebug3: Ignored env __INTERNAL_DEFAULT_SUBMIT_LOG\ndebug3: Ignored env SHLVL\ndebug3: Ignored env HOME\ndebug1: Sending env LANGUAGE = \ndebug2: channel 0: request env confirm 0\ndebug3: Ignored env LOGNAME\ndebug3: Ignored env CVS_RSH\ndebug3: Ignored env QTLIB\ndebug3: Ignored env POSIXFIXED\ndebug3: Ignored env SSH_CONNECTION\ndebug3: Ignored env AVC_ERROR\ndebug3: Ignored env LESSOPEN\ndebug3: Ignored env __INTERNAL_PERSISTENT_TMP\ndebug3: Ignored env G_BROKEN_FILENAMES\ndebug3: Ignored env _\ndebug3: Ignored env OLDPWD\ndebug2: channel 0: request shell confirm 1\ndebug2: fd 4 setting TCP_NODELAY\ndebug2: callback done\ndebug2: channel 0: open confirm rwindow 0 rmax 32768\ndebug3: Wrote 576 bytes for a total of 2525\ndebug2: channel_input_status_confirm: type 99 id 0\ndebug2: PTY allocation request accepted on channel 0\ndebug2: channel 0: rcvd adjust 2097152\ndebug2: channel_input_status_confirm: type 99 id 0\ndebug2: shell request accepted on channel 0\ndebug3: Wrote 48 bytes for a total of 2573\n\nAdditional info:",
          "author": "hkario@redhat.com",
          "creation_time": "20130905T12:26:19",
          "bug_id": "1004763",
          "creator_id": "349956",
          "time": "20130905T12:26:19",
          "id": "6277573",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "plautrba@redhat.com",
          "text": "I guess that this is related to the backported PKCS11 support - bug #908038. I'm working on it, thanks for the report.",
          "author": "plautrba@redhat.com",
          "creation_time": "20130906T09:23:56",
          "bug_id": "1004763",
          "creator_id": "270148",
          "time": "20130906T09:23:56",
          "id": "6280844",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "plautrba@redhat.com",
          "text": "I've found a bug in the backported patch. It uses a different counter of identity_keys than the original patch so a key from NSS is overwritten by identify file. I'll build a scratch build for more testing soon.",
          "author": "plautrba@redhat.com",
          "creation_time": "20130906T13:27:52",
          "bug_id": "1004763",
          "creator_id": "270148",
          "time": "20130906T13:27:52",
          "id": "6281670",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "ksrot@redhat.com",
          "text": "qa_ack+ for 6.5",
          "author": "ksrot@redhat.com",
          "creation_time": "20130906T13:56:11",
          "bug_id": "1004763",
          "creator_id": "286283",
          "time": "20130906T13:56:11",
          "id": "6281791",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "plautrba@redhat.com",
          "text": "promised scratch build for testing - http://brewweb.devel.redhat.com/brew/taskinfo?taskID=6252655",
          "author": "plautrba@redhat.com",
          "creation_time": "20130906T15:37:24",
          "bug_id": "1004763",
          "creator_id": "270148",
          "time": "20130906T15:37:24",
          "id": "6282307",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "lnovy@redhat.com",
          "text": "=========== OLD ============\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: TEST PROTOCOL\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Package       : unknown\n:: [   LOG    ] :: Installed:    : unknown is not installed!\n:: [   LOG    ] :: Test started  : 2013-09-09 14:27:26 CEST\n:: [   LOG    ] :: Test finished : 2013-09-09 14:29:28 CEST\n:: [   LOG    ] :: Test name     : /CoreOS/openssh/Regression/bz632402-audit-crypto-usage\n:: [   LOG    ] :: Distro:       : Red Hat Enterprise Linux Server release 6.4 (Santiago)\n:: [   LOG    ] :: Hostname      : localhost.localdomain\n:: [   LOG    ] :: Architecture  : x86_64\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test description\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\nPURPOSE of /CoreOS/openssh/Regression/bz632402-audit-crypto-usage\nDescription: Checks if sshd is logging to audit all needed records\nAuthor: Miroslav Vadkerti <mvadkert@redhat.com>\n\nWe need to add some audit records to sshd that records the following:\n1)  In the sshd DH and RSA/DSA based key authentication we need to record the\nremote end (IP address and port), mechanism being used (key), and results.\n2) During cryptographic tunnel establishment, we need to record: ciphers/block\nchaining modes, key sizes, source, destination of connection, originator.\n\nThe test is testing audit logs with SSHv1 and SSHv2 with and without public\nkey authentication.\n\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: General\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Checking for the presence of openssh rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   openssh-5.3p1-90.el6.x86_64\n:: [   PASS   ] :: Checking for the presence of openssh-server rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   openssh-server-5.3p1-90.el6.x86_64\n:: [   PASS   ] :: Checking for the presence of openssh-clients rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   openssh-clients-5.3p1-90.el6.x86_64\n:: [   PASS   ] :: Checking for the presence of policycoreutils rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   policycoreutils-2.0.83-19.30.el6.x86_64\n:: [   PASS   ] :: Checking for the presence of expect rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   expect-5.44.1.15-4.el6.x86_64\n:: [   PASS   ] :: Checking for the presence of sendmail rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   sendmail-8.14.4-8.el6.x86_64\n:: [   PASS   ] :: Checking for the presence of nc rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   nc-1.84-22.el6.x86_64\n:: [   PASS   ] :: Running 'setsebool allow_ypbind 1' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'service sendmail restart' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rm -f /var/log/secure' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rlServiceStart sshd' (Expected 0-255, got 0)\n:: [   PASS   ] :: Running 'rlServiceStart rsyslog' (Expected 0-255, got 0)\n:: [   PASS   ] :: Running 'echo 'redhat' | passwd --stdin root' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rm -f /root/.ssh/id_rsa*' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rm -f /root/.ssh/authorized_keys' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'ssh-keygen -t rsa -f /root/.ssh/id_rsa -N redhat' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'ssh-keygen -t rsa1 -f /root/.ssh/identity -N redhat' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cat /root/.ssh/id_rsa.pub >> /root/.ssh/authorized_keys' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cp -rf /etc/pki/nssdb/*.db /root/.ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running './certutil.exp /root/.ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'restorecon -Rv /root/.ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cp -f sshd_config_v2 /etc/ssh/sshd_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cp -f ssh_config /etc/ssh/ssh_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'restorecon -Rv /etc/ssh' (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 7s\n:: [   LOG    ] :: Assertions: 24 good, 0 bad\n:: [   PASS   ] :: RESULT: General\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: SSHv2 with password auth\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0, got 0)\n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:27:33.475349624 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:27:34.466481566 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:27:35.467308912 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour256' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:27:36.502477829 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour128' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:27:37.446855542 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:27:38.444821574 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat 3des-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:27:39.262319931 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat blowfish-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:27:40.019855569 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat cast128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:27:40.803569754 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:27:41.794959074 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:27:42.747393764 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:27:43.756271635 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0, got 0)\n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-cbc' (Expected 0-255, got 1)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:27:45.067242599 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'unsupported-mac' \n:: [   PASS   ] :: Running 'cp -f sshd_config_v2 /etc/ssh/sshd_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cp -f ssh_config /etc/ssh/ssh_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'restorecon -Rv /etc/ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running './ssh_l.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -L ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:27:45.995144931 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_r.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -R ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:27:46.944768596 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_dyn.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -D ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:27:48.026372019 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './scp.exp root redhat /tmp/tmp.UuGoiSusYs /tmp/tmp.8PXMDVayZi' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for scp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:27:49.034669605 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './sftp.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for sftp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:27:50.035914350 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh-copy-id.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh-copy-id ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:27:50.035914350 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   LOG    ] :: Duration: 19s\n:: [   LOG    ] :: Assertions: 118 good, 0 bad\n:: [   PASS   ] :: RESULT: SSHv2 with password auth\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: SSHv2 with pubkey auth\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'sed -i 's/PubkeyAuthentication no/PubkeyAuthentication yes/' /etc/ssh/sshd_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0, got 0)\n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:27:52.563363774 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:27:53.606589792 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:27:54.646465299 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour256' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:27:55.665569762 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour128' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:27:56.648311537 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:27:57.684100250 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat 3des-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:27:58.730939177 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat blowfish-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:27:59.802949470 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat cast128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:00.738283789 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:01.666531211 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:02.728568624 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:03.773995303 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_l.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -L ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:04.744410422 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_r.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -R ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:05.734566404 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_dyn.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -D ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:06.854409978 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './scp.exp root redhat /tmp/tmp.UuGoiSusYs /tmp/tmp.8PXMDVayZi' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for scp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:07.886583491 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './sftp.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for sftp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:08.856093163 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh-copy-id.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh-copy-id ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:08.856093163 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   LOG    ] :: Duration: 18s\n:: [   LOG    ] :: Assertions: 110 good, 0 bad\n:: [   PASS   ] :: RESULT: SSHv2 with pubkey auth\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: SSHv1 with password auth\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'cp -f sshd_config_v1 /etc/ssh/sshd_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'restorecon -Rv /etc/ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rm -rf /root/.ssh/authorized_keys' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cat /root/.ssh/identity.pub >> /root/.ssh/authorized_keys' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0, got 0)\n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:11.765169986 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:12.781810908 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:13.729168759 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour256' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:14.782896940 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour128' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:15.786298090 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:16.799485948 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat 3des-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:17.809495072 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat blowfish-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:18.811418542 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat cast128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:19.806903456 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:20.847165218 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:21.860718676 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:22.885424177 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_l.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -L ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:23.962238631 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_r.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -R ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:25.057877644 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_dyn.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -D ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:26.172147167 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './scp.exp root redhat /tmp/tmp.UuGoiSusYs /tmp/tmp.8PXMDVayZi' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for scp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:27.210680237 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './sftp1.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for sftp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:28.221464160 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh-copy-id.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh-copy-id ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:28.221464160 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   LOG    ] :: Duration: 19s\n:: [   LOG    ] :: Assertions: 113 good, 0 bad\n:: [   PASS   ] :: RESULT: SSHv1 with password auth\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: SSHv1 with pubkey auth\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'rm -rf /root/.ssh/authorized_keys' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cat /root/.ssh/identity.pub >> /root/.ssh/authorized_keys' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'sed -i 's/RSAAuthentication no/RSAAuthentication yes/' /etc/ssh/sshd_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0, got 0)\n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:31.129018631 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:32.245414698 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:33.335200867 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour256' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:34.385017130 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour128' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:35.425449217 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:36.429163829 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat 3des-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:37.466940447 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat blowfish-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:38.546633492 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat cast128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:39.626414775 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:40.695353991 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:41.747329198 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:42.886434588 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_l.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -L ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:44.043876708 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_r.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -R ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:45.168738638 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_dyn.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -D ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:46.289909733 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './scp.exp root redhat /tmp/tmp.UuGoiSusYs /tmp/tmp.8PXMDVayZi' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for scp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:47.469057282 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './sftp1.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for sftp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:48.590063652 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh-copy-id.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh-copy-id ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:48.590063652 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   LOG    ] :: Duration: 20s\n:: [   LOG    ] :: Assertions: 112 good, 0 bad\n:: [   PASS   ] :: RESULT: SSHv1 with pubkey auth\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: SSHv2 with NSS auth\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'cp -f sshd_config_v2 /etc/ssh/sshd_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cp -f ssh_config /etc/ssh/ssh_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'sed -i 's/PubkeyAuthentication no/PubkeyAuthentication yes/' /etc/ssh/sshd_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'restorecon -Rv /etc/ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'ssh-keygen -n >> /root/.ssh/authorized_keys' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0, got 0)\n:: [   FAIL   ] :: Running './sshnss.exp root redhat aes128-ctr' (Expected 0, got 130)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:28:52.017414606 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   FAIL   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'unknown' \n:: [   FAIL   ] :: Running './sshnss.exp root redhat aes192-ctr' (Expected 0, got 130)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:29:03.804488520 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   FAIL   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'unknown' \n:: [   FAIL   ] :: Running './sshnss.exp root redhat aes256-ctr' (Expected 0, got 130)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:29:07.650270698 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   FAIL   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'unknown' \n:: [   FAIL   ] :: Running './sshnss.exp root redhat arcfour256' (Expected 0, got 130)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:29:09.823265428 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   FAIL   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'unknown' \n:: [   FAIL   ] :: Running './sshnss.exp root redhat arcfour128' (Expected 0, got 130)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:29:11.445583474 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   FAIL   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'unknown' \n:: [   FAIL   ] :: Running './sshnss.exp root redhat aes128-cbc' (Expected 0, got 130)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:29:12.984076030 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   FAIL   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'unknown' \n:: [   FAIL   ] :: Running './sshnss.exp root redhat 3des-cbc' (Expected 0, got 130)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:29:14.907010548 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   FAIL   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'unknown' \n:: [   FAIL   ] :: Running './sshnss.exp root redhat blowfish-cbc' (Expected 0, got 130)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:29:18.036221479 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   FAIL   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'unknown' \n:: [   FAIL   ] :: Running './sshnss.exp root redhat cast128-cbc' (Expected 0, got 130)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:29:19.619095925 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   FAIL   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'unknown' \n:: [   FAIL   ] :: Running './sshnss.exp root redhat aes192-cbc' (Expected 0, got 130)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:29:21.301887914 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   FAIL   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'unknown' \n:: [   FAIL   ] :: Running './sshnss.exp root redhat aes256-cbc' (Expected 0, got 130)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:29:22.934231767 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   FAIL   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'unknown' \n:: [   FAIL   ] :: Running './sshnss.exp root redhat arcfour' (Expected 0, got 130)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:29:24.613867552 | tee /tmp/tmp.BvKKpaRbxV' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   FAIL   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.BvKKpaRbxV' should not contain 'unknown' \n:: [   LOG    ] :: Duration: 35s\n:: [   LOG    ] :: Assertions: 66 good, 24 bad\n:: [   FAIL   ] :: RESULT: SSHv2 with NSS auth\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Check for fatal sshd errors\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'cat /var/log/secure | egrep 'sshd.*fatal' | grep -v hmac' (Expected 1, got 1)\n:: [   LOG    ] :: Duration: 0s\n:: [   LOG    ] :: Assertions: 1 good, 0 bad\n:: [   PASS   ] :: RESULT: Check for fatal sshd errors\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Cleanup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'rm -rf /root/.ssh/id* /root/.ssh/auth* /root/.ssh/*.db' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'restorecon -Rv /root/.ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'restorecon -Rv /etc/ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'setsebool allow_ypbind 0' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rlServiceRestore sshd' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rlServiceRestore rsyslog' (Expected 0-255, got 0)\n:: [   LOG    ] :: Duration: 2s\n:: [   LOG    ] :: Assertions: 6 good, 0 bad\n:: [   PASS   ] :: RESULT: Cleanup\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: /CoreOS/openssh/Regression/bz632402-audit-crypto-usage\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Phases: 7 good, 1 bad\n:: [   FAIL   ] :: RESULT: /CoreOS/openssh/Regression/bz632402-audit-crypto-usage\n\n=========== NEW ============\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: TEST PROTOCOL\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Package       : unknown\n:: [   LOG    ] :: Installed:    : unknown is not installed!\n:: [   LOG    ] :: Test started  : 2013-09-09 14:30:22 CEST\n:: [   LOG    ] :: Test finished : 2013-09-09 14:32:05 CEST\n:: [   LOG    ] :: Test name     : /CoreOS/openssh/Regression/bz632402-audit-crypto-usage\n:: [   LOG    ] :: Distro:       : Red Hat Enterprise Linux Server release 6.4 (Santiago)\n:: [   LOG    ] :: Hostname      : localhost.localdomain\n:: [   LOG    ] :: Architecture  : x86_64\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test description\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\nPURPOSE of /CoreOS/openssh/Regression/bz632402-audit-crypto-usage\nDescription: Checks if sshd is logging to audit all needed records\nAuthor: Miroslav Vadkerti <mvadkert@redhat.com>\n\nWe need to add some audit records to sshd that records the following:\n1)  In the sshd DH and RSA/DSA based key authentication we need to record the\nremote end (IP address and port), mechanism being used (key), and results.\n2) During cryptographic tunnel establishment, we need to record: ciphers/block\nchaining modes, key sizes, source, destination of connection, originator.\n\nThe test is testing audit logs with SSHv1 and SSHv2 with and without public\nkey authentication.\n\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: General\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Checking for the presence of openssh rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   openssh-5.3p1-91.el6.x86_64\n:: [   PASS   ] :: Checking for the presence of openssh-server rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   openssh-server-5.3p1-91.el6.x86_64\n:: [   PASS   ] :: Checking for the presence of openssh-clients rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   openssh-clients-5.3p1-91.el6.x86_64\n:: [   PASS   ] :: Checking for the presence of policycoreutils rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   policycoreutils-2.0.83-19.30.el6.x86_64\n:: [   PASS   ] :: Checking for the presence of expect rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   expect-5.44.1.15-4.el6.x86_64\n:: [   PASS   ] :: Checking for the presence of sendmail rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   sendmail-8.14.4-8.el6.x86_64\n:: [   PASS   ] :: Checking for the presence of nc rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   nc-1.84-22.el6.x86_64\n:: [   PASS   ] :: Running 'setsebool allow_ypbind 1' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'service sendmail restart' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rm -f /var/log/secure' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rlServiceStart sshd' (Expected 0-255, got 0)\n:: [   PASS   ] :: Running 'rlServiceStart rsyslog' (Expected 0-255, got 0)\n:: [   PASS   ] :: Running 'echo 'redhat' | passwd --stdin root' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rm -f /root/.ssh/id_rsa*' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rm -f /root/.ssh/authorized_keys' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'ssh-keygen -t rsa -f /root/.ssh/id_rsa -N redhat' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'ssh-keygen -t rsa1 -f /root/.ssh/identity -N redhat' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cat /root/.ssh/id_rsa.pub >> /root/.ssh/authorized_keys' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cp -rf /etc/pki/nssdb/*.db /root/.ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running './certutil.exp /root/.ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'restorecon -Rv /root/.ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cp -f sshd_config_v2 /etc/ssh/sshd_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cp -f ssh_config /etc/ssh/ssh_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'restorecon -Rv /etc/ssh' (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 7s\n:: [   LOG    ] :: Assertions: 24 good, 0 bad\n:: [   PASS   ] :: RESULT: General\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: SSHv2 with password auth\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0, got 0)\n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:30:29.655832297 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:30:30.633500782 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:30:31.513366710 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour256' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:30:32.511434318 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour128' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:30:33.359313148 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:30:34.199538962 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat 3des-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:30:35.108396044 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat blowfish-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:30:36.127177129 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat cast128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:30:37.156072045 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:30:38.116361966 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:30:39.131577248 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:30:40.218540627 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0, got 0)\n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-cbc' (Expected 0-255, got 1)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:30:41.501501770 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'unsupported-mac' \n:: [   PASS   ] :: Running 'cp -f sshd_config_v2 /etc/ssh/sshd_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cp -f ssh_config /etc/ssh/ssh_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'restorecon -Rv /etc/ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running './ssh_l.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -L ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:30:42.409399313 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_r.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -R ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:30:43.374837216 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_dyn.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -D ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:30:44.419772271 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './scp.exp root redhat /tmp/tmp.RGXCHKKxd2 /tmp/tmp.I0keeHl4JQ' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for scp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:30:45.385997507 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './sftp.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for sftp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:30:46.411656775 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh-copy-id.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh-copy-id ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:30:46.411656775 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   LOG    ] :: Duration: 19s\n:: [   LOG    ] :: Assertions: 118 good, 0 bad\n:: [   PASS   ] :: RESULT: SSHv2 with password auth\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: SSHv2 with pubkey auth\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'sed -i 's/PubkeyAuthentication no/PubkeyAuthentication yes/' /etc/ssh/sshd_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0, got 0)\n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:30:49.037449271 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:30:50.075701629 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:30:51.055300621 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour256' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:30:52.072509487 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour128' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:30:53.154923271 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:30:54.020095378 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat 3des-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:30:54.938464891 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat blowfish-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:30:56.007980110 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat cast128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:30:57.064069656 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:30:58.083347381 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:30:59.119340193 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:00.155685783 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_l.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -L ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:01.165385290 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_r.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -R ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:02.188797784 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_dyn.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -D ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:03.229474861 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './scp.exp root redhat /tmp/tmp.RGXCHKKxd2 /tmp/tmp.I0keeHl4JQ' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for scp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:04.277047409 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './sftp.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for sftp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:05.245630577 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh-copy-id.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh-copy-id ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:05.245630577 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   LOG    ] :: Duration: 19s\n:: [   LOG    ] :: Assertions: 110 good, 0 bad\n:: [   PASS   ] :: RESULT: SSHv2 with pubkey auth\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: SSHv1 with password auth\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'cp -f sshd_config_v1 /etc/ssh/sshd_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'restorecon -Rv /etc/ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rm -rf /root/.ssh/authorized_keys' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cat /root/.ssh/identity.pub >> /root/.ssh/authorized_keys' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0, got 0)\n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:08.223390696 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:09.280261009 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:10.358119949 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour256' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:11.399658066 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour128' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:12.452323557 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:13.479126475 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat 3des-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:14.515866313 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat blowfish-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:15.529064360 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat cast128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:16.534790330 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:17.591242845 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:18.637111215 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:19.684457185 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_l.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -L ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:20.723329020 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_r.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -R ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:21.868077305 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_dyn.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -D ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:22.919224234 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './scp.exp root redhat /tmp/tmp.RGXCHKKxd2 /tmp/tmp.I0keeHl4JQ' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for scp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:23.982046077 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './sftp1.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for sftp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:24.993124612 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh-copy-id.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh-copy-id ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:24.993124612 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   LOG    ] :: Duration: 20s\n:: [   LOG    ] :: Assertions: 113 good, 0 bad\n:: [   PASS   ] :: RESULT: SSHv1 with password auth\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: SSHv1 with pubkey auth\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'rm -rf /root/.ssh/authorized_keys' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cat /root/.ssh/identity.pub >> /root/.ssh/authorized_keys' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'sed -i 's/RSAAuthentication no/RSAAuthentication yes/' /etc/ssh/sshd_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0, got 0)\n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:27.785808596 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:28.866502664 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:29.945956426 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour256' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:31.058188626 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour128' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:32.113154612 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:33.162756140 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat 3des-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:34.259213886 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat blowfish-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:35.325919988 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat cast128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:36.404923939 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:37.440865907 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:38.560882168 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:39.543575405 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_l.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -L ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:40.667081019 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_r.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -R ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:41.756270595 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_dyn.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -D ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:42.937052289 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './scp.exp root redhat /tmp/tmp.RGXCHKKxd2 /tmp/tmp.I0keeHl4JQ' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for scp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:44.086143987 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './sftp1.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for sftp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:45.237248299 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh-copy-id.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh-copy-id ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:45.237248299 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   LOG    ] :: Duration: 20s\n:: [   LOG    ] :: Assertions: 112 good, 0 bad\n:: [   PASS   ] :: RESULT: SSHv1 with pubkey auth\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: SSHv2 with NSS auth\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'cp -f sshd_config_v2 /etc/ssh/sshd_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cp -f ssh_config /etc/ssh/ssh_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'sed -i 's/PubkeyAuthentication no/PubkeyAuthentication yes/' /etc/ssh/sshd_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'restorecon -Rv /etc/ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'ssh-keygen -n >> /root/.ssh/authorized_keys' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0, got 0)\n:: [   PASS   ] :: Running './sshnss.exp root redhat aes128-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:48.585063005 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat aes192-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:49.847627495 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat aes256-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:51.082164519 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat arcfour256' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:52.364265768 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat arcfour128' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:53.625983427 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat aes128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:54.935904808 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat 3des-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:56.126796961 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat blowfish-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:57.452334548 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat cast128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:58.704391061 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat aes192-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:31:59.974874071 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat aes256-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:32:01.257428553 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat arcfour' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 14:32:02.440649534 | tee /tmp/tmp.dWsQNuYWml' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.dWsQNuYWml' should not contain 'unknown' \n:: [   LOG    ] :: Duration: 16s\n:: [   LOG    ] :: Assertions: 90 good, 0 bad\n:: [   PASS   ] :: RESULT: SSHv2 with NSS auth\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Check for fatal sshd errors\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'cat /var/log/secure | egrep 'sshd.*fatal' | grep -v hmac' (Expected 1, got 1)\n:: [   LOG    ] :: Duration: 1s\n:: [   LOG    ] :: Assertions: 1 good, 0 bad\n:: [   PASS   ] :: RESULT: Check for fatal sshd errors\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Cleanup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'rm -rf /root/.ssh/id* /root/.ssh/auth* /root/.ssh/*.db' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'restorecon -Rv /root/.ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'restorecon -Rv /etc/ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'setsebool allow_ypbind 0' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rlServiceRestore sshd' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rlServiceRestore rsyslog' (Expected 0-255, got 0)\n:: [   LOG    ] :: Duration: 1s\n:: [   LOG    ] :: Assertions: 6 good, 0 bad\n:: [   PASS   ] :: RESULT: Cleanup\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: /CoreOS/openssh/Regression/bz632402-audit-crypto-usage\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Phases: 8 good, 0 bad\n:: [   PASS   ] :: RESULT: /CoreOS/openssh/Regression/bz632402-audit-crypto-usage",
          "author": "lnovy@redhat.com",
          "creation_time": "20130909T12:34:18",
          "bug_id": "1004763",
          "creator_id": "344083",
          "time": "20130909T12:34:18",
          "id": "6286757",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "plautrba@redhat.com",
          "text": "The update hasn't been pushed yet due the lack of acks",
          "author": "plautrba@redhat.com",
          "creation_time": "20130909T14:48:30",
          "bug_id": "1004763",
          "creator_id": "270148",
          "time": "20130909T14:48:30",
          "id": "6287294",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "plautrba@redhat.com",
          "text": "The update hasn't been pushed yet due the lack of acks",
          "author": "plautrba@redhat.com",
          "creation_time": "20130909T14:48:49",
          "bug_id": "1004763",
          "creator_id": "270148",
          "time": "20130909T14:48:49",
          "id": "6287295",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "plautrba@redhat.com",
          "text": "I can't build an update due to the broken buildroot - https://engineering.redhat.com/rt/Ticket/Display.html?id=252119",
          "author": "plautrba@redhat.com",
          "creation_time": "20130910T10:58:28",
          "bug_id": "1004763",
          "creator_id": "270148",
          "time": "20130910T10:58:28",
          "id": "6291186",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "lnovy@redhat.com",
          "text": "Fill-in the fixed in version back when the build successes, thanks!",
          "author": "lnovy@redhat.com",
          "creation_time": "20130910T11:04:11",
          "bug_id": "1004763",
          "creator_id": "344083",
          "time": "20130910T11:04:11",
          "id": "6291207",
          "is_private": "False"
        },
        {
          "count": "10",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2013:15245-01\nhttps://errata.devel.redhat.com/advisory/15245",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20130910T14:46:18",
          "bug_id": "1004763",
          "creator_id": "241731",
          "time": "20130910T14:46:18",
          "id": "6292346",
          "is_private": "True"
        },
        {
          "count": "11",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHSA-2013:15245-02: \nChanged by: Lukas Novy (lnovy@redhat.com)\nhttp://errata.devel.redhat.com/advisory/15245\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: TEST PROTOCOL\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Package       : unknown\n:: [   LOG    ] :: Installed:    : unknown is not installed!\n:: [   LOG    ] :: Test started  : 2013-10-18 07:23:03 EDT\n:: [   LOG    ] :: Test finished : 2013-10-18 07:32:08 EDT\n:: [   LOG    ] :: Test name     : /CoreOS/openssh/Regression/bz632402-audit-crypto-usage\n:: [   LOG    ] :: Distro:       : Red Hat Enterprise Linux Server release 6.4 (Santiago)\n:: [   LOG    ] :: Hostname      : ibm-js12-vios-01-lp2.rhts.eng.bos.redhat.com\n:: [   LOG    ] :: Architecture  : ppc64\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test description\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\nPURPOSE of /CoreOS/openssh/Regression/bz632402-audit-crypto-usage\nDescription: Checks if sshd is logging to audit all needed records\nAuthor: Miroslav Vadkerti <mvadkert@redhat.com>\n\nWe need to add some audit records to sshd that records the following:\n1)  In the sshd DH and RSA/DSA based key authentication we need to record the\nremote end (IP address and port), mechanism being used (key), and results.\n2) During cryptographic tunnel establishment, we need to record: ciphers/block\nchaining modes, key sizes, source, destination of connection, originator.\n\nThe test is testing audit logs with SSHv1 and SSHv2 with and without public\nkey authentication.\n\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: General\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Checking for the presence of openssh rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   openssh-5.3p1-89.el6.ppc64\n:: [   PASS   ] :: Checking for the presence of openssh-server rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   openssh-server-5.3p1-89.el6.ppc64\n:: [   PASS   ] :: Checking for the presence of openssh-clients rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   openssh-clients-5.3p1-89.el6.ppc64\n:: [   PASS   ] :: Checking for the presence of policycoreutils rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   policycoreutils-2.0.83-19.30.el6.ppc64\n:: [   PASS   ] :: Checking for the presence of expect rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   expect-5.44.1.15-4.el6.ppc64\n:: [   PASS   ] :: Checking for the presence of sendmail rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   sendmail-8.14.4-8.el6.ppc64\n:: [   PASS   ] :: Checking for the presence of nc rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   nc-1.84-22.el6.ppc64\n:: [   PASS   ] :: Running 'setsebool allow_ypbind 1' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'service sendmail restart' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rm -f /var/log/secure' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rlServiceStart sshd' (Expected 0-255, got 0)\n:: [   PASS   ] :: Running 'rlServiceStart rsyslog' (Expected 0-255, got 0)\n:: [   PASS   ] :: Running 'echo 'redhat' | passwd --stdin root' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rm -f /root/.ssh/authorized_keys' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'ssh-keygen -t rsa -f /root/.ssh/id_rsa -N redhat' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'ssh-keygen -t rsa1 -f /root/.ssh/identity -N redhat' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cat /root/.ssh/id_rsa.pub >> /root/.ssh/authorized_keys' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cp -rf /etc/pki/nssdb/*.db /root/.ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running './certutil.exp /root/.ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'restorecon -Rv /root/.ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cp -f sshd_config_v2 /etc/ssh/sshd_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cp -f ssh_config /etc/ssh/ssh_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'restorecon -Rv /etc/ssh' (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 18s\n:: [   LOG    ] :: Assertions: 23 good, 0 bad\n:: [   PASS   ] :: RESULT: General\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: SSHv2 with password auth\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0, got 0)\n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:23:23.596459466 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:23:25.594490197 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:23:27.622558723 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour256' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:23:29.787132516 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour128' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:23:31.957434995 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:23:33.998611584 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat 3des-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:23:36.041273803 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat blowfish-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:23:38.089193475 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat cast128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:23:40.116363344 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:23:42.169477272 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:23:44.245833904 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:23:46.519686278 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0, got 0)\n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-cbc' (Expected 0-255, got 1)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:23:48.931973108 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'unsupported-mac' \n:: [   PASS   ] :: Running 'cp -f sshd_config_v2 /etc/ssh/sshd_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cp -f ssh_config /etc/ssh/ssh_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'restorecon -Rv /etc/ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running './ssh_l.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -L ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:23:50.956755150 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_r.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -R ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:23:53.109178610 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_dyn.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -D ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:23:55.333246717 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './scp.exp root redhat /tmp/tmp.KrF8K2dG2q /tmp/tmp.MEHqDaIcuF' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for scp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:23:57.488620343 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './sftp.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for sftp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:23:59.570570727 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh-copy-id.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh-copy-id ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:23:59.570570727 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   LOG    ] :: Duration: 42s\n:: [   LOG    ] :: Assertions: 118 good, 0 bad\n:: [   PASS   ] :: RESULT: SSHv2 with password auth\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: SSHv2 with pubkey auth\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'sed -i 's/PubkeyAuthentication no/PubkeyAuthentication yes/' /etc/ssh/sshd_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0, got 0)\n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:24:06.069619969 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:24:28.370790208 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:24:49.666754664 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour256' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:25:11.179296662 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour128' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:25:32.681533755 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:25:54.003337159 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat 3des-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:26:16.343039174 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat blowfish-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:26:37.712089705 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat cast128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:26:59.057905933 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:27:21.417647746 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:27:42.835356460 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:28:04.399033932 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_l.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -L ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:28:26.019180280 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_r.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -R ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:28:48.470708894 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_dyn.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -D ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:29:09.955253663 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   FAIL   ] :: Running './scp.exp root redhat /tmp/tmp.KrF8K2dG2q /tmp/tmp.MEHqDaIcuF' (Expected 0, got 1)\n:: [   LOG    ] :: ====================== Audit logs for scp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:29:31.368018841 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './sftp.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for sftp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:29:33.720361665 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   FAIL   ] :: Running './ssh-copy-id.exp root redhat' (Expected 0, got 1)\n:: [   LOG    ] :: ====================== Audit logs for ssh-copy-id ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:29:33.720361665 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   LOG    ] :: Duration: 5m 53s\n:: [   LOG    ] :: Assertions: 108 good, 2 bad\n:: [   FAIL   ] :: RESULT: SSHv2 with pubkey auth\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: SSHv1 with password auth\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'cp -f sshd_config_v1 /etc/ssh/sshd_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'restorecon -Rv /etc/ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rm -rf /root/.ssh/authorized_keys' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cat /root/.ssh/identity.pub >> /root/.ssh/authorized_keys' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0, got 0)\n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:30:00.669964103 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:30:02.577503607 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:30:04.464766140 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour256' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:30:06.343518031 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour128' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:30:08.252875289 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:30:10.173694124 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat 3des-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:30:12.066212483 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat blowfish-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:30:14.014407277 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat cast128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:30:15.921241834 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:30:17.848488704 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:30:19.796931398 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:30:21.727665168 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_l.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -L ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:30:23.681494456 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_r.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -R ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:30:25.762996486 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_dyn.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -D ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:30:27.797353503 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './scp.exp root redhat /tmp/tmp.KrF8K2dG2q /tmp/tmp.MEHqDaIcuF' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for scp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:30:29.746054743 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './sftp1.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for sftp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:30:31.713097512 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh-copy-id.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh-copy-id ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:30:31.713097512 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   LOG    ] :: Duration: 38s\n:: [   LOG    ] :: Assertions: 113 good, 0 bad\n:: [   PASS   ] :: RESULT: SSHv1 with password auth\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: SSHv1 with pubkey auth\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'rm -rf /root/.ssh/authorized_keys' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cat /root/.ssh/identity.pub >> /root/.ssh/authorized_keys' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'sed -i 's/RSAAuthentication no/RSAAuthentication yes/' /etc/ssh/sshd_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0, got 0)\n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:30:38.854267625 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:30:41.263917009 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:30:43.665758087 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour256' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:30:46.018118089 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour128' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:30:48.431806122 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:30:50.777118641 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat 3des-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:30:53.128087636 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat blowfish-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:30:55.509939295 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat cast128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:30:57.920772315 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:31:00.334702632 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:31:02.802446868 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:31:05.291959439 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_l.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -L ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:31:07.746115535 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_r.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -R ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:31:10.318356259 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_dyn.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -D ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:31:12.888982109 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './scp.exp root redhat /tmp/tmp.KrF8K2dG2q /tmp/tmp.MEHqDaIcuF' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for scp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:31:15.348983967 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './sftp1.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for sftp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:31:17.819738197 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh-copy-id.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh-copy-id ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:31:17.819738197 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   LOG    ] :: Duration: 47s\n:: [   LOG    ] :: Assertions: 112 good, 0 bad\n:: [   PASS   ] :: RESULT: SSHv1 with pubkey auth\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: SSHv2 with NSS auth\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'cp -f sshd_config_v2 /etc/ssh/sshd_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cp -f ssh_config /etc/ssh/ssh_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'sed -i 's/PubkeyAuthentication no/PubkeyAuthentication yes/' /etc/ssh/sshd_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'restorecon -Rv /etc/ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'ssh-keygen -n >> /root/.ssh/authorized_keys' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0, got 0)\n:: [   PASS   ] :: Running './sshnss.exp root redhat aes128-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:31:26.542892644 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat aes192-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:31:29.513221543 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat aes256-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:31:32.524355894 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat arcfour256' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:31:35.749210668 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat arcfour128' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:31:38.908424758 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat aes128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:31:41.923009381 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat 3des-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:31:44.996545057 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat blowfish-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:31:48.075508048 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat cast128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:31:51.100198114 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat aes192-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:31:54.136064771 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat aes256-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:31:57.206218965 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat arcfour' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 07:32:00.405860937 | tee /tmp/tmp.hO8IGRp6Oi' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.hO8IGRp6Oi' should not contain 'unknown' \n:: [   LOG    ] :: Duration: 39s\n:: [   LOG    ] :: Assertions: 90 good, 0 bad\n:: [   PASS   ] :: RESULT: SSHv2 with NSS auth\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Check for fatal sshd errors\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'cat /var/log/secure | egrep 'sshd.*fatal' | grep -v hmac' (Expected 1, got 1)\n:: [   LOG    ] :: Duration: 0s\n:: [   LOG    ] :: Assertions: 1 good, 0 bad\n:: [   PASS   ] :: RESULT: Check for fatal sshd errors\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Cleanup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'rm -rf /root/.ssh/id* /root/.ssh/auth* /root/.ssh/*.db' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'restorecon -Rv /root/.ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'restorecon -Rv /etc/ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'setsebool allow_ypbind 0' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rlServiceRestore sshd' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rlServiceRestore rsyslog' (Expected 0-255, got 0)\n:: [   LOG    ] :: Duration: 3s\n:: [   LOG    ] :: Assertions: 6 good, 0 bad\n:: [   PASS   ] :: RESULT: Cleanup\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: /CoreOS/openssh/Regression/bz632402-audit-crypto-usage\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Phases: 7 good, 1 bad\n:: [   FAIL   ] :: RESULT: /CoreOS/openssh/Regression/bz632402-audit-crypto-usage\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: TEST PROTOCOL\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Test run ID   : 16545805\n:: [   LOG    ] :: Package       : unknown\n:: [   LOG    ] :: Installed:    : unknown is not installed!\n:: [   LOG    ] :: Test started  : 2013-10-18 05:21:12 EDT\n:: [   LOG    ] :: Test finished : 2013-10-18 05:24:45 EDT\n:: [   LOG    ] :: Test name     : /CoreOS/openssh/Regression/bz632402-audit-crypto-usage\n:: [   LOG    ] :: Distro:       : Red Hat Enterprise Linux Server release 6.4 (Santiago)\n:: [   LOG    ] :: Hostname      : ibm-js12-vios-01-lp2.rhts.eng.bos.redhat.com\n:: [   LOG    ] :: Architecture  : ppc64\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test description\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\nPURPOSE of /CoreOS/openssh/Regression/bz632402-audit-crypto-usage\nDescription: Checks if sshd is logging to audit all needed records\nAuthor: Miroslav Vadkerti <mvadkert@redhat.com>\n\nWe need to add some audit records to sshd that records the following:\n1)  In the sshd DH and RSA/DSA based key authentication we need to record the\nremote end (IP address and port), mechanism being used (key), and results.\n2) During cryptographic tunnel establishment, we need to record: ciphers/block\nchaining modes, key sizes, source, destination of connection, originator.\n\nThe test is testing audit logs with SSHv1 and SSHv2 with and without public\nkey authentication.\n\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: General\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Checking for the presence of openssh rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   openssh-5.3p1-84.1.el6.ppc64\n:: [   PASS   ] :: Checking for the presence of openssh-server rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   openssh-server-5.3p1-84.1.el6.ppc64\n:: [   PASS   ] :: Checking for the presence of openssh-clients rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   openssh-clients-5.3p1-84.1.el6.ppc64\n:: [   PASS   ] :: Checking for the presence of policycoreutils rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   policycoreutils-2.0.83-19.30.el6.ppc64\n:: [   PASS   ] :: Checking for the presence of expect rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   expect-5.44.1.15-4.el6.ppc64\n:: [   PASS   ] :: Checking for the presence of sendmail rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   sendmail-8.14.4-8.el6.ppc64\n:: [   PASS   ] :: Checking for the presence of nc rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   nc-1.84-22.el6.ppc64\n:: [   PASS   ] :: Running 'setsebool allow_ypbind 1' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'service sendmail restart' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rm -f /var/log/secure' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rlServiceStart sshd' (Expected 0-255, got 0)\n:: [   PASS   ] :: Running 'rlServiceStart rsyslog' (Expected 0-255, got 0)\n:: [   PASS   ] :: Running 'echo 'redhat' | passwd --stdin root' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rm -f /root/.ssh/authorized_keys' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'ssh-keygen -t rsa -f /root/.ssh/id_rsa -N redhat' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'ssh-keygen -t rsa1 -f /root/.ssh/identity -N redhat' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cat /root/.ssh/id_rsa.pub >> /root/.ssh/authorized_keys' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cp -rf /etc/pki/nssdb/*.db /root/.ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running './certutil.exp /root/.ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'restorecon -Rv /root/.ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cp -f sshd_config_v2 /etc/ssh/sshd_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cp -f ssh_config /etc/ssh/ssh_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'restorecon -Rv /etc/ssh' (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 17s\n:: [   LOG    ] :: Assertions: 23 good, 0 bad\n:: [   PASS   ] :: RESULT: General\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: SSHv2 with password auth\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0, got 0)\n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:21:32.318154989 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:21:34.151006738 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:21:35.850602178 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour256' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:21:37.703866454 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour128' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:21:39.540879481 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:21:41.247758250 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat 3des-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:21:42.920443138 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat blowfish-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:21:44.625316466 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat cast128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:21:46.370090147 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:21:48.077727691 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:21:49.798451156 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:21:51.720076989 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0, got 0)\n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-cbc' (Expected 0-255, got 1)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:21:53.825633364 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'unsupported-mac' \n:: [   PASS   ] :: Running 'cp -f sshd_config_v2 /etc/ssh/sshd_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cp -f ssh_config /etc/ssh/ssh_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'restorecon -Rv /etc/ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running './ssh_l.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -L ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:21:55.876933774 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_r.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -R ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:21:57.727405415 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_dyn.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -D ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:21:59.599180184 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './scp.exp root redhat /tmp/tmp.M0EPFY5Wif /tmp/tmp.ElkQhbOzrk' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for scp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:22:01.395255842 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './sftp.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for sftp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:22:03.145185404 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh-copy-id.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh-copy-id ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:22:03.145185404 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   LOG    ] :: Duration: 36s\n:: [   LOG    ] :: Assertions: 118 good, 0 bad\n:: [   PASS   ] :: RESULT: SSHv2 with password auth\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: SSHv2 with pubkey auth\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'sed -i 's/PubkeyAuthentication no/PubkeyAuthentication yes/' /etc/ssh/sshd_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0, got 0)\n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:22:09.246305964 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:22:11.031855684 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:22:12.894336073 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour256' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:22:14.912880411 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour128' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:22:16.889685177 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:22:18.705145063 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat 3des-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:22:20.573242792 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat blowfish-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:22:22.456451536 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat cast128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:22:24.332642340 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:22:26.177176265 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:22:28.075843030 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:22:30.166751756 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_l.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -L ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:22:32.065168086 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_r.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -R ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:22:34.011761094 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_dyn.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -D ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:22:35.994282152 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './scp.exp root redhat /tmp/tmp.M0EPFY5Wif /tmp/tmp.ElkQhbOzrk' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for scp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:22:37.918717254 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './sftp.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for sftp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:22:39.790272571 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh-copy-id.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh-copy-id ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:22:39.790272571 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   LOG    ] :: Duration: 35s\n:: [   LOG    ] :: Assertions: 110 good, 0 bad\n:: [   PASS   ] :: RESULT: SSHv2 with pubkey auth\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: SSHv1 with password auth\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'cp -f sshd_config_v1 /etc/ssh/sshd_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'restorecon -Rv /etc/ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rm -rf /root/.ssh/authorized_keys' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cat /root/.ssh/identity.pub >> /root/.ssh/authorized_keys' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0, got 0)\n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:22:47.024834110 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:22:48.940210879 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:22:50.851723616 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour256' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:22:52.781035411 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour128' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:22:54.730055092 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:22:56.651897354 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat 3des-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:22:58.621568541 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat blowfish-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:23:00.536305511 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat cast128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:23:02.455535290 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:23:04.398393490 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:23:06.323932441 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:23:08.282870918 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_l.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -L ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:23:10.223139730 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_r.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -R ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:23:12.323913926 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_dyn.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -D ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:23:14.379151129 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './scp.exp root redhat /tmp/tmp.M0EPFY5Wif /tmp/tmp.ElkQhbOzrk' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for scp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:23:16.373221549 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './sftp1.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for sftp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:23:18.334014052 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh-copy-id.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh-copy-id ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:23:18.334014052 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   LOG    ] :: Duration: 37s\n:: [   LOG    ] :: Assertions: 113 good, 0 bad\n:: [   PASS   ] :: RESULT: SSHv1 with password auth\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: SSHv1 with pubkey auth\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'rm -rf /root/.ssh/authorized_keys' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cat /root/.ssh/identity.pub >> /root/.ssh/authorized_keys' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'sed -i 's/RSAAuthentication no/RSAAuthentication yes/' /etc/ssh/sshd_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0, got 0)\n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:23:25.489881925 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:23:27.570225077 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:23:29.620596478 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour256' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:23:31.685601698 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour128' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:23:33.827852163 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:23:35.866334269 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat 3des-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:23:37.932545657 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat blowfish-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:23:39.963693896 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat cast128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:23:42.060682788 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:23:44.175641477 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:23:46.281535683 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:23:48.377990596 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_l.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -L ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:23:50.518466443 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_r.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -R ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:23:52.775015678 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_dyn.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -D ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:23:55.038912421 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './scp.exp root redhat /tmp/tmp.M0EPFY5Wif /tmp/tmp.ElkQhbOzrk' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for scp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:23:57.218156253 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './sftp1.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for sftp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:23:59.362078540 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh-copy-id.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh-copy-id ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:23:59.362078540 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   LOG    ] :: Duration: 40s\n:: [   LOG    ] :: Assertions: 112 good, 0 bad\n:: [   PASS   ] :: RESULT: SSHv1 with pubkey auth\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: SSHv2 with NSS auth\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'cp -f sshd_config_v2 /etc/ssh/sshd_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cp -f ssh_config /etc/ssh/ssh_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'sed -i 's/PubkeyAuthentication no/PubkeyAuthentication yes/' /etc/ssh/sshd_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'restorecon -Rv /etc/ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'ssh-keygen -n >> /root/.ssh/authorized_keys' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0, got 0)\n:: [   PASS   ] :: Running './sshnss.exp root redhat aes128-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:24:07.811654600 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat aes192-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:24:10.311463506 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat aes256-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:24:12.769705722 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat arcfour256' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:24:15.458578452 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat arcfour128' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:24:18.088087476 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat aes128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:24:20.598183984 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat 3des-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:24:23.141139529 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat blowfish-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:24:25.694786445 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat cast128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:24:28.257593534 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat aes192-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:24:30.852883763 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat aes256-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:24:33.402917093 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat arcfour' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:24:36.131766214 | tee /tmp/tmp.aTO46kr1Yz' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.aTO46kr1Yz' should not contain 'unknown' \n:: [   LOG    ] :: Duration: 33s\n:: [   LOG    ] :: Assertions: 90 good, 0 bad\n:: [   PASS   ] :: RESULT: SSHv2 with NSS auth\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Check for fatal sshd errors\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'cat /var/log/secure | egrep 'sshd.*fatal' | grep -v hmac' (Expected 1, got 1)\n:: [   LOG    ] :: Duration: 1s\n:: [   LOG    ] :: Assertions: 1 good, 0 bad\n:: [   PASS   ] :: RESULT: Check for fatal sshd errors\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Cleanup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'rm -rf /root/.ssh/id* /root/.ssh/auth* /root/.ssh/*.db' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'restorecon -Rv /root/.ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'restorecon -Rv /etc/ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'setsebool allow_ypbind 0' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rlServiceRestore sshd' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rlServiceRestore rsyslog' (Expected 0-255, got 0)\n:: [   LOG    ] :: Duration: 3s\n:: [   LOG    ] :: Assertions: 6 good, 0 bad\n:: [   PASS   ] :: RESULT: Cleanup\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: /CoreOS/openssh/Regression/bz632402-audit-crypto-usage\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Phases: 8 good, 0 bad\n:: [   PASS   ] :: RESULT: /CoreOS/openssh/Regression/bz632402-audit-crypto-usage\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: TEST PROTOCOL\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Test run ID   : 16545807\n:: [   LOG    ] :: Package       : unknown\n:: [   LOG    ] :: Installed:    : unknown is not installed!\n:: [   LOG    ] :: Test started  : 2013-10-18 05:31:10 EDT\n:: [   LOG    ] :: Test finished : 2013-10-18 05:34:39 EDT\n:: [   LOG    ] :: Test name     : /CoreOS/openssh/Regression/bz632402-audit-crypto-usage\n:: [   LOG    ] :: Distro:       : Red Hat Enterprise Linux Server release 6.4 (Santiago)\n:: [   LOG    ] :: Hostname      : ibm-js12-vios-01-lp2.rhts.eng.bos.redhat.com\n:: [   LOG    ] :: Architecture  : ppc64\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test description\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\nPURPOSE of /CoreOS/openssh/Regression/bz632402-audit-crypto-usage\nDescription: Checks if sshd is logging to audit all needed records\nAuthor: Miroslav Vadkerti <mvadkert@redhat.com>\n\nWe need to add some audit records to sshd that records the following:\n1)  In the sshd DH and RSA/DSA based key authentication we need to record the\nremote end (IP address and port), mechanism being used (key), and results.\n2) During cryptographic tunnel establishment, we need to record: ciphers/block\nchaining modes, key sizes, source, destination of connection, originator.\n\nThe test is testing audit logs with SSHv1 and SSHv2 with and without public\nkey authentication.\n\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: General\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Checking for the presence of openssh rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   openssh-5.3p1-94.el6.ppc64\n:: [   PASS   ] :: Checking for the presence of openssh-server rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   openssh-server-5.3p1-94.el6.ppc64\n:: [   PASS   ] :: Checking for the presence of openssh-clients rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   openssh-clients-5.3p1-94.el6.ppc64\n:: [   PASS   ] :: Checking for the presence of policycoreutils rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   policycoreutils-2.0.83-19.30.el6.ppc64\n:: [   PASS   ] :: Checking for the presence of expect rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   expect-5.44.1.15-4.el6.ppc64\n:: [   PASS   ] :: Checking for the presence of sendmail rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   sendmail-8.14.4-8.el6.ppc64\n:: [   PASS   ] :: Checking for the presence of nc rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   nc-1.84-22.el6.ppc64\n:: [   PASS   ] :: Running 'setsebool allow_ypbind 1' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'service sendmail restart' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rm -f /var/log/secure' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rlServiceStart sshd' (Expected 0-255, got 0)\n:: [   PASS   ] :: Running 'rlServiceStart rsyslog' (Expected 0-255, got 0)\n:: [   PASS   ] :: Running 'echo 'redhat' | passwd --stdin root' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rm -f /root/.ssh/authorized_keys' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'ssh-keygen -t rsa -f /root/.ssh/id_rsa -N redhat' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'ssh-keygen -t rsa1 -f /root/.ssh/identity -N redhat' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cat /root/.ssh/id_rsa.pub >> /root/.ssh/authorized_keys' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cp -rf /etc/pki/nssdb/*.db /root/.ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running './certutil.exp /root/.ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'restorecon -Rv /root/.ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cp -f sshd_config_v2 /etc/ssh/sshd_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cp -f ssh_config /etc/ssh/ssh_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'restorecon -Rv /etc/ssh' (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 15s\n:: [   LOG    ] :: Assertions: 23 good, 0 bad\n:: [   PASS   ] :: RESULT: General\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: SSHv2 with password auth\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0, got 0)\n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:31:27.382058452 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:31:29.024546434 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:31:30.721326459 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour256' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:31:32.586116737 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour128' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:31:34.437581689 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:31:36.189515504 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat 3des-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:31:37.896854699 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat blowfish-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:31:39.706615462 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat cast128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:31:41.403442529 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:31:43.122851152 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:31:44.878324228 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:31:46.765730866 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0, got 0)\n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-cbc' (Expected 0-255, got 1)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:31:48.885611519 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'unsupported-mac' \n:: [   PASS   ] :: Running 'cp -f sshd_config_v2 /etc/ssh/sshd_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cp -f ssh_config /etc/ssh/ssh_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'restorecon -Rv /etc/ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running './ssh_l.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -L ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:31:50.928056352 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_r.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -R ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:31:52.715297407 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_dyn.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -D ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:31:54.557227491 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './scp.exp root redhat /tmp/tmp.2KxrXSWjdk /tmp/tmp.uw8PwkA50X' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for scp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:31:56.296331239 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './sftp.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for sftp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:31:58.037086039 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh-copy-id.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh-copy-id ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:31:58.037086039 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   LOG    ] :: Duration: 34s\n:: [   LOG    ] :: Assertions: 118 good, 0 bad\n:: [   PASS   ] :: RESULT: SSHv2 with password auth\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: SSHv2 with pubkey auth\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'sed -i 's/PubkeyAuthentication no/PubkeyAuthentication yes/' /etc/ssh/sshd_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0, got 0)\n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:32:04.137748016 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:32:05.917668147 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:32:07.757890374 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour256' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:32:09.716251034 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour128' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:32:11.701670157 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:32:13.537291376 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat 3des-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:32:15.346051416 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat blowfish-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:32:17.217956818 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat cast128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:32:19.024929443 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:32:20.824300961 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:32:22.700979437 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:32:24.763133561 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_l.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -L ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:32:26.639579493 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_r.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -R ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:32:28.578536079 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_dyn.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -D ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:32:30.550847556 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './scp.exp root redhat /tmp/tmp.2KxrXSWjdk /tmp/tmp.uw8PwkA50X' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for scp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:32:32.431541141 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './sftp.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for sftp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:32:34.270497446 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh-copy-id.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh-copy-id ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:32:34.270497446 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   LOG    ] :: Duration: 35s\n:: [   LOG    ] :: Assertions: 110 good, 0 bad\n:: [   PASS   ] :: RESULT: SSHv2 with pubkey auth\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: SSHv1 with password auth\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'cp -f sshd_config_v1 /etc/ssh/sshd_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'restorecon -Rv /etc/ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rm -rf /root/.ssh/authorized_keys' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cat /root/.ssh/identity.pub >> /root/.ssh/authorized_keys' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0, got 0)\n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:32:41.535754594 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:32:43.449089558 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:32:45.356129186 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour256' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:32:47.241738663 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour128' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:32:49.134292919 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:32:51.051398766 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat 3des-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:32:52.959991750 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat blowfish-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:32:54.836982273 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat cast128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:32:56.751130130 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:32:58.738946473 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:33:00.657920584 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:33:02.645208941 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_l.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -L ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:33:04.626404181 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_r.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -R ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:33:06.659959173 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_dyn.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -D ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:33:08.722947789 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './scp.exp root redhat /tmp/tmp.2KxrXSWjdk /tmp/tmp.uw8PwkA50X' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for scp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:33:10.691993797 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './sftp1.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for sftp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:33:12.699970016 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh-copy-id.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh-copy-id ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:33:12.699970016 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   LOG    ] :: Duration: 37s\n:: [   LOG    ] :: Assertions: 113 good, 0 bad\n:: [   PASS   ] :: RESULT: SSHv1 with password auth\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: SSHv1 with pubkey auth\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'rm -rf /root/.ssh/authorized_keys' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cat /root/.ssh/identity.pub >> /root/.ssh/authorized_keys' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'sed -i 's/RSAAuthentication no/RSAAuthentication yes/' /etc/ssh/sshd_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0, got 0)\n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:33:19.825191066 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:33:21.875136098 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:33:23.924496602 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour256' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:33:25.963749485 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour128' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:33:28.001365335 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:33:30.056553793 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat 3des-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:33:32.135119033 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat blowfish-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:33:34.340840275 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat cast128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:33:36.369056869 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:33:38.476974722 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:33:40.574470432 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:33:42.693987048 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_l.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -L ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:33:44.861548859 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_r.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -R ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:33:47.064152133 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh_dyn.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh -D ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:33:49.321313062 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './scp.exp root redhat /tmp/tmp.2KxrXSWjdk /tmp/tmp.uw8PwkA50X' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for scp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:33:51.472071273 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './sftp1.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for sftp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:33:53.641112107 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: Running './ssh-copy-id.exp root redhat' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh-copy-id ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:33:53.641112107 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   LOG    ] :: Duration: 40s\n:: [   LOG    ] :: Assertions: 112 good, 0 bad\n:: [   PASS   ] :: RESULT: SSHv1 with pubkey auth\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: SSHv2 with NSS auth\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'cp -f sshd_config_v2 /etc/ssh/sshd_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cp -f ssh_config /etc/ssh/ssh_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'sed -i 's/PubkeyAuthentication no/PubkeyAuthentication yes/' /etc/ssh/sshd_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'restorecon -Rv /etc/ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'ssh-keygen -n >> /root/.ssh/authorized_keys' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0, got 0)\n:: [   PASS   ] :: Running './sshnss.exp root redhat aes128-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:34:02.012923655 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat aes192-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:34:04.496108502 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat aes256-ctr' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:34:06.970655293 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat arcfour256' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:34:09.628544125 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat arcfour128' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:34:12.341867140 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat aes128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:34:14.831894206 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat 3des-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:34:17.323110027 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat blowfish-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:34:19.894756370 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat cast128-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:34:22.371541929 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat aes192-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:34:24.866399656 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat aes256-cbc' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:34:27.413521570 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'unknown' \n:: [   PASS   ] :: Running './sshnss.exp root redhat arcfour' (Expected 0, got 0)\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 05:34:30.135854585 | tee /tmp/tmp.H42PTpsgRj' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_SESSION' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should contain 'CRYPTO_KEY_USER.*op=destroy' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'USER_ERR' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain '0\\.0\\.0\\.0' \n:: [   PASS   ] :: File '/tmp/tmp.H42PTpsgRj' should not contain 'unknown' \n:: [   LOG    ] :: Duration: 33s\n:: [   LOG    ] :: Assertions: 90 good, 0 bad\n:: [   PASS   ] :: RESULT: SSHv2 with NSS auth\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Check for fatal sshd errors\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'cat /var/log/secure | egrep 'sshd.*fatal' | grep -v hmac' (Expected 1, got 1)\n:: [   LOG    ] :: Duration: 1s\n:: [   LOG    ] :: Assertions: 1 good, 0 bad\n:: [   PASS   ] :: RESULT: Check for fatal sshd errors\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Cleanup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'rm -rf /root/.ssh/id* /root/.ssh/auth* /root/.ssh/*.db' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'restorecon -Rv /root/.ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'restorecon -Rv /etc/ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'setsebool allow_ypbind 0' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rlServiceRestore sshd' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rlServiceRestore rsyslog' (Expected 0-255, got 0)\n:: [   LOG    ] :: Duration: 3s\n:: [   LOG    ] :: Assertions: 6 good, 0 bad\n:: [   PASS   ] :: RESULT: Cleanup\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: /CoreOS/openssh/Regression/bz632402-audit-crypto-usage\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Phases: 8 good, 0 bad\n:: [   PASS   ] :: RESULT: /CoreOS/openssh/Regression/bz632402-audit-crypto-usage",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20131018T11:34:09",
          "bug_id": "1004763",
          "creator_id": "241731",
          "time": "20131018T11:34:09",
          "id": "6434450",
          "is_private": "True"
        },
        {
          "count": "12",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHSA-2013-1591.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20131121T09:47:32",
          "bug_id": "1004763",
          "creator_id": "241731",
          "time": "20131121T09:47:32",
          "id": "6542279",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.5"
      ],
      "cc": [
        "ebenes@redhat.com",
        "ksrot@redhat.com",
        "lnovy@redhat.com",
        "pvrabec@redhat.com",
        "rrelyea@redhat.com",
        "tlavigne@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "lnovy@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "redhat"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "beta",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "New openssh can't read keys from new NSS",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20130905T12:26:19",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20130905T12:26:19",
          "id": "1496933",
          "setter": "hkario@redhat.com"
        },
        {
          "status": "-",
          "name": "requires_doc_text",
          "modification_date": "20131025T13:59:05",
          "type_id": "415",
          "is_active": "1",
          "creation_date": "20131025T13:59:05",
          "id": "1563818",
          "setter": "plautrba@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.5.0",
          "modification_date": "20130909T18:20:36",
          "type_id": "361",
          "is_active": "0",
          "creation_date": "20130905T12:26:19",
          "id": "1496934",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "blocker",
          "modification_date": "20130909T18:20:36",
          "type_id": "24",
          "is_active": "1",
          "creation_date": "20130905T12:26:19",
          "id": "1496935",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20130909T18:17:00",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20130905T12:26:19",
          "id": "1496936",
          "setter": "tlavigne@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20130906T10:12:32",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20130905T12:26:19",
          "id": "1496937",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20130906T13:56:11",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20130905T12:26:19",
          "id": "1496938",
          "setter": "ksrot@redhat.com"
        }
      ],
      "last_change_time": "20140218T23:57:01",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509321-1O8hh8Wc3Y3axk1TIKPxrBzhdsJ4lGDdro4JxmOlVoU",
      "cf_partner": [],
      "cf_last_closed": "20131121T09:47:32",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20131111T08:41:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "Security"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "Waiting on Red Hat",
          "ext_bz_bug_id": "00979117",
          "bug_id": "1028920",
          "ext_description": "ssh vulnerability",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "130274"
        }
      ],
      "id": "1028920",
      "cf_release_notes": "",
      "priority": "unspecified",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "mtessun@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "mtessun@redhat.com",
          "text": "Description of problem:\nhttp://www.openssh.com/txt/gcmrekey.adv described a ssh vulnerability with AES-GCM cipher\n\nVersion-Release number of selected component (if applicable):\nall versions\n\nHow reproducible:\nalways\n\nSteps to Reproduce:\nSee http://www.openssh.com/txt/gcmrekey.adv\n\nActual results:\nPossible security exploit.\n\nExpected results:\nNo exploit ;)\n\n\nAdditional info:\nShort excerpt from the advisory:\n\n1. Vulnerability\n\n        A memory corruption vulnerability exists in the post-\n        authentication sshd process when an AES-GCM cipher\n        (aes128-gcm@openssh.com or aes256-gcm@openssh.com) is\n        selected during kex exchange.\n\n        If exploited, this vulnerability might permit code execution\n        with the privileges of the authenticated user and may\n        therefore allow bypassing restricted shell/command\n        configurations.\n\n2. Affected configurations\n\n        OpenSSH 6.2 and OpenSSH 6.3 when built against an OpenSSL\n        that supports AES-GCM.\n\n3. Mitigation\n\n        Disable AES-GCM in the server configuration. The following\n        sshd_config option will disable AES-GCM while leaving other\n        ciphers active:\n\n        Ciphers aes128-ctr,aes192-ctr,aes256-ctr,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc\n\n...\n\n5. Credit\n\n        This issue was identified by Markus Friedl (an OpenSSH\n\tdeveloper) on November 7th, 2013.\n\n6. Fix\n\n        OpenSSH 6.4 contains a fix for this vulnerability. Users who\n        prefer to continue to use OpenSSH 6.2 or 6.3 may apply this\n        patch:\n\nIndex: monitor_wrap.c\n===================================================================\nRCS file: /cvs/src/usr.bin/ssh/monitor_wrap.c,v\nretrieving revision 1.76\ndiff -u -p -u -r1.76 monitor_wrap.c\n--- monitor_wrap.c\t17 May 2013 00:13:13 -0000\t1.76\n+++ monitor_wrap.c\t6 Nov 2013 16:31:26 -0000\n@@ -469,7 +469,7 @@ mm_newkeys_from_blob(u_char *blob, int b\n \tbuffer_init(&b);\n \tbuffer_append(&b, blob, blen);\n \n-\tnewkey = xmalloc(sizeof(*newkey));\n+\tnewkey = xcalloc(1, sizeof(*newkey));\n \tenc = &newkey->enc;\n \tmac = &newkey->mac;\n \tcomp = &newkey->comp;\n\n\nThus I believe RHEL will be affected, too. Looking at the BZs if there is already one raised.\n ==> Search for Not Closed Bugs in BZ did not reveal this one.\n\nChecking sources for RHEL5 and RHEL6\n\nRHEL6:\n\nmm_newkeys_from_blob(u_char *blob, int blen)\n{\n        Buffer b;\n        u_int len;\n        Newkeys *newkey = NULL;\n        Enc *enc;\n        Mac *mac;\n        Comp *comp;\n\n        debug3(''%s: %p(%d)'', __func__, blob, blen);\n#ifdef DEBUG_PK\n        dump_base64(stderr, blob, blen);\n#endif\n        buffer_init(&b);\n        buffer_append(&b, blob, blen);\n\n        newkey = xmalloc(sizeof(*newkey));\n\n\n==> So the bug seems to be in our openssh as well.",
          "author": "mtessun@redhat.com",
          "creation_time": "20131111T08:41:35",
          "bug_id": "1028920",
          "creator_id": "349896",
          "time": "20131111T08:41:35",
          "id": "6506695",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "mtessun@redhat.com",
          "text": "This should be fixed for RHEL 5 as well.\n\nShould I create a clone of this BUG for RHEL 5 as well?",
          "author": "mtessun@redhat.com",
          "creation_time": "20131111T08:43:04",
          "bug_id": "1028920",
          "creator_id": "349896",
          "time": "20131111T08:43:04",
          "id": "6506699",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "thoger@redhat.com",
          "text": "Bug 1028418 comment 3.",
          "author": "thoger@redhat.com",
          "creation_time": "20131111T10:02:24",
          "bug_id": "1028920",
          "creator_id": "215839",
          "time": "20131111T10:02:24",
          "id": "6506924",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.6"
      ],
      "cc": [
        "pablo.iranzo@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "1028418"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "groups": [
        "private",
        "redhat"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "ssh vulnerability as described in http://www.openssh.com/txt/gcmrekey.adv",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.6.0",
          "modification_date": "20131111T08:41:35",
          "type_id": "519",
          "is_active": "1",
          "creation_date": "20131111T08:41:35",
          "id": "1581994",
          "setter": "mtessun@redhat.com"
        },
        {
          "status": "?",
          "name": "pm_ack",
          "modification_date": "20131111T08:41:35",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20131111T08:41:35",
          "id": "1581995",
          "setter": "mtessun@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20131111T08:41:35",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20131111T08:41:35",
          "id": "1581996",
          "setter": "mtessun@redhat.com"
        },
        {
          "status": "?",
          "name": "qa_ack",
          "modification_date": "20131111T08:41:35",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20131111T08:41:35",
          "id": "1581997",
          "setter": "mtessun@redhat.com"
        }
      ],
      "last_change_time": "20131111T10:02:24",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509322-1FU2tTGp7MGzyj-sAxAalIi_Pme0652w1HsoUbRKfzw",
      "cf_partner": [],
      "cf_last_closed": "20131111T10:02:24",
      "resolution": "NOTABUG",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "classification": "Red Hat",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_story_points": "---",
      "cf_conditional_nak": [],
      "creation_time": "20131220T11:14:00",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "summary": "no support for ECDSA ssh keys",
      "external_bugs": [],
      "id": "1045404",
      "cf_release_notes": "",
      "priority": "unspecified",
      "cf_internal_whiteboard": "",
      "severity": "unspecified",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "h.reindl@thelounge.net",
      "comments": [
        {
          "count": "0",
          "creator": "h.reindl@thelounge.net",
          "text": "while Fedora 18/19/20 and RHEL7-Beta supporting ECDSA keys that is not the case for RHEL6.5 - the OpenSSH shipped with RHEL6 now has support, so it must be the openssh package\n\nssh-keygen -t ecdsa -b 521 /etc/ssh/ssh_host_ecdsa_key\nBits has bad value 521 (too small)",
          "author": "h.reindl@thelounge.net",
          "creation_time": "20131220T11:14:06",
          "bug_id": "1045404",
          "creator_id": "277140",
          "time": "20131220T11:14:06",
          "id": "6641471",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this bug report was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20140102T21:24:32",
          "bug_id": "1045404",
          "creator_id": "193983",
          "time": "20140102T21:24:32",
          "id": "6668682",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "plautrba@redhat.com",
          "text": "\n\n*** This bug has been marked as a duplicate of bug 1028335 ***",
          "author": "plautrba@redhat.com",
          "creation_time": "20140319T19:03:02",
          "bug_id": "1045404",
          "creator_id": "270148",
          "time": "20140319T19:03:02",
          "id": "6932100",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "s.kieske@mittwald.de",
          "text": "BZ 1028335 is not visible to the public, could it get opened?",
          "author": "s.kieske@mittwald.de",
          "creation_time": "20140325T09:38:49",
          "bug_id": "1045404",
          "creator_id": "356498",
          "time": "20140325T09:38:49",
          "id": "6948130",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.6"
      ],
      "cc": [
        "s.kieske@mittwald.de"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_regression_status": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "product": "Red Hat Enterprise Linux 6",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "target_release": [
        "---"
      ],
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "groups": [],
      "cf_documentation_action": "---",
      "sub_components": {},
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "op_sys": "Unspecified",
      "alias": [],
      "dupe_of": "1028335",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.6.0",
          "modification_date": "20140102T21:24:30",
          "type_id": "519",
          "is_active": "1",
          "creation_date": "20140102T21:24:30",
          "id": "1646485",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "pm_ack",
          "modification_date": "20140102T21:59:42",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20140102T21:59:42",
          "id": "1646627",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20140102T22:05:09",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20140102T22:05:09",
          "id": "1646742",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "qa_ack",
          "modification_date": "20140102T22:10:19",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20140102T22:10:19",
          "id": "1646859",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20140325T09:38:49",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509322-nCmOH5giKhwFuUEEgzBXK6cLNPoInl-u8IAYAF3FGXk",
      "cf_partner": [],
      "cf_last_closed": "20140319T19:03:02",
      "resolution": "DUPLICATE",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [
        "1023043"
      ],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20140311T11:37:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "ManPageChange",
        "ZStream"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "1075032",
      "cf_release_notes": "",
      "priority": "unspecified",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-95.el6_5.1",
      "creator": "jkurik@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "jkurik@redhat.com",
          "text": "This bug has been copied from bug #1023043 and has been proposed\nto be backported to 6.5 z-stream (EUS).",
          "author": "jkurik@redhat.com",
          "creation_time": "20140311T11:37:37",
          "bug_id": "1075032",
          "creator_id": "352756",
          "time": "20140311T11:37:37",
          "id": "6902797",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "jkurik@redhat.com",
          "text": "Devel ack is needed to complete 3ACK process and approval.",
          "author": "jkurik@redhat.com",
          "creation_time": "20140311T11:37:50",
          "bug_id": "1075032",
          "creator_id": "352756",
          "time": "20140311T11:37:50",
          "id": "6902799",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "jkurik@redhat.com",
          "text": "If you as an assigned engineer don't know what to do with the Z-stream bugzilla\nlook at the EUS mini HOWTO at:\n\n * Developer howto:\n https://home.corp.redhat.com/wiki/working-z-streams\n\n * QE - EUS test guidelines:\n http://wiki.test.redhat.com/RhelQe/ZStreamEusTestGuidelines\n\n * If you want to learn more about EUS and z-stream you can read training presentation located here:\n https://docspace.corp.redhat.com/docs/DOC-50511",
          "author": "jkurik@redhat.com",
          "creation_time": "20140311T11:37:54",
          "bug_id": "1075032",
          "creator_id": "352756",
          "time": "20140311T11:37:54",
          "id": "6902800",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2014:16784-10\nhttps://errata.devel.redhat.com/advisory/16784",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20140311T15:12:07",
          "bug_id": "1075032",
          "creator_id": "241731",
          "time": "20140311T15:12:07",
          "id": "6904003",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "plautrba@redhat.com",
          "text": "this is just a minor man page fix which was fixed in MPO process before - bug #1020417",
          "author": "plautrba@redhat.com",
          "creation_time": "20140311T16:03:31",
          "bug_id": "1075032",
          "creator_id": "270148",
          "time": "20140311T16:03:31",
          "id": "6904249",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "jkurik@redhat.com",
          "text": "May I have a status update on this bug, please ?\nIt has been idle for a while.",
          "author": "jkurik@redhat.com",
          "creation_time": "20140410T07:20:32",
          "bug_id": "1075032",
          "creator_id": "352756",
          "time": "20140410T07:20:32",
          "id": "6999496",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "pkis@redhat.com",
          "text": "(In reply to Jan Kurik from comment #5)\n> May I have a status update on this bug, please ?\n> It has been idle for a while.\n\nThe bug 1053046 that will be released in the same 6.5.z errata as this bug fix is dependent on the opsnssl bug 1064984, that holds back the whole errata will all bug fixes. On the other hand it is true that this bug fix does not directly requires the openssl fix, so it can be verified, although not released. I'll do my best to verify it.",
          "author": "pkis@redhat.com",
          "creation_time": "20140410T07:40:18",
          "bug_id": "1075032",
          "creator_id": "324351",
          "time": "20140410T07:40:18",
          "id": "6999561",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "plautrba@redhat.com",
          "text": "It was decided to release the FIPS certified version of openssl on RHEL 6.6 only, and not to backport the openssl package with the FIPS related changes to 6.5.z. Therefore I'm closing this bug as WONTFIX for rhel-6.5.z.",
          "author": "plautrba@redhat.com",
          "creation_time": "20140610T10:36:47",
          "bug_id": "1075032",
          "creator_id": "270148",
          "time": "20140610T10:36:47",
          "id": "7168374",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.5"
      ],
      "cc": [
        "ksrot@redhat.com",
        "mvadkert@redhat.com",
        "ovasik@redhat.com",
        "pkis@redhat.com",
        "plautrba@redhat.com",
        "pm-eus@redhat.com",
        "pschiffe@redhat.com",
        "pvrabec@redhat.com",
        "qe-baseos-security@redhat.com",
        "tlavigne@redhat.com",
        "tmraz@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "pkis@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "PMApproved",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "ssh_config manual page lists incorrect default value of KexAlgorithms",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "-",
          "name": "requires_doc_text",
          "modification_date": "20140311T16:03:31",
          "type_id": "415",
          "is_active": "1",
          "creation_date": "20140311T16:03:31",
          "id": "1739257",
          "setter": "plautrba@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.5.z",
          "modification_date": "20140311T12:40:41",
          "type_id": "618",
          "is_active": "1",
          "creation_date": "20140311T11:37:46",
          "id": "1738543",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20140311T11:37:46",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20140311T11:37:46",
          "id": "1738544",
          "setter": "jkurik@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20140311T12:34:38",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20140311T11:37:46",
          "id": "1738545",
          "setter": "tmraz@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20140311T11:37:46",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20140311T11:37:46",
          "id": "1738546",
          "setter": "jkurik@redhat.com"
        }
      ],
      "last_change_time": "20140610T10:36:47",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509322-bjMs4doTUa069-I7TBCiYaO3RXoiPKxcxEmCUlhU48U",
      "cf_partner": [],
      "cf_last_closed": "20140610T10:36:47",
      "resolution": "WONTFIX",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [
        "1023044"
      ],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20140311T11:37:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "ManPageChange",
        "ZStream"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "1075033",
      "cf_release_notes": "",
      "priority": "unspecified",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-95.el6_5.1",
      "creator": "jkurik@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "jkurik@redhat.com",
          "text": "This bug has been copied from bug #1023044 and has been proposed\nto be backported to 6.5 z-stream (EUS).",
          "author": "jkurik@redhat.com",
          "creation_time": "20140311T11:37:46",
          "bug_id": "1075033",
          "creator_id": "352756",
          "time": "20140311T11:37:46",
          "id": "6902798",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "jkurik@redhat.com",
          "text": "Devel ack is needed to complete 3ACK process and approval.",
          "author": "jkurik@redhat.com",
          "creation_time": "20140311T11:37:56",
          "bug_id": "1075033",
          "creator_id": "352756",
          "time": "20140311T11:37:56",
          "id": "6902801",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "jkurik@redhat.com",
          "text": "If you as an assigned engineer don't know what to do with the Z-stream bugzilla\nlook at the EUS mini HOWTO at:\n\n * Developer howto:\n https://home.corp.redhat.com/wiki/working-z-streams\n\n * QE - EUS test guidelines:\n http://wiki.test.redhat.com/RhelQe/ZStreamEusTestGuidelines\n\n * If you want to learn more about EUS and z-stream you can read training presentation located here:\n https://docspace.corp.redhat.com/docs/DOC-50511",
          "author": "jkurik@redhat.com",
          "creation_time": "20140311T11:37:59",
          "bug_id": "1075033",
          "creator_id": "352756",
          "time": "20140311T11:37:59",
          "id": "6902803",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2014:16784-10\nhttps://errata.devel.redhat.com/advisory/16784",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20140311T15:12:14",
          "bug_id": "1075033",
          "creator_id": "241731",
          "time": "20140311T15:12:14",
          "id": "6904004",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "plautrba@redhat.com",
          "text": "This is just a minor man page fix which was fixed by MPO process before - bug #1020432",
          "author": "plautrba@redhat.com",
          "creation_time": "20140311T16:07:39",
          "bug_id": "1075033",
          "creator_id": "270148",
          "time": "20140311T16:07:39",
          "id": "6904264",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "jkurik@redhat.com",
          "text": "May I have a status update on this bug, please ?\nIt has been idle for a while.",
          "author": "jkurik@redhat.com",
          "creation_time": "20140410T07:20:32",
          "bug_id": "1075033",
          "creator_id": "352756",
          "time": "20140410T07:20:32",
          "id": "6999497",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "pkis@redhat.com",
          "text": "(In reply to Jan Kurik from comment #5)\n> May I have a status update on this bug, please ?\n> It has been idle for a while.\n\nThe bug 1053046 that will be released in the same 6.5.z errata as this bug fix is dependent on the opsnssl bug 1064984, that holds back the whole errata will all bug fixes. On the other hand it is true that this bug fix does not directly requires the openssl fix, so it can be verified, although not released. I'll do my best to verify it.",
          "author": "pkis@redhat.com",
          "creation_time": "20140410T07:40:14",
          "bug_id": "1075033",
          "creator_id": "324351",
          "time": "20140410T07:40:14",
          "id": "6999560",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "plautrba@redhat.com",
          "text": "It was decided to release the FIPS certified version of openssl on RHEL 6.6 only, and not to backport the openssl package with the FIPS related changes to 6.5.z. Therefore I'm closing this bug as WONTFIX for rhel-6.5.z.",
          "author": "plautrba@redhat.com",
          "creation_time": "20140610T10:36:49",
          "bug_id": "1075033",
          "creator_id": "270148",
          "time": "20140610T10:36:49",
          "id": "7168376",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.5"
      ],
      "cc": [
        "ksrot@redhat.com",
        "ovasik@redhat.com",
        "pkis@redhat.com",
        "plautrba@redhat.com",
        "pm-eus@redhat.com",
        "pschiffe@redhat.com",
        "pvrabec@redhat.com",
        "qe-baseos-security@redhat.com",
        "tlavigne@redhat.com",
        "tmraz@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "pkis@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "PMApproved",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "Fix man page for ssh-keygen because of certificate support",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "-",
          "name": "requires_doc_text",
          "modification_date": "20140311T16:07:39",
          "type_id": "415",
          "is_active": "1",
          "creation_date": "20140311T16:07:39",
          "id": "1739264",
          "setter": "plautrba@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.5.z",
          "modification_date": "20140311T12:40:36",
          "type_id": "618",
          "is_active": "1",
          "creation_date": "20140311T11:37:52",
          "id": "1738547",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20140311T11:37:52",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20140311T11:37:52",
          "id": "1738548",
          "setter": "jkurik@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20140311T12:34:40",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20140311T11:37:52",
          "id": "1738549",
          "setter": "tmraz@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20140311T11:37:52",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20140311T11:37:52",
          "id": "1738550",
          "setter": "jkurik@redhat.com"
        }
      ],
      "last_change_time": "20140610T10:36:49",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509322-2lNpnEIAgmKynyYrhEMIXKR2uGy9TwV4lhhd9l5DUFc",
      "cf_partner": [],
      "cf_last_closed": "20140610T10:36:49",
      "resolution": "WONTFIX",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20140324T19:05:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "1080154",
      "cf_release_notes": "",
      "priority": "unspecified",
      "severity": "unspecified",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "leonfauster@googlemail.com",
      "comments": [
        {
          "count": "0",
          "creator": "leonfauster@googlemail.com",
          "text": "Description of problem:\nwhile being connected via sftp - the usage of symlink will always\ncreate a link with a absolute path. this leads to invalid links\nwhen using chrooted sftp connections. \n\n\n\nVersion-Release number of selected component (if applicable):\nrpm -q openssh\nopenssh-5.3p1-94.el6.x86_64\n\n\n\nHow reproducible:\ncreate chroot config like\ntail -16  /etc/ssh/sshd_config\n# override default of no subsystems\n#Subsystem\tsftp\t/usr/libexec/openssh/sftp-server\n\n# Example of overriding settings on a per-user basis\n#Match User anoncvs\n#\tX11Forwarding no\n#\tAllowTcpForwarding no\n#\tForceCommand cvs server\n\nSubsystem\tsftp\tinternal-sftp\nMatch Group myexamplegroup\n  ForceCommand internal-sftp\n  AllowTcpForwarding no\n  ChrootDirectory /myexampleroot/service/\n  X11Forwarding no\n\n---\nlogin via sftp (with an user in group myexamplegroup)\nand do something like this in a subdirectory:\n\nsymlink ../example/ test\n\nthe result is only valid while being in the sftp session.\n\noutside the chroot the link points to \n\ntest -> /myexampleroot/service/subdir/../example/\n\nwhich is not valid\n\n\n\n\nExpected results:\nrelative links",
          "author": "leonfauster@googlemail.com",
          "creation_time": "20140324T19:05:25",
          "bug_id": "1080154",
          "creator_id": "176884",
          "time": "20140324T19:05:25",
          "id": "6946047",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this bug report was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20140324T19:23:26",
          "bug_id": "1080154",
          "creator_id": "193983",
          "time": "20140324T19:23:26",
          "id": "6946088",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "plautrba@redhat.com",
          "text": "Works for me with sftp client from RHEL-6\n\nsftp> symlink ../bin bin-link\ndebug3: Wrote 80 bytes for a total of 2797\ndebug3: Sent message SSH2_FXP_SYMLINK ''../bin'' -> ''/a/bin-link''\ndebug3: SSH2_FXP_STATUS 0\n\nBut I can reproduce this issue using RHEL-7's sftp:\n\nsftp> symlink ../bin bin-link\ndebug3: Sent message SSH2_FXP_SYMLINK ''/a/../bin'' -> ''/a/bin-link''\ndebug3: SSH2_FXP_STATUS 0\n\nRHEL-7 bug - #1084079",
          "author": "plautrba@redhat.com",
          "creation_time": "20140404T11:14:21",
          "bug_id": "1080154",
          "creator_id": "270148",
          "time": "20140404T11:14:21",
          "id": "6984816",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "leonfauster@googlemail.com",
          "text": "indeed it seems to be on client side. i was \nconnecting from an osx client to a EL6 server.\n\nthis sftp clients works:\n========================\n\nel5$ ssh -V\nOpenSSH_4.3p2, OpenSSL 0.9.8e-fips-rhel5 01 Jul 2008\n\nel6$ ssh -V\nOpenSSH_5.3p1, OpenSSL 1.0.1e-fips 11 Feb 2013\n\n\n\nthis sftp client does NOT works:\n=================================\nosx$ ssh -V\nOpenSSH_5.9p1, OpenSSL 0.9.8y 5 Feb 2013\n\n\n\nserver side for both el5 and el6",
          "author": "leonfauster@googlemail.com",
          "creation_time": "20140411T15:44:47",
          "bug_id": "1080154",
          "creator_id": "176884",
          "time": "20140411T15:44:47",
          "id": "7004529",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.5"
      ],
      "cc": [],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "sftp / symlink does not create relative links",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.6.0",
          "modification_date": "20140324T19:23:24",
          "type_id": "519",
          "is_active": "1",
          "creation_date": "20140324T19:23:24",
          "id": "1756656",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20140324T19:50:27",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20140324T19:47:37",
          "id": "1756677",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20140324T19:48:10",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20140324T19:48:10",
          "id": "1756685",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "qa_ack",
          "modification_date": "20140324T19:48:51",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20140324T19:48:51",
          "id": "1756694",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20140411T15:44:47",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509322-9A7XzDBLIkGFQsue8PvGLzrap0hPbY0_rhj2kvvoNLc",
      "cf_partner": [],
      "cf_last_closed": "20140404T11:14:21",
      "resolution": "NOTABUG",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20100805T20:07:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "Regression"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "None",
          "ext_bz_bug_id": "56494",
          "bug_id": "621691",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "69",
          "type": {
            "must_send": "False",
            "description": "TCMS Test Case",
            "url": "https://tcms.engineering.redhat.com",
            "can_get": "False",
            "id": "69",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          },
          "id": "129553"
        },
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00404726",
          "bug_id": "621691",
          "ext_description": "'connect : Connection refused' error on SSH X11Forwading",
          "ext_priority": "4 (Low)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "34801"
        }
      ],
      "id": "621691",
      "cf_release_notes": "",
      "priority": "urgent",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-20.el6",
      "creator": "tao@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "tao@redhat.com",
          "text": "Escalated to Bugzilla from IssueTracker",
          "author": "tao@redhat.com",
          "creation_time": "20100805T20:07:29",
          "bug_id": "621691",
          "creator_id": "80926",
          "time": "20100805T20:07:29",
          "id": "3060488",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "tao@redhat.com",
          "text": "Event posted on 08-04-2010 03:01am EDT by Glen Johnson\n\n=Comment: #0=================================================\nIchiroh Takiguchi <takiguc@jp.ibm.com> -\n---Problem Description---\n''connect : Connection refused'' error message is display when I use SSH X11Forwarding feature.\nI could recreate this problem with RHEL6 Snapshot7.\nI could not recreate this one on RHEL6 Beta2.\n\nContact Information = takiguc@jp.ibm.com\n\n---uname output---\n2.6.32-44.el6.i686\n\nMachine Type = IA32\n\n---Debugger---\nA debugger is not configured\n\n---Steps to Reproduce---\nTest instruction is as follows:\n1. Login with Desktop\n2. Type following command\n# ssh -Y root@localhost\nroot@localhost's password:\nLast login: XXXXXXXXXXXXXXXX\n3. Type following command, (any xclient command)\nThen ''connect : Connection refused'' message is displayed\n# xlsclients\nconnect : Connection refused\n......\n\nOpen another terminal.\nCheck PID for ssh command and type following command\n(XXX is for PID)\nThen type ''xlsclients'' command on another terminal.\n# strace -p XXX 2>&1 | grep connect\nconnect(7, {sa_family=AF_FILE, path=@''/tmp/.X11-unix/X0''}, 110) = -1 ECONNREFUSED (Connection refused)\nwrite(2, ''connect : Connection refused\\r\\n'', 30) = 30\nconnect(7, {sa_family=AF_FILE, path=''/tmp/.X11-unix/X0''}, 110) = 0\n\nI could recreate this problem on RHEL6 Snapshot7,\nbut I could not recreate this one on RHEL6 Beta2.\n\n\n---Other Component Data---\n=Comment: #7=================================================\nMUNI P. BEERAKAM <> -\n\nPatch causing the problem\n\nopenssh-5.3p1-x11.patch is the patch causing the ''connect: Connection refused'' issue which was\nintroduced in openssh-5.3p1-18 version.\n\nSo, need to tweak this patch to resolve this issue.\n\nThanks\nMuni\n\n=========================================\n> Please provide the following -\n> 1.Server architecture(s) (please list all effected) (x86/POWER6/Z/etc.):\nI tested it on x86/POWER6\n> 2.Server type (9117-MMA/HS20/s390/etc.):\nx86(IBM's Desktop PCs), POWER6(9117-MMA)\n> 3.General component (desktop/kernel/base OS/dev tools/etc.):\ndesktop\n> 4.Other components involved (ixgbe/java/emulex/etc.):\nNo\n> 5.Does the server have the latest GA firmware?\nYes.\n> 6.Has the problem been shown to occur on more than one system?\nYes.\n> 7.Is a tested patch available?\n>   If yes to the above, has it been approved upstream?\nNo.\n> 8.What is the latest official Red Hat build on which this bug has been\n> seen?\nRHEL6 Snap7\n= =======================================\nThis issue is happening on RHEL6 Snap8 as well\nThis event sent from IssueTracker by jkachuck  [IBM-LTC]\n issue 1223653",
          "author": "tao@redhat.com",
          "creation_time": "20100805T20:07:30",
          "bug_id": "621691",
          "creator_id": "80926",
          "time": "20100805T20:07:30",
          "id": "3060489",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "tao@redhat.com",
          "text": "Event posted on 08-04-2010 11:58am EDT by Glen Johnson\n\n<cde:attachment>\nComment on attachment:\nsosreport-ITakiguchi.66108-20100805003618-b974.tar.xz\n\n------- Comment on attachment From takiguc@jp.ibm.com 2010-08-04 11:35\nEDT-------\n\n\n(In reply to comment #17)\n> Hello,\n> Does this issue occur with remote computers or only to local host?\nBoth.\n> Also would you be able to attach a sosreport from the system seeing this\nissue?\nsosreport file is attached.\n</cde:attachment>\n\n\nThis event sent from IssueTracker by jkachuck  [IBM-LTC]\n issue 1223653",
          "author": "tao@redhat.com",
          "creation_time": "20100805T20:07:31",
          "bug_id": "621691",
          "creator_id": "80926",
          "time": "20100805T20:07:31",
          "id": "3060490",
          "is_private": "False"
        },
        {
          "count": "3",
          "attachment_id": "436967",
          "author": "jkachuck@redhat.com",
          "text": "Created attachment 436967\nsosreport-ITakiguchi.66108-20100805003618-b974.tar.xz",
          "creator": "jkachuck@redhat.com",
          "creation_time": "20100805T20:08:11",
          "bug_id": "621691",
          "creator_id": "174484",
          "time": "20100805T20:08:11",
          "id": "3060493",
          "is_private": "False"
        },
        {
          "count": "4",
          "attachment_id": "436968",
          "author": "jkachuck@redhat.com",
          "text": "Created attachment 436968\nopenssh-5.3p1-x11.patch",
          "creator": "jkachuck@redhat.com",
          "creation_time": "20100805T20:08:34",
          "bug_id": "621691",
          "creator_id": "174484",
          "time": "20100805T20:08:34",
          "id": "3060495",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "pm-rhel@redhat.com",
          "text": "This bugzilla has Keywords: Regression or TestBlocker.\n\nSince no regressions or test blockers are allowed between releases,\nit is also being [proposed|marked] as a blocker for this release.\n\nPlease resolve ASAP.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20100805T20:21:20",
          "bug_id": "621691",
          "creator_id": "193983",
          "time": "20100805T20:21:20",
          "id": "3060518",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "jchadima@redhat.com",
          "text": "I'm not able to reproduce this bug. \nUsing openssh-5.3p1-19.el6.i686, xorg-x11-server-Xorg-1.7.7-23.el6.i686, \nRHEL 6 Workstation up to date, \ngoing step by step\naccording to comment#1 \nI've tried all possible combinations of fips/selinux but in all cases the X client is working well.\nAre there any specific clue which can help to reproduce this bug?",
          "author": "jchadima@redhat.com",
          "creation_time": "20100805T22:49:59",
          "bug_id": "621691",
          "creator_id": "276623",
          "time": "20100805T22:49:59",
          "id": "3060800",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "jchadima@redhat.com",
          "text": "Is there any logs in lastlog, any selinux denials?",
          "author": "jchadima@redhat.com",
          "creation_time": "20100811T08:44:24",
          "bug_id": "621691",
          "creator_id": "276623",
          "time": "20100811T08:44:24",
          "id": "3072288",
          "is_private": "False"
        },
        {
          "count": "8",
          "creator": "tao@redhat.com",
          "text": "Event posted on 1281522109 EDT by Glen Johnson\n\n------- Comment From takiguc@jp.ibm.com 2010-08-11 06:15 EDT-------\n> These changes made by jchadima@redhat.com.\n> Bugzilla comment added:\n> Is there any logs in lastlog, any selinux denials?\nI'm using RHEL6 i386 snapshot 9.\nlastlog is updated by ''ssh -Y xxxx''.\nFor selinux, I could recreate this problem selinux enforing and disabled.\n\n\nThis event sent from IssueTracker by Glen Johnson \n issue 1223653",
          "author": "tao@redhat.com",
          "creation_time": "20100811T10:21:51",
          "bug_id": "621691",
          "creator_id": "80926",
          "time": "20100811T10:21:51",
          "id": "3072503",
          "is_private": "False"
        },
        {
          "count": "9",
          "creator": "jchadima@redhat.com",
          "text": "And any other info /var/log/messages /var/log/secure?",
          "author": "jchadima@redhat.com",
          "creation_time": "20100811T19:16:30",
          "bug_id": "621691",
          "creator_id": "276623",
          "time": "20100811T19:16:30",
          "id": "3074024",
          "is_private": "False"
        },
        {
          "count": "10",
          "creator": "tmraz@redhat.com",
          "text": "Adam, do you have any idea why the connect to the abstract socket might fail with ECONNREFUSED even if the regular socket is available?",
          "author": "tmraz@redhat.com",
          "creation_time": "20100811T21:02:16",
          "bug_id": "621691",
          "creator_id": "167996",
          "time": "20100811T21:02:16",
          "id": "3074320",
          "is_private": "False"
        },
        {
          "count": "11",
          "creator": "ajax@redhat.com",
          "text": "The only thing I can think of is if the X server isn't actually listening on that socket.  Which would be... pretty unlikely, but not impossible.\n\nReporter, what's the output from 'netstat -an --unix | grep LISTEN.*X11' ?",
          "author": "ajax@redhat.com",
          "creation_time": "20100811T21:48:19",
          "bug_id": "621691",
          "creator_id": "191191",
          "time": "20100811T21:48:19",
          "id": "3074406",
          "is_private": "False"
        },
        {
          "count": "12",
          "creator": "tao@redhat.com",
          "text": "Event posted on 1281577924 EDT by Glen Johnson\n\n------- Comment From takiguc@jp.ibm.com 2010-08-11 21:46 EDT-------\n> And any other info /var/log/messages /var/log/secure?\nNo update is found on /var/log/messages\n\n# cat /var/log/secure\n......\nAug 12 10:36:45 xxxxxx sshd[4821]: Accepted password for xxxxxx from\n127.0.0.1 port 46572 ssh2\nAug 12 10:36:45 xxxxxx sshd[4821]: pam_unix(sshd:session): session opened\nfor user xxxxxx by (uid=0)\nAug 12 10:37:22 xxxxxx sshd[4825]: Received disconnect from 127.0.0.1: 11:\ndisconnected by user\nAug 12 10:37:22 xxxxxx sshd[4821]: pam_unix(sshd:session): session closed\nfor user xxxxxx\n\n> Reporter, what's the output from 'netstat -an --unix | grep\nLISTEN.*X11' ?\n# netstat -an --unix | grep LISTEN.*X11\nunix  2      [ ACC ]     STREAM     LISTENING     10510  /tmp/.X11-unix/X0\nunix  2      [ ACC ]     STREAM     LISTENING     10509 \n@/tmp/.X11-unix/X0\n\n\nThis event sent from IssueTracker by Glen Johnson \n issue 1223653",
          "author": "tao@redhat.com",
          "creation_time": "20100812T01:52:05",
          "bug_id": "621691",
          "creator_id": "80926",
          "time": "20100812T01:52:05",
          "id": "3074854",
          "is_private": "False"
        },
        {
          "count": "13",
          "creator": "jchadima@redhat.com",
          "text": "the problem was caused by the abstract socket name length.",
          "author": "jchadima@redhat.com",
          "creation_time": "20100812T13:38:11",
          "bug_id": "621691",
          "creator_id": "276623",
          "time": "20100812T13:38:11",
          "id": "3075973",
          "is_private": "False"
        },
        {
          "count": "14",
          "creator": "tao@redhat.com",
          "text": "Event posted on 1281939935 EDT by Glen Johnson\n\n------- Comment From  2010-08-16 02:17 EDT-------\nRedhat,\n\nIn which snapshot of RHEL6, can we expect the fix?\n\nThanks\nMuni\n\n\nThis event sent from IssueTracker by Glen Johnson \n issue 1223653",
          "author": "tao@redhat.com",
          "creation_time": "20100816T06:25:36",
          "bug_id": "621691",
          "creator_id": "80926",
          "time": "20100816T06:25:36",
          "id": "3082290",
          "is_private": "False"
        },
        {
          "count": "15",
          "creator": "tmraz@redhat.com",
          "text": "Snapshot 12",
          "author": "tmraz@redhat.com",
          "creation_time": "20100816T07:51:19",
          "bug_id": "621691",
          "creator_id": "167996",
          "time": "20100816T07:51:19",
          "id": "3082415",
          "is_private": "False"
        },
        {
          "count": "16",
          "creator": "releng-rhel@redhat.com",
          "text": "Fixed in 'openssh-5.3p1-20.el6', included in compose 'RHEL6.0-20100818.0'.\nMoving to ON_QA.",
          "author": "releng-rhel@redhat.com",
          "creation_time": "20100819T00:45:39",
          "bug_id": "621691",
          "creator_id": "286012",
          "time": "20100819T00:45:39",
          "id": "3090314",
          "is_private": "True"
        },
        {
          "count": "17",
          "creator": "ebenes@redhat.com",
          "text": "Moving to VERIFIED, tested on i386, x86_64, ppc, s390x.\nAdded manual test case to general openssh TCMS test plan:\n  https://tcms.engineering.redhat.com/case/56494/?from_plan=2246\n\n== OLD ==\n# rpm -q openssh\nopenssh-5.3p1-19.el6.x86_64\n\n$ ssh -Y root@localhost\nroot@localhost's password: \nLast login: Wed Aug  4 19:52:55 2010\n\n# xlsclients \nconnect : Connection refused\ngodot.brq.redhat.com  gnome-session\ngodot.brq.redhat.com  gnome-settings-daemon\n ...\n\n== NEW ==\n\n# rpm -q openssh\nopenssh-5.3p1-20.el6.x86_64\n\n# xlsclients \ngodot.brq.redhat.com  gnome-session\ngodot.brq.redhat.com  gnome-settings-daemon\ngodot.brq.redhat.com  seahorse-daemon\n ...\n\n# ausearch -m avc -ts today\n<no matches>",
          "author": "ebenes@redhat.com",
          "creation_time": "20100819T12:48:09",
          "bug_id": "621691",
          "creator_id": "203333",
          "time": "20100819T12:48:09",
          "id": "3091605",
          "is_private": "True"
        },
        {
          "count": "18",
          "creator": "tao@redhat.com",
          "text": "Event posted on 1282623717 EDT by Glen Johnson\n\n------- Comment From takiguc@jp.ibm.com 2010-08-24 00:10 EDT-------\nI tested openssh-5.3p1-20.el6 on RHEL6.0-20100818.0 i386/x86_64/ppc64.\nUnexpected message is gone.\nMany thanks.\n\n\nThis event sent from IssueTracker by Glen Johnson \n issue 1223653",
          "author": "tao@redhat.com",
          "creation_time": "20100824T04:21:58",
          "bug_id": "621691",
          "creator_id": "80926",
          "time": "20100824T04:21:58",
          "id": "3100727",
          "is_private": "False"
        },
        {
          "count": "19",
          "creator": "releng-rhel@redhat.com",
          "text": "Red Hat Enterprise Linux 6.0 is now available and should resolve\nthe problem described in this bug report. This report is therefore being closed\nwith a resolution of CURRENTRELEASE. You may reopen this bug report if the\nsolution does not work for you.",
          "author": "releng-rhel@redhat.com",
          "creation_time": "20101110T21:17:07",
          "bug_id": "621691",
          "creator_id": "286012",
          "time": "20101110T21:17:07",
          "id": "3297346",
          "is_private": "False"
        },
        {
          "count": "20",
          "creator": "tao@redhat.com",
          "text": "Event posted on 11-15-2010 01:20pm EST by jkachuck\n\nHello,\nPer the last update I am closing this issue.\n\nThank You\nJoe Kachuck\n\nInternal Status set to 'Resolved'\nStatus set to: Closed by Tech\nResolution set to: 'RHEL 6.0'\n\nThis event sent from IssueTracker by jkachuck \n issue 1223653",
          "author": "tao@redhat.com",
          "creation_time": "20101115T18:20:38",
          "bug_id": "621691",
          "creator_id": "80926",
          "time": "20101115T18:20:38",
          "id": "3310462",
          "is_private": "True"
        },
        {
          "count": "21",
          "creator": "ksrot@redhat.com",
          "text": "@QE:\nHi Lukas, please create (manual/automated) TCMS TC for this bug so it can be included into the plan #11511.",
          "author": "ksrot@redhat.com",
          "creation_time": "20131104T13:16:11",
          "bug_id": "621691",
          "creator_id": "286283",
          "time": "20131104T13:16:11",
          "id": "6483962",
          "is_private": "True"
        },
        {
          "count": "22",
          "creator": "lnovy@redhat.com",
          "text": "Test case from comment #17 added to TP#11511",
          "author": "lnovy@redhat.com",
          "creation_time": "20131105T13:25:11",
          "bug_id": "621691",
          "creator_id": "344083",
          "time": "20131105T13:25:11",
          "id": "6488270",
          "is_private": "True"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.0"
      ],
      "cc": [
        "ajax@redhat.com",
        "ddumas@redhat.com",
        "jkachuck@redhat.com",
        "lnovy@redhat.com",
        "sgrubb@redhat.com",
        "tao@redhat.com",
        "tmraz@redhat.com"
      ],
      "cf_verified": [
        "Any"
      ],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "ebenes@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "devel",
        "ibmconf",
        "qa",
        "rhn",
        "support"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "ptam",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "Snapshot 12",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "'connect : Connection refused' error on SSH X11Forwading",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.0.0",
          "modification_date": "20100812T13:49:09",
          "type_id": "62",
          "is_active": "0",
          "creation_date": "20100805T20:09:02",
          "id": "660990",
          "setter": "lsmid@redhat.com"
        },
        {
          "status": "+",
          "name": "blocker",
          "modification_date": "20100812T13:49:09",
          "type_id": "24",
          "is_active": "1",
          "creation_date": "20100805T20:21:17",
          "id": "660998",
          "setter": "lsmid@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20100812T13:49:09",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20100805T20:09:02",
          "id": "660991",
          "setter": "lsmid@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20100812T13:43:30",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20100805T20:09:02",
          "id": "660992",
          "setter": "sgrubb@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20100812T13:35:26",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20100805T20:09:02",
          "id": "660993",
          "setter": "ohudlick@redhat.com"
        }
      ],
      "last_change_time": "20131105T13:25:11",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509322-CAZc5XhfFMlretzXMq8Ncthf6-T5qI2geMT5-G5_z3k",
      "cf_partner": [
        "IBM"
      ],
      "cf_last_closed": "20101110T21:17:07",
      "resolution": "CURRENTRELEASE",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [
        "576765",
        "629274"
      ],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20100908T10:28:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "ZStream"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "631757",
      "cf_release_notes": "If a user has a .bashrc which outputs to stderr, the user will be unable to\r\nsftp into their account. From the users point of view, once they successfully\r\nauthenticate, the sftp session is immediately terminated.",
      "priority": "urgent",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-21.el6",
      "creator": "mvadkert@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "mvadkert@redhat.com",
          "text": "+++ This bug was initially created as a clone of Bug #576765 +++\n\nEscalated to Bugzilla from IssueTracker\n\n--- Additional comment from tao@redhat.com on 2010-03-25 00:36:29 EDT ---\n\nEvent posted on 03-25-2010 11:19am EST by rmitchel\n\nIf a user has a .bashrc which outputs to stderr, the user will be unable to sftp into their account. From the users point of view, once they successfully authenticate, the sftp session is immediately terminated.\n\nThis bug was introduced in the patch referenced in RHBA-2009:1668 (Bugs 530358 and 537348), released in openssh-server-4.3p2-36.el5_4.3\n\nThe patch referenced in RHBA-2009:1668 is pretty simple, and just:\n\n--- session.c.orig 2009-10-21 17:22:37.000000000 +0200\n+++ session.c 2009-10-21 17:23:41.000000000 +0200\n@@ -507,6 +507,10 @@\n*/\nif (compat20) {\nsession_set_fds(s, inout[1], inout[1], s->is_subsystem ? -1 : err[1]);\n+ /* close err[1] to not leak the socket if this inside a subsystem */\n+ if (s->is_subsystem) {\n+ close(err[1]);\n+ }\n} else {\nserver_loop(pid, inout[1], inout[1], err[1]);\n/* server_loop has closed inout[1] and err[1]. */\n\nUnfortunately by closing the stderr fd on the server-side for sftp channels, any writes to this fd from the sftp helper (i.e. a command in .bashrc generating output to stderr) will generate an error, and lead to the sftp session to be closed abruptly.\nThis event sent from IssueTracker by jnansi  [Support Engineering Group]\n issue 680883\n\n--- Additional comment from tao@redhat.com on 2010-03-25 00:36:31 EDT ---\n\nEvent posted on 03-25-2010 11:32am EST by rmitchel\n\nhere are the steps to reproduce the problem:\n\na) As a user on the RH server, get .bashrc to generate output to stderr.\nFor example, append the following line to .bashrc:\n\n       echo this is stderr 1>&2\n\nb) use sftp to connect to the RH server as that user, and login\n\nThe expected behavior is for the sftp client to be able to browse and\nsend/receive files via sftp.  The behaviour seen however is that the sftp\nconnection is dropped immediately after authentication.\n\nrmitchel assigned to issue for GSS-APAC Australia/New Zealand Support.\nStatus set to: Waiting on Tech\nPriority set to: 5\n\nThis event sent from IssueTracker by jnansi  [Support Engineering Group]\n issue 680883\n\n--- Additional comment from tao@redhat.com on 2010-03-25 00:36:32 EDT ---\n\nEvent posted on 03-25-2010 11:58am EST by rmitchel\n\n> SEG Escalation Template\n> \n> All Issues: Problem Description\n> ---------------------------------------------------\n> 1. Time and date of problem:\nFrontline case raised March 23 2010\n\n> 2. System architecture(s):\n- Red Hat Enterprise Linux 5.4 server\n- 2.6.18-164.10.1.el5 x86_64\n- openssh-4.3p2-36.el5_4.3-x86_64\n\n> 3. Provide a clear and concise problem description as it is understood\nat the\n>    time of escalation. Please be as specific as possible in your\ndescription.\n>    Do not use the generic term ''hang'', as that can mean many things.\n>    Observed behavior:\nWhen a .bashrc or environment setting attempts to use stderr at login with\nsftp, the sessions is terminated abbruptly.\n\n>    Desired behavior:\nCan log into sftp on the server with command accessing stderr and not be\nimmediately disconnected.\n\n> 4. Specific action requested of SEG:\nPlease determine if this is a regression, and if so please explain how we\ncan fix this problem so that the sftp session is not closed by attempting\nto accessing stderr when logging in with sftp.\n\n> 5. Is a defect (bug) in the product suspected? yes/no\nyes\n\n>    Bugzilla number (if one already exists):\nNo bugzilla for this actual problem.  The bugzilla that caused the\nregression is:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=530358\n\n> 6. Does a proposed patch exist? yes/no\n>    If yes, attach patch, making sure it is in unified diff format (diff\n> -pruN)\nNo patch proposed.\n\n> 7. What is the impact to the customer when they experience this\nproblem?\n>    This is especially important for severity one and two issues:\n>    Example: ''This system houses our accounts payable database. When\nthe\n> system\n>    crashes we are unable to process payroll, and other payable\nfunctions.\n> This\n>    is especially critical as we approach end of our quarter.''\nCustomer is unable to use any commands in login scripts that access stderr\nas part of the script.\n\n> All Issues: Supporting Information\n> ------------------------------------------------------\n> 1. Other actions already taken in working the problem (tech-list\nposting,\n> google\n>    searches, fulltext search, consultation with another engineer,\netc.):\n>    Relevant data found (if any):\nNo other data provided.\n\n> 2. Attach sosreport.\nAttached sosreport-DBasden.2005720-39520-697792.tar.bz2\n\n> 3. Attach other supporting data (if any).\nPlease see additional notes in IT.\n\n> 4. Provide issue reproduction information, including location and access\nof\n>    reproducer machine, if available.\n>    Location and access information for reproducer machine:\n>    Steps to reproduce the problem:\n>       or\n>    Ticket update containing steps to reproduce the problem:\na) As a user on the RH server, get .bashrc to generate output to stderr.\nFor example, append the following line to .bashrc:\n      echo this is stderr 1>&2\n\nb) use sftp to connect to the RH server as that user, and login\n\nThe expected behavior is for the sftp client to be able to browse and\nsend/receive files via sftp.  The behavior seen however is that the sftp\nconnection is dropped immediately after authentication.\n\n> 5. Known hot-fix packages on the system:\nNone known at this time.\n\n> 6. Customer applied changes from the last 30 days:\nNone known.  It appears openssh was updated over 30 days ago.\n\n> Regressions\n> -----------\n> 1. Last known working version (specific name-version-release) of the\npackage:\nopenssh-4.3p2-36.el5_4.2\n\n> 2. Specific name-version-release of the package where the customer\ndiscovered\n>    the regression:\nopenssh-4.3p2-36.el5_4.3\n\n> 3. Difference in the changelog between the two versions (do not provide\nthe\n>    entire changelog contents). Run rpm -qp [packagename] --changelog to\nget\n> the\n>    information from each package, then paste or attach the differences:\nDiff'd Changelog provided:\n\n##### 20091201 :\n- close error file descriptor before running external subsystem (#537348)\n\n\n> 4. Have you been able to narrow the regression down to a specific\nversion?\n>    yes/no\nYes\n\n>    If yes, provide the version:\nopenssh-4.3p2-36.el5_4.3\nhttps://rhn.redhat.com/errata/RHBA-2009-1668.html\n\n> 5. Have you been able to narrow the regression down to a specific patch\n>    committed? yes/no\nYes\n\n>    If yes, provide the version\n--- session.c.orig 2009-10-21 17:22:37.000000000 +0200\n+++ session.c 2009-10-21 17:23:41.000000000 +0200\n@@ -507,6 +507,10 @@\n*/\nif (compat20) {\nsession_set_fds(s, inout[1], inout[1], s->is_subsystem ? -1 : err[1]);\n+ /* close err[1] to not leak the socket if this inside a subsystem */\n+ if (s->is_subsystem) {\n+ close(err[1]);\n+ }\n} else {\nserver_loop(pid, inout[1], inout[1], err[1]);\n/* server_loop has closed inout[1] and err[1]. */\n\n> 6. Provide the exact steps to reproduce the regression so\nSEG/engineering can\n>    narrow down where the regression was introduced if not already known\n> and/or\n>    analyse how the regression is occurring.\na) As a user on the RH server, get .bashrc to generate output to stderr.\nFor example, append the following line to .bashrc:\n      echo this is stderr 1>&2\n\nb) use sftp to connect to the RH server as that user, and login\n\nThe expected behavior is for the sftp client to be able to browse and\nsend/receive files via sftp.  The behaviour seen however is that the sftp\nconnection is dropped immediately after authentication.\n\n\nIssue escalated to Support Engineering Group by: rmitchel.\nInternal Status set to 'Waiting on SEG'\n\nThis event sent from IssueTracker by jnansi  [Support Engineering Group]\n issue 680883\n\n--- Additional comment from pm-rhel@redhat.com on 2010-03-25 01:06:28 EDT ---\n\nThis bugzilla has Keywords: Regression or TestBlocker.\n\nSince no regressions or test blockers are allowed between releases,\nit is also being [proposed|marked] as a blocker for this release.\n\nPlease resolve ASAP.\n\n--- Additional comment from jchadima@redhat.com on 2010-05-13 04:25:49 EDT ---\n\nThe upstream has solved this bug.\n\n--- Additional comment from jchadima@redhat.com on 2010-05-17 13:09:39 EDT ---\n\n*** Bug 556634 has been marked as a duplicate of this bug. ***\n\n--- Additional comment from jchadima@redhat.com on 2010-05-17 13:10:51 EDT ---\n\n*** Bug 585968 has been marked as a duplicate of this bug. ***\n\n--- Additional comment from sgrubb@redhat.com on 2010-05-17 13:38:35 EDT ---\n\nThis might be z-stream worthy, too.\n\n--- Additional comment from mvadkert@redhat.com on 2010-06-07 05:34:12 EDT ---\n\nQA_ACK+, added RHTS keyword. Please see Comment #2 for reproducer.\n\n--- Additional comment from errata-xmlrpc@redhat.com on 2010-06-29 09:35:38 EDT ---\n\nBug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2010:9721-02\nhttp://errata.devel.redhat.com/errata/show/9721\n\n--- Additional comment from errata-xmlrpc@redhat.com on 2010-06-29 09:35:38 EDT ---\n\nBug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2010:9721-02\nhttp://errata.devel.redhat.com/errata/show/9721\n\n--- Additional comment from jhradile@redhat.com on 2010-07-12 05:08:25 EDT ---\n\n\nTechnical note added. If any revisions are required, please edit the ''Technical Notes'' field\naccordingly. All revisions will be proofread by the Engineering Content Services team.\n\nNew Contents:\nWhen the ~/.bashrc startup file contained a command that produced an output to standard error (STDERR), the sftp utility was unable to log in to that account. This bug has been fixed, and the output to STDERR no longer prevents sftp from establishing the connection.\n\n--- Additional comment from errata-xmlrpc@redhat.com on 2010-09-08 06:00:13 EDT ---\n\nBug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2010:9721-06: \nhttp://errata.devel.redhat.com/errata/stateview/9721\n\nVERIFIED as fixed in openssh-4.3p2-46.el5\nCreated RHTS test for this issue:\n/CoreOS/openssh/Regression/bz576765-sftp-fails-if-users-bashrc-outputs-to-stderr\n\nNEW PACKAGE openssh-4.3p2-46.el5\n:: [   PASS   ] :: Running './sftp.exp tester'\n:: [   LOG    ] :: Duration: 7s\n:: [   LOG    ] :: Assertions: 1 good, 0 bad\n:: [   PASS   ] :: RESULT: Test\n\nOLD PACKAGE openssh-4.3p2-41.el5\n:: [   FAIL   ] :: Running './sftp.exp tester' (Expected 0, got 1)\n:: [   LOG    ] :: Duration: 4s\n:: [   LOG    ] :: Assertions: 0 good, 1 bad\n:: [   FAIL   ] :: RESULT: Test",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100908T10:28:03",
          "bug_id": "631757",
          "creator_id": "271572",
          "time": "20100908T10:28:03",
          "id": "3135096",
          "is_private": "True"
        },
        {
          "count": "1",
          "creator": "mvadkert@redhat.com",
          "text": "This is a regression from RHEL5. Should qualify for 6.0.z",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100908T10:28:59",
          "bug_id": "631757",
          "creator_id": "271572",
          "time": "20100908T10:28:59",
          "id": "3135098",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "pm-rhel@redhat.com",
          "text": "This request has been proposed as an exception, but a release flag has\nnot been requested. Please set a release flag to ? to ensure we may\ntrack this bug against the appropriate upcoming release, and reset the\nexception flag to ?.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20100908T10:33:03",
          "bug_id": "631757",
          "creator_id": "193983",
          "time": "20100908T10:33:03",
          "id": "3135102",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20100908T10:42:22",
          "bug_id": "631757",
          "creator_id": "193983",
          "time": "20100908T10:42:22",
          "id": "3135113",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "pm-rhel@redhat.com",
          "text": "This bugzilla has Keywords: Regression or TestBlocker.\n\nSince no regressions or test blockers are allowed between releases,\nit is also being [proposed|marked] as a blocker for this release.\n\nPlease resolve ASAP.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20100908T10:51:25",
          "bug_id": "631757",
          "creator_id": "193983",
          "time": "20100908T10:51:25",
          "id": "3135126",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "jchadima@redhat.com",
          "text": "Does anybody test the behavior of the openssh in RHEL6? I'm not able to reproduce this bug. Maybe it's solved in upstream between versions 4.3p2 and 5.3p1.",
          "author": "jchadima@redhat.com",
          "creation_time": "20100908T11:58:29",
          "bug_id": "631757",
          "creator_id": "276623",
          "time": "20100908T11:58:29",
          "id": "3135251",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "mvadkert@redhat.com",
          "text": "Of course I'm testing on RHEL6. I get connection closed with the latest package.\n\n# sftp tester@localhost\nConnecting to localhost...\ntester@localhost's password: \nConnection closed\n# rpm -q openssh\nopenssh-5.3p1-20.el6.x86_64\n# cat ~tester/.bashrc | grep echo\necho this is stderr 1>&2",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100908T12:16:22",
          "bug_id": "631757",
          "creator_id": "271572",
          "time": "20100908T12:16:22",
          "id": "3135292",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "jchadima@redhat.com",
          "text": "Sorry, you are true, ... confirmed",
          "author": "jchadima@redhat.com",
          "creation_time": "20100914T07:53:19",
          "bug_id": "631757",
          "creator_id": "276623",
          "time": "20100914T07:53:19",
          "id": "3148164",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "mvadkert@redhat.com",
          "text": "This bug should qualify for zero day errata",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100914T08:48:11",
          "bug_id": "631757",
          "creator_id": "271572",
          "time": "20100914T08:48:11",
          "id": "3148267",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "ddumas@redhat.com",
          "text": "\n    Technical note added. If any revisions are required, please edit the ''Technical Notes'' field\n    accordingly. All revisions will be proofread by the Engineering Content Services team.\n    \n    New Contents:\nIf a user has a .bashrc which outputs to stderr, the user will be unable to\nsftp into their account. From the users point of view, once they successfully\nauthenticate, the sftp session is immediately terminated.",
          "author": "ddumas@redhat.com",
          "creation_time": "20100916T15:40:43",
          "bug_id": "631757",
          "creator_id": "261745",
          "time": "20100916T15:40:43",
          "id": "3155813",
          "is_private": "False"
        },
        {
          "count": "10",
          "creator": "pm-rhel@redhat.com",
          "text": "Since the release flag was set to ? after the qa_ack flag was set to + (was likely set for the previous release), the qa_ack flag has been reset to ? by the bugbot (pm-rhel). This action ensures the proper review by Product Management.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20100920T12:38:32",
          "bug_id": "631757",
          "creator_id": "193983",
          "time": "20100920T12:38:32",
          "id": "3162104",
          "is_private": "True"
        },
        {
          "count": "11",
          "creator": "rlerch@redhat.com",
          "text": "Added this Known Issue to the 6.0 GA Technical Notes.\n\nhttp://documentation-stage.bne.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Technical_Notes/deployment.html\n\nIf this note is incorrect, or needs to be changed, please edit the Technical Notes field above, and set the technical_notes flag to '?'\t\n\ncheers,\nryanlerch",
          "author": "rlerch@redhat.com",
          "creation_time": "20101104T04:08:58",
          "bug_id": "631757",
          "creator_id": "268377",
          "time": "20101104T04:08:58",
          "id": "3263006",
          "is_private": "True"
        },
        {
          "count": "12",
          "creator": "ebenes@redhat.com",
          "text": "QA_ACK+ for 6.0.z",
          "author": "ebenes@redhat.com",
          "creation_time": "20101108T13:11:36",
          "bug_id": "631757",
          "creator_id": "203333",
          "time": "20101108T13:11:36",
          "id": "3275209",
          "is_private": "True"
        },
        {
          "count": "13",
          "creator": "jwest@redhat.com",
          "text": "I discussed this with Steve and agree that this would be a good candidate for zstream since it's a regression introduced by us and something that could affect customers who use sftp for custom applications.\n\n--jwest",
          "author": "jwest@redhat.com",
          "creation_time": "20101109T17:53:55",
          "bug_id": "631757",
          "creator_id": "194553",
          "time": "20101109T17:53:55",
          "id": "3291850",
          "is_private": "True"
        },
        {
          "count": "14",
          "creator": "pm-rhel@redhat.com",
          "text": "This bug has been copied as 6.0 z-stream (EUS) bug #651820 and now must be\nresolved in the current update release, set blocker flag.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20101110T11:36:55",
          "bug_id": "631757",
          "creator_id": "193983",
          "time": "20101110T11:36:55",
          "id": "3293915",
          "is_private": "True"
        },
        {
          "count": "15",
          "attachment_id": "460490",
          "author": "jchadima@redhat.com",
          "text": "Created attachment 460490\nproposed patch",
          "creator": "jchadima@redhat.com",
          "creation_time": "20101115T07:31:01",
          "bug_id": "631757",
          "creator_id": "276623",
          "time": "20101115T07:31:01",
          "id": "3307646",
          "is_private": "False"
        },
        {
          "count": "16",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2011:10529-13\nhttp://errata.devel.redhat.com/errata/show/10529",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110114T14:22:50",
          "bug_id": "631757",
          "creator_id": "241731",
          "time": "20110114T14:22:50",
          "id": "3479407",
          "is_private": "True"
        },
        {
          "count": "17",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2011:10529-18: \nhttp://errata.devel.redhat.com/errata/stateview/10529\n\nVERIFIED as fixed in openssh-5.3p1-42.el6. Now sftp works without issues also when .bashrc outputs to stderr.\n\nNEW PACKAGE openssh-5.3p1-42.el6\n:: [   PASS   ] :: Running './sftp.exp tester'\n:: [   PASS   ] :: RESULT: Test\n\nOLD PACKAGE openssh-5.3p1-20.el6\n:: [   FAIL   ] :: Running './sftp.exp tester' (Expected 0, got 1)\n:: [   FAIL   ] :: RESULT: Test",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110304T06:27:56",
          "bug_id": "631757",
          "creator_id": "241731",
          "time": "20110304T06:27:56",
          "id": "3572809",
          "is_private": "True"
        },
        {
          "count": "18",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "An advisory has been issued which should help the problem\ndescribed in this bug report. This report is therefore being\nclosed with a resolution of ERRATA. For more information\non therefore solution and/or where to find the updated files,\nplease follow the link below. You may reopen this bug report\nif the solution does not work for you.\n\nhttp://rhn.redhat.com/errata/RHBA-2011-0598.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110519T13:30:21",
          "bug_id": "631757",
          "creator_id": "241731",
          "time": "20110519T13:30:21",
          "id": "3745794",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.0"
      ],
      "cc": [
        "cdahlin@redhat.com",
        "ddumas@redhat.com",
        "ebenes@redhat.com",
        "jnansi@redhat.com",
        "jwest@redhat.com",
        "mvadkert@redhat.com",
        "sgrubb@redhat.com",
        "tao@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "651820"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "576765",
      "groups": [
        "devel",
        "qa",
        "rhn",
        "support"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "GSSApproved",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "sftp fails if users .bashrc outputs to stderr",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.1.0",
          "modification_date": "20101108T13:24:55",
          "type_id": "202",
          "is_active": "0",
          "creation_date": "20100908T10:42:19",
          "id": "675612",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "blocker",
          "modification_date": "20101108T13:24:55",
          "type_id": "24",
          "is_active": "1",
          "creation_date": "20100908T10:51:23",
          "id": "675617",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20101104T04:03:27",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20100908T10:28:03",
          "id": "675604",
          "setter": "syeghiay@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20100908T12:41:26",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20100908T10:28:03",
          "id": "675605",
          "setter": "sgrubb@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20101108T13:16:14",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20100908T10:28:03",
          "id": "675606",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20110519T13:30:21",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509322-W5j4BlGsKs_Vm5mjV9fruZB9tw7niYmggSpLHMR-ovU",
      "cf_partner": [],
      "cf_last_closed": "20110519T13:30:21",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [
        "645389"
      ],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20101025T04:14:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "ZStream"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "646286",
      "cf_release_notes": "",
      "priority": "urgent",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-33.el6",
      "creator": "jchadima@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "jchadima@redhat.com",
          "text": "+++ This bug was initially created as a clone of Bug #645389 +++\n\nDescription of problem:\nThe openssh-5.[3456]p1-gsskex.patch says:\n\n@@ -268,6 +321,10 @@ static char *authmethods_get(void);\n \n Authmethod authmethods[] = {\n #ifdef GSSAPI\n+\t{''gssapi-keyex'',\n+\t\tuserauth_gsskeyex,\n+\t\t&options.gss_authentication,\n+\t\tNULL},\n \t{''gssapi-with-mic'',\n \t\tuserauth_gssapi,\n \t\tNULL,\n\nHowever, there should be an additional NULL in the record:\n\n@@ -268,6 +321,11 @@ static char *authmethods_get(void);\n \n Authmethod authmethods[] = {\n #ifdef GSSAPI\n+\t{''gssapi-keyex'',\n+\t\tuserauth_gsskeyex,\n+ \t\tNULL,\n+\t\t&options.gss_authentication,\n+\t\tNULL},\n \t{''gssapi-with-mic'',\n \t\tuserauth_gssapi,\n \t\tNULL,\n\nVersion-Release number of selected component (if applicable):\n\nopenssh-5.6p1-10.fc15\nopenssh-5.5p1-21.fc14.2\nopenssh-5.4p1-3.fc13\nopenssh-5.3p1-19.fc12\n\nAdditional info:\n\nThe koji buildlog says:\n\nsshconnect2.c:326:3: warning: initialization from incompatible pointer type\n\n--- Additional comment from jchadima@redhat.com on 2010-10-22 11:02:30 EDT ---\n\nconfirmed, repaired\n\n--- Additional comment from updates@fedoraproject.org on 2010-10-22 11:06:02 EDT ---\n\nopenssh-5.4p1-4.fc13 has been submitted as an update for Fedora 13.\nhttps://admin.fedoraproject.org/updates/openssh-5.4p1-4.fc13\n\n--- Additional comment from updates@fedoraproject.org on 2010-10-22 11:07:00 EDT ---\n\nopenssh-5.5p1-22.fc14.2 has been submitted as an update for Fedora 14.\nhttps://admin.fedoraproject.org/updates/openssh-5.5p1-22.fc14.2",
          "author": "jchadima@redhat.com",
          "creation_time": "20101025T04:14:41",
          "bug_id": "646286",
          "creator_id": "276623",
          "time": "20101025T04:14:41",
          "id": "3233025",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20101025T04:32:11",
          "bug_id": "646286",
          "creator_id": "193983",
          "time": "20101025T04:32:11",
          "id": "3233041",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "pm-rhel@redhat.com",
          "text": "GSS has reviewed this bug and agreed that it also be should be\nincluded/released in one or more of the older still active and supported\nreleases (asynchronous Errata Advisory,Extended Update Support stream or\nin an Advanced Mission Critical Long Life stream).\n\nBlocker flag was set to ? and exception and fast flags were cleared.\nThis action ensures that this bugzilla will be included in the current\nrelease and the customer who receives this patch will not see a\nregression.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20101109T18:59:54",
          "bug_id": "646286",
          "creator_id": "193983",
          "time": "20101109T18:59:54",
          "id": "3292085",
          "is_private": "True"
        },
        {
          "count": "3",
          "attachment_id": "460822",
          "author": "jchadima@redhat.com",
          "text": "Created attachment 460822\nproposed solution",
          "creator": "jchadima@redhat.com",
          "creation_time": "20101116T12:01:31",
          "bug_id": "646286",
          "creator_id": "276623",
          "time": "20101116T12:01:31",
          "id": "3312430",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "ebenes@redhat.com",
          "text": "Jan, we need a reproducer and testing instructions for this bug before giving it a qa_ack. Could you please provide testing instructions? Testing for a warning message during a build does not seem to be an adequate testing.\n\nSo far, we didn't get any use-cases from devel so we can make sure the GSSAPI is working as expected. We are working with IPA QE to use their test coverage, but there are no guarantees it will work our case.\n\nWe have an openssh 6.0.z errata already for bug 651820. Once this bug gets all the zstream acks, it should be included there.",
          "author": "ebenes@redhat.com",
          "creation_time": "20101118T13:45:13",
          "bug_id": "646286",
          "creator_id": "203333",
          "time": "20101118T13:45:13",
          "id": "3358155",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "jchadima@redhat.com",
          "text": "The unpatched version has disorder on the pointers to the routines called during the authentization. So routines are called with inapropriate arguments in inapropriate ocasions.\n\nIt's easy to distinguish the buggy and correct versions. The buggy version repports a warning during compilation of the sshconnect2.c",
          "author": "jchadima@redhat.com",
          "creation_time": "20101118T14:02:01",
          "bug_id": "646286",
          "creator_id": "276623",
          "time": "20101118T14:02:01",
          "id": "3358219",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "ebenes@redhat.com",
          "text": "QA_ACK for 6.0.z\n\nFor bug verification we will go with the warning at build time. \nJan, please provide any required testing instructions in the errata. Thanks.",
          "author": "ebenes@redhat.com",
          "creation_time": "20101118T14:14:18",
          "bug_id": "646286",
          "creator_id": "203333",
          "time": "20101118T14:14:18",
          "id": "3358258",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "pm-rhel@redhat.com",
          "text": "This bug has been copied as 6.0 z-stream (EUS) bug #655043 and now must be\nresolved in the current update release, set blocker flag.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20101119T13:08:34",
          "bug_id": "646286",
          "creator_id": "193983",
          "time": "20101119T13:08:34",
          "id": "3360837",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "mvadkert@redhat.com",
          "text": "Jan, there are still warnings in the new version. \nIs this expected? \n\n# rpmbuild --rebuild ~/packages/openssh/5.3p1/20.el6_0.3/src/openssh-5.3p1-20.el6_0.3.src.rpm &> ~/new \n# rpmbuild --rebuild ~/packages/openssh/5.3p1/20.el6_0.2/src/openssh-5.3p1-20.el6_0.2.src.rpm &> ~/old \n# diff new old | grep warning \n> sshconnect2.c:320: warning: initialization from incompatible pointer type \n< sshconnect2.c:619: warning: assignment discards qualifiers from pointer target type \n< sshconnect2.c:621: warning: assignment discards qualifiers from pointer target type \n> sshconnect2.c:618: warning: assignment discards qualifiers from pointer target type \n> sshconnect2.c:620: warning: assignment discards qualifiers from pointer target type",
          "author": "mvadkert@redhat.com",
          "creation_time": "20101202T09:51:24",
          "bug_id": "646286",
          "creator_id": "271572",
          "time": "20101202T09:51:24",
          "id": "3388429",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "jchadima@redhat.com",
          "text": "(In reply to comment #8)\n> Jan, there are still warnings in the new version. \n> Is this expected? \n> \nyes these are expected",
          "author": "jchadima@redhat.com",
          "creation_time": "20101202T10:27:57",
          "bug_id": "646286",
          "creator_id": "276623",
          "time": "20101202T10:27:57",
          "id": "3388490",
          "is_private": "True"
        },
        {
          "count": "10",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2011:10529-03\nhttp://errata.devel.redhat.com/errata/show/10529",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110114T12:18:55",
          "bug_id": "646286",
          "creator_id": "241731",
          "time": "20110114T12:18:55",
          "id": "3478882",
          "is_private": "True"
        },
        {
          "count": "11",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2011:10529-18: \nhttp://errata.devel.redhat.com/errata/stateview/10529\n\nVERIFIED as fixed in openssh-5.3p1-20.el6_0.3.x86_64\n\nCompilation warning which caused the bug is gone:\n# diff new old | grep sshconnect2 | grep -v gcc\n> sshconnect2.c:320: warning: initialization from incompatible pointer type\n< sshconnect2.c:619: warning: assignment discards qualifiers from pointer target type\n< sshconnect2.c:621: warning: assignment discards qualifiers from pointer target type\n> sshconnect2.c:618: warning: assignment discards qualifiers from pointer target type\n> sshconnect2.c:620: warning: assignment discards qualifiers from pointer target type\n\nThe remaining compilation warnings (<) are expected according to comment #9\n\nThe upstream testsuite passes. More sanity checks will be executed during errata testplan runs. Moving to VERIFIED.",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110304T07:21:29",
          "bug_id": "646286",
          "creator_id": "241731",
          "time": "20110304T07:21:29",
          "id": "3572893",
          "is_private": "True"
        },
        {
          "count": "12",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "An advisory has been issued which should help the problem\ndescribed in this bug report. This report is therefore being\nclosed with a resolution of ERRATA. For more information\non therefore solution and/or where to find the updated files,\nplease follow the link below. You may reopen this bug report\nif the solution does not work for you.\n\nhttp://rhn.redhat.com/errata/RHBA-2011-0598.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110519T13:30:40",
          "bug_id": "646286",
          "creator_id": "241731",
          "time": "20110519T13:30:40",
          "id": "3745801",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.1"
      ],
      "cc": [
        "ebenes@redhat.com",
        "jchadima@redhat.com",
        "jwest@redhat.com",
        "mattias.ellert@fysast.uu.se",
        "mgrepl@redhat.com",
        "mvadkert@redhat.com",
        "sgrubb@redhat.com",
        "tmraz@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "655023",
        "655043"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "645389",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "GSSApproved",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "openssh-5.[3456]p1-gsskex.patch broken",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.1.0",
          "modification_date": "20101118T14:19:52",
          "type_id": "202",
          "is_active": "0",
          "creation_date": "20101025T04:32:09",
          "id": "699687",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "blocker",
          "modification_date": "20101118T14:19:52",
          "type_id": "24",
          "is_active": "1",
          "creation_date": "20101109T18:59:52",
          "id": "719505",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20101029T21:09:30",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20101025T04:45:48",
          "id": "699689",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20101109T18:22:19",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20101029T22:03:56",
          "id": "702825",
          "setter": "sgrubb@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20101118T14:14:18",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20101108T13:02:41",
          "id": "718506",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20110519T13:30:40",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509322-KkHZyoeQQHYHomr6500sn7A8X6dwNp2nlZiHWOIYEeo",
      "cf_partner": [],
      "cf_last_closed": "20110519T13:30:40",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [
        "631757"
      ],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20101110T11:36:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "ZStream"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "651820",
      "cf_release_notes": "When the ~/.bashrc startup file contained a command that produced an output to standard error (STDERR), the sftp utility was unable to log in to that account. This bug has been fixed, and the output to STDERR no longer prevents sftp from establishing the connection.",
      "priority": "urgent",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "pm-rhel@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "pm-rhel@redhat.com",
          "text": "This bug has been copied from bug #631757 and has been proposed\nto be backported to 6.0 z-stream (EUS).",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20101110T11:36:33",
          "bug_id": "651820",
          "creator_id": "193983",
          "time": "20101110T11:36:33",
          "id": "3293911",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Devel ack is needed to complete 3ACK process and approval.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20101110T11:36:40",
          "bug_id": "651820",
          "creator_id": "193983",
          "time": "20101110T11:36:40",
          "id": "3293912",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "pm-rhel@redhat.com",
          "text": "If you as an assigned engineer don't know what to do with the Z-stream bugzilla\nlook at the EUS mini HOWTO at:\n\n * Developer howto:\n http://intranet.corp.redhat.com/ic/intranet/ZStreamMiniHOWTOGenPackage.html\n\n * QE - EUS test guidelines:\n http://wiki.test.redhat.com/RhelQe/ZStreamEusTestGuidelines",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20101110T11:36:49",
          "bug_id": "651820",
          "creator_id": "193983",
          "time": "20101110T11:36:49",
          "id": "3293914",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "pm-rhel@redhat.com",
          "text": "GSS has reviewed this bug and agreed that it also be should be\nincluded/released in one or more of the older still active and supported\nreleases (asynchronous Errata Advisory,Extended Update Support stream or\nin an Advanced Mission Critical Long Life stream).\n\nBlocker flag was set to ? and exception and fast flags were cleared.\nThis action ensures that this bugzilla will be included in the current\nrelease and the customer who receives this patch will not see a\nregression.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20101110T11:40:27",
          "bug_id": "651820",
          "creator_id": "193983",
          "time": "20101110T11:40:27",
          "id": "3293923",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2010:10284-03\nhttp://errata.devel.redhat.com/errata/show/10284",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20101112T11:32:47",
          "bug_id": "651820",
          "creator_id": "241731",
          "time": "20101112T11:32:47",
          "id": "3304255",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "jhradile@redhat.com",
          "text": "\n    Technical note added. If any revisions are required, please edit the ''Technical Notes'' field\n    accordingly. All revisions will be proofread by the Engineering Content Services team.\n    \n    New Contents:\nWhen the ~/.bashrc startup file contained a command that produced an output to standard error (STDERR), the sftp utility was unable to log in to that account. This bug has been fixed, and the output to STDERR no longer prevents sftp from establishing the connection.",
          "author": "jhradile@redhat.com",
          "creation_time": "20101112T13:20:40",
          "bug_id": "651820",
          "creator_id": "298002",
          "time": "20101112T13:20:40",
          "id": "3304430",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2010:10284-04: \nhttp://errata.devel.redhat.com/errata/stateview/10284\n\nVERIFIED as fixed in openssh-server-5.3p1-20.el6_0.1 on all archs. \n\nNEW PACKAGE\n:: [   PASS   ] :: Running './sftp.exp tester'\n:: [   LOG    ] :: Duration: 8s\n:: [   LOG    ] :: Assertions: 1 good, 0 bad\n:: [   PASS   ] :: RESULT: Test\n\nOLD PACKAGE \n:: [   FAIL   ] :: Running './sftp.exp tester' (Expected 0, got 1)\n:: [   LOG    ] :: Duration: 7s\n:: [   LOG    ] :: Assertions: 0 good, 1 bad\n:: [   FAIL   ] :: RESULT: Test",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20101112T20:34:07",
          "bug_id": "651820",
          "creator_id": "241731",
          "time": "20101112T20:34:07",
          "id": "3305443",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from VERIFIED to ASSIGNED status by the Errata System: \nAdvisory RHBA-2010:10284-04: \nhttp://errata.devel.redhat.com/errata/stateview/10284\n\nMoving back to assigned, the fix has broken current openssh-5.3p1-20.el6_0.1\n\nOne of regression tests that fail:\n/CoreOS/openssh/security/CVE-2009-2904-ChrootDirectory-restrictions\n\nFail log:\n:: [07:30:59] :: [ INFO    ] :: sftp  -o StrictHostKeyChecking=no -o PasswordAuthentication=no tester@localhost\nConnecting to localhost...\nWarning: Permanently added 'localhost' (RSA) to the list of known hosts.\nsubsystem request failed on channel 0\nCouldn't read packet: Connection reset by peer\n\nRepro steps:\n1. Add to attached sshd_config\n2. Add tester user\n3. Create chroot dir\n/bin/mkdir /chroot\n/bin/mkdir /chroot/world\n/bin/chmod 777 /chroot/world\n/bin/mkdir -p /chroot/1/2/3/4/5\n/bin/chown tester:tester /chroot/1/2/3\n4. \n# sftp  -o StrictHostKeyChecking=no -o PasswordAuthentication=no tester@localhost\nConnecting to localhost...\nWarning: Permanently added 'localhost' (RSA) to the list of known hosts.\nsubsystem request failed on channel 0\nCouldn't read packet: Connection reset by peer\n\nThis test passes with previous openssh-5.3p1-20.el6",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20101114T12:36:36",
          "bug_id": "651820",
          "creator_id": "241731",
          "time": "20101114T12:36:36",
          "id": "3306700",
          "is_private": "True"
        },
        {
          "count": "8",
          "attachment_id": "460366",
          "author": "mvadkert@redhat.com",
          "text": "Created attachment 460366\nsshd_config from test for CVE-2009-2904",
          "creator": "mvadkert@redhat.com",
          "creation_time": "20101114T12:40:32",
          "bug_id": "651820",
          "creator_id": "271572",
          "time": "20101114T12:40:32",
          "id": "3306704",
          "is_private": "False"
        },
        {
          "count": "9",
          "creator": "mvadkert@redhat.com",
          "text": "Moving to ON_QA",
          "author": "mvadkert@redhat.com",
          "creation_time": "20101116T13:38:12",
          "bug_id": "651820",
          "creator_id": "271572",
          "time": "20101116T13:38:12",
          "id": "3312604",
          "is_private": "False"
        },
        {
          "count": "10",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to ASSIGNED status by the Errata System: \nAdvisory RHBA-2010:10284-04: \nhttp://errata.devel.redhat.com/errata/stateview/10284\n\nStill not fixed, moving to ASSIGNED:\n\n# rpm -q openssh\nopenssh-5.3p1-20.el6_0.2.x86_64\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test\n:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\nConnecting to localhost...\ntester@localhost's password: \nsubsystem request failed on channel 0\nCouldn't read packet: Connection reset by peer\nexpect: spawn id exp4 not open\n    while executing\n''expect eof''\n    (file ''./sftp.exp'' line 18)",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20101116T14:34:34",
          "bug_id": "651820",
          "creator_id": "241731",
          "time": "20101116T14:34:34",
          "id": "3312791",
          "is_private": "True"
        },
        {
          "count": "11",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from MODIFIED to ON_QA status by the Errata System: \nAdvisory RHBA-2010:10284-07: \nhttp://errata.devel.redhat.com/errata/stateview/10284\n\nMoving to ON_QA, new build added openssh-server-5.3p1-20.el6_0.3",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20101124T10:07:46",
          "bug_id": "651820",
          "creator_id": "241731",
          "time": "20101124T10:07:46",
          "id": "3371677",
          "is_private": "True"
        },
        {
          "count": "12",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2010:10284-07: \nhttp://errata.devel.redhat.com/errata/stateview/10284\n\nVERIFIED as fixed in openssh-5.3p1-20.el6_0.3\n\nNEW package openssh-5.3p1-20.el6_0.3\n:: [   PASS   ] :: Running './sftp.exp tester'\n:: [   PASS   ] :: RESULT: Test\n\nOLD package openssh-5.3p1-20.el6\n:: [   FAIL   ] :: Running './sftp.exp tester' (Expected 0, got 1)\n:: [   FAIL   ] :: RESULT: Test",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20101124T10:11:08",
          "bug_id": "651820",
          "creator_id": "241731",
          "time": "20101124T10:11:08",
          "id": "3371685",
          "is_private": "True"
        },
        {
          "count": "13",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to RELEASE_PENDING status by Errata System.\nAdvisory RHBA-2010:10284-07 has been changed to PUSH_READY status.\nhttp://errata.devel.redhat.com/errata/show/10284",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20101204T11:00:45",
          "bug_id": "651820",
          "creator_id": "241731",
          "time": "20101204T11:00:45",
          "id": "3403329",
          "is_private": "True"
        },
        {
          "count": "14",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "An advisory has been issued which should help the problem\ndescribed in this bug report. This report is therefore being\nclosed with a resolution of ERRATA. For more information\non therefore solution and/or where to find the updated files,\nplease follow the link below. You may reopen this bug report\nif the solution does not work for you.\n\nhttp://rhn.redhat.com/errata/RHBA-2010-0943.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20101206T08:26:46",
          "bug_id": "651820",
          "creator_id": "241731",
          "time": "20101206T08:26:46",
          "id": "3405649",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.0"
      ],
      "cc": [
        "cdahlin@redhat.com",
        "ddumas@redhat.com",
        "ebenes@redhat.com",
        "jchadima@redhat.com",
        "jnansi@redhat.com",
        "jwest@redhat.com",
        "mvadkert@redhat.com",
        "pm-eus@redhat.com",
        "sgrubb@redhat.com",
        "tao@redhat.com"
      ],
      "cf_verified": [
        "FailedQA"
      ],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "GSSApproved",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "sftp fails if users .bashrc outputs to stderr",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.0.z",
          "modification_date": "20101110T12:56:19",
          "type_id": "251",
          "is_active": "0",
          "creation_date": "20101110T11:36:37",
          "id": "719894",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "blocker",
          "modification_date": "20101110T12:56:19",
          "type_id": "24",
          "is_active": "1",
          "creation_date": "20101110T11:40:24",
          "id": "719902",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20101110T11:36:37",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20101110T11:36:37",
          "id": "719895",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20101110T12:42:23",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20101110T11:36:37",
          "id": "719896",
          "setter": "sgrubb@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20101110T11:36:37",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20101110T11:36:37",
          "id": "719897",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20101206T08:26:46",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509322-NF_C9pw_3YK_FnijxhQS0hYR1JHPb4_CtJgJQlJevzQ",
      "cf_partner": [],
      "cf_last_closed": "20101206T08:26:46",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [
        "645389",
        "646286"
      ],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20101119T11:36:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "ZStream"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "655023",
      "cf_release_notes": "",
      "priority": "urgent",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "jchadima@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "jchadima@redhat.com",
          "text": "+++ This bug was initially created as a clone of Bug #646286 +++\n\n+++ This bug was initially created as a clone of Bug #645389 +++\n\nDescription of problem:\nThe openssh-5.[3456]p1-gsskex.patch says:\n\n@@ -268,6 +321,10 @@ static char *authmethods_get(void);\n \n Authmethod authmethods[] = {\n #ifdef GSSAPI\n+\t{''gssapi-keyex'',\n+\t\tuserauth_gsskeyex,\n+\t\t&options.gss_authentication,\n+\t\tNULL},\n \t{''gssapi-with-mic'',\n \t\tuserauth_gssapi,\n \t\tNULL,\n\nHowever, there should be an additional NULL in the record:\n\n@@ -268,6 +321,11 @@ static char *authmethods_get(void);\n \n Authmethod authmethods[] = {\n #ifdef GSSAPI\n+\t{''gssapi-keyex'',\n+\t\tuserauth_gsskeyex,\n+ \t\tNULL,\n+\t\t&options.gss_authentication,\n+\t\tNULL},\n \t{''gssapi-with-mic'',\n \t\tuserauth_gssapi,\n \t\tNULL,\n\nVersion-Release number of selected component (if applicable):\n\nopenssh-5.6p1-10.fc15\nopenssh-5.5p1-21.fc14.2\nopenssh-5.4p1-3.fc13\nopenssh-5.3p1-19.fc12\n\nAdditional info:\n\nThe koji buildlog says:\n\nsshconnect2.c:326:3: warning: initialization from incompatible pointer type\n\n--- Additional comment from jchadima@redhat.com on 2010-10-22 11:02:30 EDT ---\n\nconfirmed, repaired\n\n--- Additional comment from updates@fedoraproject.org on 2010-10-22 11:06:02 EDT ---\n\nopenssh-5.4p1-4.fc13 has been submitted as an update for Fedora 13.\nhttps://admin.fedoraproject.org/updates/openssh-5.4p1-4.fc13\n\n--- Additional comment from updates@fedoraproject.org on 2010-10-22 11:07:00 EDT ---\n\nopenssh-5.5p1-22.fc14.2 has been submitted as an update for Fedora 14.\nhttps://admin.fedoraproject.org/updates/openssh-5.5p1-22.fc14.2\n\n--- Additional comment from pm-rhel@redhat.com on 2010-10-25 00:32:11 EDT ---\n\nSince this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.\n\n--- Additional comment from pm-rhel@redhat.com on 2010-11-09 13:59:54 EST ---\n\nGSS has reviewed this bug and agreed that it also be should be\nincluded/released in one or more of the older still active and supported\nreleases (asynchronous Errata Advisory,Extended Update Support stream or\nin an Advanced Mission Critical Long Life stream).\n\nBlocker flag was set to ? and exception and fast flags were cleared.\nThis action ensures that this bugzilla will be included in the current\nrelease and the customer who receives this patch will not see a\nregression.\n\n--- Additional comment from jchadima@redhat.com on 2010-11-16 07:01:31 EST ---\n\nCreated attachment 460822\nproposed solution\n\n--- Additional comment from ebenes@redhat.com on 2010-11-18 08:45:13 EST ---\n\nJan, we need a reproducer and testing instructions for this bug before giving it a qa_ack. Could you please provide testing instructions? Testing for a warning message during a build does not seem to be an adequate testing.\n\nSo far, we didn't get any use-cases from devel so we can make sure the GSSAPI is working as expected. We are working with IPA QE to use their test coverage, but there are no guarantees it will work our case.\n\nWe have an openssh 6.0.z errata already for bug 651820. Once this bug gets all the zstream acks, it should be included there.\n\n--- Additional comment from jchadima@redhat.com on 2010-11-18 09:02:01 EST ---\n\nThe unpatched version has disorder on the pointers to the routines called during the authentization. So routines are called with inapropriate arguments in inapropriate ocasions.\n\nIt's easy to distinguish the buggy and correct versions. The buggy version repports a warning during compilation of the sshconnect2.c\n\n--- Additional comment from ebenes@redhat.com on 2010-11-18 09:14:18 EST ---\n\nQA_ACK for 6.0.z\n\nFor bug verification we will go with the warning at build time. \nJan, please provide any required testing instructions in the errata. Thanks.",
          "author": "jchadima@redhat.com",
          "creation_time": "20101119T11:36:43",
          "bug_id": "655023",
          "creator_id": "276623",
          "time": "20101119T11:36:43",
          "id": "3360667",
          "is_private": "True"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20101119T11:42:21",
          "bug_id": "655023",
          "creator_id": "193983",
          "time": "20101119T11:42:21",
          "id": "3360679",
          "is_private": "True"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.0"
      ],
      "cc": [
        "ebenes@redhat.com",
        "jchadima@redhat.com",
        "jwest@redhat.com",
        "mattias.ellert@fysast.uu.se",
        "mgrepl@redhat.com",
        "mvadkert@redhat.com",
        "sgrubb@redhat.com",
        "tmraz@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "646286",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "GSSApproved",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "openssh-5.[3456]p1-gsskex.patch broken",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.1.0",
          "modification_date": "20101119T11:42:16",
          "type_id": "202",
          "is_active": "0",
          "creation_date": "20101119T11:42:16",
          "id": "724772",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "pm_ack",
          "modification_date": "20101119T11:38:21",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20101119T11:38:21",
          "id": "724768",
          "setter": "jchadima@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20101119T11:38:21",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20101119T11:38:21",
          "id": "724769",
          "setter": "jchadima@redhat.com"
        },
        {
          "status": "?",
          "name": "qa_ack",
          "modification_date": "20101119T11:38:21",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20101119T11:38:21",
          "id": "724770",
          "setter": "jchadima@redhat.com"
        }
      ],
      "last_change_time": "20101119T11:55:40",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509323-NBZx3K2e9E5XHN0iKiA6tSyBrnxtbHVgRZ-ZPO-yrRA",
      "cf_partner": [],
      "cf_last_closed": "20101119T11:55:40",
      "resolution": "NOTABUG",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [
        "646286"
      ],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20101119T13:08:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "ZStream"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "655043",
      "cf_release_notes": "Prior to this update, the authentication based on a GSS key exchange did not work, rendering users unable to authenticate using this method. With this update, the underlying source code has been modified to target this issue, and the GSSKEX-based authentication now works as expected.",
      "priority": "urgent",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "pm-rhel@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "pm-rhel@redhat.com",
          "text": "This bug has been copied from bug #646286 and has been proposed\nto be backported to 6.0 z-stream (EUS).",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20101119T13:08:12",
          "bug_id": "655043",
          "creator_id": "193983",
          "time": "20101119T13:08:12",
          "id": "3360830",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Devel ack is needed to complete 3ACK process and approval.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20101119T13:08:21",
          "bug_id": "655043",
          "creator_id": "193983",
          "time": "20101119T13:08:21",
          "id": "3360831",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "pm-rhel@redhat.com",
          "text": "If you as an assigned engineer don't know what to do with the Z-stream bugzilla\nlook at the EUS mini HOWTO at:\n\n * Developer howto:\n http://intranet.corp.redhat.com/ic/intranet/ZStreamMiniHOWTOGenPackage.html\n\n * QE - EUS test guidelines:\n http://wiki.test.redhat.com/RhelQe/ZStreamEusTestGuidelines",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20101119T13:08:28",
          "bug_id": "655043",
          "creator_id": "193983",
          "time": "20101119T13:08:28",
          "id": "3360836",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2010:10284-04\nhttp://errata.devel.redhat.com/errata/show/10284",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20101122T08:41:59",
          "bug_id": "655043",
          "creator_id": "241731",
          "time": "20101122T08:41:59",
          "id": "3364766",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "jhradile@redhat.com",
          "text": "\n    Technical note added. If any revisions are required, please edit the ''Technical Notes'' field\n    accordingly. All revisions will be proofread by the Engineering Content Services team.\n    \n    New Contents:\nPrior to this update, the authentication based on a GSS key exchange did not work, rendering users unable to authenticate using this method. With this update, the underlying source code has been modified to target this issue, and the GSS-based authentication now works as expected.",
          "author": "jhradile@redhat.com",
          "creation_time": "20101122T14:14:32",
          "bug_id": "655043",
          "creator_id": "298002",
          "time": "20101122T14:14:32",
          "id": "3365589",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "jchadima@redhat.com",
          "text": "\n    Technical note updated. If any revisions are required, please edit the ''Technical Notes'' field\n    accordingly. All revisions will be proofread by the Engineering Content Services team.\n    \n    Diffed Contents:\n@@ -1 +1 @@\n-Prior to this update, the authentication based on a GSS key exchange did not work, rendering users unable to authenticate using this method. With this update, the underlying source code has been modified to target this issue, and the GSS-based authentication now works as expected.+Prior to this update, the authentication based on a GSS key exchange did not work, rendering users unable to authenticate using this method. With this update, the underlying source code has been modified to target this issue, and the GSSKEYEX-based authentication now works as expected.",
          "author": "jchadima@redhat.com",
          "creation_time": "20101122T14:22:05",
          "bug_id": "655043",
          "creator_id": "276623",
          "time": "20101122T14:22:05",
          "id": "3365606",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "jhradile@redhat.com",
          "text": "\n    Technical note updated. If any revisions are required, please edit the ''Technical Notes'' field\n    accordingly. All revisions will be proofread by the Engineering Content Services team.\n    \n    Diffed Contents:\n@@ -1 +1 @@\n-Prior to this update, the authentication based on a GSS key exchange did not work, rendering users unable to authenticate using this method. With this update, the underlying source code has been modified to target this issue, and the GSSKEYEX-based authentication now works as expected.+Prior to this update, the authentication based on a GSS key exchange did not work, rendering users unable to authenticate using this method. With this update, the underlying source code has been modified to target this issue, and the GSSKEX-based authentication now works as expected.",
          "author": "jhradile@redhat.com",
          "creation_time": "20101122T14:35:06",
          "bug_id": "655043",
          "creator_id": "298002",
          "time": "20101122T14:35:06",
          "id": "3365647",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2010:10284-07: \nhttp://errata.devel.redhat.com/errata/stateview/10284\n\nVERIFIED as fixed in openssh-5.3p1-20.el6_0.3.x86_64\n\nCompilation warning is gone. Sanity testing passes.",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20101202T14:14:42",
          "bug_id": "655043",
          "creator_id": "241731",
          "time": "20101202T14:14:42",
          "id": "3388998",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to RELEASE_PENDING status by Errata System.\nAdvisory RHBA-2010:10284-07 has been changed to PUSH_READY status.\nhttp://errata.devel.redhat.com/errata/show/10284",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20101204T11:00:50",
          "bug_id": "655043",
          "creator_id": "241731",
          "time": "20101204T11:00:50",
          "id": "3403330",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "An advisory has been issued which should help the problem\ndescribed in this bug report. This report is therefore being\nclosed with a resolution of ERRATA. For more information\non therefore solution and/or where to find the updated files,\nplease follow the link below. You may reopen this bug report\nif the solution does not work for you.\n\nhttp://rhn.redhat.com/errata/RHBA-2010-0943.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20101206T08:26:49",
          "bug_id": "655043",
          "creator_id": "241731",
          "time": "20101206T08:26:49",
          "id": "3405650",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.1"
      ],
      "cc": [
        "ebenes@redhat.com",
        "jchadima@redhat.com",
        "jwest@redhat.com",
        "mattias.ellert@fysast.uu.se",
        "mgrepl@redhat.com",
        "mvadkert@redhat.com",
        "pm-eus@redhat.com",
        "sgrubb@redhat.com",
        "tmraz@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "openssh-5.[3456]p1-gsskex.patch broken",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.0.z",
          "modification_date": "20101119T14:48:50",
          "type_id": "251",
          "is_active": "0",
          "creation_date": "20101119T13:08:17",
          "id": "724798",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20101119T13:08:17",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20101119T13:08:17",
          "id": "724799",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20101119T14:38:48",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20101119T13:08:17",
          "id": "724800",
          "setter": "sgrubb@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20101119T13:08:17",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20101119T13:08:17",
          "id": "724801",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20101206T08:26:49",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509323-xAlVIyAifKk4n6Pi0_Mbfwo7D31RiejYmYCQzjss9BE",
      "cf_partner": [],
      "cf_last_closed": "20101206T08:26:49",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20110301T17:34:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "681296",
      "cf_release_notes": "",
      "priority": "urgent",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "sgrubb@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "sgrubb@redhat.com",
          "text": "+++ This bug was initially created as a clone of Bug #681291 +++\n\nDescription of problem:\nOpenSSL seeds its RNGs from /dev/urandom. An attacker could do \ncat /dev/random > /dev/null\ncat /dev/urandom > /dev/null\nand thereby drain entropy from /dev/urandom. BSI requires that a seed for a RNG contains entropy.",
          "author": "sgrubb@redhat.com",
          "creation_time": "20110301T17:34:37",
          "bug_id": "681296",
          "creator_id": "168751",
          "time": "20110301T17:34:37",
          "id": "3566839",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "jarod@redhat.com",
          "text": "I'm not quite sure what we're supposed to do about this in the kernel. Basically, they're asking for a source of randomness that guarantees it contains entropy. That's what /dev/random does. So openssl should just switch to using that, no? The kernel isn't going to make /dev/urandom into a blocking device.",
          "author": "jarod@redhat.com",
          "creation_time": "20110304T15:44:55",
          "bug_id": "681296",
          "creator_id": "19949",
          "time": "20110304T15:44:55",
          "id": "3573736",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "tmraz@redhat.com",
          "text": "Basically what we need is something in between the current /dev/random and /dev/urandom.\n\nThat is a random device that:\n1. guarantees that it was seeded by sufficient (32 bytes) amount of entropy before it will give out random numbers - it will block until this seeding is achieved.\n\n2. guarantees that it is reseeded by the 32 bytes of entropy after at most some predefined number of bytes (in order of megabytes or even higher) is read from the RNG. It will block if the limit is reached until the reseeding entropy is available.\n\nThis means that the device will not block in normal situation except probably on boot on entropy-starved devices.\n\nThe /dev/random cannot be realistically used for the seeding of user space RNGs as it does not expand the collected entropy at all.",
          "author": "tmraz@redhat.com",
          "creation_time": "20110308T16:52:26",
          "bug_id": "681296",
          "creator_id": "167996",
          "time": "20110308T16:52:26",
          "id": "3579849",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "smueller@atsec.com",
          "text": "(In reply to comment #2)\n\n> 2. guarantees that it is reseeded by the 32 bytes of entropy after at most some\n> predefined number of bytes (in order of megabytes or even higher) is read from\n\nMaybe allow user space to define that threshold?",
          "author": "smueller@atsec.com",
          "creation_time": "20110308T17:01:06",
          "bug_id": "681296",
          "creator_id": "267556",
          "time": "20110308T17:01:06",
          "id": "3579878",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "smueller@atsec.com",
          "text": "(In reply to comment #2)\n> Basically what we need is something in between the current /dev/random and\n> /dev/urandom.\n\nJust an idea that pops into my mind:\n\nWhen you are thinking of a third random device, why not using the ANSIX9.31 DRNG that is already in the kernel. The only code you need to add is a constant re-seeding after some extracted bits.\n\nBut I am not sure whether this is feasible at all.",
          "author": "smueller@atsec.com",
          "creation_time": "20110309T08:32:27",
          "bug_id": "681296",
          "creator_id": "267556",
          "time": "20110309T08:32:27",
          "id": "3581553",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "rrelyea@redhat.com",
          "text": "/dev/random gives us a bit for bit entropy output. For every bit of entropy generated, it gives us one bit out output.\n\n/dev/urandom gives us random data with no entropy guarantees.\n\nwhat we need is a cryptographically secure random number generator. Such a random number generator can give us many more bits of random data than the hardware entropy that is generated. NIST has a set of algorithms called Deterministic Random Bit Generators, which is just NISTs way of saying PRNG, except their cryptographic characteristics have been analized.\n\nHere's an idea for managing entropy internally:\n\n1. Create an internal Drbg. This is seeded directly from hardware\nentropy events. When the seed value exceeds  a certain number, it resets\nthe internal reseed counter.\n\n2. /dev/random seeds from the internal Drbg. It continues to use the\nexisting entropy counter (rather than a reseed counter) and blocks when\nthat counter goes to zero. It uses the 'additional bytes' method of drbg\nrather then reseeding, with the additional bytes coming from the\ninternal drbg.\n\n3. We have seperate /dev/urandom devices, one for each uid. These\ndevices seed from the internal Drbg, and then only reseed from the\ninternal drbg when it's reseed counter expires.\n\nThese prevent an attacker from sucking all the entropy out of the\ninternal Drbg. The entropy counter will block the attacker from using\n/dev/random to such everything out of the Drbg, and the fact the\n/dev/urandom will only reseed after a huge amount of data is read from\nit. This will slow the entropy exhaustion from the internal drbg.\n\n\n(*NOTE: It the separate uid's may actually not be necessary to make ths work).\n\nbob\n\nbob",
          "author": "rrelyea@redhat.com",
          "creation_time": "20110311T18:08:15",
          "bug_id": "681296",
          "creator_id": "172385",
          "time": "20110311T18:08:15",
          "id": "3588154",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "jarod@redhat.com",
          "text": "The scope of this bug is looking like its well beyond the capacity I've got to work on it, particularly with the RHEL5.7 beta deadline coming up next week. If we're serious about getting this done in any sort of timely manner, I think someone else is going to have to take this on.",
          "author": "jarod@redhat.com",
          "creation_time": "20110311T19:23:24",
          "bug_id": "681296",
          "creator_id": "19949",
          "time": "20110311T19:23:24",
          "id": "3588308",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "lwang@redhat.com",
          "text": "per developer:\nThis isn't a kernel problem at all. Either we restrict the attacker's ability by removing access rights to /dev/random and /dev/urandom or we find ourself a\nhardware RNG source.\n\nThe user space app can replace /dev/urandom with a fifo that hooks into\na user-space daemon if they have user-space programs with hard-\ncoded references to it.",
          "author": "lwang@redhat.com",
          "creation_time": "20110315T16:34:39",
          "bug_id": "681296",
          "creator_id": "179780",
          "time": "20110315T16:34:39",
          "id": "3607594",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "tmraz@redhat.com",
          "text": "Linda, I'm sorry but I wholeheartedly disagree with this. Neither /dev/random nor /dev/urandom are usable for environments where fulfilling the certification requirements are required. /dev/random because it is too strict in what it guarantees and /dev/urandom because it does not guarantee anything. Having basically a feature request to provide some kind of RNG to userspace that 1. has some guarantees but 2. is actually useable from userspace (not like /dev/random) is legitimate, isn't it?",
          "author": "tmraz@redhat.com",
          "creation_time": "20110315T16:40:27",
          "bug_id": "681296",
          "creator_id": "167996",
          "time": "20110315T16:40:27",
          "id": "3607609",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "sgrubb@redhat.com",
          "text": "I also disagree. There are steps we can do to make the problem solved while still allowing unrestricted access to the RNGs. It was said that we need to make it plausible that there could be entropy in any read of urandom. We do not have to absolutely guarantee it and block reads. There just has to be some reseeding periodically.",
          "author": "sgrubb@redhat.com",
          "creation_time": "20110315T16:56:45",
          "bug_id": "681296",
          "creator_id": "168751",
          "time": "20110315T16:56:45",
          "id": "3607646",
          "is_private": "True"
        },
        {
          "count": "10",
          "creator": "jarod@redhat.com",
          "text": "From a mail thread surrounding this issue:\n\nBoth /dev/random and /dev/urandom appear to support the RNDGETENTCNT\nioctl, which returns the entropy_count value for their shared input_pool.\nThis value is also available in the kernel.random.entropy_avail sysctl. At\nthe worst, can openssl block on that value being sufficiently high before\nreading data? Of course, there's a note near that ioctl's code that says\n''inherently racy'', since reading the value one second and trying to pull\nthe next, the entropy count could have gone up or down (by a fair bit).\n\nCouple that with access restrictions on /dev/{u,}random, and maybe that's\nsufficient? If someone must have root privs to read from them, then in the\nevent an attacker is draining the pool, you've probably already lost,\nsince they've got root.",
          "author": "jarod@redhat.com",
          "creation_time": "20110315T18:58:38",
          "bug_id": "681296",
          "creator_id": "19949",
          "time": "20110315T18:58:38",
          "id": "3608085",
          "is_private": "True"
        },
        {
          "count": "11",
          "creator": "tmraz@redhat.com",
          "text": "I am sorry but this is not a solution. Basically what you propose is to move the implementation of the blocking behavior of /dev/random to openssl. This is not a solution when what we really need is a ''sufficiently'' reseeded CSPRNG source of randomness provided by kernel.\n\nOf course something like - restricting access on /dev/random plus blocking on openssl RNG reseed until entropy_avail is sufficient might be acceptable for certification - we need to consult with Stephan on this. But it is still way more problematic than necessary as an attacker could still read from /dev/urandom and thus keep the entropy_avail too low and DoSing the openssl reseed.",
          "author": "tmraz@redhat.com",
          "creation_time": "20110315T19:26:58",
          "bug_id": "681296",
          "creator_id": "167996",
          "time": "20110315T19:26:58",
          "id": "3608138",
          "is_private": "True"
        },
        {
          "count": "12",
          "creator": "sgrubb@redhat.com",
          "text": "Requiring root access for /dev/random means no one can create a gpg key or any key for that matter. Creating keys requires high quality RNG source. Why not add an entropy estimator to urandom when in FIPS mode only and allow urandom only a certain amount of bytes to be pulled before it blocks if it can't get more from the input pool? This way its still unrestricted for 99% of the users and when in this mode it still tries to run as far as it can before it ultimately blocks. Also, when in this mode let urandom get first shot at the new entropy when it becomes available?\n\nAny thoughts on a RLIMIT? Or quota to prevent entropy draining attacks?",
          "author": "sgrubb@redhat.com",
          "creation_time": "20110315T20:11:44",
          "bug_id": "681296",
          "creator_id": "168751",
          "time": "20110315T20:11:44",
          "id": "3608219",
          "is_private": "True"
        },
        {
          "count": "13",
          "creator": "jarod@redhat.com",
          "text": "Sorry, I should have clarified... As I understand it, there's a more complete solution in the works, which will provide a /dev/prandom (or something like that) that is backed by the ansi_cprng code in the kernel, but its not going to be ready in time for 6.1 and our cert effort, so what I was suggesting was as a stop-gap interim measure. Anything modifying the behavior of urandom really needs upstream traction, which is not terribly likely within the timeframe we have to work with. Making it blocking in fips mode doesn't sound particularly better than having openssl check entropy_avail before pulling data in fips mode, and would be just as much a stop-gap measure.\n\nAnd does a user really need to create a gpg key directly on the locked down machine? They can create it on their workstation and copy it over, no?",
          "author": "jarod@redhat.com",
          "creation_time": "20110315T20:26:27",
          "bug_id": "681296",
          "creator_id": "19949",
          "time": "20110315T20:26:27",
          "id": "3608237",
          "is_private": "True"
        },
        {
          "count": "14",
          "creator": "jarod@redhat.com",
          "text": "(In reply to comment #13)\n...\n> And does a user really need to create a gpg key directly on the locked down\n> machine? They can create it on their workstation and copy it over, no?\n\nAlternatively, the random devices could be protected by file acls, and local logged in users could get permission, much the same way we do with assorted other device nodes in /dev, or an admin could create a group that has permissions to use the random devices and add users to it as needed.",
          "author": "jarod@redhat.com",
          "creation_time": "20110315T20:29:33",
          "bug_id": "681296",
          "creator_id": "19949",
          "time": "20110315T20:29:33",
          "id": "3608244",
          "is_private": "True"
        },
        {
          "count": "15",
          "creator": "sgrubb@redhat.com",
          "text": "We are about out of time. Transferring this to openssh so that we can apply the same band aid from rhel5. \n\nHopefully, this can be addressed in RHEL7 so that openssl is seeded from something that can't be attacked as badly while still being mostly non-blocking.",
          "author": "sgrubb@redhat.com",
          "creation_time": "20110322T14:30:28",
          "bug_id": "681296",
          "creator_id": "168751",
          "time": "20110322T14:30:28",
          "id": "3621336",
          "is_private": "True"
        },
        {
          "count": "16",
          "creator": "ebenes@redhat.com",
          "text": "Jan, could you please provide more details on what and how will be changed in 6.1 for openssh to address this issue? Thanks",
          "author": "ebenes@redhat.com",
          "creation_time": "20110322T17:55:07",
          "bug_id": "681296",
          "creator_id": "203333",
          "time": "20110322T17:55:07",
          "id": "3621897",
          "is_private": "True"
        },
        {
          "count": "17",
          "creator": "jchadima@redhat.com",
          "text": "1) the prng will be reseeded periodically\n2) the source of the entropy can be switched from default /dev/urandom to /dev/random",
          "author": "jchadima@redhat.com",
          "creation_time": "20110323T07:08:04",
          "bug_id": "681296",
          "creator_id": "276623",
          "time": "20110323T07:08:04",
          "id": "3622958",
          "is_private": "True"
        },
        {
          "count": "18",
          "creator": "ebenes@redhat.com",
          "text": "qa_ack+\n\nJan, please provide detailed testing instructions and all functional requirements so we can start with testing as soon as the packages are build. Thanks",
          "author": "ebenes@redhat.com",
          "creation_time": "20110323T12:39:20",
          "bug_id": "681296",
          "creator_id": "203333",
          "time": "20110323T12:39:20",
          "id": "3623485",
          "is_private": "True"
        },
        {
          "count": "19",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2011:10529-18\nhttp://errata.devel.redhat.com/errata/show/10529",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110325T06:09:25",
          "bug_id": "681296",
          "creator_id": "241731",
          "time": "20110325T06:09:25",
          "id": "3628426",
          "is_private": "True"
        },
        {
          "count": "20",
          "creator": "mvadkert@redhat.com",
          "text": "As Jan told me the reseed interval can be changed using KeyRegenerationInterval. Although KeyRegenerationInterval is already used for protocol 1:\n\nKeyRegenerationInterval\n             In protocol version 1, the ephemeral server key is automatically\n             regenerated after this many seconds (if it has been used).  The\n             purpose of regeneration is to prevent decrypting captured ses\u2010\n             sions by later breaking into the machine and stealing the keys.\n             The key is never stored anywhere.  If the value is 0, the key is\n             never regenerated.  The default is 3600 (seconds).\n\nI don't like this, but I was told that the implementation otherwise would take quite a lot of time. Is this ok for this release? Maybe we can fix this properly later?",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110325T15:12:43",
          "bug_id": "681296",
          "creator_id": "271572",
          "time": "20110325T15:12:43",
          "id": "3629408",
          "is_private": "False"
        },
        {
          "count": "21",
          "creator": "smueller@atsec.com",
          "text": "> \n> I don't like this, but I was told that the implementation otherwise would take\n> quite a lot of time. Is this ok for this release? Maybe we can fix this\n> properly later?\n\nIf I understand that code correctly, the reseeding happens when a new connection is received. In addition, reseeding takes place upon key renegotiation. In SSHv2, the default for the key renegotiation is also 3600 secs. Is that all correct?",
          "author": "smueller@atsec.com",
          "creation_time": "20110325T15:22:12",
          "bug_id": "681296",
          "creator_id": "267556",
          "time": "20110325T15:22:12",
          "id": "3629430",
          "is_private": "False"
        },
        {
          "count": "22",
          "creator": "mvadkert@redhat.com",
          "text": "Steve, can you please confirm that this solution with one option is ok?\n\nOf course we will have to add a proper documentation for this in the man page\nin that case.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110325T15:32:26",
          "bug_id": "681296",
          "creator_id": "271572",
          "time": "20110325T15:32:26",
          "id": "3629459",
          "is_private": "True"
        },
        {
          "count": "23",
          "creator": "tmraz@redhat.com",
          "text": "I think the reuse of this option is fine as the protocol 1 is not supposed to be used in the certified configuration anyway and so it cannot collide with its original purpose. It also means that we would not have to support some new invented option in the future releases even if upstream decided that it does not like it.\n\nStephan, the reseeding takes place only on startup of the daemon and when the KeyRegenerationInterval expires. It does not happen on each connection received that would be too much draining of the /dev/random.",
          "author": "tmraz@redhat.com",
          "creation_time": "20110325T16:18:25",
          "bug_id": "681296",
          "creator_id": "167996",
          "time": "20110325T16:18:25",
          "id": "3629540",
          "is_private": "False"
        },
        {
          "count": "24",
          "creator": "smueller@atsec.com",
          "text": "\n> Stephan, the reseeding takes place only on startup of the daemon and when the\n> KeyRegenerationInterval expires. It does not happen on each connection received\n> that would be too much draining of the /dev/random.\n\nWhen does the interval expire for v2? Also after 3600 secs?",
          "author": "smueller@atsec.com",
          "creation_time": "20110325T16:26:09",
          "bug_id": "681296",
          "creator_id": "267556",
          "time": "20110325T16:26:09",
          "id": "3629555",
          "is_private": "False"
        },
        {
          "count": "25",
          "creator": "tmraz@redhat.com",
          "text": "(In reply to comment #24)\n> > Stephan, the reseeding takes place only on startup of the daemon and when the\n> > KeyRegenerationInterval expires. It does not happen on each connection received\n> > that would be too much draining of the /dev/random.\n> \n> When does the interval expire for v2? Also after 3600 secs?\n\nThat's a misunderstanding - there is no key regeneration interval for SSHv2 as there are no ephemeral keys there. We just reuse the timer that would be used for v1 ephemeral keys regeneration for the RNG reseed.\n\nSo yes, the default for the KeyRegenerationInterval is 3600 seconds and that will be used for the reseed of RNG. So on a first connection that takes place after the interval expires the RNG will be reseeded prior to further proceeding with the connection.",
          "author": "tmraz@redhat.com",
          "creation_time": "20110325T16:37:56",
          "bug_id": "681296",
          "creator_id": "167996",
          "time": "20110325T16:37:56",
          "id": "3629575",
          "is_private": "False"
        },
        {
          "count": "26",
          "creator": "smueller@atsec.com",
          "text": "\n> \n> That's a misunderstanding - there is no key regeneration interval for SSHv2 as\n> there are no ephemeral keys there. We just reuse the timer that would be used\n> for v1 ephemeral keys regeneration for the RNG reseed.\n\nI somehow do not see the behavior you describe. I added\n\nexport SSH_USE_STRONG_RNG=1\n\nto sshd and restarted the daemon.\n\nThen I tried to connect from a different (non RHEL) machine. And it blocks all the time for new connections. That looks like the behavior I would expoect when it is reseeded for each fork of an sshd child.\n\nI also assumed the behavior I see here as I interpreted the code such that it would reseed with each fork.\n> \n> So yes, the default for the KeyRegenerationInterval is 3600 seconds and that\n> will be used for the reseed of RNG. So on a first connection that takes place\n> after the interval expires the RNG will be reseeded prior to further proceeding\n> with the connection.\n\nWith your explanation, I would expect one blocker per hour, regardless how often I connect.",
          "author": "smueller@atsec.com",
          "creation_time": "20110325T17:37:13",
          "bug_id": "681296",
          "creator_id": "267556",
          "time": "20110325T17:37:13",
          "id": "3629701",
          "is_private": "False"
        },
        {
          "count": "27",
          "creator": "tmraz@redhat.com",
          "text": "I forgot about the reexec. Hmm... that's probably not too good but I am afraid that it is unavoidable.",
          "author": "tmraz@redhat.com",
          "creation_time": "20110325T17:55:51",
          "bug_id": "681296",
          "creator_id": "167996",
          "time": "20110325T17:55:51",
          "id": "3629728",
          "is_private": "False"
        },
        {
          "count": "28",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to ASSIGNED status by the Errata System: \nAdvisory RHBA-2011:10529-19: \nhttp://errata.devel.redhat.com/errata/stateview/10529\n\nMoving back to assigned. The description KeyRegenerationInterval needs to mention the new functionality.",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110326T10:15:02",
          "bug_id": "681296",
          "creator_id": "241731",
          "time": "20110326T10:15:02",
          "id": "3630634",
          "is_private": "True"
        },
        {
          "count": "29",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from MODIFIED to ON_QA status by the Errata System: \nAdvisory RHBA-2011:10529-19: \nhttp://errata.devel.redhat.com/errata/stateview/10529",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110328T18:45:25",
          "bug_id": "681296",
          "creator_id": "241731",
          "time": "20110328T18:45:25",
          "id": "3634492",
          "is_private": "True"
        },
        {
          "count": "30",
          "creator": "smueller@atsec.com",
          "text": "when setting SSH_USE_STRONG_RNG=1, and strace ssh-keygen, I see a stat and open of /dev/random but later also an open of /dev/urandom.\n\nCan that open be initiated by OpenSSL? I thought that when 48 bytes of /dev/random are fetched, the OpenSSL RNG does not open any seed source any more.",
          "author": "smueller@atsec.com",
          "creation_time": "20110330T08:57:15",
          "bug_id": "681296",
          "creator_id": "267556",
          "time": "20110330T08:57:15",
          "id": "3639137",
          "is_private": "False"
        },
        {
          "count": "31",
          "creator": "tmraz@redhat.com",
          "text": "Yes, OpenSSL on its own seeds from /dev/urandom as well. As the seed is always xored over the previous seed it should not be a problem as the entropy from the previous seeding is not lost.",
          "author": "tmraz@redhat.com",
          "creation_time": "20110330T09:09:49",
          "bug_id": "681296",
          "creator_id": "167996",
          "time": "20110330T09:09:49",
          "id": "3639159",
          "is_private": "False"
        },
        {
          "count": "32",
          "creator": "mvadkert@redhat.com",
          "text": "Note:\nAccording to the developer the KeyRegenerationInterval part has been reverted so the reseeding interval cannot be changed using this option anymore",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110330T09:35:38",
          "bug_id": "681296",
          "creator_id": "271572",
          "time": "20110330T09:35:38",
          "id": "3639211",
          "is_private": "False"
        },
        {
          "count": "33",
          "creator": "tmraz@redhat.com",
          "text": "Actually there is no reseeding interval any more - on each received connection the child that processes the connection is seeded from fresh.",
          "author": "tmraz@redhat.com",
          "creation_time": "20110330T09:55:30",
          "bug_id": "681296",
          "creator_id": "167996",
          "time": "20110330T09:55:30",
          "id": "3639283",
          "is_private": "False"
        },
        {
          "count": "34",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2011:10529-19: \nhttp://errata.devel.redhat.com/errata/stateview/10529\n\nVERIFIED as fixed in openssh-5.3p1-51.el6\n\nopenssh now uses /dev/random for reseeding if environment variable SSH_USE_STRONG_RNG=1. Test observes this by running strace and checking if connecting to sshd takes a long time if no rngd running.\n\nTest output with new package openssh-5.3p1-51.el6:\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Seeding from /dev/urandom\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'strace /usr/sbin/sshd -p8998 &> /tmp/tmp.CukBoJrKrQ'\n:: [   PASS   ] :: Running 'time ./ssh.exp tstusr tstusr 8998'\n:: [   PASS   ] :: File '/tmp/tmp.CukBoJrKrQ' should not contain '/dev/random'\n:: [   PASS   ] :: File '/tmp/tmp.CukBoJrKrQ' should contain '/dev/urandom'\n:: [   PASS   ] :: Running 'kill 17219'\n:: [   LOG    ] :: Duration: 2s\n:: [   LOG    ] :: Assertions: 5 good, 0 bad\n:: [   PASS   ] :: RESULT: Seeding from /dev/urandom\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Seeding from /dev/random\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'export SSH_USE_STRONG_RNG=1'\n:: [   PASS   ] :: Running 'strace /usr/sbin/sshd -p8998 &> /tmp/tmp.CukBoJrKrQ'\n:: [   PASS   ] :: Running 'time ./ssh_timeout.exp tstusr tstusr 8998'\n:: [   PASS   ] :: File '/tmp/tmp.CukBoJrKrQ' should contain '/dev/random'\n:: [   PASS   ] :: Running 'kill 17314'\n:: [   PASS   ] :: Running 'unset SSH_USE_STRONG_RNG'\n:: [   LOG    ] :: Duration: 1m 31s\n:: [   LOG    ] :: Assertions: 6 good, 0 bad\n:: [   PASS   ] :: RESULT: Seeding from /dev/random\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Seeding from /dev/random with rngd running\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'export SSH_USE_STRONG_RNG=1'\n:: [   PASS   ] :: Running 'rngd -r /dev/urandom'\n:: [   PASS   ] :: Running 'strace /usr/sbin/sshd -p8998 &> /tmp/tmp.CukBoJrKrQ'\n:: [   PASS   ] :: Running 'time ./ssh.exp tstusr tstusr 8998'\n:: [   PASS   ] :: File '/tmp/tmp.CukBoJrKrQ' should contain '/dev/random'\n:: [   PASS   ] :: Running 'kill 17381'\n:: [   PASS   ] :: Running 'unset SSH_USE_STRONG_RNG'\n:: [   LOG    ] :: Duration: 2s\n:: [   LOG    ] :: Assertions: 7 good, 0 bad\n:: [   PASS   ] :: RESULT: Seeding from /dev/random with rngd running\n\nWith old package openssh-5.3p1-20.el6 the test fails:\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Seeding from /dev/random\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'export SSH_USE_STRONG_RNG=1'\n:: [   PASS   ] :: Running 'strace /usr/sbin/sshd -p8998 &> /tmp/tmp.9ARVrG6lXc'\n:: [   FAIL   ] :: Running 'time ./ssh_timeout.exp tstusr tstusr 8998' (Expected 0, got 1)\n:: [   FAIL   ] :: File '/tmp/tmp.9ARVrG6lXc' should contain '/dev/random' \n:: [   PASS   ] :: Running 'kill 17736'\n:: [   PASS   ] :: Running 'unset SSH_USE_STRONG_RNG'\n:: [   LOG    ] :: Duration: 2s\n:: [   LOG    ] :: Assertions: 4 good, 2 bad\n:: [   FAIL   ] :: RESULT: Seeding from /dev/random\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Seeding from /dev/random with rngd running\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'export SSH_USE_STRONG_RNG=1'\n:: [   PASS   ] :: Running 'rngd -r /dev/urandom'\n:: [   PASS   ] :: Running 'strace /usr/sbin/sshd -p8998 &> /tmp/tmp.9ARVrG6lXc'\n:: [   PASS   ] :: Running 'time ./ssh.exp tstusr tstusr 8998'\n:: [   FAIL   ] :: File '/tmp/tmp.9ARVrG6lXc' should contain '/dev/random' \n:: [   PASS   ] :: Running 'kill 17831'\n:: [   PASS   ] :: Running 'unset SSH_USE_STRONG_RNG'\n:: [   LOG    ] :: Duration: 2s\n:: [   LOG    ] :: Assertions: 6 good, 1 bad\n:: [   FAIL   ] :: RESULT: Seeding from /dev/random with rngd running",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110330T14:30:15",
          "bug_id": "681296",
          "creator_id": "241731",
          "time": "20110330T14:30:15",
          "id": "3639980",
          "is_private": "True"
        },
        {
          "count": "35",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "An advisory has been issued which should help the problem\ndescribed in this bug report. This report is therefore being\nclosed with a resolution of ERRATA. For more information\non therefore solution and/or where to find the updated files,\nplease follow the link below. You may reopen this bug report\nif the solution does not work for you.\n\nhttp://rhn.redhat.com/errata/RHBA-2011-0598.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110519T13:30:58",
          "bug_id": "681296",
          "creator_id": "241731",
          "time": "20110519T13:30:58",
          "id": "3745812",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.0"
      ],
      "cc": [
        "ebenes@redhat.com",
        "herbert.xu@redhat.com",
        "iboverma@redhat.com",
        "jarod@redhat.com",
        "mvadkert@redhat.com",
        "rrelyea@redhat.com",
        "smueller@atsec.com",
        "tmraz@redhat.com"
      ],
      "cf_verified": [
        "FailedQA"
      ],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "584498",
        "846801",
        "846802"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [
        "https://bugzilla.redhat.com/show_bug.cgi?id=681291"
      ],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "681291",
      "groups": [
        "atsec",
        "devel",
        "errata",
        "hp",
        "ibmconf",
        "qa",
        "redhat",
        "sgi"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "/dev/urandom is used for openssl seeding and may not have enough entropy",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.1.0",
          "modification_date": "20110323T12:42:15",
          "type_id": "202",
          "is_active": "0",
          "creation_date": "20110301T17:34:37",
          "id": "773581",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "blocker",
          "modification_date": "20110323T12:42:15",
          "type_id": "24",
          "is_active": "1",
          "creation_date": "20110301T17:34:37",
          "id": "773582",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20110301T20:07:19",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20110301T17:35:55",
          "id": "773583",
          "setter": "snagar@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20110322T14:30:28",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20110301T20:15:24",
          "id": "773665",
          "setter": "sgrubb@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20110323T12:39:20",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20110322T14:46:12",
          "id": "784800",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20120808T18:29:11",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509323-oJ_giLv2u1MHNO2kE-1N_pZN1rwCAWUlLZUNM3JP_l0",
      "cf_partner": [],
      "cf_last_closed": "20110519T13:30:58",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20110526T16:25:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "ZStream"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "708056",
      "cf_release_notes": "",
      "priority": "urgent",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-56.el6",
      "creator": "tmraz@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "tmraz@redhat.com",
          "text": "The SSH_USE_STRONG_RNG=1 makes openssh currently read 48 bytes from /dev/random.\nBSI requires that a seed for a RNG contains entropy contains at least 48 bits (preferably 96bits) of entropy. The 48 bytes is too much though and causes long delays on ssh(d) startup and when the connections are received.\n\nWe propose that the SSH_USE_STRONG_RNG would contain number of bytes that should be pulled from /dev/random with the default minimum for values >=1 would be 48/8 = 6.\n\nThat is for SSH_USE_STRONG_RNG=1..6 - 6 bytes would be pulled, for higher values of SSH_USE_STRONG_RNG the specified number of bytes would be pulled.",
          "author": "tmraz@redhat.com",
          "creation_time": "20110526T16:25:10",
          "bug_id": "708056",
          "creator_id": "167996",
          "time": "20110526T16:25:10",
          "id": "3762300",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20110526T16:32:18",
          "bug_id": "708056",
          "creator_id": "193983",
          "time": "20110526T16:32:18",
          "id": "3762319",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "ebenes@redhat.com",
          "text": "qa_ack+ for 6.1.z\n\nFor errata testing, updating RHTS test /CoreOS/openssh/Regression/bz681296-SSH_USE_STRONG_RNG-for-seeding-from-dev-random should be sufficient.",
          "author": "ebenes@redhat.com",
          "creation_time": "20110527T08:20:25",
          "bug_id": "708056",
          "creator_id": "203333",
          "time": "20110527T08:20:25",
          "id": "3763963",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "pm-rhel@redhat.com",
          "text": "This bug has been copied as 6.1 z-stream (EUS) bug #708924 and now must be\nresolved in the current update release, set blocker flag.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20110530T07:26:28",
          "bug_id": "708056",
          "creator_id": "193983",
          "time": "20110530T07:26:28",
          "id": "3767792",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "mvadkert@redhat.com",
          "text": "Updated test \n/CoreOS/openssh/Regression/bz681296-SSH_USE_STRONG_RNG-for-seeding-from-dev-random\nto cover the testing of this bug",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110530T12:23:25",
          "bug_id": "708056",
          "creator_id": "271572",
          "time": "20110530T12:23:25",
          "id": "3769298",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "mvadkert@redhat.com",
          "text": "Jan please update the man page to read this:\n\n------ snip --------\n<new paragraph>\nThe reseeding of the OpenSSL random generator is usually done from /dev/urandom. If the SSH_USE_STRONG_RNG environment variable is set to a nonzero value the OpenSSL random generator is reseeded from\n /dev/random. The number of bytes read is defined by the SSH_USE_STRONG_RNG value. Minimum is 6 bytes. This setting is not recommended on the computers without a hardware random generator because insufficient entropy causes the connection to be blocked until enough entropy is available.\n------ snip --------\n\nIn the original text there are some grammatical errors",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110530T12:36:43",
          "bug_id": "708056",
          "creator_id": "271572",
          "time": "20110530T12:36:43",
          "id": "3769442",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2011:11301-05: \nhttp://errata.devel.redhat.com/errata/stateview/11301\n\nVERIFIED as fixed in openssh-5.3p1-70.el6\nNumber of bytes pulled from /dev/random is no configurable via the SSH_USE_STRONG_RNG environment variable\n\nNEW package openssh-5.3p1-70.el6\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=10\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'SOUT=/tmp/tmp.8XJy1svtHB'\n:: [   PASS   ] :: Running 'export SSH_USE_STRONG_RNG=10'\n:: [   PASS   ] :: Running 'rngd -r /dev/urandom'\n:: [   PASS   ] :: Running 'strace /usr/sbin/sshd -p8998 -o 'PidFile /tmp/tmp.9JqUUXtq3H' &> /tmp/tmp.8XJy1svtHB'\n:: [   PASS   ] :: Running 'time ./ssh.exp tstusr tstusr 8998'\n:: [   PASS   ] :: File '/tmp/tmp.8XJy1svtHB' should contain '/dev/random'\n:: [   PASS   ] :: Check if correct (10) count of bytes read (10\n:: [   PASS   ] :: Running 'kill 1693'\n:: [   PASS   ] :: Running 'unset SSH_USE_STRONG_RNG'\n:: [   PASS   ] :: Running 'rm -f /tmp/tmp.8XJy1svtHB'\n:: [   LOG    ] :: Duration: 3s\n:: [   LOG    ] :: Assertions: 10 good, 0 bad\n:: [   PASS   ] :: RESULT: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=10\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=16\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'SOUT=/tmp/tmp.WBdHoRVoCE'\n:: [   PASS   ] :: Running 'export SSH_USE_STRONG_RNG=16'\n:: [   PASS   ] :: Running 'rngd -r /dev/urandom'\n:: [   PASS   ] :: Running 'strace /usr/sbin/sshd -p8998 -o 'PidFile /tmp/tmp.9JqUUXtq3H' &> /tmp/tmp.WBdHoRVoCE'\n:: [   PASS   ] :: Running 'time ./ssh.exp tstusr tstusr 8998'\n:: [   PASS   ] :: File '/tmp/tmp.WBdHoRVoCE' should contain '/dev/random'\n:: [   PASS   ] :: Check if correct (16) count of bytes read (16\n:: [   PASS   ] :: Running 'kill 1804'\n:: [   PASS   ] :: Running 'unset SSH_USE_STRONG_RNG'\n:: [   PASS   ] :: Running 'rm -f /tmp/tmp.WBdHoRVoCE'\n:: [   LOG    ] :: Duration: 3s\n:: [   LOG    ] :: Assertions: 10 good, 0 bad\n:: [   PASS   ] :: RESULT: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=16\n\nOLD package openssh-5.3p1-52.el6\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Seeding from /dev/random\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'export SSH_USE_STRONG_RNG=48'\n:: [   PASS   ] :: Running 'strace /usr/sbin/sshd -p8998 -o 'PidFile /tmp/tmp.AqDWEy90Cv' &> /tmp/tmp.zoYNjIDo4e'\n:: [   FAIL   ] :: Running 'time ./ssh_timeout.exp tstusr tstusr 8998' (Expected 0, got 1)\n:: [   FAIL   ] :: File '/tmp/tmp.zoYNjIDo4e' should contain '/dev/random' \n:: [   PASS   ] :: Running 'kill 2250'\n:: [   PASS   ] :: Running 'unset SSH_USE_STRONG_RNG'\n:: [   PASS   ] :: Running 'rm -f /tmp/tmp.zoYNjIDo4e'\n:: [   LOG    ] :: Duration: 2s\n:: [   LOG    ] :: Assertions: 5 good, 2 bad\n:: [   FAIL   ] :: RESULT: Seeding from /dev/random\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=1\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'SOUT=/tmp/tmp.PByRa1bTJe'\n:: [   PASS   ] :: Running 'export SSH_USE_STRONG_RNG=1'\n:: [   PASS   ] :: Running 'rngd -r /dev/urandom'\n:: [   PASS   ] :: Running 'strace /usr/sbin/sshd -p8998 -o 'PidFile /tmp/tmp.AqDWEy90Cv' &> /tmp/tmp.PByRa1bTJe'\n:: [   PASS   ] :: Running 'time ./ssh.exp tstusr tstusr 8998'\n:: [   PASS   ] :: File '/tmp/tmp.PByRa1bTJe' should contain '/dev/random'\n:: [   FAIL   ] :: Check if correct (6) count of bytes read (21 27 (Assert: 6 should equal 21)\n:: [   PASS   ] :: Running 'kill 2353'\n:: [   PASS   ] :: Running 'unset SSH_USE_STRONG_RNG'\n:: [   PASS   ] :: Running 'rm -f /tmp/tmp.PByRa1bTJe'\n:: [   LOG    ] :: Duration: 3s\n:: [   LOG    ] :: Assertions: 9 good, 1 bad\n:: [   FAIL   ] :: RESULT: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=1\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=3\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'SOUT=/tmp/tmp.TmZPYDbVCX'\n:: [   PASS   ] :: Running 'export SSH_USE_STRONG_RNG=3'\n:: [   PASS   ] :: Running 'rngd -r /dev/urandom'\n:: [   PASS   ] :: Running 'strace /usr/sbin/sshd -p8998 -o 'PidFile /tmp/tmp.AqDWEy90Cv' &> /tmp/tmp.TmZPYDbVCX'\n:: [   PASS   ] :: Running 'time ./ssh.exp tstusr tstusr 8998'\n:: [   FAIL   ] :: File '/tmp/tmp.TmZPYDbVCX' should contain '/dev/random' \n:: [   FAIL   ] :: rlAssertEquals called without all needed parameters \n:: [   PASS   ] :: Running 'kill 2465'\n:: [   PASS   ] :: Running 'unset SSH_USE_STRONG_RNG'\n:: [   PASS   ] :: Running 'rm -f /tmp/tmp.TmZPYDbVCX'\n:: [   LOG    ] :: Duration: 3s\n:: [   LOG    ] :: Assertions: 8 good, 2 bad\n:: [   FAIL   ] :: RESULT: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=3\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=6\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'SOUT=/tmp/tmp.LxQqx7OIvt'\n:: [   PASS   ] :: Running 'export SSH_USE_STRONG_RNG=6'\n:: [   PASS   ] :: Running 'rngd -r /dev/urandom'\n:: [   PASS   ] :: Running 'strace /usr/sbin/sshd -p8998 -o 'PidFile /tmp/tmp.AqDWEy90Cv' &> /tmp/tmp.LxQqx7OIvt'\n:: [   PASS   ] :: Running 'time ./ssh.exp tstusr tstusr 8998'\n:: [   FAIL   ] :: File '/tmp/tmp.LxQqx7OIvt' should contain '/dev/random' \n:: [   FAIL   ] :: rlAssertEquals called without all needed parameters \n:: [   PASS   ] :: Running 'kill 2576'\n:: [   PASS   ] :: Running 'unset SSH_USE_STRONG_RNG'\n:: [   PASS   ] :: Running 'rm -f /tmp/tmp.LxQqx7OIvt'\n:: [   LOG    ] :: Duration: 3s\n:: [   LOG    ] :: Assertions: 8 good, 2 bad\n:: [   FAIL   ] :: RESULT: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=6\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=7\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'SOUT=/tmp/tmp.yj7xkPm1vR'\n:: [   PASS   ] :: Running 'export SSH_USE_STRONG_RNG=7'\n:: [   PASS   ] :: Running 'rngd -r /dev/urandom'\n:: [   PASS   ] :: Running 'strace /usr/sbin/sshd -p8998 -o 'PidFile /tmp/tmp.AqDWEy90Cv' &> /tmp/tmp.yj7xkPm1vR'\n:: [   PASS   ] :: Running 'time ./ssh.exp tstusr tstusr 8998'\n:: [   FAIL   ] :: File '/tmp/tmp.yj7xkPm1vR' should contain '/dev/random' \n:: [   FAIL   ] :: rlAssertEquals called without all needed parameters \n:: [   PASS   ] :: Running 'kill 2686'\n:: [   PASS   ] :: Running 'unset SSH_USE_STRONG_RNG'\n:: [   PASS   ] :: Running 'rm -f /tmp/tmp.yj7xkPm1vR'\n:: [   LOG    ] :: Duration: 2s\n:: [   LOG    ] :: Assertions: 8 good, 2 bad\n:: [   FAIL   ] :: RESULT: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=7\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=10\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'SOUT=/tmp/tmp.fZg6BJ4Bqo'\n:: [   PASS   ] :: Running 'export SSH_USE_STRONG_RNG=10'\n:: [   PASS   ] :: Running 'rngd -r /dev/urandom'\n:: [   PASS   ] :: Running 'strace /usr/sbin/sshd -p8998 -o 'PidFile /tmp/tmp.AqDWEy90Cv' &> /tmp/tmp.fZg6BJ4Bqo'\n:: [   PASS   ] :: Running 'time ./ssh.exp tstusr tstusr 8998'\n:: [   FAIL   ] :: File '/tmp/tmp.fZg6BJ4Bqo' should contain '/dev/random' \n:: [   FAIL   ] :: rlAssertEquals called without all needed parameters \n:: [   PASS   ] :: Running 'kill 2796'\n:: [   PASS   ] :: Running 'unset SSH_USE_STRONG_RNG'\n:: [   PASS   ] :: Running 'rm -f /tmp/tmp.fZg6BJ4Bqo'\n:: [   LOG    ] :: Duration: 4s\n:: [   LOG    ] :: Assertions: 8 good, 2 bad\n:: [   FAIL   ] :: RESULT: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=10\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=16\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'SOUT=/tmp/tmp.s28jscbooB'\n:: [   PASS   ] :: Running 'export SSH_USE_STRONG_RNG=16'\n:: [   PASS   ] :: Running 'rngd -r /dev/urandom'\n:: [   PASS   ] :: Running 'strace /usr/sbin/sshd -p8998 -o 'PidFile /tmp/tmp.AqDWEy90Cv' &> /tmp/tmp.s28jscbooB'\n:: [   PASS   ] :: Running 'time ./ssh.exp tstusr tstusr 8998'\n:: [   FAIL   ] :: File '/tmp/tmp.s28jscbooB' should contain '/dev/random' \n:: [   FAIL   ] :: rlAssertEquals called without all needed parameters \n:: [   PASS   ] :: Running 'kill 2906'\n:: [   PASS   ] :: Running 'unset SSH_USE_STRONG_RNG'\n:: [   PASS   ] :: Running 'rm -f /tmp/tmp.s28jscbooB'\n:: [   LOG    ] :: Duration: 3s\n:: [   LOG    ] :: Assertions: 8 good, 2 bad\n:: [   FAIL   ] :: RESULT: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=16",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110920T14:02:56",
          "bug_id": "708056",
          "creator_id": "241731",
          "time": "20110920T14:02:56",
          "id": "4029878",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHBA-2011-1551.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20111206T09:56:08",
          "bug_id": "708056",
          "creator_id": "241731",
          "time": "20111206T09:56:08",
          "id": "4193541",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.0"
      ],
      "cc": [
        "ebenes@redhat.com",
        "herbert.xu@redhat.com",
        "iboverma@redhat.com",
        "jarod@redhat.com",
        "jeder@redhat.com",
        "mvadkert@redhat.com",
        "plyons@redhat.com",
        "rrelyea@redhat.com",
        "sgrubb@redhat.com",
        "smueller@atsec.com",
        "syeghiay@redhat.com",
        "tmraz@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "584498",
        "708924",
        "846801",
        "846802"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "devel",
        "errata",
        "hp",
        "ibmconf",
        "qa",
        "redhat",
        "sgi"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "GSSApproved",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "Make number of bytes pulled from /dev/random configurable",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.2.0",
          "modification_date": "20110527T13:53:17",
          "type_id": "249",
          "is_active": "0",
          "creation_date": "20110526T16:32:14",
          "id": "825493",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "blocker",
          "modification_date": "20110527T13:53:17",
          "type_id": "24",
          "is_active": "1",
          "creation_date": "20110526T16:45:02",
          "id": "825495",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20110527T13:46:31",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20110526T16:45:54",
          "id": "825499",
          "setter": "syeghiay@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20110526T16:45:02",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20110526T16:45:02",
          "id": "825496",
          "setter": "sgrubb@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20110527T08:20:25",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20110526T16:45:35",
          "id": "825498",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20130111T03:58:55",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509323-3LSrKVLYKkJ4reh8VIRGCxEaI3wzjoeKOjVDiEXdit4",
      "cf_partner": [],
      "cf_last_closed": "20111206T09:56:08",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [
        "708056"
      ],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20110530T07:26:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "ZStream"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "708924",
      "cf_release_notes": "Previously, when the SSH_USE_STRONG_RNG variable was set to 1, openssh read 48 bytes from the /dev/random number generator to generate a seed. This seed was too long and caused long delays on ssh or sshd startup and when the connections were received. Now, the SSH_USE_STRONG_RNG variable contains number of bytes that should be pulled from /dev/random (with a minimum default value of six) and the delays no longer occur.",
      "priority": "urgent",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "pm-rhel@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "pm-rhel@redhat.com",
          "text": "This bug has been copied from bug #708056 and has been proposed\nto be backported to 6.1 z-stream (EUS).",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20110530T07:26:04",
          "bug_id": "708924",
          "creator_id": "193983",
          "time": "20110530T07:26:04",
          "id": "3767788",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Devel ack is needed to complete 3ACK process and approval.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20110530T07:26:12",
          "bug_id": "708924",
          "creator_id": "193983",
          "time": "20110530T07:26:12",
          "id": "3767789",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "pm-rhel@redhat.com",
          "text": "If you as an assigned engineer don't know what to do with the Z-stream bugzilla\nlook at the EUS mini HOWTO at:\n\n * Developer howto:\n http://intranet.corp.redhat.com/ic/intranet/ZStreamMiniHOWTOGenPackage.html\n\n * QE - EUS test guidelines:\n http://wiki.test.redhat.com/RhelQe/ZStreamEusTestGuidelines\n\n * If you want to learn more about EUS and z-stream you can read training presentation located here:\n https://docspace.corp.redhat.com/docs/DOC-50511",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20110530T07:26:21",
          "bug_id": "708924",
          "creator_id": "193983",
          "time": "20110530T07:26:21",
          "id": "3767791",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "pm-rhel@redhat.com",
          "text": "GSS has reviewed this bug and agreed that it also be should be\nincluded/released in one or more of the older still active and supported\nreleases (asynchronous Errata Advisory,Extended Update Support stream or\nin an Advanced Mission Critical Long Life stream).\n\nBlocker flag was set to ? and exception and fast flags were cleared.\nThis action ensures that this bugzilla will be included in the current\nrelease and the customer who receives this patch will not see a\nregression.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20110530T07:30:01",
          "bug_id": "708924",
          "creator_id": "193983",
          "time": "20110530T07:30:01",
          "id": "3767800",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2011:11227-01\nhttp://errata.devel.redhat.com/errata/show/11227",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110530T09:29:17",
          "bug_id": "708924",
          "creator_id": "241731",
          "time": "20110530T09:29:17",
          "id": "3768021",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to ASSIGNED status by the Errata System: \nAdvisory RHBA-2011:11227-01: \nhttp://errata.devel.redhat.com/errata/stateview/11227\n\nVERIFIED as fixed in openssh-5.3p1-52.el6_1.1\n\nFrom now, when SSH_USE_STRONG_RNG=1..6 then 6 bytes (=48bits) of entropy are read. If SSH_USE_STRONG_RNG>6 the relevant number of bytes are read\n\nThough we will need to update the documentation as it contains some grammatical errors. Moving back to ASSIGNED.\n\nTest log:\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Seeding from /dev/urandom\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'unset SSH_USE_STRONG_RNG'\n:: [   PASS   ] :: Running 'strace /usr/sbin/sshd -p8998 &> /tmp/tmp.btzTwQBjWt'\n:: [   PASS   ] :: Running 'time ./ssh.exp tstusr tstusr 8998'\n:: [   PASS   ] :: File '/tmp/tmp.btzTwQBjWt' should not contain '/dev/random'\n:: [   PASS   ] :: File '/tmp/tmp.btzTwQBjWt' should contain '/dev/urandom'\n:: [   PASS   ] :: Running 'ps ax | grep 8998 | grep -v grep'\n:: [   PASS   ] :: Running 'kill 19413 '\n:: [   LOG    ] :: Duration: 2s\n:: [   LOG    ] :: Assertions: 7 good, 0 bad\n:: [   PASS   ] :: RESULT: Seeding from /dev/urandom\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Seeding from /dev/random\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'export SSH_USE_STRONG_RNG=48'\n:: [   PASS   ] :: Running 'strace /usr/sbin/sshd -p8998 &> /tmp/tmp.btzTwQBjWt'\n:: [   PASS   ] :: Running 'time ./ssh_timeout.exp tstusr tstusr 8998'\n:: [   PASS   ] :: File '/tmp/tmp.btzTwQBjWt' should contain '/dev/random'\n:: [   PASS   ] :: Running 'ps ax | grep 8998 | grep -v grep'\n:: [   PASS   ] :: Running 'kill 19535 '\n:: [   PASS   ] :: Running 'unset SSH_USE_STRONG_RNG'\n:: [   PASS   ] :: Running 'rm -f /tmp/tmp.btzTwQBjWt'\n:: [   LOG    ] :: Duration: 1m 31s\n:: [   LOG    ] :: Assertions: 8 good, 0 bad\n:: [   PASS   ] :: RESULT: Seeding from /dev/random\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=1\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'SOUT=/tmp/tmp.tUbviKfARY'\n:: [   PASS   ] :: Running 'export SSH_USE_STRONG_RNG=1'\n:: [   PASS   ] :: Running 'rngd -r /dev/urandom'\n:: [   PASS   ] :: Running 'strace /usr/sbin/sshd -p8998 &> /tmp/tmp.tUbviKfARY'\n:: [   PASS   ] :: Running 'time ./ssh.exp tstusr tstusr 8998'\n:: [   PASS   ] :: File '/tmp/tmp.tUbviKfARY' should contain '/dev/random'\n:: [   PASS   ] :: Check if correct count of bytes read\n:: [   PASS   ] :: Running 'ps ax | grep 8998 | grep -v grep'\n:: [   PASS   ] :: Running 'kill 19639 '\n:: [   PASS   ] :: Running 'unset SSH_USE_STRONG_RNG'\n:: [   PASS   ] :: Running 'rm -f /tmp/tmp.tUbviKfARY'\n:: [   LOG    ] :: Duration: 3s\n:: [   LOG    ] :: Assertions: 11 good, 0 bad\n:: [   PASS   ] :: RESULT: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=1\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=3\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'SOUT=/tmp/tmp.G0yu7AXQGT'\n:: [   PASS   ] :: Running 'export SSH_USE_STRONG_RNG=3'\n:: [   PASS   ] :: Running 'rngd -r /dev/urandom'\n:: [   PASS   ] :: Running 'strace /usr/sbin/sshd -p8998 &> /tmp/tmp.G0yu7AXQGT'\n:: [   PASS   ] :: Running 'time ./ssh.exp tstusr tstusr 8998'\n:: [   PASS   ] :: File '/tmp/tmp.G0yu7AXQGT' should contain '/dev/random'\n:: [   PASS   ] :: Check if correct count of bytes read\n:: [   PASS   ] :: Running 'ps ax | grep 8998 | grep -v grep'\n:: [   PASS   ] :: Running 'kill 19779 '\n:: [   PASS   ] :: Running 'unset SSH_USE_STRONG_RNG'\n:: [   PASS   ] :: Running 'rm -f /tmp/tmp.G0yu7AXQGT'\n:: [   LOG    ] :: Duration: 3s\n:: [   LOG    ] :: Assertions: 11 good, 0 bad\n:: [   PASS   ] :: RESULT: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=3\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=6\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'SOUT=/tmp/tmp.dFw3k5Jw5M'\n:: [   PASS   ] :: Running 'export SSH_USE_STRONG_RNG=6'\n:: [   PASS   ] :: Running 'rngd -r /dev/urandom'\n:: [   PASS   ] :: Running 'strace /usr/sbin/sshd -p8998 &> /tmp/tmp.dFw3k5Jw5M'\n:: [   PASS   ] :: Running 'time ./ssh.exp tstusr tstusr 8998'\n:: [   PASS   ] :: File '/tmp/tmp.dFw3k5Jw5M' should contain '/dev/random'\n:: [   PASS   ] :: Check if correct count of bytes read\n:: [   PASS   ] :: Running 'ps ax | grep 8998 | grep -v grep'\n:: [   PASS   ] :: Running 'kill 19919 '\n:: [   PASS   ] :: Running 'unset SSH_USE_STRONG_RNG'\n:: [   PASS   ] :: Running 'rm -f /tmp/tmp.dFw3k5Jw5M'\n:: [   LOG    ] :: Duration: 2s\n:: [   LOG    ] :: Assertions: 11 good, 0 bad\n:: [   PASS   ] :: RESULT: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=6\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=7\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'SOUT=/tmp/tmp.4hkWcj24e0'\n:: [   PASS   ] :: Running 'export SSH_USE_STRONG_RNG=7'\n:: [   PASS   ] :: Running 'rngd -r /dev/urandom'\n:: [   PASS   ] :: Running 'strace /usr/sbin/sshd -p8998 &> /tmp/tmp.4hkWcj24e0'\n:: [   PASS   ] :: Running 'time ./ssh.exp tstusr tstusr 8998'\n:: [   PASS   ] :: File '/tmp/tmp.4hkWcj24e0' should contain '/dev/random'\n:: [   PASS   ] :: Check if correct count of bytes read\n:: [   PASS   ] :: Running 'ps ax | grep 8998 | grep -v grep'\n:: [   PASS   ] :: Running 'kill 20067 '\n:: [   PASS   ] :: Running 'unset SSH_USE_STRONG_RNG'\n:: [   PASS   ] :: Running 'rm -f /tmp/tmp.4hkWcj24e0'\n:: [   LOG    ] :: Duration: 2s\n:: [   LOG    ] :: Assertions: 11 good, 0 bad\n:: [   PASS   ] :: RESULT: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=7\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=10\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'SOUT=/tmp/tmp.6fHDWH9uAH'\n:: [   PASS   ] :: Running 'export SSH_USE_STRONG_RNG=10'\n:: [   PASS   ] :: Running 'rngd -r /dev/urandom'\n:: [   PASS   ] :: Running 'strace /usr/sbin/sshd -p8998 &> /tmp/tmp.6fHDWH9uAH'\n:: [   PASS   ] :: Running 'time ./ssh.exp tstusr tstusr 8998'\n:: [   PASS   ] :: File '/tmp/tmp.6fHDWH9uAH' should contain '/dev/random'\n:: [   PASS   ] :: Check if correct count of bytes read\n:: [   PASS   ] :: Running 'ps ax | grep 8998 | grep -v grep'\n:: [   PASS   ] :: Running 'kill 20207 '\n:: [   PASS   ] :: Running 'unset SSH_USE_STRONG_RNG'\n:: [   PASS   ] :: Running 'rm -f /tmp/tmp.6fHDWH9uAH'\n:: [   LOG    ] :: Duration: 3s\n:: [   LOG    ] :: Assertions: 11 good, 0 bad\n:: [   PASS   ] :: RESULT: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=10\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=16\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'SOUT=/tmp/tmp.D1pZpKG0Tw'\n:: [   PASS   ] :: Running 'export SSH_USE_STRONG_RNG=16'\n:: [   PASS   ] :: Running 'rngd -r /dev/urandom'\n:: [   PASS   ] :: Running 'strace /usr/sbin/sshd -p8998 &> /tmp/tmp.D1pZpKG0Tw'\n:: [   PASS   ] :: Running 'time ./ssh.exp tstusr tstusr 8998'\n:: [   PASS   ] :: File '/tmp/tmp.D1pZpKG0Tw' should contain '/dev/random'\n:: [   PASS   ] :: Check if correct count of bytes read\n:: [   PASS   ] :: Running 'ps ax | grep 8998 | grep -v grep'\n:: [   PASS   ] :: Running 'kill 20347 '\n:: [   PASS   ] :: Running 'unset SSH_USE_STRONG_RNG'\n:: [   PASS   ] :: Running 'rm -f /tmp/tmp.D1pZpKG0Tw'\n:: [   LOG    ] :: Duration: 3s\n:: [   LOG    ] :: Assertions: 11 good, 0 bad\n:: [   PASS   ] :: RESULT: Seeding from /dev/random with rngd running, with SSH_USE_STRONG_RNG=16",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110530T12:30:21",
          "bug_id": "708924",
          "creator_id": "241731",
          "time": "20110530T12:30:21",
          "id": "3769368",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "mvadkert@redhat.com",
          "text": "Jan please update the man page to read this:\n\n------ snip --------\n<new paragraph>\nThe reseeding of the OpenSSL random generator is usually done from /dev/urandom. If the SSH_USE_STRONG_RNG environment variable is set to a nonzero value the OpenSSL random generator is reseeded from\n /dev/random. The number of bytes read is defined by the SSH_USE_STRONG_RNG value. Minimum is 6 bytes. This setting is not recommended on the computers without a hardware random generator because insufficient entropy causes the connection to be blocked until enough entropy is available.\n------ snip --------\n\nIn the original text there are some grammatical errors",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110530T12:36:56",
          "bug_id": "708924",
          "creator_id": "271572",
          "time": "20110530T12:36:56",
          "id": "3769444",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from MODIFIED to ON_QA status by the Errata System: \nAdvisory RHBA-2011:11227-02: \nhttp://errata.devel.redhat.com/errata/stateview/11227\n\nNew package is ready for testing, moving to ON_QA",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110531T07:03:38",
          "bug_id": "708924",
          "creator_id": "241731",
          "time": "20110531T07:03:38",
          "id": "3771922",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2011:11227-02: \nhttp://errata.devel.redhat.com/errata/stateview/11227\n\nDocumentation has been corrected. Moving to VERIFIED.",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110531T07:24:04",
          "bug_id": "708924",
          "creator_id": "241731",
          "time": "20110531T07:24:04",
          "id": "3771970",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "tcapek@redhat.com",
          "text": "\n    Technical note added. If any revisions are required, please edit the ''Technical Notes'' field\n    accordingly. All revisions will be proofread by the Engineering Content Services team.\n    \n    New Contents:\nPreviously, when the SSH_USE_STRONG_RNG variable was set to 1, openssh read 48 bytes from the /dev/random number generator to generate a seed. This seed was too long and caused long delays on ssh or sshd startup and when the connections were received. Now, the SSH_USE_STRONG_RNG variable contains number of bytes that should be pulled from /dev/random (with a minimum default value of six) and the delays no longer occur.",
          "author": "tcapek@redhat.com",
          "creation_time": "20110601T09:49:10",
          "bug_id": "708924",
          "creator_id": "312451",
          "time": "20110601T09:49:10",
          "id": "3777885",
          "is_private": "False"
        },
        {
          "count": "10",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "An advisory has been issued which should help the problem\ndescribed in this bug report. This report is therefore being\nclosed with a resolution of ERRATA. For more information\non therefore solution and/or where to find the updated files,\nplease follow the link below. You may reopen this bug report\nif the solution does not work for you.\n\nhttp://rhn.redhat.com/errata/RHBA-2011-0848.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110602T08:34:11",
          "bug_id": "708924",
          "creator_id": "241731",
          "time": "20110602T08:34:11",
          "id": "3783440",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.0"
      ],
      "cc": [
        "ebenes@redhat.com",
        "herbert.xu@redhat.com",
        "iboverma@redhat.com",
        "jarod@redhat.com",
        "jchadima@redhat.com",
        "jeder@redhat.com",
        "mvadkert@redhat.com",
        "plyons@redhat.com",
        "pm-eus@redhat.com",
        "rrelyea@redhat.com",
        "rvokal@redhat.com",
        "sgrubb@redhat.com",
        "smueller@atsec.com",
        "syeghiay@redhat.com",
        "tcapek@redhat.com",
        "tmraz@redhat.com"
      ],
      "cf_verified": [
        "FailedQA"
      ],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "devel",
        "errata",
        "hp",
        "ibmconf",
        "qa",
        "redhat",
        "sgi"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "GSSApproved",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "Make number of bytes pulled from /dev/random configurable",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.1.z",
          "modification_date": "20110530T08:23:26",
          "type_id": "288",
          "is_active": "0",
          "creation_date": "20110530T07:26:08",
          "id": "826482",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "blocker",
          "modification_date": "20110530T08:23:26",
          "type_id": "24",
          "is_active": "1",
          "creation_date": "20110530T07:29:58",
          "id": "826487",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20110530T07:26:08",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20110530T07:26:08",
          "id": "826483",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20110530T08:17:01",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20110530T07:26:08",
          "id": "826484",
          "setter": "rvokal@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20110530T07:26:08",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20110530T07:26:08",
          "id": "826485",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20130111T03:59:04",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509323-vXwzPMMJ1JsNgkrVYGK-4JA5bFiOSZR-fU8paJ-CpAU",
      "cf_partner": [],
      "cf_last_closed": "20110602T08:34:11",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "1400",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20111007T15:00:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "Regression"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "None",
          "ext_bz_bug_id": "75674",
          "bug_id": "744236",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "7",
          "type": {
            "must_send": "False",
            "description": "IBM Linux Technology Center",
            "url": "http://bugzilla.linux.ibm.com",
            "can_get": "False",
            "id": "7",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "http://bugzilla.linux.ibm.com/show_bug.cgi?id=%id%"
          },
          "id": "47140"
        },
        {
          "ext_status": "None",
          "ext_bz_bug_id": "138338",
          "bug_id": "744236",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "69",
          "type": {
            "must_send": "False",
            "description": "TCMS Test Case",
            "url": "https://tcms.engineering.redhat.com",
            "can_get": "False",
            "id": "69",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          },
          "id": "66963"
        }
      ],
      "id": "744236",
      "cf_release_notes": "Cause: sshd was being killed by OOM killer under so user couldn't log in \r\nFix: sshd daemon sets oom_adj value to -17 for itself now\r\nResult: sshd is not choosen by OOM killer and user are able to log in to solve\r\nproblems with memory",
      "priority": "urgent",
      "severity": "urgent",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-74.el6",
      "creator": "bugproxy@us.ibm.com",
      "comments": [
        {
          "count": "0",
          "creator": "bugproxy@us.ibm.com",
          "text": "---Problem Description---\nThe ssh daemon is getting stopped while running pounder stress tests. This has been seen on multiple machines (HX5 blade, x3250M3 and LS42) while running pounder tests. The impact of this problem is that our tests are getting stopped before there 48 hour expected time frame.\n\nAfter this issue has occurred we can ping the machine but while trying to ssh it will show 'connection refused'. Also the screen console which was used to trigger the test shows 'connection closed' to the server (may be because sshd is stopped, it closed the remote ssh connection which was running tests).  Now i checked from machine's RSA and found that sshd was stopped and not running. I started the ssh service again and than I was able to remotely connect via ssh.\n\nAt first, inside dmesg I have seen lots of OOM messages and page allocation failure messages. With the second occurrence, the OOM messages are not present.\n\nI have attached dmesg output of the machine with this bug, then /var/log/secure (after setting debuglevel to DEBUG2) and /var/log/messages from a second occurrence.\n \n---uname output---\nLinux elm3a219.xxxxxxxx.ibm.com 2.6.32-195.el6.x86_64 #1 SMP Sun Sep 4 15:32:25 EDT 2011 x86_64 x86_64 x86_64 GNU/Linux\n \nMachine Type = HX5 blade, x3250M3, LS42 blade. \n \n---Steps to Reproduce---\n1) Install RHEL6.2Alpha 64bit on any of above mentioned machines.\n2) Start pounder tests.",
          "author": "bugproxy@us.ibm.com",
          "creation_time": "20111007T15:00:39",
          "bug_id": "744236",
          "creator_id": "41342",
          "time": "20111007T15:00:39",
          "id": "4065952",
          "is_private": "False"
        },
        {
          "count": "1",
          "attachment_id": "526908",
          "author": "bugproxy@us.ibm.com",
          "text": "Created attachment 526908\ndmesg output as mentioned in bug description.",
          "creator": "bugproxy@us.ibm.com",
          "creation_time": "20111007T15:00:52",
          "bug_id": "744236",
          "creator_id": "41342",
          "time": "20111007T15:00:52",
          "id": "4065954",
          "is_private": "False"
        },
        {
          "count": "2",
          "attachment_id": "526909",
          "author": "bugproxy@us.ibm.com",
          "text": "Created attachment 526909\n/var/log/secure logs as mentioned in comment # 7.",
          "creator": "bugproxy@us.ibm.com",
          "creation_time": "20111007T15:01:00",
          "bug_id": "744236",
          "creator_id": "41342",
          "time": "20111007T15:01:00",
          "id": "4065955",
          "is_private": "False"
        },
        {
          "count": "3",
          "attachment_id": "526910",
          "author": "bugproxy@us.ibm.com",
          "text": "Created attachment 526910\nvarlogmessages as mentioned in comment # 10.",
          "creator": "bugproxy@us.ibm.com",
          "creation_time": "20111007T15:01:11",
          "bug_id": "744236",
          "creator_id": "41342",
          "time": "20111007T15:01:11",
          "id": "4065957",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "bugproxy@us.ibm.com",
          "text": "------- Comment From clnperez@us.ibm.com 2011-10-07 11:07 EDT-------\nThis does not appear to be an ssh issue since there are no errors in the ssh file, so it was routed to the kernel component.",
          "author": "bugproxy@us.ibm.com",
          "creation_time": "20111007T15:11:03",
          "bug_id": "744236",
          "creator_id": "41342",
          "time": "20111007T15:11:03",
          "id": "4066055",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20111007T15:13:51",
          "bug_id": "744236",
          "creator_id": "193983",
          "time": "20111007T15:13:51",
          "id": "4066090",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "jkachuck@redhat.com",
          "text": "Hello IBM,\nWould you be able to confirm if this issue occurred on RHEL 6.1?\n\nThank You\nJoe Kachuck",
          "author": "jkachuck@redhat.com",
          "creation_time": "20111010T16:17:09",
          "bug_id": "744236",
          "creator_id": "174484",
          "time": "20111010T16:17:09",
          "id": "4070777",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "bugproxy@us.ibm.com",
          "text": "------- Comment From shubgoya@in.ibm.com 2011-10-12 14:41 EDT-------\n(In reply to comment #21)\n> Hello IBM,\n> Would you be able to confirm if this issue occurred on RHEL 6.1?\n\nAs per our test matrix results this issue was not seen in RH6.1 and seems to be a regression in RH6.2.",
          "author": "bugproxy@us.ibm.com",
          "creation_time": "20111012T18:50:52",
          "bug_id": "744236",
          "creator_id": "41342",
          "time": "20111012T18:50:52",
          "id": "4078312",
          "is_private": "False"
        },
        {
          "count": "8",
          "creator": "syeghiay@redhat.com",
          "text": "Set exception or blocker since on an external tracker,\naka customer reported.",
          "author": "syeghiay@redhat.com",
          "creation_time": "20111014T15:51:50",
          "bug_id": "744236",
          "creator_id": "193262",
          "time": "20111014T15:51:50",
          "id": "4084033",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "jkachuck@redhat.com",
          "text": "Hello IBM,\nThis has been moved to the openssh component from kernel. As this appears to have been mislabelled. \n\nThank You\nJoe Kachuck",
          "author": "jkachuck@redhat.com",
          "creation_time": "20111014T16:19:44",
          "bug_id": "744236",
          "creator_id": "174484",
          "time": "20111014T16:19:44",
          "id": "4084117",
          "is_private": "False"
        },
        {
          "count": "10",
          "creator": "tmraz@redhat.com",
          "text": "I do not see anything in the openssh changes between RHEL 6.1 and 6.2 packages that could even remotely cause this problem.\n\nCan you please also examine the /var/log/audit/audit.log (possibly with the ausearch command) to find whether there are no audited crashes? Unfortunately I think that OOM killings are not logged into audit.log. Perhaps it would be also possible to audit the signals sent to the sshd with auditctl. I suspect that something outside sshd is killing the process. Also there doesn't seem to be anything in your attached /var/log/secure that would indicate that sshd exited normally. (There would be something like sshd[1357]: Received signal 15; terminating.)",
          "author": "tmraz@redhat.com",
          "creation_time": "20111020T09:53:34",
          "bug_id": "744236",
          "creator_id": "167996",
          "time": "20111020T09:53:34",
          "id": "4095854",
          "is_private": "False"
        },
        {
          "count": "11",
          "creator": "bugproxy@us.ibm.com",
          "text": "------- Comment From shubgoya@in.ibm.com 2011-10-21 02:19 EDT-------\n(In reply to comment #31)\n> Thanks Shubham. Keep us posted.\n\nHi Christy,\n\nI have my test results out now. I tried running pounder on couple of affected systems x3690x5 (elm3a88) and dx360M2 (elm3b225) with LTP's OOM tests commented and no other workarounds used. The tests completed successful 48 hours of tests run without affecting SSHD running status.\n\nCan you please try to investigate if this is a LTP's OOM test cases issue? The test cases are present in file '/opt/ltp/runtest/mm' after you install LTP. Please let me know if I can help you in debugging these test cases in anyway.\n\nThanks, Shubham",
          "author": "bugproxy@us.ibm.com",
          "creation_time": "20111021T06:21:07",
          "bug_id": "744236",
          "creator_id": "41342",
          "time": "20111021T06:21:07",
          "id": "4098372",
          "is_private": "False"
        },
        {
          "count": "12",
          "creator": "fhrbata@redhat.com",
          "text": "Hi, I think this is related to Bug 741207. For example from the dmesg output\n\n[ 8940]     0  8940 12965554  5904798   0       0             0 mem_alloc\n\nThe mem_alloc task consumes cca 22GB of physical ram(5904798 rss) and it is ignored(int overflow) by oom killer. Meaning oom killer kills other innocent tasks e.g. the sshd.",
          "author": "fhrbata@redhat.com",
          "creation_time": "20111101T10:42:50",
          "bug_id": "744236",
          "creator_id": "303348",
          "time": "20111101T10:42:50",
          "id": "4119092",
          "is_private": "False"
        },
        {
          "count": "13",
          "creator": "bugproxy@us.ibm.com",
          "text": "------- Comment From clnperez@us.ibm.com 2011-11-01 10:05 EDT-------\n(In reply to comment #36)\n> Hi, I think this is related to Bug 741207. For example from the dmesg output\n>\n> [ 8940]     0  8940 12965554  5904798   0       0             0 mem_alloc\n>\n> The mem_alloc task consumes cca 22GB of physical ram(5904798 rss) and it is\n> ignored(int overflow) by oom killer. Meaning oom killer kills other innocent\n> tasks e.g. the sshd.\n\nRH -We have already internally duped this bug to our internal bug for 741207. We believe they are the same root cause.",
          "author": "bugproxy@us.ibm.com",
          "creation_time": "20111101T14:10:54",
          "bug_id": "744236",
          "creator_id": "41342",
          "time": "20111101T14:10:54",
          "id": "4119569",
          "is_private": "False"
        },
        {
          "count": "14",
          "creator": "tmraz@redhat.com",
          "text": "Jan, what would you want to do with openssh to fix it? Backport the oom_adj setting?",
          "author": "tmraz@redhat.com",
          "creation_time": "20111103T07:41:18",
          "bug_id": "744236",
          "creator_id": "167996",
          "time": "20111103T07:41:18",
          "id": "4125288",
          "is_private": "True"
        },
        {
          "count": "15",
          "creator": "fhrbata@redhat.com",
          "text": "IMHO this has nothing to do with openssh. This is a bug in kernel's oom killer that causes that the sshd(or other task) is wrongly killed. As I wrote in comment 12 this is related to the bug 741207. This is also mentioned by IBM in comment 13. I suggest to assign this to kernel component and me if you want and close it as a dup of bug 741207.",
          "author": "fhrbata@redhat.com",
          "creation_time": "20111103T08:39:26",
          "bug_id": "744236",
          "creator_id": "303348",
          "time": "20111103T08:39:26",
          "id": "4125385",
          "is_private": "True"
        },
        {
          "count": "16",
          "attachment_id": "539679",
          "author": "plautrba@redhat.com",
          "text": "Created attachment 539679\nset oom_adj value\n\nThis is backported patch from openssh-5.4p1 which sets oom_adj value to -17 to disable OOM-killing of the listening sshd\n\ncurrent value:\n# cat /proc/`pidof sshd`/oom_adj\n0\n\nwith this patch:\n# cat /proc/`pidof sshd`/oom_adj\n-17",
          "creator": "plautrba@redhat.com",
          "creation_time": "20111202T15:02:13",
          "bug_id": "744236",
          "creator_id": "270148",
          "time": "20111202T15:02:13",
          "id": "4186836",
          "is_private": "False"
        },
        {
          "count": "17",
          "creator": "ksrot@redhat.com",
          "text": "qa_ack+ for 6.3\n\n@QA: the only change here is #c16.",
          "author": "ksrot@redhat.com",
          "creation_time": "20111221T07:29:52",
          "bug_id": "744236",
          "creator_id": "286283",
          "time": "20111221T07:29:52",
          "id": "4270918",
          "is_private": "True"
        },
        {
          "count": "18",
          "creator": "mvadkert@redhat.com",
          "text": "Beaker test available for this issue:\n/CoreOS/openssh/Sanity/various-tests",
          "author": "mvadkert@redhat.com",
          "creation_time": "20120216T12:34:42",
          "bug_id": "744236",
          "creator_id": "271572",
          "time": "20120216T12:34:42",
          "id": "4434329",
          "is_private": "True"
        },
        {
          "count": "19",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2012:12754-01\nhttp://errata.devel.redhat.com/errata/show/12754",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120229T10:24:17",
          "bug_id": "744236",
          "creator_id": "241731",
          "time": "20120229T10:24:17",
          "id": "4483227",
          "is_private": "True"
        },
        {
          "count": "20",
          "creator": "czhang@redhat.com",
          "text": "Hi, this fix caused some issues when I try to run oom tests via ssh, seems that oom_adj value of the processes in ssh terminal inherited from sshd, which makes these processes un-killable. This should be a big problem.\n\nI agree with Frantisek that the fix shouldn't go to openssh, but fix in kernel instead.\n\nThanks,\nCaspar",
          "author": "czhang@redhat.com",
          "creation_time": "20120314T08:54:04",
          "bug_id": "744236",
          "creator_id": "282002",
          "time": "20120314T08:54:04",
          "id": "4515624",
          "is_private": "True"
        },
        {
          "count": "21",
          "creator": "tmraz@redhat.com",
          "text": "This is clearly wrong. I suppose there is something wrong with the backport as the upstream openssh works correctly - that is it sets the score only for the sshd process and restores it to 0 for the user session.",
          "author": "tmraz@redhat.com",
          "creation_time": "20120314T09:14:12",
          "bug_id": "744236",
          "creator_id": "167996",
          "time": "20120314T09:14:12",
          "id": "4515669",
          "is_private": "True"
        },
        {
          "count": "22",
          "creator": "tmraz@redhat.com",
          "text": "There is a typo in the patch: in oom_adj_restore() there should be oom_adj_path == NULL instead of oom_adj_save == NULL.",
          "author": "tmraz@redhat.com",
          "creation_time": "20120314T09:41:56",
          "bug_id": "744236",
          "creator_id": "167996",
          "time": "20120314T09:41:56",
          "id": "4515722",
          "is_private": "True"
        },
        {
          "count": "23",
          "creator": "plautrba@redhat.com",
          "text": " The patch is fixed now. Thanks for testing and help.",
          "author": "plautrba@redhat.com",
          "creation_time": "20120314T11:12:45",
          "bug_id": "744236",
          "creator_id": "270148",
          "time": "20120314T11:12:45",
          "id": "4515905",
          "is_private": "True"
        },
        {
          "count": "24",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from MODIFIED to ON_QA status by the Errata System: \nAdvisory RHBA-2012:12754-01: \nhttp://errata.devel.redhat.com/errata/stateview/12754",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120314T13:52:32",
          "bug_id": "744236",
          "creator_id": "241731",
          "time": "20120314T13:52:32",
          "id": "4516327",
          "is_private": "True"
        },
        {
          "count": "25",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2012:12754-01: \nhttp://errata.devel.redhat.com/errata/stateview/12754\n\nVERIFIED as fixed in openssh-5.3p1-76.el6\nOOM killing is now disabled \n\nNEW PACKAGE openssh-5.3p1-76.el6:\n:: [   PASS   ] :: Running 'echo sshtest10039 | passwd --stdin sshtest10039'\n:: [   PASS   ] :: OOM-killing is disabled for sshd\n:: [   PASS   ] :: Running 'ssh_cmd sshtest10039 sshtest10039 ''cat /proc/$$/oom_adj'' | cat | egrep ''^0'''\n:: [   PASS   ] :: Running 'ssh_cmd sshtest10039 sshtest10039 ''cat /proc/$$/oom_score_adj'' | cat | egrep ''^0'''\n:: [   LOG    ] :: Duration: 2s\n:: [   LOG    ] :: Assertions: 4 good, 0 bad\n:: [   PASS   ] :: RESULT: BZ#744236 - disable OOM-killing of the listening sshd\n\nOLD PACKAGE openssh-5.3p1-70.el6_2.2:\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: BZ#744236 - disable OOM-killing of the listening sshd\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\nChanging password for user sshtest21395.\npasswd: all authentication tokens updated successfully.\n:: [   PASS   ] :: Running 'echo sshtest21395 | passwd --stdin sshtest21395'\n:: [   FAIL   ] :: OOM-killing is NOT disabled for sshd \n0\n:: [   PASS   ] :: Running 'ssh_cmd sshtest21395 sshtest21395 ''cat /proc/$$/oom_adj'' | cat | egrep ''^0'''\n0\n:: [   PASS   ] :: Running 'ssh_cmd sshtest21395 sshtest21395 ''cat /proc/$$/oom_score_adj'' | cat | egrep ''^0'''",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120412T11:13:54",
          "bug_id": "744236",
          "creator_id": "241731",
          "time": "20120412T11:13:54",
          "id": "4589417",
          "is_private": "True"
        },
        {
          "count": "26",
          "creator": "plautrba@redhat.com",
          "text": "\n    Technical note added. If any revisions are required, please edit the ''Technical Notes'' field\n    accordingly. All revisions will be proofread by the Engineering Content Services team.\n    \n    New Contents:\nCause: sshd was being killed by OOM killer under so user couldn't log in \nFix: sshd daemon sets oom_adj value to -17 for itself now\nResult: sshd is not choosen by OOM killer and user are able to log in to solve\nproblems with memory",
          "author": "plautrba@redhat.com",
          "creation_time": "20120427T13:08:21",
          "bug_id": "744236",
          "creator_id": "270148",
          "time": "20120427T13:08:21",
          "id": "4633833",
          "is_private": "False"
        },
        {
          "count": "27",
          "creator": "bugproxy@us.ibm.com",
          "text": "------- Comment From shubgoya@in.ibm.com 2012-04-27 14:47 EDT-------\n(In reply to comment #39)\n> New Contents:\n> Cause: sshd was being killed by OOM killer under so user couldn't log in\n\nShould it not read as ''Cause: sshd was being killed by OOM killer under stress so user couldn't log in''?",
          "author": "bugproxy@us.ibm.com",
          "creation_time": "20120427T14:58:44",
          "bug_id": "744236",
          "creator_id": "41342",
          "time": "20120427T14:58:44",
          "id": "4634135",
          "is_private": "False"
        },
        {
          "count": "28",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHSA-2012-0884.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120620T07:17:17",
          "bug_id": "744236",
          "creator_id": "241731",
          "time": "20120620T07:17:17",
          "id": "4841688",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "x86_64",
      "version": [
        "6.2"
      ],
      "cc": [
        "czhang@redhat.com",
        "fhrbata@redhat.com",
        "jkachuck@redhat.com",
        "mvadkert@redhat.com",
        "plautrba@redhat.com",
        "pvrabec@redhat.com",
        "syeghiay@redhat.com",
        "tmraz@redhat.com",
        "wgomerin@redhat.com"
      ],
      "cf_verified": [
        "Any",
        "FailedQA"
      ],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "808530",
        "684953",
        "756082"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "ccm",
        "devel",
        "errata",
        "ibmconf",
        "qa",
        "redhat",
        "rhn",
        "support",
        "suseng"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "ptam",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "[RHEL6.2 Alpha] - SSH daemon getting stopped while running pounder stress tests.",
      "alias": [],
      "op_sys": "All",
      "flags": [
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20120216T12:33:26",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20111222T16:44:06",
          "id": "950835",
          "setter": "mvadkert@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.3.0",
          "modification_date": "20111221T07:32:04",
          "type_id": "276",
          "is_active": "0",
          "creation_date": "20111103T02:33:06",
          "id": "923993",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "blocker",
          "modification_date": "20111221T07:32:04",
          "type_id": "24",
          "is_active": "1",
          "creation_date": "20111014T15:51:48",
          "id": "913797",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20111215T22:46:18",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20111007T15:26:43",
          "id": "909646",
          "setter": "snagar@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20111202T15:05:54",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20111010T16:17:29",
          "id": "910718",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20111221T07:29:52",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20111010T16:17:29",
          "id": "910719",
          "setter": "ksrot@redhat.com"
        }
      ],
      "last_change_time": "20120620T07:17:17",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509323-c4AUH3ghySMsZzT3QJ8duOj3BW8KX34QwlnY6GuDwSU",
      "cf_partner": [
        "IBM"
      ],
      "cf_last_closed": "20120620T07:17:17",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "2100",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20111102T15:49:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "Regression"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "750869",
      "cf_release_notes": "",
      "priority": "urgent",
      "severity": "urgent",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "jokajak@fedoraproject.org",
      "comments": [
        {
          "count": "0",
          "creator": "jokajak@fedoraproject.org",
          "text": "Description of problem:\nsudo and newrole cannot connect to the sssd_var_lib_t \n\nVersion-Release number of selected component (if applicable):\n3.7.19-120.el6.noarch\n\nHow reproducible:\nalways\n\nSteps to Reproduce:\n1. ssh user/staff_r/s8:c0,c100@mls\n2. sudo -i -r sysadm_r\n3.\n  \nActual results:\npermission denied\n\nExpected results:\nsuccess\n\nAdditional info:\nI am able to log in to the system but I cannot newrole or sudo.\n\nAVCs from permissive mode:\ntime->Wed Nov  2 11:40:34 2011\ntype=SYSCALL msg=audit(1320248434.989:315723): arch=c000003e syscall=55 success=yes exit=0 a0=23 a1=1 a2=11 a3=7fff9b06e390 items=0 ppid=1804 pid=1990 auid=4294967295 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=(none) ses=4294967295 comm=''sssd_nss'' exe=''/usr/libexec/sssd/sssd_nss'' subj=system_u:system_r:sssd_t:s0-s15:c0.c1023 key=(null)\ntype=AVC msg=audit(1320248434.989:315723): avc:  denied  { getopt } for  pid=1990 comm=''sssd_nss'' path=''/var/lib/sss/pipes/nss'' scontext=system_u:system_r:sssd_t:s0-s15:c0.c1023 tcontext=system_u:system_r:sssd_t:s8:c0,c100 tclass=unix_stream_socket\n----\ntime->Wed Nov  2 11:40:34 2011\ntype=SYSCALL msg=audit(1320248434.989:315724): arch=c000003e syscall=45 success=yes exit=20 a0=23 a1=1a55790 a2=2200 a3=0 items=0 ppid=1804 pid=1990 auid=4294967295 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=(none) ses=4294967295 comm=''sssd_nss'' exe=''/usr/libexec/sssd/sssd_nss'' subj=system_u:system_r:sssd_t:s0-s15:c0.c1023 key=(null)\ntype=AVC msg=audit(1320248434.989:315724): avc:  denied  { read } for  pid=1990 comm=''sssd_nss'' path=''/var/lib/sss/pipes/nss'' scontext=system_u:system_r:sssd_t:s0-s15:c0.c1023 tcontext=system_u:system_r:sssd_t:s8:c0,c100 tclass=unix_stream_socket\n----\ntime->Wed Nov  2 11:40:34 2011\ntype=SYSCALL msg=audit(1320248434.989:315725): arch=c000003e syscall=44 success=yes exit=20 a0=23 a1=1a5d330 a2=14 a3=0 items=0 ppid=1804 pid=1990 auid=4294967295 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=(none) ses=4294967295 comm=''sssd_nss'' exe=''/usr/libexec/sssd/sssd_nss'' subj=system_u:system_r:sssd_t:s0-s15:c0.c1023 key=(null)\ntype=AVC msg=audit(1320248434.989:315725): avc:  denied  { write } for  pid=1990 comm=''sssd_nss'' path=''/var/lib/sss/pipes/nss'' scontext=system_u:system_r:sssd_t:s0-s15:c0.c1023 tcontext=system_u:system_r:sssd_t:s8:c0,c100 tclass=unix_stream_socket\n----\ntime->Wed Nov  2 11:40:34 2011\ntype=PATH msg=audit(1320248434.988:315722): item=0 name=(null) inode=9831159 dev=fd:00 mode=0140666 ouid=0 ogid=0 rdev=00:00 obj=system_u:object_r:sssd_var_lib_t:s0\ntype=SOCKADDR msg=audit(1320248434.988:315722): saddr=01002F7661722F6C69622F7373732F70697065732F6E73730000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\ntype=SYSCALL msg=audit(1320248434.988:315722): arch=c000003e syscall=42 success=yes exit=0 a0=5 a1=7fff12020ea0 a2=6e a3=7fff12020b30 items=1 ppid=982 pid=1017 auid=500 uid=0 gid=502 euid=0 suid=0 fsuid=0 egid=502 sgid=502 fsgid=502 tty=pts0 ses=75 comm=''sudo'' exe=''/usr/bin/sudo'' subj=staff_u:staff_r:staff_sudo_t:s8:c0,c100 key=(null)\ntype=AVC msg=audit(1320248434.988:315722): avc:  denied  { connectto } for  pid=1017 comm=''sudo'' path=''/var/lib/sss/pipes/nss'' scontext=staff_u:staff_r:staff_sudo_t:s8:c0,c100 tcontext=system_u:system_r:sssd_t:s0-s15:c0.c1023 tclass=unix_stream_socket\ntype=AVC msg=audit(1320248434.988:315722): avc:  denied  { write } for  pid=1017 comm=''sudo'' name=''nss'' dev=dm-0 ino=9831159 scontext=staff_u:staff_r:staff_sudo_t:s8:c0,c100 tcontext=system_u:object_r:sssd_var_lib_t:s0 tclass=sock_file\n----\ntime->Wed Nov  2 11:40:34 2011\ntype=PATH msg=audit(1320248434.997:315734): item=0 name=''/var/run/faillock/johndoe'' inode=9831173 dev=fd:00 mode=0100600 ouid=500 ogid=0 rdev=00:00 obj=system_u:object_r:faillog_t:s0\ntype=CWD msg=audit(1320248434.997:315734):  cwd=''/home/johndoe''\ntype=SYSCALL msg=audit(1320248434.997:315734): arch=c000003e syscall=2 success=yes exit=4 a0=7fec3532b4a0 a1=2 a2=180 a3=8 items=1 ppid=982 pid=1017 auid=500 uid=0 gid=502 euid=0 suid=0 fsuid=0 egid=502 sgid=502 fsgid=502 tty=pts0 ses=75 comm=''sudo'' exe=''/usr/bin/sudo'' subj=staff_u:staff_r:staff_sudo_t:s8:c0,c100 key=(null)\ntype=AVC msg=audit(1320248434.997:315734): avc:  denied  { write } for  pid=1017 comm=''sudo'' name=''johndoe'' dev=dm-0 ino=9831173 scontext=staff_u:staff_r:staff_sudo_t:s8:c0,c100 tcontext=system_u:object_r:faillog_t:s0 tclass=file\n----\ntime->Wed Nov  2 11:40:36 2011\ntype=PATH msg=audit(1320248436.788:315740): item=0 name=''/var/db/sudo/johndoe/0'' inode=9831185 dev=fd:00 mode=0100600 ouid=0 ogid=502 rdev=00:00 obj=system_u:object_r:sudo_db_t:s0\ntype=CWD msg=audit(1320248436.788:315740):  cwd=''/home/johndoe''\ntype=SYSCALL msg=audit(1320248436.788:315740): arch=c000003e syscall=2 success=yes exit=7 a0=7fec35320020 a1=41 a2=180 a3=0 items=1 ppid=982 pid=1017 auid=500 uid=0 gid=502 euid=0 suid=0 fsuid=0 egid=502 sgid=502 fsgid=502 tty=pts0 ses=75 comm=''sudo'' exe=''/usr/bin/sudo'' subj=staff_u:staff_r:staff_sudo_t:s8:c0,c100 key=(null)\ntype=AVC msg=audit(1320248436.788:315740): avc:  denied  { write } for  pid=1017 comm=''sudo'' name=''0'' dev=dm-0 ino=9831185 scontext=staff_u:staff_r:staff_sudo_t:s8:c0,c100 tcontext=system_u:object_r:sudo_db_t:s0 tclass=file",
          "author": "jokajak@fedoraproject.org",
          "creation_time": "20111102T15:49:11",
          "bug_id": "750869",
          "creator_id": "298548",
          "time": "20111102T15:49:11",
          "id": "4123436",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20111102T15:54:19",
          "bug_id": "750869",
          "creator_id": "193983",
          "time": "20111102T15:54:19",
          "id": "4123500",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "dwalsh@redhat.com",
          "text": "Miroslav, I just checked in fixes for this into F16 policy.\n\nb2d2ad1cd98c19dde2f90b115e599ca99025c301",
          "author": "dwalsh@redhat.com",
          "creation_time": "20111102T17:55:01",
          "bug_id": "750869",
          "creator_id": "81625",
          "time": "20111102T17:55:01",
          "id": "4124166",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "mgrepl@redhat.com",
          "text": "Ok, I will add it.",
          "author": "mgrepl@redhat.com",
          "creation_time": "20111102T20:49:20",
          "bug_id": "750869",
          "creator_id": "269625",
          "time": "20111102T20:49:20",
          "id": "4124611",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "jokajak@fedoraproject.org",
          "text": "tested on RHEL6 and it works for me",
          "author": "jokajak@fedoraproject.org",
          "creation_time": "20111104T20:15:44",
          "bug_id": "750869",
          "creator_id": "298548",
          "time": "20111104T20:15:44",
          "id": "4129176",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "mgrepl@redhat.com",
          "text": "We missed \n\ntype=AVC msg=audit(1320248434.997:315734): avc:  denied  { write } for \npid=1017 comm=''sudo'' name=''johndoe'' dev=dm-0 ino=9831173\nscontext=staff_u:staff_r:staff_sudo_t:s8:c0,c100\ntcontext=system_u:object_r:faillog_t:s0 tclass=file",
          "author": "mgrepl@redhat.com",
          "creation_time": "20111107T09:02:27",
          "bug_id": "750869",
          "creator_id": "269625",
          "time": "20111107T09:02:27",
          "id": "4131064",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "mgrepl@redhat.com",
          "text": "*** Bug 751472 has been marked as a duplicate of this bug. ***",
          "author": "mgrepl@redhat.com",
          "creation_time": "20111107T09:03:51",
          "bug_id": "750869",
          "creator_id": "269625",
          "time": "20111107T09:03:51",
          "id": "4131070",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "syeghiay@redhat.com",
          "text": "This issue remains unresolved for RHEL 6.2 and is missing acks.\nThe Release Candidate compose begins Nov 9 noon Eastern.\nIf this issue does not block 6.2, please reset flags to 6.3 (rhel-6.3.0).",
          "author": "syeghiay@redhat.com",
          "creation_time": "20111108T22:46:58",
          "bug_id": "750869",
          "creator_id": "193262",
          "time": "20111108T22:46:58",
          "id": "4135659",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "mgrepl@redhat.com",
          "text": "do we have capacity for testing this? I believe we have a fix in the policy, just needs to be tested, at least sanity only.",
          "author": "mgrepl@redhat.com",
          "creation_time": "20111109T09:14:31",
          "bug_id": "750869",
          "creator_id": "269625",
          "time": "20111109T09:14:31",
          "id": "4136400",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "ebenes@redhat.com",
          "text": "A user is now able to sudo or newrole, but the fix does not seem to be complete and would require more work on the policy side. See AVCs below. This would require a respin of the policy which we want to avoid at this point. (I'm sorry for the long AVC output in this comment, but /me lazy.)\n\nPolicy version: selinux-policy-3.7.19-124.el6.noarch\n\n$ ssh eal/staff_r/s8:c0,c100@mls2\nPassword: \nLast login: Wed Nov  9 04:06:44 CST 2011 from 192.168.122.1 on pts/3\nLast login: Wed Nov  9 04:06:44 2011 from 192.168.122.1\n[eal/staff_r/s8:c0,c100@mls2 ~]$ newrole -r sysadm_r\nPassword: \n[eal/sysadm_r/s8:c0,c100@mls2 home]$ exit\nlogout\n[eal/staff_r/s8:c0,c100@mls2 ~]$ sudo -i -r sysadm_r\n[sudo] password for eal: \n[root/sysadm_r/s8:c0,c100@mls2 ~]# exit\nexit\n[eal/staff_r/s8:c0,c100@mls2 ~]$ exit\nlogout\nConnection to mls2 closed.\n----\n#============= postfix_postdrop_t ==============\n#!!!! This avc is a constraint violation.  You will need to add an attribute to either the source or target type to make it work.\n#Contraint rule: \nallow postfix_postdrop_t postfix_spool_maildrop_t:dir write;\n\n#============= staff_sudo_t ==============\n#!!!! This avc is a constraint violation.  You will need to add an attribute to either the source or target type to make it work.\n#Contraint rule: \nallow staff_sudo_t faillog_t:file write;\n\n#============= sysadm_t ==============\n#!!!! This avc is a constraint violation.  You will need to add an attribute to either the source or target type to make it work.\n#Contraint rule: \nallow sysadm_t admin_home_t:file append;\n\n----\n[root/lspp_test_r/SystemLow@mls2 ~]# ausearch -m avc -ts 04:09:30\n----\ntime->Wed Nov  9 04:09:35 2011\ntype=SYSCALL msg=audit(1320833375.358:115074): arch=c000003e syscall=2 success=no exit=-13 a0=7fcb6ad2f010 a1=c2 a2=1a4 a3=8 items=0 ppid=28013 pid=28014 auid=500 uid=0 gid=500 euid=0 suid=0 fsuid=0 egid=90 sgid=90 fsgid=90 tty=(none) ses=4 comm=''postdrop'' exe=''/usr/sbin/postdrop'' subj=staff_u:staff_r:postfix_postdrop_t:s8:c0,c100 key=(null)\ntype=AVC msg=audit(1320833375.358:115074): avc:  denied  { write } for  pid=28014 comm=''postdrop'' name=''maildrop'' dev=dm-4 ino=618 scontext=staff_u:staff_r:postfix_postdrop_t:s8:c0,c100 tcontext=system_u:object_r:postfix_spool_maildrop_t:s0 tclass=dir\n----\ntime->Wed Nov  9 04:09:35 2011\ntype=SYSCALL msg=audit(1320833375.984:115082): arch=c000003e syscall=1 success=yes exit=35 a0=4 a1=7f14b115f020 a2=23 a3=20 items=0 ppid=1174 pid=28057 auid=500 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=(none) ses=5 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=system_u:system_r:sshd_t:s0-s15:c0.c1023 key=(null)\ntype=AVC msg=audit(1320833375.984:115082): avc:  granted  { setexec } for  pid=28057 comm=''sshd'' scontext=system_u:system_r:sshd_t:s0-s15:c0.c1023 tcontext=system_u:system_r:sshd_t:s0-s15:c0.c1023 tclass=process\n----\ntime->Wed Nov  9 04:09:35 2011\ntype=SYSCALL msg=audit(1320833375.989:115083): arch=c000003e syscall=1 success=yes exit=0 a0=4 a1=0 a2=0 a3=20 items=0 ppid=28057 pid=28063 auid=500 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=(none) ses=5 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=system_u:system_r:sshd_t:s0-s15:c0.c1023 key=(null)\ntype=AVC msg=audit(1320833375.989:115083): avc:  granted  { setexec } for  pid=28063 comm=''sshd'' scontext=system_u:system_r:sshd_t:s0-s15:c0.c1023 tcontext=system_u:system_r:sshd_t:s0-s15:c0.c1023 tclass=process\n----\ntime->Wed Nov  9 04:09:35 2011\ntype=SYSCALL msg=audit(1320833375.997:115084): arch=c000003e syscall=1 success=yes exit=0 a0=4 a1=0 a2=0 a3=20 items=0 ppid=28057 pid=28064 auid=500 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=(none) ses=5 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=system_u:system_r:sshd_t:s0-s15:c0.c1023 key=(null)\ntype=AVC msg=audit(1320833375.997:115084): avc:  granted  { setexec } for  pid=28064 comm=''sshd'' scontext=system_u:system_r:sshd_t:s0-s15:c0.c1023 tcontext=system_u:system_r:sshd_t:s0-s15:c0.c1023 tclass=process\n----\ntime->Wed Nov  9 04:09:38 2011\ntype=SYSCALL msg=audit(1320833378.859:115095): arch=c000003e syscall=2 success=no exit=-13 a0=7fefa7801230 a1=42 a2=180 a3=16 items=0 ppid=28073 pid=28097 auid=500 uid=0 gid=500 euid=0 suid=0 fsuid=0 egid=500 sgid=500 fsgid=500 tty=pts3 ses=5 comm=''sudo'' exe=''/usr/bin/sudo'' subj=staff_u:staff_r:staff_sudo_t:s8:c0,c100 key=(null)\ntype=AVC msg=audit(1320833378.859:115095): avc:  denied  { write } for  pid=28097 comm=''sudo'' name=''eal'' dev=dm-4 ino=1229 scontext=staff_u:staff_r:staff_sudo_t:s8:c0,c100 tcontext=system_u:object_r:faillog_t:s0 tclass=file\n----\ntime->Wed Nov  9 04:09:38 2011\ntype=SYSCALL msg=audit(1320833378.873:115102): arch=c000003e syscall=1 success=yes exit=37 a0=3 a1=7fefa77f6930 a2=25 a3=20 items=0 ppid=28097 pid=28101 auid=500 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=pts3 ses=5 comm=''sudo'' exe=''/usr/bin/sudo'' subj=staff_u:staff_r:staff_sudo_t:s8:c0,c100 key=(null)\ntype=AVC msg=audit(1320833378.873:115102): avc:  granted  { setexec } for  pid=28101 comm=''sudo'' scontext=staff_u:staff_r:staff_sudo_t:s8:c0,c100 tcontext=staff_u:staff_r:staff_sudo_t:s8:c0,c100 tclass=process\n----\ntime->Wed Nov  9 04:09:36 2011\ntype=SYSCALL msg=audit(1320833376.004:115085): arch=c000003e syscall=1 success=yes exit=0 a0=4 a1=0 a2=0 a3=20 items=0 ppid=28057 pid=28065 auid=500 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=(none) ses=5 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=system_u:system_r:sshd_t:s0-s15:c0.c1023 key=(null)\ntype=AVC msg=audit(1320833376.004:115085): avc:  granted  { setexec } for  pid=28065 comm=''sshd'' scontext=system_u:system_r:sshd_t:s0-s15:c0.c1023 tcontext=system_u:system_r:sshd_t:s0-s15:c0.c1023 tclass=process\n----\ntime->Wed Nov  9 04:09:36 2011\ntype=SYSCALL msg=audit(1320833376.008:115086): arch=c000003e syscall=1 success=yes exit=0 a0=4 a1=0 a2=0 a3=20 items=0 ppid=28057 pid=28066 auid=500 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=(none) ses=5 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=system_u:system_r:sshd_t:s0-s15:c0.c1023 key=(null)\ntype=AVC msg=audit(1320833376.008:115086): avc:  granted  { setexec } for  pid=28066 comm=''sshd'' scontext=system_u:system_r:sshd_t:s0-s15:c0.c1023 tcontext=system_u:system_r:sshd_t:s0-s15:c0.c1023 tclass=process\n----\ntime->Wed Nov  9 04:09:38 2011\ntype=SYSCALL msg=audit(1320833378.859:115094): arch=c000003e syscall=2 success=no exit=-13 a0=7fefa7801230 a1=2 a2=180 a3=16 items=0 ppid=28073 pid=28097 auid=500 uid=0 gid=500 euid=0 suid=0 fsuid=0 egid=500 sgid=500 fsgid=500 tty=pts3 ses=5 comm=''sudo'' exe=''/usr/bin/sudo'' subj=staff_u:staff_r:staff_sudo_t:s8:c0,c100 key=(null)\ntype=AVC msg=audit(1320833378.859:115094): avc:  denied  { write } for  pid=28097 comm=''sudo'' name=''eal'' dev=dm-4 ino=1229 scontext=staff_u:staff_r:staff_sudo_t:s8:c0,c100 tcontext=system_u:object_r:faillog_t:s0 tclass=file\n----\ntime->Wed Nov  9 04:09:45 2011\ntype=SYSCALL msg=audit(1320833385.359:115103): arch=c000003e syscall=2 success=no exit=-13 a0=7fcb6ad2f010 a1=c2 a2=1a4 a3=8 items=0 ppid=28013 pid=28014 auid=500 uid=0 gid=500 euid=0 suid=0 fsuid=0 egid=90 sgid=90 fsgid=90 tty=(none) ses=4 comm=''postdrop'' exe=''/usr/sbin/postdrop'' subj=staff_u:staff_r:postfix_postdrop_t:s8:c0,c100 key=(null)\ntype=AVC msg=audit(1320833385.359:115103): avc:  denied  { write } for  pid=28014 comm=''postdrop'' name=''maildrop'' dev=dm-4 ino=618 scontext=staff_u:staff_r:postfix_postdrop_t:s8:c0,c100 tcontext=system_u:object_r:postfix_spool_maildrop_t:s0 tclass=dir\n----\ntime->Wed Nov  9 04:09:47 2011\ntype=SYSCALL msg=audit(1320833387.398:115104): arch=c000003e syscall=2 success=no exit=-13 a0=18e6a40 a1=401 a2=180 a3=14 items=0 ppid=28097 pid=28101 auid=500 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=pts3 ses=5 comm=''bash'' exe=''/bin/bash'' subj=staff_u:sysadm_r:sysadm_t:s8:c0,c100 key=(null)\ntype=AVC msg=audit(1320833387.398:115104): avc:  denied  { append } for  pid=28101 comm=''bash'' name=''.bash_history'' dev=dm-0 ino=33204 scontext=staff_u:sysadm_r:sysadm_t:s8:c0,c100 tcontext=system_u:object_r:admin_home_t:s0 tclass=file\n----\ntime->Wed Nov  9 04:09:49 2011\ntype=SYSCALL msg=audit(1320833389.399:115109): arch=c000003e syscall=1 success=yes exit=0 a0=5 a1=0 a2=0 a3=20 items=0 ppid=1174 pid=28057 auid=500 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=(none) ses=5 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=system_u:system_r:sshd_t:s0-s15:c0.c1023 key=(null)\ntype=AVC msg=audit(1320833389.399:115109): avc:  granted  { setexec } for  pid=28057 comm=''sshd'' scontext=system_u:system_r:sshd_t:s0-s15:c0.c1023 tcontext=system_u:system_r:sshd_t:s0-s15:c0.c1023 tclass=process",
          "author": "ebenes@redhat.com",
          "creation_time": "20111109T10:18:01",
          "bug_id": "750869",
          "creator_id": "203333",
          "time": "20111109T10:18:01",
          "id": "4136537",
          "is_private": "False"
        },
        {
          "count": "10",
          "creator": "mgrepl@redhat.com",
          "text": "strange, this should be fixed\n\ntype=AVC msg=audit(1320833378.859:115094): avc:  denied  { write } for \npid=28097 comm=''sudo'' name=''eal'' dev=dm-4 ino=1229\nscontext=staff_u:staff_r:staff_sudo_t:s8:c0,c100\ntcontext=system_u:object_r:faillog_t:s0 tclass=file\n\ni see this avc is fixed in the current policy.\n\n\nThen the question is all of these are bugs, since you are in different level.\n\nI think the main thing is you are able to log in this way.",
          "author": "mgrepl@redhat.com",
          "creation_time": "20111109T11:57:35",
          "bug_id": "750869",
          "creator_id": "269625",
          "time": "20111109T11:57:35",
          "id": "4136713",
          "is_private": "False"
        },
        {
          "count": "11",
          "creator": "mgrepl@redhat.com",
          "text": "Also if a user is able to log in properly, I believe we can move it to RHEL6.3.",
          "author": "mgrepl@redhat.com",
          "creation_time": "20111109T12:20:51",
          "bug_id": "750869",
          "creator_id": "269625",
          "time": "20111109T12:20:51",
          "id": "4136743",
          "is_private": "True"
        },
        {
          "count": "12",
          "creator": "dwalsh@redhat.com",
          "text": "What are all these setexec denials?",
          "author": "dwalsh@redhat.com",
          "creation_time": "20111109T13:20:30",
          "bug_id": "750869",
          "creator_id": "81625",
          "time": "20111109T13:20:30",
          "id": "4136870",
          "is_private": "False"
        },
        {
          "count": "13",
          "creator": "pm-rhel@redhat.com",
          "text": "Since the release flag was set to ? after the devel_ack flag was set to + (was likely set for the previous release), the devel_ack flag has been reset to ? by the bugbot (pm-rhel). This action ensures the proper review by Product Management.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20111115T13:29:42",
          "bug_id": "750869",
          "creator_id": "193983",
          "time": "20111115T13:29:42",
          "id": "4149215",
          "is_private": "True"
        },
        {
          "count": "14",
          "creator": "ksrot@redhat.com",
          "text": "qa_ack+ for 6.3",
          "author": "ksrot@redhat.com",
          "creation_time": "20120105T15:23:41",
          "bug_id": "750869",
          "creator_id": "286283",
          "time": "20120105T15:23:41",
          "id": "4288974",
          "is_private": "True"
        },
        {
          "count": "15",
          "creator": "mgrepl@redhat.com",
          "text": "Most of these, which make sense to fix, should be fixed.",
          "author": "mgrepl@redhat.com",
          "creation_time": "20120126T09:20:34",
          "bug_id": "750869",
          "creator_id": "269625",
          "time": "20120126T09:20:34",
          "id": "4385330",
          "is_private": "False"
        },
        {
          "count": "16",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2012:12528-01\nhttp://errata.devel.redhat.com/errata/show/12528",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120131T15:38:47",
          "bug_id": "750869",
          "creator_id": "241731",
          "time": "20120131T15:38:47",
          "id": "4395214",
          "is_private": "True"
        },
        {
          "count": "17",
          "creator": "mgrepl@redhat.com",
          "text": "Dan, \nwe have some issues now (i would say because of privsep+SELinux)\n\n #============= staff_t ==============\n#!!!! This avc is a constraint violation.  You will need to add an attribute to either the source or target type to make it work.\n#Contraint rule: \nallow staff_t sshd_t:tcp_socket write;\n\n\nif you try to log in with a MLS level. Of course it works with\n\n\nmls_socket_write_all_levels(staff_t)\n\nWe probably will need to add a new MLS attribute just for this one?",
          "author": "mgrepl@redhat.com",
          "creation_time": "20120518T12:44:06",
          "bug_id": "750869",
          "creator_id": "269625",
          "time": "20120518T12:44:06",
          "id": "4683275",
          "is_private": "False"
        },
        {
          "count": "18",
          "creator": "ksrot@redhat.com",
          "text": "# rpm -q selinux-policy-mls openssh sudo\nselinux-policy-mls-3.7.19-153.el6.noarch\nopenssh-5.3p1-76.el6.x86_64\nsudo-1.7.4p5-8.el6.x86_64\n\nWith RHEL6.3 openssh I am unable to login:\n\n$ ssh test/staff_r/s8:c0,c100@rhel62min\ntest/staff_r/s8:c0,c100@rhel62min's password: \nConnection to rhel62min closed by remote host.\nConnection to rhel62min closed.\n\n# ausearch -m avc -ts recent \n----\ntime->Fri May 18 14:53:32 2012\ntype=SYSCALL msg=audit(1337345612.092:150): arch=c000003e syscall=1 success=no exit=-13 a0=3 a1=7fcb4b85c900 a2=30 a3=8 items=0 ppid=1367 pid=1371 auid=502 uid=502 gid=502 euid=502 suid=502 fsuid=502 egid=502 sgid=502 fsgid=502 tty=(none) ses=5 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=staff_u:staff_r:staff_t:s8:c0,c100 key=(null)\ntype=AVC msg=audit(1337345612.092:150): avc:  denied  { write } for  pid=1371 comm=''sshd'' path=''socket:[18698]'' dev=sockfs ino=18698 scontext=staff_u:staff_r:staff_t:s8:c0,c100 tcontext=system_u:system_r:sshd_t:s0-s15:c0.c1023 tclass=tcp_socket\n----\ntime->Fri May 18 14:53:32 2012\ntype=SYSCALL msg=audit(1337345612.092:151): arch=c000003e syscall=44 success=no exit=-13 a0=4 a1=7fcb4b873660 a2=46 a3=4000 items=0 ppid=1367 pid=1371 auid=502 uid=502 gid=502 euid=502 suid=502 fsuid=502 egid=502 sgid=502 fsgid=502 tty=(none) ses=5 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=staff_u:staff_r:staff_t:s8:c0,c100 key=(null)\ntype=AVC msg=audit(1337345612.092:151): avc:  denied  { write } for  pid=1371 comm=''sshd'' scontext=staff_u:staff_r:staff_t:s8:c0,c100 tcontext=system_u:system_r:sshd_t:s0-s15:c0.c1023 tclass=unix_dgram_socket\n----\ntime->Fri May 18 14:53:32 2012\ntype=SYSCALL msg=audit(1337345612.093:152): arch=c000003e syscall=1 success=no exit=-13 a0=5 a1=7fff60e71b00 a2=5 a3=1000 items=0 ppid=1367 pid=1371 auid=502 uid=502 gid=502 euid=502 suid=502 fsuid=502 egid=502 sgid=502 fsgid=502 tty=(none) ses=5 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=staff_u:staff_r:staff_t:s8:c0,c100 key=(null)\ntype=AVC msg=audit(1337345612.093:152): avc:  denied  { write } for  pid=1371 comm=''sshd'' path=''socket:[18772]'' dev=sockfs ino=18772 scontext=staff_u:staff_r:staff_t:s8:c0,c100 tcontext=system_u:system_r:sshd_t:s0-s15:c0.c1023 tclass=unix_stream_socket\n\n\nFollowing module fixed the problem:\n\n\n# cat sudomls.te\npolicy_module(sudomls,1.0)\nrequire{\ntype staff_t;\n}\nmls_socket_write_all_levels(staff_t)\n\n\n\nWith this module loaded I could login and switch roles using newrole and sudo:\n\n[test@rhel62min ~]$ newrole -r sysadm_r\nPassword: \n[test@rhel62min ~]$ id -Z\nstaff_u:sysadm_r:sysadm_t:s8:c0,c100\n[test@rhel62min ~]$ logout\n[test@rhel62min ~]$ id -Z\nstaff_u:staff_r:staff_t:s8:c0,c100\n\n[test@rhel62min ~]$ sudo -i -r sysadm_r\n[sudo] password for test: \n[root@rhel62min ~]# id -Z\nstaff_u:sysadm_r:sysadm_t:s8:c0,c100\n[root@rhel62min ~]# exit\n[test@rhel62min ~]$ id -Z\nstaff_u:staff_r:staff_t:s8:c0,c100\n\n\nDuring the newrole/sudo execution I got this AVC:\n\n# ausearch -m avc -ts recent \n----\ntime->Fri May 18 14:50:48 2012\ntype=SYSCALL msg=audit(1337345448.508:83): arch=c000003e syscall=2 success=no exit=-13 a0=2627610 a1=241 a2=180 a3=8 items=0 ppid=1310 pid=1314 auid=502 uid=502 gid=502 euid=502 suid=502 fsuid=502 egid=502 sgid=502 fsgid=502 tty=pts1 ses=3 comm=''bash'' exe=''/bin/bash'' subj=staff_u:sysadm_r:sysadm_t:s8:c0,c100 key=(null)\ntype=AVC msg=audit(1337345448.508:83): avc:  denied  { write } for  pid=1314 comm=''bash'' name=''test'' dev=vda1 ino=143732 scontext=staff_u:sysadm_r:sysadm_t:s8:c0,c100 tcontext=staff_u:object_r:user_home_dir_t:s0-s15:c0.c1023 tclass=dir",
          "author": "ksrot@redhat.com",
          "creation_time": "20120518T12:58:28",
          "bug_id": "750869",
          "creator_id": "286283",
          "time": "20120518T12:58:28",
          "id": "4683299",
          "is_private": "False"
        },
        {
          "count": "19",
          "creator": "dwalsh@redhat.com",
          "text": "I am wondering if we need sshd to set the label on the sockets to staff_u:staff_r:staff_t:s8:c0,c100",
          "author": "dwalsh@redhat.com",
          "creation_time": "20120518T18:01:00",
          "bug_id": "750869",
          "creator_id": "81625",
          "time": "20120518T18:01:00",
          "id": "4683954",
          "is_private": "False"
        },
        {
          "count": "20",
          "creator": "dwalsh@redhat.com",
          "text": "The sudo /newrole looks like a constraint violation?\n\nWe definitely do not want \n\nmls_socket_write_all_levels(staff_t)",
          "author": "dwalsh@redhat.com",
          "creation_time": "20120518T18:02:35",
          "bug_id": "750869",
          "creator_id": "81625",
          "time": "20120518T18:02:35",
          "id": "4683955",
          "is_private": "False"
        },
        {
          "count": "21",
          "creator": "mgrepl@redhat.com",
          "text": "We needed to add this rules because of privsep SELinux patch \n\n# sesearch -A -s staff_t -t sshd_t -c tcp_socket -p write\nFound 1 semantic av rules:\n   allow userdomain sshd_t : tcp_socket { ioctl read write getattr setattr lock append bind connect listen accept getopt setopt shutdown } ;\n\nAnd yes, this is a constraint violation and as you said we don't want to add this one. I was just thinking about a new MLS attribute for tcp_socket.",
          "author": "mgrepl@redhat.com",
          "creation_time": "20120518T19:01:21",
          "bug_id": "750869",
          "creator_id": "269625",
          "time": "20120518T19:01:21",
          "id": "4684026",
          "is_private": "False"
        },
        {
          "count": "22",
          "creator": "dwalsh@redhat.com",
          "text": "Right, I am saying the sshd should be doing a \n\nfsetfilecon(sockfd,  ''staff_u:staff_r:staff_t:s8:c0,c100'')\n\nWhich will eliminate the AVC.\n\nAs well as the setcon call.\n\nThe problem here is the setcon is changing the process that owns the socket to staff_u:staff_r:staff_t:s8:c0,c100  but the socket context is not being changed.",
          "author": "dwalsh@redhat.com",
          "creation_time": "20120518T19:17:58",
          "bug_id": "750869",
          "creator_id": "81625",
          "time": "20120518T19:17:58",
          "id": "4684061",
          "is_private": "False"
        },
        {
          "count": "23",
          "creator": "pm-rhel@redhat.com",
          "text": "This bug report previously had all acks and release flags approved.\nHowever since at least one of its acks has been changed, the\nrelease flags have been reset to ? by the bugbot (pm-rhel).  The\nack needs to become approved before the release flags can become\napproved again.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120518T19:31:54",
          "bug_id": "750869",
          "creator_id": "193983",
          "time": "20120518T19:31:54",
          "id": "4684095",
          "is_private": "True"
        },
        {
          "count": "24",
          "creator": "mgrepl@redhat.com",
          "text": "So Petr just needs to pick-up a context together with a MLS range which is going to be used as well as it is done for setcon in the openssh.",
          "author": "mgrepl@redhat.com",
          "creation_time": "20120518T19:53:37",
          "bug_id": "750869",
          "creator_id": "269625",
          "time": "20120518T19:53:37",
          "id": "4684133",
          "is_private": "False"
        },
        {
          "count": "25",
          "creator": "dwalsh@redhat.com",
          "text": "Yes for the unix_stream_socket, unix_dgram_socket and the tcp_socket?",
          "author": "dwalsh@redhat.com",
          "creation_time": "20120518T20:58:58",
          "bug_id": "750869",
          "creator_id": "81625",
          "time": "20120518T20:58:58",
          "id": "4684372",
          "is_private": "False"
        },
        {
          "count": "26",
          "creator": "ksrot@redhat.com",
          "text": "If this is going to be a bug in openssh, we should remove it from selinux-policy RHEL6.3 errata.\nAlso, clearing acks since it has not been cleared.",
          "author": "ksrot@redhat.com",
          "creation_time": "20120521T05:19:26",
          "bug_id": "750869",
          "creator_id": "286283",
          "time": "20120521T05:19:26",
          "id": "4686033",
          "is_private": "True"
        },
        {
          "count": "27",
          "creator": "mvadkert@redhat.com",
          "text": "Karel, I think you were using old openssh, the current version is:\nopenssh-5.3p1-81.el6.\n\nRetesting with the latest in MLS. I will report back soon.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20120521T07:49:50",
          "bug_id": "750869",
          "creator_id": "271572",
          "time": "20120521T07:49:50",
          "id": "4686329",
          "is_private": "False"
        },
        {
          "count": "28",
          "creator": "mvadkert@redhat.com",
          "text": "Unfortunately the latest openssh makes no difference. Logging in with other MLS range is unsuccessful:\n\n$ ssh staff/staff_r/s8:c0,c100@rhel63-mls\nstaff/staff_r/s8:c0,c100@10.34.24.162's password: \nConnection to 10.34.24.162 closed by remote host.\nConnection to 10.34.24.162 closed.\n\nLogging in with default range is OK:\n$ ssh staff/staff_r@rhel63-mls\nstaff/staff_r@10.34.24.162's password: \nLast login: Mon May 21 10:06:33 2012 from localhost\n$ logout\nConnection to 10.34.24.162 closed.\n\nWe have no test for this scenario in openssh. But I will add a test for it.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20120521T08:15:39",
          "bug_id": "750869",
          "creator_id": "271572",
          "time": "20120521T08:15:39",
          "id": "4686414",
          "is_private": "False"
        },
        {
          "count": "29",
          "creator": "mvadkert@redhat.com",
          "text": "As this works in RHEL6.2 this is a regression. Unfortunately it is very late and patch seems problematic to solve the situation.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20120521T08:40:52",
          "bug_id": "750869",
          "creator_id": "271572",
          "time": "20120521T08:40:52",
          "id": "4686476",
          "is_private": "True"
        },
        {
          "count": "30",
          "creator": "dwalsh@redhat.com",
          "text": "What AVC are you seeing with the latest patch?",
          "author": "dwalsh@redhat.com",
          "creation_time": "20120521T13:44:22",
          "bug_id": "750869",
          "creator_id": "81625",
          "time": "20120521T13:44:22",
          "id": "4687183",
          "is_private": "False"
        },
        {
          "count": "31",
          "creator": "plautrba@redhat.com",
          "text": "(In reply to comment #22)\n> Right, I am saying the sshd should be doing a \n> \n> fsetfilecon(sockfd,  ''staff_u:staff_r:staff_t:s8:c0,c100'')\n> \n\nI'm trying to prepare reasonable fix of privsep patch, but this would still need selinux-policy change. sshd_t would need to be allowed to relabelfrom self, relabelto user context and also some some operations on user tcp sockets:\n\n\n----                                               \ntime->Mon May 21 14:35:51 2012                     \ntype=SYSCALL msg=audit(1337603751.192:1352): arch=c000003e syscall=190 success=yes exit=0 a0=3 a1=7f51967de2d9 a2=7f5198782fe0 a3=27 items=0 ppid=2934 pid=2963 auid=502 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=(none) ses=51 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=system_u:system_r:sshd_t:s0-s0:c0.c1023 key=(null)\ntype=AVC msg=audit(1337603751.192:1352): avc:  denied  { associate } for  pid=2963 comm=''sshd'' name='''' dev=sockfs ino=30473 scontext=staff_u:staff_r:staff_t:s0-s0:c0.c1023 tcontext=system_u:object_r:fs_t:s0 tclass=filesystem\ntype=AVC msg=audit(1337603751.192:1352): avc:  denied  { relabelto } for  pid=2963 comm=''sshd'' name='''' dev=sockfs ino=30473 scontext=system_u:system_r:sshd_t:s0-s0:c0.c1023 tcontext=staff_u:staff_r:staff_t:s0-s0:c0.c1023 tclass=tcp_socket\ntype=AVC msg=audit(1337603751.192:1352): avc:  denied  { relabelfrom } for  pid=2963 comm=''sshd'' name='''' dev=sockfs ino=30473 scontext=system_u:system_r:sshd_t:s0-s0:c0.c1023 tcontext=system_u:system_r:sshd_t:s0-s0:c0.c1023 tclass=tcp_socket\n----\ntime->Mon May 21 14:35:51 2012\ntype=SYSCALL msg=audit(1337603751.193:1353): arch=c000003e syscall=193 success=yes exit=39 a0=3 a1=7f51967de2d9 a2=7f51987838a0 a3=ff items=0 ppid=2934 pid=2963 auid=502 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=(none) ses=51 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=system_u:system_r:sshd_t:s0-s0:c0.c1023 key=(null)\ntype=AVC msg=audit(1337603751.193:1353): avc:  denied  { getattr } for  pid=2963 comm=''sshd'' name='''' dev=sockfs ino=30473 scontext=system_u:system_r:sshd_t:s0-s0:c0.c1023 tcontext=staff_u:staff_r:staff_t:s0-s0:c0.c1023 tclass=tcp_socket",
          "author": "plautrba@redhat.com",
          "creation_time": "20120521T13:49:57",
          "bug_id": "750869",
          "creator_id": "270148",
          "time": "20120521T13:49:57",
          "id": "4687214",
          "is_private": "False"
        },
        {
          "count": "32",
          "creator": "plautrba@redhat.com",
          "text": "There would be probably also needed changes regarding chroot_user_t context.",
          "author": "plautrba@redhat.com",
          "creation_time": "20120521T14:16:21",
          "bug_id": "750869",
          "creator_id": "270148",
          "time": "20120521T14:16:21",
          "id": "4687327",
          "is_private": "False"
        },
        {
          "count": "33",
          "creator": "mgrepl@redhat.com",
          "text": "\ntype=AVC msg=audit(1337603751.192:1352): avc:  denied  { associate } for  pid=2963 comm=''sshd'' name='''' dev=sockfs ino=30473 scontext=staff_u:staff_r:staff_t:s0-s0:c0.c1023 tcontext=system_u:object_r:fs_t:s0 tclass=filesystem\n\ntype=AVC msg=audit(1337603751.192:1352): avc:  denied  { relabelto } for  pid=2963 comm=''sshd'' name='''' dev=sockfs ino=30473 scontext=system_u:system_r:sshd_t:s0-s0:c0.c1023 tcontext=staff_u:staff_r:staff_t:s0-s0:c0.c1023 tclass=tcp_socket\n\nwhich would be needed for all userdomains.\n\nI am getting the same AVC with a patch. But the problem is it is not working also with these rules and I am trying to figure out why.",
          "author": "mgrepl@redhat.com",
          "creation_time": "20120521T15:55:20",
          "bug_id": "750869",
          "creator_id": "269625",
          "time": "20120521T15:55:20",
          "id": "4687731",
          "is_private": "False"
        },
        {
          "count": "34",
          "creator": "mgrepl@redhat.com",
          "text": "Now it looks like that also\n\ntype=AVC msg=audit(1337617126.028:4936): avc:  denied  { write } for  pid=2667 comm=''sshd'' path=''socket:[22783]'' dev=sockfs ino=22783 scontext=staff_u:staff_r:staff_t:s8:c0,c100 tcontext=system_u:system_r:sshd_t:s0-s15:c0.c1023 tclass=unix_stream_socket\n\nis in the game.",
          "author": "mgrepl@redhat.com",
          "creation_time": "20120521T16:20:50",
          "bug_id": "750869",
          "creator_id": "269625",
          "time": "20120521T16:20:50",
          "id": "4687792",
          "is_private": "False"
        },
        {
          "count": "35",
          "creator": "mgrepl@redhat.com",
          "text": "Petr, \nI see\n\nMay 21 18:23:41 localhost sshd[2785]: debug1: DEBUG: user context staff_u:staff_r:staff_t:s8:c0,c100\n\nwhich rules for AVC msgs which you added. But then I get\n\nMay 21 18:23:41 localhost sshd[2794]: debug1: Allocating pty.\nMay 21 18:23:41 localhost sshd[2794]: fatal: mm_request_send: write: Permission denied\nMay 21 18:23:41 localhost sshd[2794]: debug1: do_cleanup\nMay 21 18:23:41 localhost sshd[2794]: fatal: mm_request_send: write: Permission denied\n\n\nbecause of the latest AVC msg I guess.",
          "author": "mgrepl@redhat.com",
          "creation_time": "20120521T16:26:05",
          "bug_id": "750869",
          "creator_id": "269625",
          "time": "20120521T16:26:05",
          "id": "4687808",
          "is_private": "False"
        },
        {
          "count": "36",
          "creator": "plautrba@redhat.com",
          "text": "I believe it can't be fixed in openssh.\n\nWe should not relabel connected socket. fsetfilecon() relabels socket\nassociated inode but not socket itself. Also relabel of connected socket could break labeled networking.[1]\n\nsshd process doesn't know which user is connecting at the time of \ncreating socket so it can't set proper label for new socket.\nWhen user is authenticated, child sshd process changes its context to user's \nSELinux context. This process communicates via socket accept()ed\nby master sshd process, which has master's SELinux context. If the user's \nlevel is higher than sshd's then user can't write to socket and\nconnection is closed.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=823677#c13",
          "author": "plautrba@redhat.com",
          "creation_time": "20120524T10:34:41",
          "bug_id": "750869",
          "creator_id": "270148",
          "time": "20120524T10:34:41",
          "id": "4695540",
          "is_private": "False"
        },
        {
          "count": "37",
          "creator": "ksrot@redhat.com",
          "text": "And what about the ''ssh user/staff_r/s8:c0,c100@mls'' syntax? Is this still a valid use case somewhere or is it ''deprecated''? Is it even documented somewhere? (I can't find this use case in ssh man page ATM)",
          "author": "ksrot@redhat.com",
          "creation_time": "20120524T10:56:42",
          "bug_id": "750869",
          "creator_id": "286283",
          "time": "20120524T10:56:42",
          "id": "4695566",
          "is_private": "False"
        },
        {
          "count": "38",
          "creator": "plautrba@redhat.com",
          "text": "You can still use this syntax but you have to use level corresponding to sshd level in order not to break MLS constraints.\n\nFor your particular use case, you would be able to login if your sshd server was running with sshd_t:s8:c0,100 level.",
          "author": "plautrba@redhat.com",
          "creation_time": "20120524T12:58:06",
          "bug_id": "750869",
          "creator_id": "270148",
          "time": "20120524T12:58:06",
          "id": "4695818",
          "is_private": "False"
        },
        {
          "count": "39",
          "creator": "dwalsh@redhat.com",
          "text": "Peter can we open this bug to the Common Criteria People?",
          "author": "dwalsh@redhat.com",
          "creation_time": "20120524T13:37:49",
          "bug_id": "750869",
          "creator_id": "81625",
          "time": "20120524T13:37:49",
          "id": "4695920",
          "is_private": "False"
        },
        {
          "count": "40",
          "creator": "mvadkert@redhat.com",
          "text": "I wonder what group are those people in. Anybody has an idea?",
          "author": "mvadkert@redhat.com",
          "creation_time": "20120524T13:39:32",
          "bug_id": "750869",
          "creator_id": "271572",
          "time": "20120524T13:39:32",
          "id": "4695924",
          "is_private": "False"
        },
        {
          "count": "41",
          "creator": "plautrba@redhat.com",
          "text": "Given that this was originally public bug and I changed groups to internal, I've removed groups redhat, qa, devel so this bug should be public now.",
          "author": "plautrba@redhat.com",
          "creation_time": "20120524T13:45:08",
          "bug_id": "750869",
          "creator_id": "270148",
          "time": "20120524T13:45:08",
          "id": "4695940",
          "is_private": "True"
        },
        {
          "count": "42",
          "creator": "dwalsh@redhat.com",
          "text": "Also can we unhide all the private comments.",
          "author": "dwalsh@redhat.com",
          "creation_time": "20120524T13:46:29",
          "bug_id": "750869",
          "creator_id": "81625",
          "time": "20120524T13:46:29",
          "id": "4695944",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.2"
      ],
      "cc": [
        "dwalsh@redhat.com",
        "ebenes@redhat.com",
        "eparis@redhat.com",
        "ksrot@redhat.com",
        "mgrepl@redhat.com",
        "mmalik@redhat.com",
        "mvadkert@redhat.com",
        "pmoore@redhat.com"
      ],
      "cf_verified": [
        "FailedQA"
      ],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "805204",
        "823677"
      ],
      "qa_contact": "mvadkert@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "sudo/newrole cannot validate logins",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "?",
          "name": "qe_test_coverage",
          "modification_date": "20120105T15:33:53",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20120105T15:33:53",
          "id": "955230",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "rhel-6.3.0",
          "modification_date": "20120518T19:31:52",
          "type_id": "276",
          "is_active": "0",
          "creation_date": "20111109T12:20:51",
          "id": "926869",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "blocker",
          "modification_date": "20120518T19:41:13",
          "type_id": "24",
          "is_active": "1",
          "creation_date": "20120518T19:41:13",
          "id": "1052060",
          "setter": "mgrepl@redhat.com"
        },
        {
          "status": "?",
          "name": "pm_ack",
          "modification_date": "20120521T05:19:26",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20111102T16:00:46",
          "id": "923742",
          "setter": "ksrot@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20120521T05:19:26",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20111102T16:00:46",
          "id": "923743",
          "setter": "ksrot@redhat.com"
        },
        {
          "status": "?",
          "name": "qa_ack",
          "modification_date": "20120105T15:23:41",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20111102T16:00:46",
          "id": "923744",
          "setter": "ksrot@redhat.com"
        }
      ],
      "last_change_time": "20120524T13:53:04",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509323-2lmny-bQ427JycsOvqj7hhR_wbWUPk3yMLEpsCdwgmI",
      "cf_partner": [],
      "cf_last_closed": "20120524T10:34:41",
      "resolution": "CANTFIX",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20111125T07:48:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "ZStream"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "None",
          "ext_bz_bug_id": "139473",
          "bug_id": "756929",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "69",
          "type": {
            "must_send": "False",
            "description": "TCMS Test Case",
            "url": "https://tcms.engineering.redhat.com",
            "can_get": "False",
            "id": "69",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          },
          "id": "66964"
        }
      ],
      "id": "756929",
      "cf_release_notes": "Previously, OpenSSH could use the Advanced Encryption Standard New Instructions (AES-NI) instruction set only with the AES Cipher-block chaining (CBC) cipher. This update adds support for Counter (CTR) mode encryption in OpenSSH so the AES-NI instruction set can now be used efficiently also with the AES CTR cipher.",
      "priority": "urgent",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "bkruell@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "bkruell@redhat.com",
          "text": "Description of problem:\n\nVolkswagen would like to be able to use aes-ni with the aes-ctr cipher for Openssh.\nAt the moment they can only use the aes-cbc cipher with aes-ni. The customer\nsaid that they want to ''test'' Red Hat if we are customer friendly and if we can implement this feature for Volkswagen.\n\nVersion-Release number of selected component (if applicable):\n\nRHEL 6\n\nHow reproducible:\n\nUse an Intel CPU with AES-NI. The aesni-intel Module should be loaded.\nUse scp -c $cipher.\n  \nActual results:\n\naes128-ctr 1G 100% 1024MB 27.7MB/s 00:37\naes192-ctr 1G 100% 1024MB 24.4MB/s 00:42\naes256-ctr 1G 100% 1024MB 21.8MB/s 00:47\naes128-cbc 1G 100% 1024MB 85.3MB/s 00:12\naes192-cbc 1G 100% 1024MB 78.8MB/s 00:13\naes256-cbc 1G 100% 1024MB 78.8MB/s 00:13\n\n\nExpected results:\n\naes*-ctr should be near the speed of aes*-cbc\n\nAdditional info:",
          "author": "bkruell@redhat.com",
          "creation_time": "20111125T07:48:16",
          "bug_id": "756929",
          "creator_id": "318660",
          "time": "20111125T07:48:16",
          "id": "4169283",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20111125T08:02:51",
          "bug_id": "756929",
          "creator_id": "193983",
          "time": "20111125T08:02:51",
          "id": "4169294",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "tmraz@redhat.com",
          "text": "This has to be fixed in openssh as it uses its own aes-ctr implementation.",
          "author": "tmraz@redhat.com",
          "creation_time": "20111125T08:29:55",
          "bug_id": "756929",
          "creator_id": "167996",
          "time": "20111125T08:29:55",
          "id": "4169330",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "jkodak@redhat.com",
          "text": "Lets include this in 6.3.",
          "author": "jkodak@redhat.com",
          "creation_time": "20111129T14:54:37",
          "bug_id": "756929",
          "creator_id": "312464",
          "time": "20111129T14:54:37",
          "id": "4178125",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "ksrot@redhat.com",
          "text": "Hi, \nI can't see any GSS ticket in external trackers. Is there any?",
          "author": "ksrot@redhat.com",
          "creation_time": "20120105T08:54:26",
          "bug_id": "756929",
          "creator_id": "286283",
          "time": "20120105T08:54:26",
          "id": "4287711",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "ebenes@redhat.com",
          "text": "qa_ack+ for 6.3\n\nRequired HW is available in Beaker inventory",
          "author": "ebenes@redhat.com",
          "creation_time": "20120105T09:36:58",
          "bug_id": "756929",
          "creator_id": "203333",
          "time": "20120105T09:36:58",
          "id": "4287818",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "sgrubb@redhat.com",
          "text": "Everyone please understand, when we take openssh through FIPS-140 certification we cannot and should not touch the crypto code. Doing so invalidates the certification. At a minimum we need to get a change letter with NIST to make it legal. I don't think that's free. Its not a case of us being customer friendly and adding this, because other customers will be unhappy that we lost the certification. We might be able to slip this in as a z-stream, otherwise this bug should be NACK'ed unless we have budget for correcting the FIPS-140 cert later.",
          "author": "sgrubb@redhat.com",
          "creation_time": "20120110T18:25:25",
          "bug_id": "756929",
          "creator_id": "168751",
          "time": "20120110T18:25:25",
          "id": "4299511",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "ebenes@redhat.com",
          "text": "(In reply to comment #6)\n> Everyone please understand, when we take openssh through FIPS-140 certification\n> we cannot and should not touch the crypto code. Doing so invalidates the\n> certification. At a minimum we need to get a change letter with NIST to make it\n> legal. I don't think that's free. Its not a case of us being customer friendly\n> and adding this, because other customers will be unhappy that we lost the\n> certification. We might be able to slip this in as a z-stream, otherwise this\n> bug should be NACK'ed unless we have budget for correcting the FIPS-140 cert\n> later.\n\nLooks like the devel_ack should be cleared then? If it invalidates the certification and there is no solution how to get this in it should be moved to next certification.",
          "author": "ebenes@redhat.com",
          "creation_time": "20120111T12:20:12",
          "bug_id": "756929",
          "creator_id": "203333",
          "time": "20120111T12:20:12",
          "id": "4301474",
          "is_private": "True"
        },
        {
          "count": "8",
          "attachment_id": "552118",
          "author": "tmraz@redhat.com",
          "text": "Created attachment 552118\nProposed patch\n\nThis quite simple patch for current Fedora rawhide package implements this feature. It is directly applicable to the RHEL-6 package as well.",
          "creator": "tmraz@redhat.com",
          "creation_time": "20120111T13:35:40",
          "bug_id": "756929",
          "creator_id": "167996",
          "time": "20120111T13:35:40",
          "id": "4301677",
          "is_private": "False"
        },
        {
          "count": "9",
          "attachment_id": "552119",
          "author": "tmraz@redhat.com",
          "text": "Created attachment 552119\nAnd even faster slightly uglier patch\n\nThis patch is slightly uglier however even faster than the simple one. With this patch on my workstation the performance is even better than for the aes-cbc ciphers.",
          "creator": "tmraz@redhat.com",
          "creation_time": "20120111T13:37:45",
          "bug_id": "756929",
          "creator_id": "167996",
          "time": "20120111T13:37:45",
          "id": "4301682",
          "is_private": "False"
        },
        {
          "count": "10",
          "creator": "tmraz@redhat.com",
          "text": "To illustrate the speed difference:\n\nWithout the AES-NI acceleration aes128-ctr (the upstream aes-ctr.c) - speed of scp of a RAM cached large file to TMPFS drive is cca 76MB/s\n\nWith aes128-cbc the speed is about 220MB/s\n\nWith the first patch and aes128-ctr the speed is about 180MB/s\n\nWith the second patch and aes128-ctr the speed is about 250MB/s (so even faster than aes128-cbc).",
          "author": "tmraz@redhat.com",
          "creation_time": "20120111T14:14:20",
          "bug_id": "756929",
          "creator_id": "167996",
          "time": "20120111T14:14:20",
          "id": "4301789",
          "is_private": "False"
        },
        {
          "count": "11",
          "creator": "sgrubb@redhat.com",
          "text": "Can the acceleration be disabled on-demand with the proposed patch? There should also be a man page update describing that. Thanks.",
          "author": "sgrubb@redhat.com",
          "creation_time": "20120111T15:13:08",
          "bug_id": "756929",
          "creator_id": "168751",
          "time": "20120111T15:13:08",
          "id": "4302020",
          "is_private": "False"
        },
        {
          "count": "12",
          "creator": "sgrubb@redhat.com",
          "text": "In response to comment #8, if this can be pushed through z-stream by next week, we can push this through certification - only because we need to provide a CAVS driver for CTR mode - not the merit of this bug. I just want to make sure everyone understands that crypto is off limits after the FIPS cert unless there is money budgeted for re-certifying. Also see bz #696442 as an example of another request that invalidate our crypto certification.",
          "author": "sgrubb@redhat.com",
          "creation_time": "20120111T15:18:02",
          "bug_id": "756929",
          "creator_id": "168751",
          "time": "20120111T15:18:02",
          "id": "4302037",
          "is_private": "True"
        },
        {
          "count": "13",
          "creator": "tmraz@redhat.com",
          "text": "Yes, the acceleration can be disabled the same way as for the aes-cbc ciphers - we added a special environment variable for this purpose to the openssl package (OPENSSL_DISABLE_AES_NI). This is described in the openssl errata that adds this.\n\nNote that this patch does not do any acceleration on its own it just makes the OpenSSL calls for aes-ctr to use the same interface (where aes-ni acceleration is possible) as is used for aes-cbc.",
          "author": "tmraz@redhat.com",
          "creation_time": "20120111T15:36:24",
          "bug_id": "756929",
          "creator_id": "167996",
          "time": "20120111T15:36:24",
          "id": "4302096",
          "is_private": "False"
        },
        {
          "count": "14",
          "creator": "sgrubb@redhat.com",
          "text": "PM said they want this pushed through FIPS-140. We need to push this out z-stream asap because we are finalizing the package list for common criteria and FIPS.",
          "author": "sgrubb@redhat.com",
          "creation_time": "20120112T19:26:43",
          "bug_id": "756929",
          "creator_id": "168751",
          "time": "20120112T19:26:43",
          "id": "4305581",
          "is_private": "True"
        },
        {
          "count": "15",
          "creator": "mvadkert@redhat.com",
          "text": "Notes for QE:\n\nFor testing confirm speed increase when using aes-ctr cipher with CPU supporting AES-NI. This bug is gradeB. Also test if AES-NI acceleration can be disabled via OPENSSL_DISABLE_AES_NI.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20120116T14:32:09",
          "bug_id": "756929",
          "creator_id": "271572",
          "time": "20120116T14:32:09",
          "id": "4366552",
          "is_private": "True"
        },
        {
          "count": "16",
          "creator": "pm-rhel@redhat.com",
          "text": "This bug has been copied as 6.2 z-stream (EUS) bug #782367 and now must be\nresolved in the current update release, set blocker flag.\n\nCopy created by jpallich@dhcp-25-13.brq.redhat.com.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120117T10:09:36",
          "bug_id": "756929",
          "creator_id": "193983",
          "time": "20120117T10:09:36",
          "id": "4368413",
          "is_private": "True"
        },
        {
          "count": "17",
          "creator": "msvoboda@redhat.com",
          "text": "\n    Technical note added. If any revisions are required, please edit the ''Technical Notes'' field\n    accordingly. All revisions will be proofread by the Engineering Content Services team.\n    \n    New Contents:\nPreviously, OpenSSH could use the Advanced Encryption Standard New Instructions (AES-NI) instruction set only with the AES Cipher-block chaining (CBC) cipher. This update adds support for Counter (CTR) mode encryption in OpenSSH so the AES-NI instruction set can now be used efficiently also with the AES CTR cipher.",
          "author": "msvoboda@redhat.com",
          "creation_time": "20120123T11:38:35",
          "bug_id": "756929",
          "creator_id": "314704",
          "time": "20120123T11:38:35",
          "id": "4378627",
          "is_private": "False"
        },
        {
          "count": "18",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2012:12754-01\nhttp://errata.devel.redhat.com/errata/show/12754",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120229T10:24:21",
          "bug_id": "756929",
          "creator_id": "241731",
          "time": "20120229T10:24:21",
          "id": "4483228",
          "is_private": "True"
        },
        {
          "count": "19",
          "creator": "zaljuboo@redhat.com",
          "text": "User bkruell@redhat.com's account has been closed",
          "author": "zaljuboo@redhat.com",
          "creation_time": "20120424T01:43:54",
          "bug_id": "756929",
          "creator_id": "326111",
          "time": "20120424T01:43:54",
          "id": "4622313",
          "is_private": "True"
        },
        {
          "count": "20",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2012:12754-01: \nhttp://errata.devel.redhat.com/errata/stateview/12754\n\nVERIFIED as fixed in NEW package openssh-5.3p1-78.el6\nAES-NI support with aes-ctr cipher is now working with latest EL6.3 openssh package\n\nNEW package openssh-5.3p1-78.el6:\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Speed aes256-ctr with AES-NI\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'export -n OPENSSL_DISABLE_AES_NI'\n:: [   PASS   ] :: Running 'sed -i 's/\\(.*OPENSSL_DISABLE_AES_NI.*\\)/#\\1/g' /etc/sysconfig/sshd'\n:: [   PASS   ] :: Running 'service sshd restart'\n:: [   PASS   ] :: Running '(time dd if=/dev/zero count=50 bs=1M | ssh -c aes256-ctr localhost ''cat >/dev/null'') &> /tmp/tmp.GZDGvhOl1c'\n:: [   PASS   ] :: Running 'SPEEDN=36.3'\n:: [   LOG    ] :: Speed aes256-ctr with AES-NI: 36.3 MB/s\n:: [   PASS   ] :: Running 'perl -e ''if ( 18.7*1.5 < 36.3 ) { print 'PASS'; } else { print 'FAIL'; }'' &> /tmp/tmp.0DpFAh3HTP'\n:: [   PASS   ] :: File '/tmp/tmp.0DpFAh3HTP' should contain 'PASS'\n:: [   LOG    ] :: Duration: 3s\n:: [   LOG    ] :: Assertions: 7 good, 0 bad\n:: [   PASS   ] :: RESULT: Speed aes256-ctr with AES-NI\n\nOLD package openssh-5.3p1-70.el6:\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Speed aes256-ctr with AES-NI\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'export -n OPENSSL_DISABLE_AES_NI'\n:: [   PASS   ] :: Running 'sed -i 's/\\(.*OPENSSL_DISABLE_AES_NI.*\\)/#\\1/g' /etc/sysconfig/sshd'\n:: [   PASS   ] :: Running 'service sshd restart'\n:: [   PASS   ] :: Running '(time dd if=/dev/zero count=50 bs=1M | ssh -c aes256-ctr localhost ''cat >/dev/null'') &> /tmp/tmp.GsJmNY903T'\n:: [   PASS   ] :: Running 'SPEEDN=23.3'\n:: [   LOG    ] :: Speed aes256-ctr with AES-NI: 23.3 MB/s\n:: [   PASS   ] :: Running 'perl -e ''if ( 17.8*1.5 < 23.3 ) { print 'PASS'; } else { print 'FAIL'; }'' &> /tmp/tmp.84YRz8eu1k'\n:: [   FAIL   ] :: File '/tmp/tmp.84YRz8eu1k' should contain 'PASS' \n:: [   LOG    ] :: Duration: 4s\n:: [   LOG    ] :: Assertions: 6 good, 1 bad\n:: [   FAIL   ] :: RESULT: Speed aes256-ctr with AES-NI",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120425T12:17:25",
          "bug_id": "756929",
          "creator_id": "241731",
          "time": "20120425T12:17:25",
          "id": "4627096",
          "is_private": "True"
        },
        {
          "count": "21",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHSA-2012-0884.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120620T07:17:24",
          "bug_id": "756929",
          "creator_id": "241731",
          "time": "20120620T07:17:24",
          "id": "4841689",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.1"
      ],
      "cc": [
        "dapospis@redhat.com",
        "jkodak@redhat.com",
        "jpallich@redhat.com",
        "jrieden@redhat.com",
        "ksrot@redhat.com",
        "msvoboda@redhat.com",
        "mvadkert@redhat.com",
        "pvrabec@redhat.com",
        "sgrubb@redhat.com",
        "tmraz@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "782367"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "devel",
        "qa",
        "redhat",
        "rhn",
        "suseng"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "PMApproved",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "Make openssh use the AES-NI with aes-ctr Cipher",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20121105T15:31:24",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20120105T09:36:58",
          "id": "954890",
          "setter": "dapospis@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.3.0",
          "modification_date": "20120105T09:43:06",
          "type_id": "276",
          "is_active": "0",
          "creation_date": "20111125T08:02:49",
          "id": "935098",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "blocker",
          "modification_date": "20120117T10:09:40",
          "type_id": "24",
          "is_active": "1",
          "creation_date": "20120117T10:09:40",
          "id": "961225",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20111129T14:47:55",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20111125T08:16:22",
          "id": "935103",
          "setter": "jkodak@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20111209T10:02:29",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20111129T14:55:43",
          "id": "936695",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20120105T09:36:58",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20111208T13:03:43",
          "id": "940975",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20121105T19:22:08",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509323-NyBNH0qMAh7r_44Uq2fzVdCqMDJU07FUYRcLn5uf1ds",
      "cf_partner": [],
      "cf_last_closed": "20120620T07:17:24",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20120116T13:57:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "ZStream"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "782091",
      "cf_release_notes": "",
      "priority": "urgent",
      "severity": "urgent",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "tmraz@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "tmraz@redhat.com",
          "text": "Description of problem:\nFor easier and proper CAVS validation of the aes-ctr algorithms in the openssh FIPS modules we need to add a CAVS test binary that performs encryption and decryption of data with a given key and IV.\n\nSee the attached patch that applies to the current Fedora rawhide package and that should be trivially backportable to RHEL6.\n\nWe need this in 6.2.z stream package.",
          "author": "tmraz@redhat.com",
          "creation_time": "20120116T13:57:10",
          "bug_id": "782091",
          "creator_id": "167996",
          "time": "20120116T13:57:10",
          "id": "4366433",
          "is_private": "False"
        },
        {
          "count": "1",
          "attachment_id": "555514",
          "author": "tmraz@redhat.com",
          "text": "Created attachment 555514\nPatch for Fedora rawhide trivially backportable.",
          "creator": "tmraz@redhat.com",
          "creation_time": "20120116T13:57:58",
          "bug_id": "782091",
          "creator_id": "167996",
          "time": "20120116T13:57:58",
          "id": "4366434",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "mvadkert@redhat.com",
          "text": "Giving qa_ack, we need to roll this out ASAP.\n\nFor testing only run do sanity testing on the new added binary - ctr-cavstest",
          "author": "mvadkert@redhat.com",
          "creation_time": "20120116T14:26:51",
          "bug_id": "782091",
          "creator_id": "271572",
          "time": "20120116T14:26:51",
          "id": "4366538",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "pm-rhel@redhat.com",
          "text": "This bug has been copied as 6.2 z-stream (EUS) bug #782368 and now must be\nresolved in the current update release, set blocker flag.\n\nCopy created by jpallich@dhcp-25-13.brq.redhat.com.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120117T10:10:59",
          "bug_id": "782091",
          "creator_id": "193983",
          "time": "20120117T10:10:59",
          "id": "4368420",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "tmraz@redhat.com",
          "text": "Our FIPS certification laboratory - ATSEC - got information from NIST that this tool is not needed. So please drop it from the 5.8.Z-stream errata and 5.9 branch and close this as NOTABUG.",
          "author": "tmraz@redhat.com",
          "creation_time": "20120117T20:08:26",
          "bug_id": "782091",
          "creator_id": "167996",
          "time": "20120117T20:08:26",
          "id": "4369807",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "tmraz@redhat.com",
          "text": "I apologize for the confusion - I meant 6.2.Z-stream and 6.3 above.",
          "author": "tmraz@redhat.com",
          "creation_time": "20120118T07:50:03",
          "bug_id": "782091",
          "creator_id": "167996",
          "time": "20120118T07:50:03",
          "id": "4370699",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "dapospis@redhat.com",
          "text": "Setting qe_test_coverage\u2011 as this is not a bug.",
          "author": "dapospis@redhat.com",
          "creation_time": "20121106T12:30:59",
          "bug_id": "782091",
          "creator_id": "319215",
          "time": "20121106T12:30:59",
          "id": "5174245",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.2"
      ],
      "cc": [
        "dapospis@redhat.com",
        "jpallich@redhat.com",
        "jrieden@redhat.com",
        "mvadkert@redhat.com",
        "pvrabec@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "782368"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "devel",
        "errata",
        "qa",
        "redhat",
        "rhn",
        "suseng"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "PMApproved",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "Add a CAVS test driver for the aes-ctr algorithm implementation",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "-",
          "name": "qe_test_coverage",
          "modification_date": "20121105T15:30:14",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20120116T14:28:09",
          "id": "960477",
          "setter": "dapospis@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.3.0",
          "modification_date": "20120116T15:14:05",
          "type_id": "276",
          "is_active": "0",
          "creation_date": "20120116T13:57:10",
          "id": "960445",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "blocker",
          "modification_date": "20120117T10:11:04",
          "type_id": "24",
          "is_active": "1",
          "creation_date": "20120117T10:11:04",
          "id": "961230",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20120116T14:06:56",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20120116T14:05:24",
          "id": "960451",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20120116T15:09:30",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20120116T14:11:46",
          "id": "960452",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20120116T14:26:51",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20120116T14:11:46",
          "id": "960453",
          "setter": "mvadkert@redhat.com"
        }
      ],
      "last_change_time": "20121106T12:30:59",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509324-t_Mop0Fi3B0UEd72SXaAjb5bt7BZ-RLdVGqMomslAZY",
      "cf_partner": [],
      "cf_last_closed": "20120118T08:21:23",
      "resolution": "NOTABUG",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [
        "756929"
      ],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20120117T10:09:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "ZStream"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "782367",
      "cf_release_notes": "Previously, OpenSSH could use the Advanced Encryption Standard New Instructions (AES-NI) instruction set only with the AES Cipher-block chaining (CBC) cipher. This update adds support for Counter (CTR) mode encryption in OpenSSH so the AES-NI instruction set can now be used efficiently also with the AES CTR cipher.",
      "priority": "urgent",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-70.el6_2.1",
      "creator": "pm-rhel@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "pm-rhel@redhat.com",
          "text": "This bug has been copied from bug #756929 and has been proposed\nto be backported to 6.2 z-stream (EUS).",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120117T10:09:11",
          "bug_id": "782367",
          "creator_id": "193983",
          "time": "20120117T10:09:11",
          "id": "4368409",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Copy created by jpallich@dhcp-25-13.brq.redhat.com.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120117T10:09:19",
          "bug_id": "782367",
          "creator_id": "193983",
          "time": "20120117T10:09:19",
          "id": "4368410",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "pm-rhel@redhat.com",
          "text": "Devel ack is needed to complete 3ACK process and approval.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120117T10:09:22",
          "bug_id": "782367",
          "creator_id": "193983",
          "time": "20120117T10:09:22",
          "id": "4368411",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "pm-rhel@redhat.com",
          "text": "If you as an assigned engineer don't know what to do with the Z-stream bugzilla\nlook at the EUS mini HOWTO at:\n\n * Developer howto:\n http://intranet.corp.redhat.com/ic/intranet/ZStreamMiniHOWTOGenPackage.html\n\n * QE - EUS test guidelines:\n http://wiki.test.redhat.com/RhelQe/ZStreamEusTestGuidelines\n\n * If you want to learn more about EUS and z-stream you can read training presentation located here:\n https://docspace.corp.redhat.com/docs/DOC-50511",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120117T10:09:30",
          "bug_id": "782367",
          "creator_id": "193983",
          "time": "20120117T10:09:30",
          "id": "4368412",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2012:12453-01\nhttp://errata.devel.redhat.com/errata/show/12453",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120117T13:33:09",
          "bug_id": "782367",
          "creator_id": "241731",
          "time": "20120117T13:33:09",
          "id": "4368815",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "msvoboda@redhat.com",
          "text": "\n    Technical note added. If any revisions are required, please edit the ''Technical Notes'' field\n    accordingly. All revisions will be proofread by the Engineering Content Services team.\n    \n    New Contents:\nPreviously, OpenSSH could use the Advanced Encryption Standard New Instructions (AES-NI) instruction set only with the AES Cipher-block chaining (CBC) cipher. This update adds support for Counter (CTR) mode encryption in OpenSSH so the AES-NI instruction set can now be used efficiently also with the AES CTR cipher.",
          "author": "msvoboda@redhat.com",
          "creation_time": "20120123T11:38:41",
          "bug_id": "782367",
          "creator_id": "314704",
          "time": "20120123T11:38:41",
          "id": "4378628",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHEA-2012:12453-03: \nhttp://errata.devel.redhat.com/errata/stateview/12453\n\nVERIFIED as fixed in openssh-5.3p1-70.el6_2.2\n\nAES-NI is now also used for aes-ctr and the performance is improved.\n\nNEW package openssh-5.3p1-70.el6_2.2:\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Speed aes256-ctr without AES-NI\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'export OPENSSL_DISABLE_AES_NI=1'\n:: [   PASS   ] :: Running '(time dd if=/dev/zero count=50 bs=1M | ssh -c aes128-cbc localhost ''cat >/dev/null'') &> /tmp/tmp.4I0jjziPsy'\n:: [   PASS   ] :: Running 'SPEED=46.5'\n:: [   LOG    ] :: Speed aes256-ctr w/o AES-NI: 46.5 MB/s\n:: [   LOG    ] :: Duration: 1s\n:: [   LOG    ] :: Assertions: 3 good, 0 bad\n:: [   PASS   ] :: RESULT: Speed aes256-ctr without AES-NI\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Speed aes256-ctr with AES-NI\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'export -n OPENSSL_DISABLE_AES_NI'\n:: [   PASS   ] :: Running '(time dd if=/dev/zero count=50 bs=1M | ssh -c aes128-cbc localhost ''cat >/dev/null'') &> /tmp/tmp.JJeP6LJXje'\n:: [   PASS   ] :: Running 'SPEEDN=89.0'\n:: [   LOG    ] :: Speed aes256-ctr with AES-NI: 89.0 MB/s\n:: [   PASS   ] :: Running 'perl -e ''if ( 46.5*1.5 < 89.0 ) { print 'PASS'; } else { print 'FAIL'; }'' &> /tmp/tmp.4I0jjziPsy'\n:: [   PASS   ] :: File '/tmp/tmp.4I0jjziPsy' should contain 'PASS'\n:: [   LOG    ] :: Duration: 2s\n:: [   LOG    ] :: Assertions: 5 good, 0 bad\n:: [   PASS   ] :: RESULT: Speed aes256-ctr with AES-NI\n\n\nOLD package openssh-5.3p1-70.el6:\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Speed aes256-ctr without AES-NI\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'export OPENSSL_DISABLE_AES_NI=1'\n:: [   PASS   ] :: Running 'echo 'export OPENSSL_DISABLE_AES_NI=1' >> /etc/sysconfig/sshd'\n:: [   PASS   ] :: Running 'service sshd restart'\n:: [   PASS   ] :: Running '(time dd if=/dev/zero count=50 bs=1M | ssh -c aes256-ctr localhost ''cat >/dev/null'') &> /tmp/tmp.TNYKEW0wzv'\n:: [   PASS   ] :: Running 'SPEED=23.8'\n:: [   LOG    ] :: Speed aes256-ctr w/o AES-NI: 23.8 MB/s\n:: [   LOG    ] :: Duration: 3s\n:: [   LOG    ] :: Assertions: 5 good, 0 bad\n:: [   PASS   ] :: RESULT: Speed aes256-ctr without AES-NI\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Speed aes256-ctr with AES-NI\n:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'export -n OPENSSL_DISABLE_AES_NI'\n:: [   PASS   ] :: Running 'sed -i 's/\\(.*OPENSSL_DISABLE_AES_NI.*\\)/#\\1/g' /etc/sysconfig/sshd'\n:: [   PASS   ] :: Running 'service sshd restart'\n:: [   PASS   ] :: Running '(time dd if=/dev/zero count=50 bs=1M | ssh -c aes256-ctr localhost ''cat >/dev/null'') &> /tmp/tmp.bUxOPP5PMJ'\n:: [   PASS   ] :: Running 'SPEEDN=34.7'\n:: [   LOG    ] :: Speed aes256-ctr with AES-NI: 34.7 MB/s\n:: [   PASS   ] :: Running 'perl -e ''if ( 23.8*1.5 < 34.7 ) { print 'PASS'; } else { print 'FAIL'; }'' &> /tmp/tmp.TNYKEW0wzv'\n:: [   FAIL   ] :: File '/tmp/tmp.TNYKEW0wzv' should contain 'PASS'\n:: [   LOG    ] :: Duration: 3s\n:: [   LOG    ] :: Assertions: 6 good, 1 bad\n:: [   FAIL   ] :: RESULT: Speed aes256-ctr with AES-NI",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120124T17:10:14",
          "bug_id": "782367",
          "creator_id": "241731",
          "time": "20120124T17:10:14",
          "id": "4381932",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHEA-2012-0065.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120125T15:25:26",
          "bug_id": "782367",
          "creator_id": "241731",
          "time": "20120125T15:25:26",
          "id": "4383844",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.1"
      ],
      "cc": [
        "bkruell@redhat.com",
        "jkodak@redhat.com",
        "jpallich@redhat.com",
        "jrieden@redhat.com",
        "ksrot@redhat.com",
        "msvoboda@redhat.com",
        "mvadkert@redhat.com",
        "plautrba@redhat.com",
        "pm-eus@redhat.com",
        "pvrabec@redhat.com",
        "sgrubb@redhat.com",
        "tmraz@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "devel",
        "qa",
        "redhat",
        "rhn",
        "suseng"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "PMApproved",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "Make openssh use the AES-NI with aes-ctr Cipher",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.2.z",
          "modification_date": "20120117T10:23:20",
          "type_id": "315",
          "is_active": "1",
          "creation_date": "20120117T10:09:15",
          "id": "961221",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20120117T10:09:15",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20120117T10:09:15",
          "id": "961222",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20120117T10:15:07",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20120117T10:09:15",
          "id": "961223",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20120117T10:09:15",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20120117T10:09:15",
          "id": "961224",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20120125T15:25:26",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509324-RSE1IeOvNWGSlH-ynZp72cgOkuMNholIiOvuq6RAFTE",
      "cf_partner": [],
      "cf_last_closed": "20120125T15:25:26",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [
        "782091"
      ],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20120117T10:10:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "ZStream"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "782368",
      "cf_release_notes": "",
      "priority": "urgent",
      "severity": "urgent",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-70.el6_2.1",
      "creator": "pm-rhel@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "pm-rhel@redhat.com",
          "text": "This bug has been copied from bug #782091 and has been proposed\nto be backported to 6.2 z-stream (EUS).",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120117T10:10:36",
          "bug_id": "782368",
          "creator_id": "193983",
          "time": "20120117T10:10:36",
          "id": "4368416",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Copy created by jpallich@dhcp-25-13.brq.redhat.com.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120117T10:10:43",
          "bug_id": "782368",
          "creator_id": "193983",
          "time": "20120117T10:10:43",
          "id": "4368417",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "pm-rhel@redhat.com",
          "text": "Devel ack is needed to complete 3ACK process and approval.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120117T10:10:46",
          "bug_id": "782368",
          "creator_id": "193983",
          "time": "20120117T10:10:46",
          "id": "4368418",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "pm-rhel@redhat.com",
          "text": "If you as an assigned engineer don't know what to do with the Z-stream bugzilla\nlook at the EUS mini HOWTO at:\n\n * Developer howto:\n http://intranet.corp.redhat.com/ic/intranet/ZStreamMiniHOWTOGenPackage.html\n\n * QE - EUS test guidelines:\n http://wiki.test.redhat.com/RhelQe/ZStreamEusTestGuidelines\n\n * If you want to learn more about EUS and z-stream you can read training presentation located here:\n https://docspace.corp.redhat.com/docs/DOC-50511",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120117T10:10:53",
          "bug_id": "782368",
          "creator_id": "193983",
          "time": "20120117T10:10:53",
          "id": "4368419",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2012:12453-01\nhttp://errata.devel.redhat.com/errata/show/12453",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120117T13:33:14",
          "bug_id": "782368",
          "creator_id": "241731",
          "time": "20120117T13:33:14",
          "id": "4368816",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "tmraz@redhat.com",
          "text": "Our FIPS certification laboratory - ATSEC - got information from NIST that this tool is not needed. So please drop it from the 5.8.Z-stream errata and 5.9 branch and close this as NOTABUG.",
          "author": "tmraz@redhat.com",
          "creation_time": "20120117T20:08:19",
          "bug_id": "782368",
          "creator_id": "167996",
          "time": "20120117T20:08:19",
          "id": "4369806",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "tmraz@redhat.com",
          "text": "I apologize for the confusion - I meant 6.2.Z-stream and 6.3 above.",
          "author": "tmraz@redhat.com",
          "creation_time": "20120118T07:51:28",
          "bug_id": "782368",
          "creator_id": "167996",
          "time": "20120118T07:51:28",
          "id": "4370702",
          "is_private": "True"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.2"
      ],
      "cc": [
        "jpallich@redhat.com",
        "jrieden@redhat.com",
        "mvadkert@redhat.com",
        "plautrba@redhat.com",
        "pm-eus@redhat.com",
        "pvrabec@redhat.com",
        "tmraz@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "devel",
        "errata",
        "qa",
        "redhat",
        "rhn",
        "suseng"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "PMApproved",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "Add a CAVS test driver for the aes-ctr algorithm implementation",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.2.z",
          "modification_date": "20120117T10:23:12",
          "type_id": "315",
          "is_active": "1",
          "creation_date": "20120117T10:10:39",
          "id": "961226",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20120117T10:10:39",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20120117T10:10:39",
          "id": "961227",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20120117T10:15:15",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20120117T10:10:39",
          "id": "961228",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20120117T10:10:39",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20120117T10:10:39",
          "id": "961229",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20120118T08:23:39",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509324-fbGXE_bKUGN5fPqqjpdvtxw7ueQEUPeAWJCjVk1awr4",
      "cf_partner": [],
      "cf_last_closed": "20120118T08:23:39",
      "resolution": "NOTABUG",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "1000",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20120629T20:14:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "ZStream"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00664322",
          "bug_id": "836655",
          "ext_description": "segfault in ssh client on s390x connecting out to any other system",
          "ext_priority": "2 (High)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "72272"
        },
        {
          "ext_status": "None",
          "ext_bz_bug_id": "213284",
          "bug_id": "836655",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "69",
          "type": {
            "must_send": "False",
            "description": "TCMS Test Case",
            "url": "https://tcms.engineering.redhat.com",
            "can_get": "False",
            "id": "69",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          },
          "id": "80541"
        }
      ],
      "id": "836655",
      "cf_release_notes": "On the IBM System z architecture, when SELinux was disabled on the system, no on-disk policy was installed, an user account was used for a connection, and no ''~/.ssh'' configuration was present in that user's home directory, the ssh client terminated unexpectedly with a segmentation fault when attempting to connect to another system. A patch has been provided to address this issue and the crashes no longer occur in the described scenario.",
      "priority": "urgent",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "jhunt@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "jhunt@redhat.com",
          "text": "Description of problem:\n\nsegfault in ssh client on s390x connecting out to any other system\n\nVersion-Release number of selected component (if applicable):\n\nThis first appeared in openssh-clients-5.3p1-70.el6_2.2, and is still present in the latest version downloaded from RHN (openssh-clients-5.3p1-81.el6).  It did not occur in openssh-5.3p1-52.el6_1.2\n\n\nHow reproducible:\n\nAlways\n\nSteps to Reproduce:\n1.  Install system without any selinux packages\n2.  from system ssh to any other client\n  \nActual results:\n\nssh -v xxxxx@xxxxxx\nOpenSSH_5.3p1, OpenSSL 1.0.0-fips 29 Mar 2010\ndebug1: Reading configuration data /etc/ssh/ssh_config\ndebug1: Applying options for *\ndebug1: Connecting to xxxxxx [xxx.xxx.xxx.xxx] port 22.\ndebug1: Connection established.\ndebug1: permanently_set_uid: 0/0\nSegmentation fault (core dumped)\n\nExpected results:\n\nActual connection to client",
          "author": "jhunt@redhat.com",
          "creation_time": "20120629T20:14:48",
          "bug_id": "836655",
          "creator_id": "254821",
          "time": "20120629T20:14:48",
          "id": "4868433",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "jhunt@redhat.com",
          "text": "gdb output from core.\n\n\nCore was generated by `ssh kehall@vzd0001'.\nProgram terminated with signal 11, Segmentation fault.\n#0  __strdup (s=0x3ff00000000 <Address 0x3ff00000000 out of bounds>) at strdup.c:42\n42\t  size_t len = strlen (s) + 1;\n(gdb) thread apply all bt\n\nThread 1 (Thread 0x3fffca087c0 (LWP 63103)):\n#0  __strdup (s=0x3ff00000000 <Address 0x3ff00000000 out of bounds>) at strdup.c:42\n#1  0x000003fffd20d350 in selinux_trans_to_raw_context (\n    trans=0x3ff00000000 <Address 0x3ff00000000 out of bounds>, rawp=0x3ffff93de18)\n    at setrans_client.c:290\n#2  0x000003fffd20b938 in setprocattrcon (context=<value optimized out>, \n    attr=0x3fffd210874 ''fscreate'', pid=0) at procattr.c:135\n#3  0x000002aac7b49156 in main (ac=<value optimized out>, av=<value optimized out>)\n    at ssh.c:800\n(gdb) bt full\n#0  __strdup (s=0x3ff00000000 <Address 0x3ff00000000 out of bounds>) at strdup.c:42\n        len = <value optimized out>\n        new = <value optimized out>\n#1  0x000003fffd20d350 in selinux_trans_to_raw_context (\n    trans=0x3ff00000000 <Address 0x3ff00000000 out of bounds>, rawp=0x3ffff93de18)\n    at setrans_client.c:290\nNo locals.\n#2  0x000003fffd20b938 in setprocattrcon (context=<value optimized out>, \n    attr=0x3fffd210874 ''fscreate'', pid=0) at procattr.c:135\n        ret = <value optimized out>\n        rcontext = 0x3ff00000000 <Address 0x3ff00000000 out of bounds>\n#3  0x000002aac7b49156 in main (ac=<value optimized out>, av=<value optimized out>)\n    at ssh.c:800\n        scon = 0x3ff00000000 <Address 0x3ff00000000 out of bounds>\n        i = <value optimized out>\n        r = <value optimized out>\n        opt = <value optimized out>\n        exit_status = <value optimized out>\n        use_syslog = 0\n        p = <value optimized out>\n        cp = <value optimized out>\n        line = <value optimized out>\n        argv0 = 0x3ffff93f8cb ''ssh''\n        buf = ''/home/kehall/.ssh\\000config\\000\\000\\000\\003\\377\\377\\223\\362\\317\\000\\000\\003\\377\\375#\\256$\\000\\000\\003\\377\\377\\223\\362\\220\\000\\000\\003\\377\\374\\245\\060\\000\\000\\000\\003\\377\\374\\315\\340'', '\\000' <repeats 11 times>, ''\\003\\377\\377\\223\\362\\220\\000\\000\\003\\377\\374\\346\\t\\230\\000\\000\\003\\377\\000\\000\\000\\006\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\003\\377\\374\\341\\376P\\000\\000\\003\\377\\377\\223\\361H\\000\\000\\003\\377\\374\\373\\300\\000\\000\\000\\003\\377\\375$\\215\\030\\000\\000\\003\\377\\375#\\326@\\000\\000\\003\\377\\377\\223\\337\\350\\000\\000\\003\\377\\377\\223\\362\\220\\000\\000\\003\\377\\374\\315\\340\\000\\000\\000\\003\\377\\000\\000\\000\\001\\000\\000\\000\\000\\000\\000\\000\\002\\000\\000\\003\\377\\374\\315\\177\\260\\000\\000\\003\\377\\377\\223\\361H\\000\\000\\003\\377\\374\\373\\300\\000\\000\\000\\003\\377\\375$\\215\\030\\000\\000\\003\\377\\375#\\267<\\000\\000\\003\\377\\377\\223\\340\\360'', '\\000' <repeats 16 times>, ''?\\360'', '\\000' <repeats 16 times>, ''\\003\\377\\375$\\371\\220'', '\\000' <repeats 15 times>, ''\\001\\000\\000\\003\\377\\374\\342~p\\000\\000\\003\\377\\377\\223\\361H\\000\\000\\003\\377\\374\\373\\300\\000\\000\\000\\003\\377\\000\\000\\000\\000\\000\\000''...\n        st = {st_dev = 4397992869392, st_ino = 4398039429448, st_nlink = 4397995900928, \n          st_mode = 1023, st_uid = 4247031064, st_gid = 0, pad0 = 0, \n          st_rdev = 4398039424744, st_size = 4607182418800017408, st_atim = {tv_sec = 0, \n            tv_nsec = 0}, st_mtim = {tv_sec = 0, tv_nsec = 4398039429448}, st_ctim = {\n            tv_sec = 4398039429776, tv_nsec = 4397992895688}, st_blksize = 4393751543810, \n          st_blocks = 3, __unused = {4397991083952, 4398039429448, 4397995900928}}\n        pw = 0x2aaf2a4b5f0\n        dummy = 1\n        timeout_ms = -1000\n        sp = <value optimized out>\n        fwd = {listen_host = 0x3fffd23ae24 ''\\353o\\360\\060'', listen_port = 1023, \n          connect_host = 0x3fffccde000 '''', connect_port = 1023}\n(gdb) thread apply all bt full\n\nThread 1 (Thread 0x3fffca087c0 (LWP 63103)):\n#0  __strdup (s=0x3ff00000000 <Address 0x3ff00000000 out of bounds>) at strdup.c:42\n        len = <value optimized out>\n        new = <value optimized out>\n#1  0x000003fffd20d350 in selinux_trans_to_raw_context (\n    trans=0x3ff00000000 <Address 0x3ff00000000 out of bounds>, rawp=0x3ffff93de18)\n    at setrans_client.c:290\nNo locals.\n#2  0x000003fffd20b938 in setprocattrcon (context=<value optimized out>, \n    attr=0x3fffd210874 ''fscreate'', pid=0) at procattr.c:135\n        ret = <value optimized out>\n        rcontext = 0x3ff00000000 <Address 0x3ff00000000 out of bounds>\n#3  0x000002aac7b49156 in main (ac=<value optimized out>, av=<value optimized out>)\n    at ssh.c:800\n        scon = 0x3ff00000000 <Address 0x3ff00000000 out of bounds>\n        i = <value optimized out>\n        r = <value optimized out>\n        opt = <value optimized out>\n        exit_status = <value optimized out>\n        use_syslog = 0\n        p = <value optimized out>\n        cp = <value optimized out>\n        line = <value optimized out>\n        argv0 = 0x3ffff93f8cb ''ssh''\n        buf = ''/home/kehall/.ssh\\000config\\000\\000\\000\\003\\377\\377\\223\\362\\317\\000\\000\\003\\377\\375#\\256$\\000\\000\\003\\377\\377\\223\\362\\220\\000\\000\\003\\377\\374\\245\\060\\000\\000\\000\\003\\377\\374\\315\\340'', '\\000' <repeats 11 times>, ''\\003\\377\\377\\223\\362\\220\\000\\000\\003\\377\\374\\346\\t\\230\\000\\000\\003\\377\\000\\000\\000\\006\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\003\\377\\374\\341\\376P\\000\\000\\003\\377\\377\\223\\361H\\000\\000\\003\\377\\374\\373\\300\\000\\000\\000\\003\\377\\375$\\215\\030\\000\\000\\003\\377\\375#\\326@\\000\\000\\003\\377\\377\\223\\337\\350\\000\\000\\003\\377\\377\\223\\362\\220\\000\\000\\003\\377\\374\\315\\340\\000\\000\\000\\003\\377\\000\\000\\000\\001\\000\\000\\000\\000\\000\\000\\000\\002\\000\\000\\003\\377\\374\\315\\177\\260\\000\\000\\003\\377\\377\\223\\361H\\000\\000\\003\\377\\374\\373\\300\\000\\000\\000\\003\\377\\375$\\215\\030\\000\\000\\003\\377\\375#\\267<\\000\\000\\003\\377\\377\\223\\340\\360'', '\\000' <repeats 16 times>, ''?\\360'', '\\000' <repeats 16 times>, ''\\003\\377\\375$\\371\\220'', '\\000' <repeats 15 times>, ''\\001\\000\\000\\003\\377\\374\\342~p\\000\\000\\003\\377\\377\\223\\361H\\000\\000\\003\\377\\374\\373\\300\\000\\000\\000\\003\\377\\000\\000\\000\\000\\000\\000''...\n        st = {st_dev = 4397992869392, st_ino = 4398039429448, st_nlink = 4397995900928, \n          st_mode = 1023, st_uid = 4247031064, st_gid = 0, pad0 = 0, \n          st_rdev = 4398039424744, st_size = 4607182418800017408, st_atim = {tv_sec = 0, \n            tv_nsec = 0}, st_mtim = {tv_sec = 0, tv_nsec = 4398039429448}, st_ctim = {\n            tv_sec = 4398039429776, tv_nsec = 4397992895688}, st_blksize = 4393751543810, \n          st_blocks = 3, __unused = {4397991083952, 4398039429448, 4397995900928}}\n        pw = 0x2aaf2a4b5f0\n        dummy = 1\n        timeout_ms = -1000\n        sp = <value optimized out>\n        fwd = {listen_host = 0x3fffd23ae24 ''\\353o\\360\\060'', listen_port = 1023, \n          connect_host = 0x3fffccde000 '''', connect_port = 1023}\n(gdb)",
          "author": "jhunt@redhat.com",
          "creation_time": "20120629T20:16:51",
          "bug_id": "836655",
          "creator_id": "254821",
          "time": "20120629T20:16:51",
          "id": "4868435",
          "is_private": "True"
        },
        {
          "count": "2",
          "attachment_id": "595362",
          "author": "jhunt@redhat.com",
          "text": "Created attachment 595362\nstrace of failed ssh connection",
          "creator": "jhunt@redhat.com",
          "creation_time": "20120629T20:19:32",
          "bug_id": "836655",
          "creator_id": "254821",
          "time": "20120629T20:19:32",
          "id": "4868437",
          "is_private": "True"
        },
        {
          "count": "3",
          "attachment_id": "595363",
          "author": "jhunt@redhat.com",
          "text": "Created attachment 595363\ncore file created for failed ssh connection",
          "creator": "jhunt@redhat.com",
          "creation_time": "20120629T20:20:43",
          "bug_id": "836655",
          "creator_id": "254821",
          "time": "20120629T20:20:43",
          "id": "4868438",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "jhunt@redhat.com",
          "text": "Petr,\n\nBank of America is the requestor of this bz, it looks similar to bz632914 from a Fedora bz.  Do you know what is required for this fix?  Is it a simple fix?\n\nThanks,\nJacob",
          "author": "jhunt@redhat.com",
          "creation_time": "20120702T16:43:43",
          "bug_id": "836655",
          "creator_id": "254821",
          "time": "20120702T16:43:43",
          "id": "4871592",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "mvadkert@redhat.com",
          "text": "Reproducer should be simple, remove selinux-policy and try to ssh to localhost. Setting gradeA, qe_test_coverage+ and RHTS",
          "author": "mvadkert@redhat.com",
          "creation_time": "20120703T13:57:06",
          "bug_id": "836655",
          "creator_id": "271572",
          "time": "20120703T13:57:06",
          "id": "4873601",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "plautrba@redhat.com",
          "text": "It seems to be same issue which can be solved with amended patch used in Fedora - git commit 16464c8a3774c6d4899cfe14953824672e990330 in Fedora git repo. I'll test it with RHEL-6 on s390x.",
          "author": "plautrba@redhat.com",
          "creation_time": "20120703T13:58:01",
          "bug_id": "836655",
          "creator_id": "270148",
          "time": "20120703T13:58:01",
          "id": "4873604",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "jhunt@redhat.com",
          "text": "Petr,\n\nI going to request this for a z-stream, the customer really is wanting a fix for this.  Do you have any idea what the timeline would be?  Or would that be up to PM?\n\nThanks,\nJacob",
          "author": "jhunt@redhat.com",
          "creation_time": "20120705T22:15:17",
          "bug_id": "836655",
          "creator_id": "254821",
          "time": "20120705T22:15:17",
          "id": "4878482",
          "is_private": "True"
        },
        {
          "count": "8",
          "attachment_id": "597099",
          "author": "plautrba@redhat.com",
          "text": "Created attachment 597099\nfixed openssh-5.3p1-selabel.patch",
          "creator": "plautrba@redhat.com",
          "creation_time": "20120709T15:07:49",
          "bug_id": "836655",
          "creator_id": "270148",
          "time": "20120709T15:07:49",
          "id": "4883286",
          "is_private": "False"
        },
        {
          "count": "9",
          "creator": "plautrba@redhat.com",
          "text": "I've just attached fixed patch. The fix is based on f14 commit from #c6.\nI've tried to reproduced this issue but I wasn't able to so it will need\nsome more testing. Test scratch build for s390x can be found here http://brewweb.devel.redhat.com/brew/taskinfo?taskID=4586340.",
          "author": "plautrba@redhat.com",
          "creation_time": "20120709T15:20:29",
          "bug_id": "836655",
          "creator_id": "270148",
          "time": "20120709T15:20:29",
          "id": "4883312",
          "is_private": "True"
        },
        {
          "count": "10",
          "creator": "jhunt@redhat.com",
          "text": "Petr,\n\nCustomer confirmed that the test packages resolved the issue.\n\n-Jacob",
          "author": "jhunt@redhat.com",
          "creation_time": "20120709T19:19:17",
          "bug_id": "836655",
          "creator_id": "254821",
          "time": "20120709T19:19:17",
          "id": "4883836",
          "is_private": "True"
        },
        {
          "count": "11",
          "creator": "ksrot@redhat.com",
          "text": "qa_ack+ for 6.4",
          "author": "ksrot@redhat.com",
          "creation_time": "20120730T12:32:26",
          "bug_id": "836655",
          "creator_id": "286283",
          "time": "20120730T12:32:26",
          "id": "4928955",
          "is_private": "True"
        },
        {
          "count": "12",
          "creator": "jjaburek@redhat.com",
          "text": "(In reply to comment #5)\n> Reproducer should be simple, remove selinux-policy and try to ssh to\n> localhost. Setting gradeA, qe_test_coverage+ and RHTS\n\nThat doesn't seem to be the case.\n\nI'm pretty sure I've managed to reproduce this some months ago, but I can't do so now - after removing selinux-policy (yum remove -y selinux-policy), which removed selinux-policy-targeted as well, ssh to root@localhost is still possible.\n\n# rpm -qa 'selinux*' 'openssh*' | sort\nopenssh-5.3p1-81.el6.s390x\nopenssh-clients-5.3p1-81.el6.s390x\nopenssh-server-5.3p1-81.el6.s390x\nselinux-policy-3.7.19-154.el6.noarch\nselinux-policy-targeted-3.7.19-154.el6.noarch",
          "author": "jjaburek@redhat.com",
          "creation_time": "20121002T12:17:42",
          "bug_id": "836655",
          "creator_id": "327802",
          "time": "20121002T12:17:42",
          "id": "5079899",
          "is_private": "True"
        },
        {
          "count": "13",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2012:14032-01\nhttp://errata.devel.redhat.com/errata/show/14032",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20121009T16:38:02",
          "bug_id": "836655",
          "creator_id": "241731",
          "time": "20121009T16:38:02",
          "id": "5098124",
          "is_private": "True"
        },
        {
          "count": "14",
          "creator": "plautrba@redhat.com",
          "text": "*** Bug 864632 has been marked as a duplicate of this bug. ***",
          "author": "plautrba@redhat.com",
          "creation_time": "20121010T12:35:36",
          "bug_id": "836655",
          "creator_id": "270148",
          "time": "20121010T12:35:36",
          "id": "5101379",
          "is_private": "False"
        },
        {
          "count": "15",
          "creator": "herrold@owlriver.com",
          "text": "This patch, avoiding the null reference does not appear to be present in the attachment at comment #8\n\nsuspect code and fix is this:\n\n- char *scon;\n+ char *scon = NULL;\n\nCredit to neale@sinenomine.net for the analysis ... reported to the CentOS tracker, but I have not noted the potential security aspect there (segfault)\n\nhttp://bugs.centos.org/view.php?id=6006",
          "author": "herrold@owlriver.com",
          "creation_time": "20121010T14:36:20",
          "bug_id": "836655",
          "creator_id": "338",
          "time": "20121010T14:36:20",
          "id": "5101850",
          "is_private": "False"
        },
        {
          "count": "16",
          "creator": "plautrba@redhat.com",
          "text": "The fix is little different:\n\n799 if (matchpathcon(buf, 0700, &scon) != -1) {\n800    setfscreatecon(scon);\n801    matchpathcon_fini();\n802 }\n\nIf matchpathcon() doesn't fail, scon is set and we call setfscreatecon()",
          "author": "plautrba@redhat.com",
          "creation_time": "20121010T15:08:29",
          "bug_id": "836655",
          "creator_id": "270148",
          "time": "20121010T15:08:29",
          "id": "5102004",
          "is_private": "False"
        },
        {
          "count": "17",
          "creator": "jjaburek@redhat.com",
          "text": "(In reply to comment #12)\n> (In reply to comment #5)\n> > Reproducer should be simple, remove selinux-policy and try to ssh to\n> > localhost. Setting gradeA, qe_test_coverage+ and RHTS\n> \n> That doesn't seem to be the case.\n> \n> I'm pretty sure I've managed to reproduce this some months ago, but I can't\n> do so now - after removing selinux-policy (yum remove -y selinux-policy),\n> which removed selinux-policy-targeted as well, ssh to root@localhost is\n> still possible.\n> \n> # rpm -qa 'selinux*' 'openssh*' | sort\n> openssh-5.3p1-81.el6.s390x\n> openssh-clients-5.3p1-81.el6.s390x\n> openssh-server-5.3p1-81.el6.s390x\n> selinux-policy-3.7.19-154.el6.noarch\n> selinux-policy-targeted-3.7.19-154.el6.noarch\n\nI was finally able to reproduce this bug. The key here is to use *user* (non-root) account for executing the ssh client.\n\nHowever selinux-policy package removal does nothing until the machine is rebooted with selinux disabled. With selinux disabled and selinux-policy installed, nothing happens as well.\n\nThe only time this segfault occurs is when selinux is disabled *and* there is no on-disk policy *and* user account is used *and* there's not ~/.ssh in that user's home dir.",
          "author": "jjaburek@redhat.com",
          "creation_time": "20121011T13:28:17",
          "bug_id": "836655",
          "creator_id": "327802",
          "time": "20121011T13:28:17",
          "id": "5105514",
          "is_private": "True"
        },
        {
          "count": "18",
          "creator": "plautrba@redhat.com",
          "text": "I've updated the fix to be little more defensive:\n\n+\t\tchar *scon = NULL;\n+\n+\t\tif (matchpathcon(buf, 0700, &scon) == 0) {\n+\t\t\tsetfscreatecon(scon);\n+\t\t\tfreecon(scon);\n+\t\t\tmatchpathcon_fini();\n+\t\t}",
          "author": "plautrba@redhat.com",
          "creation_time": "20121012T13:04:18",
          "bug_id": "836655",
          "creator_id": "270148",
          "time": "20121012T13:04:18",
          "id": "5108616",
          "is_private": "False"
        },
        {
          "count": "19",
          "creator": "jpallich@redhat.com",
          "text": "This bug has been copied as 6.3 z-stream (EUS) bug #871127 and now must be\nresolved in the current update release, set blocker flag.\n\nCopy created by jpallich@redhat.com.",
          "author": "jpallich@redhat.com",
          "creation_time": "20121029T17:13:16",
          "bug_id": "836655",
          "creator_id": "314851",
          "time": "20121029T17:13:16",
          "id": "5153713",
          "is_private": "True"
        },
        {
          "count": "20",
          "creator": "jwest@redhat.com",
          "text": "Due to the customer impact and the fact that this particular customer reporting the bug has requested an async errata fix ... I'm nominating this for zstream.",
          "author": "jwest@redhat.com",
          "creation_time": "20121029T17:19:47",
          "bug_id": "836655",
          "creator_id": "194553",
          "time": "20121029T17:19:47",
          "id": "5153730",
          "is_private": "True"
        },
        {
          "count": "21",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2012:14032-01: \nhttp://errata.devel.redhat.com/errata/stateview/14032\n\nSuccessfully reproduced and verified via an automatic test on all relevant architectures (s390x only).\n\nSince the automatic erratum comparison used already-fixed 6.3.z version as ''old'', both test runs pass:\n\nhttps://beaker.engineering.redhat.com/tasks/executed?job_id=332121&task=/CoreOS/openssh/Regression/bz836655-ssh-client-segfaults-if-selinux-policy-targeted-isn-t-installed\n\nIn the 6.3.z clone (bug 871127), however, the verification was successful, using openssh-5.3p1-81.el6 as the ''old'' version.\n\nSince the test fails on openssh-5.3p1-81.el6, which is the original base for this bug as well, and passes on openssh-5.3p1-82.el6 (as proved by the provided link), this bug can be considered verified.",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20121113T09:12:53",
          "bug_id": "836655",
          "creator_id": "241731",
          "time": "20121113T09:12:53",
          "id": "5194016",
          "is_private": "True"
        },
        {
          "count": "22",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHSA-2013-0519.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20130221T10:28:06",
          "bug_id": "836655",
          "creator_id": "241731",
          "time": "20130221T10:28:06",
          "id": "5529764",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "s390x",
      "version": [
        "6.3"
      ],
      "cc": [
        "herrold@owlriver.com",
        "jjaburek@redhat.com",
        "jwest@redhat.com",
        "mvadkert@redhat.com",
        "pvrabec@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "782183",
        "871127"
      ],
      "qa_contact": "jjaburek@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "devel",
        "support"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "GSSApproved",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "ssh client segfaults if selinux-policy-targeted isn't installed",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20120703T13:57:41",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20120703T13:57:41",
          "id": "1085521",
          "setter": "mvadkert@redhat.com"
        },
        {
          "status": "+",
          "name": "requires_doc_text",
          "modification_date": "20121031T14:47:25",
          "type_id": "415",
          "is_active": "1",
          "creation_date": "20121031T14:47:25",
          "id": "1177223",
          "setter": "bugzilla@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.4.0",
          "modification_date": "20120730T12:37:45",
          "type_id": "326",
          "is_active": "0",
          "creation_date": "20120629T20:15:14",
          "id": "1083928",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "blocker",
          "modification_date": "20121029T17:13:21",
          "type_id": "24",
          "is_active": "1",
          "creation_date": "20121029T17:13:21",
          "id": "1175429",
          "setter": "jpallich@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20120716T21:59:10",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20120629T20:27:09",
          "id": "1083932",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20120717T08:43:07",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20120703T13:57:41",
          "id": "1085522",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20120730T12:32:26",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20120703T13:57:41",
          "id": "1085523",
          "setter": "ksrot@redhat.com"
        }
      ],
      "last_change_time": "20130221T10:28:06",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509324-3mzJak9SpbM-KPgKjnTxuElKZcko1PEhjIr2c2UCkig",
      "cf_partner": [],
      "cf_last_closed": "20130221T10:28:06",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "1200",
      "estimated_time": "0.0",
      "depends_on": [
        "836655"
      ],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20121029T17:12:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "ZStream"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00664322",
          "bug_id": "871127",
          "ext_description": "segfault in ssh client on s390x connecting out to any other system",
          "ext_priority": "2 (High)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "82317"
        },
        {
          "ext_status": "None",
          "ext_bz_bug_id": "213284",
          "bug_id": "871127",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "69",
          "type": {
            "must_send": "False",
            "description": "TCMS Test Case",
            "url": "https://tcms.engineering.redhat.com",
            "can_get": "False",
            "id": "69",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          },
          "id": "82348"
        }
      ],
      "id": "871127",
      "cf_release_notes": "",
      "priority": "urgent",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-81.el6_3",
      "creator": "jpallich@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "jpallich@redhat.com",
          "text": "This bug has been copied from bug #836655 and has been proposed\nto be backported to 6.3 z-stream (EUS).",
          "author": "jpallich@redhat.com",
          "creation_time": "20121029T17:12:53",
          "bug_id": "871127",
          "creator_id": "314851",
          "time": "20121029T17:12:53",
          "id": "5153709",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "jpallich@redhat.com",
          "text": "Copy created by jpallich@redhat.com.",
          "author": "jpallich@redhat.com",
          "creation_time": "20121029T17:12:59",
          "bug_id": "871127",
          "creator_id": "314851",
          "time": "20121029T17:12:59",
          "id": "5153710",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "jpallich@redhat.com",
          "text": "Devel ack is needed to complete 3ACK process and approval.",
          "author": "jpallich@redhat.com",
          "creation_time": "20121029T17:13:01",
          "bug_id": "871127",
          "creator_id": "314851",
          "time": "20121029T17:13:01",
          "id": "5153711",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "jpallich@redhat.com",
          "text": "If you as an assigned engineer don't know what to do with the Z-stream bugzilla\nlook at the EUS mini HOWTO at:\n\n * Developer howto:\n https://home.corp.redhat.com/wiki/working-z-streams\n\n * QE - EUS test guidelines:\n http://wiki.test.redhat.com/RhelQe/ZStreamEusTestGuidelines\n\n * If you want to learn more about EUS and z-stream you can read training presentation located here:\n https://docspace.corp.redhat.com/docs/DOC-50511",
          "author": "jpallich@redhat.com",
          "creation_time": "20121029T17:13:10",
          "bug_id": "871127",
          "creator_id": "314851",
          "time": "20121029T17:13:10",
          "id": "5153712",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "mitr@redhat.com",
          "text": "Looking at attachment #597099, shouldn't there be a freecon(scon) somewhere?",
          "author": "mitr@redhat.com",
          "creation_time": "20121029T17:37:35",
          "bug_id": "871127",
          "creator_id": "164954",
          "time": "20121029T17:37:35",
          "id": "5153765",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "mitr@redhat.com",
          "text": "(In reply to comment #4)\n> Looking at attachment #597099 [details], shouldn't there be a freecon(scon)\n> somewhere?\n\nNever mind, bug #836655 comment #18 already handles it.\n\nCommits 32495d79c7410306af5d8b230602e1e92dd6017f and \tfddcfd415004ea8c5a4899632f086af8b3359bb0 are a clear improvement, dev_ack+.",
          "author": "mitr@redhat.com",
          "creation_time": "20121029T17:43:28",
          "bug_id": "871127",
          "creator_id": "164954",
          "time": "20121029T17:43:28",
          "id": "5153789",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2012:14170-01\nhttp://errata.devel.redhat.com/errata/show/14170",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20121030T14:38:25",
          "bug_id": "871127",
          "creator_id": "241731",
          "time": "20121030T14:38:25",
          "id": "5156833",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2012:14170-01: \nhttp://errata.devel.redhat.com/errata/stateview/14170\n\nSuccessfully reproduced and verified via an automatic test on all architectures.\n\nhttps://beaker.engineering.redhat.com/tasks/executed?job_id=329221&task=/CoreOS/openssh/Regression/bz836655-ssh-client-segfaults-if-selinux-policy-targeted-isn-t-installed",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20121107T12:41:01",
          "bug_id": "871127",
          "creator_id": "241731",
          "time": "20121107T12:41:01",
          "id": "5177812",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to RELEASE_PENDING status by Errata System.\nAdvisory RHBA-2012:14170-01 has been changed to PUSH_READY status.\nhttp://errata.devel.redhat.com/errata/show/14170",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20121109T11:02:29",
          "bug_id": "871127",
          "creator_id": "241731",
          "time": "20121109T11:02:29",
          "id": "5184507",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHBA-2012-1443.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20121109T12:20:38",
          "bug_id": "871127",
          "creator_id": "241731",
          "time": "20121109T12:20:38",
          "id": "5184667",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "s390x",
      "version": [
        "6.3"
      ],
      "cc": [
        "herrold@owlriver.com",
        "jhunt@redhat.com",
        "jjaburek@redhat.com",
        "jwest@redhat.com",
        "mitr@redhat.com",
        "mvadkert@redhat.com",
        "plautrba@redhat.com",
        "pm-eus@redhat.com",
        "pvrabec@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "jjaburek@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "devel",
        "support"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "GSSApproved",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "ssh client segfaults if selinux-policy-targeted isn't installed",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.3.z",
          "modification_date": "20121029T17:54:50",
          "type_id": "352",
          "is_active": "1",
          "creation_date": "20121029T17:12:56",
          "id": "1175425",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20121029T17:12:56",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20121029T17:12:56",
          "id": "1175426",
          "setter": "jpallich@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20121029T17:43:28",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20121029T17:12:56",
          "id": "1175427",
          "setter": "mitr@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20121029T17:12:56",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20121029T17:12:56",
          "id": "1175428",
          "setter": "jpallich@redhat.com"
        }
      ],
      "last_change_time": "20121109T12:20:38",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509324-OQQUMyFRvWQyqiuHafK06y5QM5C2qfWpme8DxwMtfWQ",
      "cf_partner": [],
      "cf_last_closed": "20121109T12:20:38",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20130930T11:33:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "1013580",
      "cf_release_notes": "",
      "priority": "urgent",
      "severity": "urgent",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "lkocman@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "lkocman@redhat.com",
          "text": "Description of problem:\n\nFollowing dependency issue is now breaking RHEL-6.5 nightly. Please fix it.\n\n2960 [2013-09-29 01:49:12] ERROR: 47030540310848 task_resolve_deps.py:174 (i386.Server) Unresolvable dependency openssl-fips in openssh-server-fips.i686\n2961 [2013-09-29 01:49:12] ERROR: 47030540310848 task_resolve_deps.py:174 (i386.Server) Unresolvable dependency openssl-fips in openssh-clients-fips.i686\n\n\nopenssl-fips seems to require openssh-*-fips which was recently removed as it is now part of dracut-fips.\n\nThanks\n\nLubos\nrel-eng",
          "author": "lkocman@redhat.com",
          "creation_time": "20130930T11:33:08",
          "bug_id": "1013580",
          "creator_id": "297289",
          "time": "20130930T11:33:08",
          "id": "6358698",
          "is_private": "True"
        },
        {
          "count": "1",
          "creator": "lkocman@redhat.com",
          "text": "Fixed in openssh-server-fips-5.3p1-93.el6",
          "author": "lkocman@redhat.com",
          "creation_time": "20130930T11:37:33",
          "bug_id": "1013580",
          "creator_id": "297289",
          "time": "20130930T11:37:33",
          "id": "6358714",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.5"
      ],
      "cc": [],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "redhat"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "openssl-fips is breaking compose",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.5.0",
          "modification_date": "20130930T11:33:08",
          "type_id": "361",
          "is_active": "0",
          "creation_date": "20130930T11:33:08",
          "id": "1526911",
          "setter": "lkocman@redhat.com"
        },
        {
          "status": "?",
          "name": "blocker",
          "modification_date": "20130930T11:33:08",
          "type_id": "24",
          "is_active": "1",
          "creation_date": "20130930T11:33:08",
          "id": "1526912",
          "setter": "lkocman@redhat.com"
        }
      ],
      "last_change_time": "20130930T11:37:33",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509324-d2A3unkjA6VbK5_PcjIjgCEsCb9TuDySlijFOxU_qF8",
      "cf_partner": [],
      "cf_last_closed": "20130930T11:37:33",
      "resolution": "CURRENTRELEASE",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [
        "993580"
      ],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20140114T15:45:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "ZStream"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "None",
          "ext_bz_bug_id": "335372",
          "bug_id": "1053043",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "69",
          "type": {
            "must_send": "False",
            "description": "TCMS Test Case",
            "url": "https://tcms.engineering.redhat.com",
            "can_get": "False",
            "id": "69",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          },
          "id": "139445"
        },
        {
          "ext_status": "None",
          "ext_bz_bug_id": "2109",
          "bug_id": "1053043",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "13",
          "type": {
            "must_send": "False",
            "description": "OpenSSH Project",
            "url": "http://bugzilla.mindrot.org",
            "can_get": "False",
            "id": "13",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "http://bugzilla.mindrot.org/show_bug.cgi?id=%id%"
          },
          "id": "138226"
        }
      ],
      "id": "1053043",
      "cf_release_notes": "",
      "priority": "urgent",
      "severity": "urgent",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-95.el6_5.1",
      "creator": "jkurik@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "jkurik@redhat.com",
          "text": "This bug has been copied from bug #993580 and has been proposed\nto be backported to 6.5 z-stream (EUS).",
          "author": "jkurik@redhat.com",
          "creation_time": "20140114T15:45:36",
          "bug_id": "1053043",
          "creator_id": "352756",
          "time": "20140114T15:45:36",
          "id": "6707594",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "jkurik@redhat.com",
          "text": "Copy created by jkurik@redhat.com",
          "author": "jkurik@redhat.com",
          "creation_time": "20140114T15:45:52",
          "bug_id": "1053043",
          "creator_id": "352756",
          "time": "20140114T15:45:52",
          "id": "6707599",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "jkurik@redhat.com",
          "text": "Devel ack is needed to complete 3ACK process and approval.",
          "author": "jkurik@redhat.com",
          "creation_time": "20140114T15:45:55",
          "bug_id": "1053043",
          "creator_id": "352756",
          "time": "20140114T15:45:55",
          "id": "6707600",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "jkurik@redhat.com",
          "text": "If you as an assigned engineer don't know what to do with the Z-stream bugzilla\nlook at the EUS mini HOWTO at:\n\n * Developer howto:\n https://home.corp.redhat.com/wiki/working-z-streams\n\n * QE - EUS test guidelines:\n http://wiki.test.redhat.com/RhelQe/ZStreamEusTestGuidelines\n\n * If you want to learn more about EUS and z-stream you can read training presentation located here:\n https://docspace.corp.redhat.com/docs/DOC-50511",
          "author": "jkurik@redhat.com",
          "creation_time": "20140114T15:45:59",
          "bug_id": "1053043",
          "creator_id": "352756",
          "time": "20140114T15:45:59",
          "id": "6707602",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2014:16784-01\nhttps://errata.devel.redhat.com/advisory/16784",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20140114T19:13:50",
          "bug_id": "1053043",
          "creator_id": "241731",
          "time": "20140114T19:13:50",
          "id": "6708610",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "mvadkert@redhat.com",
          "text": "Doh! I actually the attached test was for openssl not openssh. Sorry for the noise. We will need an openssh specific test for this issue. Please speak to Petr for testing details.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20140120T14:03:55",
          "bug_id": "1053043",
          "creator_id": "271572",
          "time": "20140120T14:03:55",
          "id": "6727598",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "jkurik@redhat.com",
          "text": "May I have a status update on this bug, please ?\nIt has been idle for a while.",
          "author": "jkurik@redhat.com",
          "creation_time": "20140410T07:20:10",
          "bug_id": "1053043",
          "creator_id": "352756",
          "time": "20140410T07:20:10",
          "id": "6999482",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "pkis@redhat.com",
          "text": "(In reply to Jan Kurik from comment #6)\n> May I have a status update on this bug, please ?\n> It has been idle for a while.\n\nThe bug 1053046 that will be released in the same 6.5.z errata as this bug fix is dependent on the opsnssl bug 1064984, that holds back the whole errata will all bug fixes. On the other hand it is true that this bug fix does not directly requires the openssl fix, so it can be verified, although not released.\nIn fact it was already tested, just was not switched to verified.",
          "author": "pkis@redhat.com",
          "creation_time": "20140410T07:43:30",
          "bug_id": "1053043",
          "creator_id": "324351",
          "time": "20140410T07:43:30",
          "id": "6999569",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "plautrba@redhat.com",
          "text": "It was decided to release the FIPS certified version of openssl on RHEL 6.6 only, and not to backport the openssl package with the FIPS related changes to 6.5.z. Therefore I'm closing this bug as WONTFIX for rhel-6.5.z.",
          "author": "plautrba@redhat.com",
          "creation_time": "20140610T10:36:45",
          "bug_id": "1053043",
          "creator_id": "270148",
          "time": "20140610T10:36:45",
          "id": "7168373",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.5"
      ],
      "cc": [
        "arubin@redhat.com",
        "jkurik@redhat.com",
        "ksrot@redhat.com",
        "mitr@redhat.com",
        "mvadkert@redhat.com",
        "pkis@redhat.com",
        "plautrba@redhat.com",
        "pm-eus@redhat.com",
        "pvrabec@redhat.com",
        "sforsber@redhat.com",
        "sgrubb@redhat.com",
        "tlavigne@redhat.com",
        "tmraz@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "pkis@redhat.com",
      "tags": [],
      "see_also": [
        "https://bugzilla.redhat.com/show_bug.cgi?id=1061353"
      ],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "groups": [
        "devel",
        "qa",
        "redhat"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "PMApproved",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "based on SP800-131A, DSA with key size 1024 will be disallowed for  normal use at the end of this year",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20140122T14:38:36",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20140122T14:38:36",
          "id": "1675398",
          "setter": "pkis@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.5.z",
          "modification_date": "20140114T18:20:38",
          "type_id": "618",
          "is_active": "1",
          "creation_date": "20140114T15:45:48",
          "id": "1663274",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20140114T15:45:48",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20140114T15:45:48",
          "id": "1663275",
          "setter": "jkurik@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20140114T18:12:00",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20140114T15:45:48",
          "id": "1663276",
          "setter": "mitr@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20140114T15:45:48",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20140114T15:45:48",
          "id": "1663277",
          "setter": "jkurik@redhat.com"
        }
      ],
      "last_change_time": "20140610T10:36:45",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509324-qw_89zHTUUJfK2jIMhIXDpRK93wcquiYqzBJYF_tMdI",
      "cf_partner": [],
      "cf_last_closed": "20140610T10:36:45",
      "resolution": "WONTFIX",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [
        "1020803"
      ],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20140114T15:45:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "ZStream"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "None",
          "ext_bz_bug_id": "334137",
          "bug_id": "1053044",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "69",
          "type": {
            "must_send": "False",
            "description": "TCMS Test Case",
            "url": "https://tcms.engineering.redhat.com",
            "can_get": "False",
            "id": "69",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          },
          "id": "138346"
        }
      ],
      "id": "1053044",
      "cf_release_notes": "",
      "priority": "urgent",
      "severity": "urgent",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-95.el6_5.2",
      "creator": "jkurik@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "jkurik@redhat.com",
          "text": "This bug has been copied from bug #1020803 and has been proposed\nto be backported to 6.5 z-stream (EUS).",
          "author": "jkurik@redhat.com",
          "creation_time": "20140114T15:45:48",
          "bug_id": "1053044",
          "creator_id": "352756",
          "time": "20140114T15:45:48",
          "id": "6707597",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "jkurik@redhat.com",
          "text": "Copy created by jkurik@redhat.com",
          "author": "jkurik@redhat.com",
          "creation_time": "20140114T15:46:06",
          "bug_id": "1053044",
          "creator_id": "352756",
          "time": "20140114T15:46:06",
          "id": "6707604",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "jkurik@redhat.com",
          "text": "Devel ack is needed to complete 3ACK process and approval.",
          "author": "jkurik@redhat.com",
          "creation_time": "20140114T15:46:10",
          "bug_id": "1053044",
          "creator_id": "352756",
          "time": "20140114T15:46:10",
          "id": "6707605",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "jkurik@redhat.com",
          "text": "If you as an assigned engineer don't know what to do with the Z-stream bugzilla\nlook at the EUS mini HOWTO at:\n\n * Developer howto:\n https://home.corp.redhat.com/wiki/working-z-streams\n\n * QE - EUS test guidelines:\n http://wiki.test.redhat.com/RhelQe/ZStreamEusTestGuidelines\n\n * If you want to learn more about EUS and z-stream you can read training presentation located here:\n https://docspace.corp.redhat.com/docs/DOC-50511",
          "author": "jkurik@redhat.com",
          "creation_time": "20140114T15:46:19",
          "bug_id": "1053044",
          "creator_id": "352756",
          "time": "20140114T15:46:19",
          "id": "6707606",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2014:16784-01\nhttps://errata.devel.redhat.com/advisory/16784",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20140114T19:13:55",
          "bug_id": "1053044",
          "creator_id": "241731",
          "time": "20140114T19:13:55",
          "id": "6708611",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to ASSIGNED status by the Errata System: \nAdvisory RHBA-2014:16784-12: \nChanged by: Patrik Kis (pkis@redhat.com)\nhttp://errata.devel.redhat.com/advisory/16784\n\nThe part of this failed, where sshd should log to /var/log/secure:\n\nroot@rhel6 ~]# rpm -q openssh\nopenssh-5.3p1-95.el6_5.1.x86_64\n[root@rhel6 ~]# rpm -q dracut-fips\ndracut-fips-004-335.el6.noarch\n[root@rhel6 ~]# rpm -q openssl\nopenssl-1.0.1e-15.el6.x86_64\n[root@rhel6 ~]# sysctl -n crypto.fips_enabled\n0\n[root@rhel6 ~]# \n[root@rhel6 ~]# cp -a /usr/sbin/.sshd.hmac /usr/sbin/.sshd.hmac.O\n[root@rhel6 ~]# echo 9b9d2de0da265b4dc2c2b035d4c243f2daff9205ce5bc2a2f7b2c5b2fbd96f9f > /usr/sbin/.sshd.hmac\n[root@rhel6 ~]# ssh test@localhost pwd\ntest@localhost's password: \n/home/test\n[root@rhel6 ~]# \n[root@rhel6 ~]# grep -i fips /var/log/secure\n[root@rhel6 ~]# \n\nWhen kernel in FIPS mode it does not log to /var/log/secure too.\n\nJust for completeness, how it works on already fixed RHEL-7:\n0 [root@rhel7 ~ ]# rpm -q openssh\nopenssh-6.4p1-7.el7.x86_64\n0 [root@rhel7 ~ ]# rpm -q dracut-fips\ndracut-fips-033-147.el7.x86_64\n0 [root@rhel7 ~ ]# rpm -q openssl\nopenssl-1.0.1e-33.el7.x86_64\n0 [root@rhel7 ~ ]# \n0 [root@rhel7 ~ ]# sysctl -n crypto.fips_enabled\n0 [root@rhel7 ~ ]# cp -a /usr/lib64/fipscheck/sshd.hmac /usr/lib64/fipscheck/sshd.hmac.O\n0 [root@rhel7 ~ ]# echo 9b9d2de0da265b4dc2c2b035d4c243f2daff9205ce5bc2a2f7b2c5b2fbd96f9f > /usr/lib64/fipscheck/sshd.hmac\n0 [root@rhel7 ~ ]# \n0 [root@rhel7 ~ ]# ssh test@localhost pwd\ntest@localhost's password: \n/home/test\n0 [root@rhel7 ~ ]# grep -i fips /var/log/secure\nMar 18 13:39:51 rhel7 sshd[1001]: FIPS integrity verification test failed.\n0 [root@rhel7 ~ ]#",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20140318T12:44:52",
          "bug_id": "1053044",
          "creator_id": "241731",
          "time": "20140318T12:44:52",
          "id": "6925784",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "jkurik@redhat.com",
          "text": "May I have a status update on this bug, please ?\nIt has been idle for a while.",
          "author": "jkurik@redhat.com",
          "creation_time": "20140410T07:20:33",
          "bug_id": "1053044",
          "creator_id": "352756",
          "time": "20140410T07:20:33",
          "id": "6999498",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "pkis@redhat.com",
          "text": "(In reply to Jan Kurik from comment #6)\n> May I have a status update on this bug, please ?\n> It has been idle for a while.\n\nThe bug 1053046 that will be released in the same 6.5.z errata as this bug fix is dependent on the opsnssl bug 1064984, that holds back the whole errata will all bug fixes. On the other hand it is true that this bug fix does not directly requires the openssl fix, so it can be verified, although not released.\nIn fact it was already tested, just was not switched to verified.",
          "author": "pkis@redhat.com",
          "creation_time": "20140410T07:41:58",
          "bug_id": "1053044",
          "creator_id": "324351",
          "time": "20140410T07:41:58",
          "id": "6999564",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "plautrba@redhat.com",
          "text": "It was decided to release the FIPS certified version of openssl on RHEL 6.6 only, and not to backport the openssl package with the FIPS related changes to 6.5.z. Therefore I'm closing this bug as WONTFIX for rhel-6.5.z.",
          "author": "plautrba@redhat.com",
          "creation_time": "20140610T10:36:44",
          "bug_id": "1053044",
          "creator_id": "270148",
          "time": "20140610T10:36:44",
          "id": "7168372",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.5"
      ],
      "cc": [
        "arubin@redhat.com",
        "ebenes@redhat.com",
        "jkurik@redhat.com",
        "mitr@redhat.com",
        "mvadkert@redhat.com",
        "omoris@redhat.com",
        "pkis@redhat.com",
        "plautrba@redhat.com",
        "pm-eus@redhat.com",
        "sforsber@redhat.com",
        "sgrubb@redhat.com",
        "tmraz@redhat.com"
      ],
      "cf_verified": [
        "FailedQA"
      ],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "pkis@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "groups": [
        "redhat"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "PMApproved",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "sshd should be able to inform admin whether a system is correctly configured for FIPS",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20140122T14:35:13",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20140122T14:35:13",
          "id": "1675376",
          "setter": "pkis@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.5.z",
          "modification_date": "20140114T18:20:32",
          "type_id": "618",
          "is_active": "1",
          "creation_date": "20140114T15:45:58",
          "id": "1663278",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20140114T15:45:58",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20140114T15:45:58",
          "id": "1663279",
          "setter": "jkurik@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20140114T18:13:28",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20140114T15:45:58",
          "id": "1663280",
          "setter": "mitr@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20140114T15:45:58",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20140114T15:45:58",
          "id": "1663281",
          "setter": "jkurik@redhat.com"
        }
      ],
      "last_change_time": "20140610T10:36:44",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509324-uzjCVvWeDw7yNnZ1FuhpHRQSOOWr_fmKe0NiZC6Osz0",
      "cf_partner": [],
      "cf_last_closed": "20140610T10:36:44",
      "resolution": "WONTFIX",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "2600",
      "estimated_time": "0.0",
      "depends_on": [
        "1028335",
        "1056629"
      ],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20140114T15:45:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "FutureFeature",
        "ZStream"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "Waiting on Red Hat",
          "ext_bz_bug_id": "01100471",
          "bug_id": "1053046",
          "ext_description": "ECDSA support in RHEL 6.5",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "159027"
        },
        {
          "ext_status": "None",
          "ext_bz_bug_id": "334973",
          "bug_id": "1053046",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "69",
          "type": {
            "must_send": "False",
            "description": "TCMS Test Case",
            "url": "https://tcms.engineering.redhat.com",
            "can_get": "False",
            "id": "69",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          },
          "id": "139388"
        },
        {
          "ext_status": "Waiting on Red Hat",
          "ext_bz_bug_id": "01000660",
          "bug_id": "1053046",
          "ext_description": "ecdsa support in ssh-keygen",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "138228"
        },
        {
          "ext_status": "Waiting on Red Hat",
          "ext_bz_bug_id": "01002194",
          "bug_id": "1053046",
          "ext_description": "[BZ]Receiving error message related to OpenSSH",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "138229"
        }
      ],
      "id": "1053046",
      "cf_release_notes": "",
      "priority": "urgent",
      "severity": "urgent",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-95.el6_5.1",
      "creator": "jkurik@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "jkurik@redhat.com",
          "text": "This bug has been copied from bug #1028335 and has been proposed\nto be backported to 6.5 z-stream (EUS).",
          "author": "jkurik@redhat.com",
          "creation_time": "20140114T15:45:59",
          "bug_id": "1053046",
          "creator_id": "352756",
          "time": "20140114T15:45:59",
          "id": "6707601",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "jkurik@redhat.com",
          "text": "Copy created by jkurik@redhat.com",
          "author": "jkurik@redhat.com",
          "creation_time": "20140114T15:46:30",
          "bug_id": "1053046",
          "creator_id": "352756",
          "time": "20140114T15:46:30",
          "id": "6707608",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "jkurik@redhat.com",
          "text": "Devel ack is needed to complete 3ACK process and approval.",
          "author": "jkurik@redhat.com",
          "creation_time": "20140114T15:46:35",
          "bug_id": "1053046",
          "creator_id": "352756",
          "time": "20140114T15:46:35",
          "id": "6707609",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "jkurik@redhat.com",
          "text": "If you as an assigned engineer don't know what to do with the Z-stream bugzilla\nlook at the EUS mini HOWTO at:\n\n * Developer howto:\n https://home.corp.redhat.com/wiki/working-z-streams\n\n * QE - EUS test guidelines:\n http://wiki.test.redhat.com/RhelQe/ZStreamEusTestGuidelines\n\n * If you want to learn more about EUS and z-stream you can read training presentation located here:\n https://docspace.corp.redhat.com/docs/DOC-50511",
          "author": "jkurik@redhat.com",
          "creation_time": "20140114T15:46:41",
          "bug_id": "1053046",
          "creator_id": "352756",
          "time": "20140114T15:46:41",
          "id": "6707611",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2014:16784-01\nhttps://errata.devel.redhat.com/advisory/16784",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20140114T19:13:43",
          "bug_id": "1053046",
          "creator_id": "241731",
          "time": "20140114T19:13:43",
          "id": "6708609",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to ASSIGNED status by the Errata System: \nAdvisory RHBA-2014:16784-01: \nChanged by: Patrik Kis (pkis@redhat.com)\nhttp://errata.devel.redhat.com/advisory/16784\n\nThe ECDSA/ECDH support seems to be working according my tests but there are several minor problems mainly with the documentation which are worth of respin IMHO.\n\n1/ The patch of this bug contains a typo for man page generation that causes a formatting error.\nFILE: openssh-5.3p1-ecdsa-ecdh.patch\n\n@@ -576,7 +578,7 @@ or\n .Xr ssh 1 .\n Please refer to those manual pages for details.\n .Sh FILES\n-.Bl -tag -width Ds\n+.Bl -tag -width Ds -compat\n .It Pa ~/.ssh/identity\n Contains the protocol version 1 RSA authentication identity of the user.\n This file should not be readable by anyone but the user.\n\nIt should be probably ''-compact'' not ''-compat''. This typo causes the following warning:\n# cat /usr/share/man/man1/ssh-keygen.1.gz | gunzip | groff -m ''man'' >/dev/null\nmdoc warning: Unknown keyword `-compat' in .Bl macro (#581)\n\nOn top of that, because bug 705397 this can be considered as regression.\n\n2/ The man page of ssh-keygen does not mention ECDSA.\n\n3/ ssh-keygen reports unsupported ecdsa bitsize (or if 512 supposed to be supported than this case is even more serious):\n\n# ssh-keygen -b 512 -t ecdsa\nInvalid ECDSA key length - valid lengths are 256, 384 or 521 bits\n# ssh-keygen -b 521 -t ecdsa\nInvalid ECDSA key length - valid lengths are 256, 384 or 521 bits\n#",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20140122T14:48:07",
          "bug_id": "1053046",
          "creator_id": "241731",
          "time": "20140122T14:48:07",
          "id": "6739955",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "plautrba@redhat.com",
          "text": "(In reply to errata-xmlrpc from comment #5)\n> Bug report changed from ON_QA to ASSIGNED status by the Errata System: \n> Advisory RHBA-2014:16784-01: \n> Changed by: Patrik Kis (pkis@redhat.com)\n> http://errata.devel.redhat.com/advisory/16784\n> \n> The ECDSA/ECDH support seems to be working according my tests but there are\n> several minor problems mainly with the documentation which are worth of\n> respin IMHO.\n> \n> 1/ The patch of this bug contains a typo for man page generation that causes\n> a formatting error.\n> FILE: openssh-5.3p1-ecdsa-ecdh.patch\n> \n> @@ -576,7 +578,7 @@ or\n>  .Xr ssh 1 .\n>  Please refer to those manual pages for details.\n>  .Sh FILES\n> -.Bl -tag -width Ds\n> +.Bl -tag -width Ds -compat\n>  .It Pa ~/.ssh/identity\n>  Contains the protocol version 1 RSA authentication identity of the user.\n>  This file should not be readable by anyone but the user.\n> \n> It should be probably ''-compact'' not ''-compat''. This typo causes the\n> following warning:\n> # cat /usr/share/man/man1/ssh-keygen.1.gz | gunzip | groff -m ''man''\n> >/dev/null\n> mdoc warning: Unknown keyword `-compat' in .Bl macro (#581)\n> \n\nwill be fixed in the respin\n\n> \n> 2/ The man page of ssh-keygen does not mention ECDSA.\n\nI can see several occurrences of ECDSA there:\n\n# zgrep -i ecdsa /usr/share/man/man1/ssh-keygen.1.gz\ncan create RSA keys for use by SSH protocol version 1 and DSA, ECDSA or RSA\n.Pa ~/.ssh/id_ecdsa ,\n.Dq ecdsa\n.It Pa ~/.ssh/id_ecdsa\nContains the protocol version 2 DSA, ECDSA or RSA authentication identity of the user.\n.It Pa ~/.ssh/id_ecdsa.pub\nContains the protocol version 2 DSA, ECDSA or RSA public key for authentication.\n\n\n> 3/ ssh-keygen reports unsupported ecdsa bitsize (or if 512 supposed to be\n> supported than this case is even more serious):\n> \n> # ssh-keygen -b 512 -t ecdsa\n> Invalid ECDSA key length - valid lengths are 256, 384 or 521 bits\n> # ssh-keygen -b 521 -t ecdsa\n> Invalid ECDSA key length - valid lengths are 256, 384 or 521 bits\n> #\n\n521 bits is a valid value but due to the missing support of secp521r1 EC curve in the current rhel-6 openssl, it can't be used and is reported as invalid.  As far as I know, there's planned the openssl update with secp521r1 EC curve support so I would not change this.",
          "author": "plautrba@redhat.com",
          "creation_time": "20140122T15:12:15",
          "bug_id": "1053046",
          "creator_id": "270148",
          "time": "20140122T15:12:15",
          "id": "6740122",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "jkurik@redhat.com",
          "text": "May I have a status update on this bug, please ?\nIt has been idle for a while.",
          "author": "jkurik@redhat.com",
          "creation_time": "20140410T07:20:19",
          "bug_id": "1053046",
          "creator_id": "352756",
          "time": "20140410T07:20:19",
          "id": "6999489",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "pkis@redhat.com",
          "text": "(In reply to Jan Kurik from comment #7)\n> May I have a status update on this bug, please ?\n> It has been idle for a while.\n\nThis bug fix cannot be verified ans released before openssl bug 1064984.",
          "author": "pkis@redhat.com",
          "creation_time": "20140410T07:34:02",
          "bug_id": "1053046",
          "creator_id": "324351",
          "time": "20140410T07:34:02",
          "id": "6999542",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "plautrba@redhat.com",
          "text": "It was decided to release the FIPS certified version of openssl on RHEL 6.6 only, and not to backport the openssl package with the FIPS related changes to 6.5.z. Therefore I'm closing this bug as WONTFIX for rhel-6.5.z.",
          "author": "plautrba@redhat.com",
          "creation_time": "20140610T10:36:48",
          "bug_id": "1053046",
          "creator_id": "270148",
          "time": "20140610T10:36:48",
          "id": "7168375",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.5"
      ],
      "cc": [
        "arubin@redhat.com",
        "ccheney@redhat.com",
        "dswegen@redhat.com",
        "ebenes@redhat.com",
        "jkurik@redhat.com",
        "mitr@redhat.com",
        "omoris@redhat.com",
        "pkis@redhat.com",
        "plautrba@redhat.com",
        "pm-eus@redhat.com",
        "sauchter@redhat.com",
        "sgrubb@redhat.com",
        "tmraz@redhat.com"
      ],
      "cf_verified": [
        "FailedQA"
      ],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "1070830"
      ],
      "qa_contact": "pkis@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Enhancement",
      "groups": [
        "redhat"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "PMApproved",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "Backport ECDSA/ECDH support to openssh",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20140122T10:18:05",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20140122T10:18:05",
          "id": "1674942",
          "setter": "pkis@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.5.z",
          "modification_date": "20140114T18:20:26",
          "type_id": "618",
          "is_active": "1",
          "creation_date": "20140114T15:46:25",
          "id": "1663282",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20140114T15:46:25",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20140114T15:46:25",
          "id": "1663283",
          "setter": "jkurik@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20140114T18:13:46",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20140114T15:46:25",
          "id": "1663284",
          "setter": "mitr@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20140114T15:46:25",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20140114T15:46:25",
          "id": "1663285",
          "setter": "jkurik@redhat.com"
        }
      ],
      "last_change_time": "20140610T10:36:48",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509325-e48W3fPgUge5DyFUjN3oEgM-EhGPsC8QaXjszsNnYUI",
      "cf_partner": [],
      "cf_last_closed": "20140610T10:36:48",
      "resolution": "WONTFIX",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20080714T22:58:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "FutureFeature"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00315338",
          "bug_id": "455350",
          "ext_description": "[CRM#1954642] OpenSSH needs centralized key management",
          "ext_priority": "4 (Low)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "15883"
        },
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00320129",
          "bug_id": "455350",
          "ext_description": "[CRM# 2053318] OpenSSH to support centralized management of SSH keys (openssh-lpk)",
          "ext_priority": "4 (Low)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "11543"
        },
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00338749",
          "bug_id": "455350",
          "ext_description": "[RFE] (bjv) Patch for openssh to use keys distributed in ldap",
          "ext_priority": "4 (Low)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "32818"
        },
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00330152",
          "bug_id": "455350",
          "ext_description": "[RFE] Patch Integration in aktuelle Version von openssh",
          "ext_priority": "4 (Low)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "38906"
        },
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00153473",
          "bug_id": "455350",
          "ext_description": "[RFE] Gestion centralis\u00e9e des cl\u00e9s SSH",
          "ext_priority": "4 (Low)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "33022"
        }
      ],
      "id": "455350",
      "cf_release_notes": "",
      "priority": "high",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-47.el6",
      "creator": "riek@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "riek@redhat.com",
          "text": "Copying this RHEL5 RFE to RHEL6, in order to track for that release.\n\nThe requested changes have not been accepted upstream, so the request is to\neither try to help getting them accepted upstream or to find an alternate\nsolution for the problem of dynamic ssh-key distribution (and removal) for\n(large) centrally managed environments.\n\n+++ This bug was initially created as a clone of Bug #215741 +++\n\nDescription of problem:\n\nWhen a user is disabled (ie locked) on the ldap server (because they are\nterminated, etc...) and they have access to their ssh private key, they will\nstill be able to login to any server in the organization that contains their ssh\npublic key. This can be considered an security breach by an auditing team.\n\nWith the ability to lookup ssh keys over LDAP, the directory server will have\nthe ability to not send the public key to the user logging in, even if they have\nthe correct private key.\n\nAdditional info:\n\nA patch enabling this is available here: http://dev.inversepath.com/trac/openssh-lpk",
          "author": "riek@redhat.com",
          "creation_time": "20080714T22:58:19",
          "bug_id": "455350",
          "creator_id": "152197",
          "time": "20080714T22:58:19",
          "id": "1801220",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "reed@reedloden.com",
          "text": "The patch has moved to http://code.google.com/p/openssh-lpk/",
          "author": "reed@reedloden.com",
          "creation_time": "20090406T10:05:27",
          "bug_id": "455350",
          "creator_id": "276332",
          "time": "20090406T10:05:27",
          "id": "2117563",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "jchadima@redhat.com",
          "text": "This is a duplicate of bug 529062",
          "author": "jchadima@redhat.com",
          "creation_time": "20091015T15:03:40",
          "bug_id": "455350",
          "creator_id": "276623",
          "time": "20091015T15:03:40",
          "id": "2407909",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "sgrubb@redhat.com",
          "text": "*** Bug 529062 has been marked as a duplicate of this bug. ***",
          "author": "sgrubb@redhat.com",
          "creation_time": "20091118T15:25:51",
          "bug_id": "455350",
          "creator_id": "168751",
          "time": "20091118T15:25:51",
          "id": "2480367",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "jchadima@redhat.com",
          "text": "The more correct patch to sshd is posted to mindrot bugzilla as #1663",
          "author": "jchadima@redhat.com",
          "creation_time": "20091120T10:26:36",
          "bug_id": "455350",
          "creator_id": "276623",
          "time": "20091120T10:26:36",
          "id": "2487395",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "snagar@redhat.com",
          "text": "Deferring to 6.1",
          "author": "snagar@redhat.com",
          "creation_time": "20100311T15:41:31",
          "bug_id": "455350",
          "creator_id": "271112",
          "time": "20100311T15:41:31",
          "id": "2707616",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "jchadima@redhat.com",
          "text": "The patched version is successfuly tested and deployed in fedora.",
          "author": "jchadima@redhat.com",
          "creation_time": "20100607T10:21:59",
          "bug_id": "455350",
          "creator_id": "276623",
          "time": "20100607T10:21:59",
          "id": "2907571",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "mkhusid@redhat.com",
          "text": "pm_ack+ for 6.1.  \nRemoving openssh-lpk link since the actual feature implementation does not rely on lpk.",
          "author": "mkhusid@redhat.com",
          "creation_time": "20101129T20:45:20",
          "bug_id": "455350",
          "creator_id": "298056",
          "time": "20101129T20:45:20",
          "id": "3380934",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "ebenes@redhat.com",
          "text": "QA_ACK+ for 6.1\n\nQE: see https://bugzilla.mindrot.org/show_bug.cgi?id=1663",
          "author": "ebenes@redhat.com",
          "creation_time": "20101206T14:07:50",
          "bug_id": "455350",
          "creator_id": "203333",
          "time": "20101206T14:07:50",
          "id": "3406235",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "mvadkert@redhat.com",
          "text": "Just for the record:\nCurrent patch does not contain the ldap part",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110126T13:06:56",
          "bug_id": "455350",
          "creator_id": "271572",
          "time": "20110126T13:06:56",
          "id": "3501341",
          "is_private": "True"
        },
        {
          "count": "10",
          "creator": "mkhusid@redhat.com",
          "text": "(In reply to comment #9)\n> Just for the record:\n> Current patch does not contain the ldap part\n\nCould you please clarify what the patch does?  We will need this info for the release notes.",
          "author": "mkhusid@redhat.com",
          "creation_time": "20110126T13:10:58",
          "bug_id": "455350",
          "creator_id": "298056",
          "time": "20110126T13:10:58",
          "id": "3501349",
          "is_private": "True"
        },
        {
          "count": "11",
          "creator": "mvadkert@redhat.com",
          "text": "I think the addition is this functionality.\n\n     AuthorizedKeysCommand\n             Specifies a program to be used for lookup of the user\u2019s public keys.  The program will be invoked with its first argument the name of the user being authorized, and should\n             produce on standard output AuthorizedKeys lines (see AUTHORIZED_KEYS in sshd(8)).  By default (or when set to the empty string) there is no AuthorizedKeysCommand run.  If the\n             AuthorizedKeysCommand does not successfully authorize the user, authorization falls through to the AuthorizedKeysFile.  Note that this option has an effect only with Pub-\n             keyAuthentication turned on.\n\n     AuthorizedKeysCommandRunAs\n             Specifies the user under whose account the AuthorizedKeysCommand is run. Empty string (the default value) means the user being authorized is used.  \u201c\u201d\n\nJan can you confirm please? Also you will need to respin the package because the possible options in man page are not in alphabetical order and there is a bogus \u201c\u201d - see above.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110126T13:27:24",
          "bug_id": "455350",
          "creator_id": "271572",
          "time": "20110126T13:27:24",
          "id": "3501390",
          "is_private": "True"
        },
        {
          "count": "12",
          "creator": "jchadima@redhat.com",
          "text": "confirming\nexactly",
          "author": "jchadima@redhat.com",
          "creation_time": "20110126T13:44:15",
          "bug_id": "455350",
          "creator_id": "276623",
          "time": "20110126T13:44:15",
          "id": "3501432",
          "is_private": "True"
        },
        {
          "count": "13",
          "creator": "jchadima@redhat.com",
          "text": "but that is described above is in the rhel6 ready, not in the assigned bz state, but ready.",
          "author": "jchadima@redhat.com",
          "creation_time": "20110126T13:46:00",
          "bug_id": "455350",
          "creator_id": "276623",
          "time": "20110126T13:46:00",
          "id": "3501434",
          "is_private": "True"
        },
        {
          "count": "14",
          "creator": "jchadima@redhat.com",
          "text": "the final patch will contain the ldap part also",
          "author": "jchadima@redhat.com",
          "creation_time": "20110126T16:43:29",
          "bug_id": "455350",
          "creator_id": "276623",
          "time": "20110126T16:43:29",
          "id": "3501998",
          "is_private": "True"
        },
        {
          "count": "15",
          "creator": "mvadkert@redhat.com",
          "text": "Jan as this is a FutureFeature bug, please provide which parts of openssh can\nthis bug affect (besides the feature itself). So we can concentrate on these\nparts during our testing. Thank you!",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110127T12:21:54",
          "bug_id": "455350",
          "creator_id": "271572",
          "time": "20110127T12:21:54",
          "id": "3503687",
          "is_private": "True"
        },
        {
          "count": "16",
          "creator": "jchadima@redhat.com",
          "text": "none, but the ldap part must be thoroughly tested.",
          "author": "jchadima@redhat.com",
          "creation_time": "20110128T09:50:41",
          "bug_id": "455350",
          "creator_id": "276623",
          "time": "20110128T09:50:41",
          "id": "3505739",
          "is_private": "True"
        },
        {
          "count": "17",
          "creator": "ddumas@redhat.com",
          "text": "This is in Modified but I'm not seeing it in the openssh errata. You need to get the brew build updates and add it. This should have happened by the 6.1 code freeze, which was last Friday Feb 4.",
          "author": "ddumas@redhat.com",
          "creation_time": "20110208T19:59:19",
          "bug_id": "455350",
          "creator_id": "261745",
          "time": "20110208T19:59:19",
          "id": "3527508",
          "is_private": "False"
        },
        {
          "count": "18",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2011:10529-15\nhttp://errata.devel.redhat.com/errata/show/10529",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110208T23:02:17",
          "bug_id": "455350",
          "creator_id": "241731",
          "time": "20110208T23:02:17",
          "id": "3527936",
          "is_private": "True"
        },
        {
          "count": "19",
          "creator": "borgan@redhat.com",
          "text": "Hi Miroslav,\n\nCan I request that you verify this issue is resolved/fixed as soon as possible for the 6.1 public beta:\n\n * please test according to any testing expectations set in an earlier comment\n * aggressively work with devel stakeholders to ensure this issue is resolved\n\nIt is important for this to be validated by March 14th, to minimize any outstanding issues a public customer would have with the public beta ...\n\nRegards,\n\nBrock\n\n\n(In reply to comment #15)\n> Jan as this is a FutureFeature bug, please provide which parts of openssh can\n> this bug affect (besides the feature itself). So we can concentrate on these\n> parts during our testing. Thank you!",
          "author": "borgan@redhat.com",
          "creation_time": "20110308T20:34:07",
          "bug_id": "455350",
          "creator_id": "7775",
          "time": "20110308T20:34:07",
          "id": "3580328",
          "is_private": "True"
        },
        {
          "count": "20",
          "creator": "mvadkert@redhat.com",
          "text": "Hi Brock,\n\nI will concentrate on this bug tomorrow and report back ASAP with the testing results.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110308T20:48:16",
          "bug_id": "455350",
          "creator_id": "271572",
          "time": "20110308T20:48:16",
          "id": "3580361",
          "is_private": "True"
        },
        {
          "count": "21",
          "creator": "mvadkert@redhat.com",
          "text": "I was manually able to use this feature and it works. Testing was done only using ldap server without TLS. I'm currently creating a RHTS test that will automatize the testing and will also test the feature in more depth.\n\nThe problem is the documentation because it is in many places misleading and it is scattered in 3 files:\n/usr/share/doc/openssh-ldap-5.5p1/lpk-user-example.txt\n/usr/share/doc/openssh-ldap-5.5p1/README.lpk\n/usr/share/doc/openssh-ldap-5.3p1/HOWTO.ldap-keys\n\nI recommend to have one file which will contain step to step up-to-date guide how to set up openssh for getting public keys from ldap server and some basic information maybe. Sections describing LPK should be wiped, for example this from lpk-user-example.txt:\nAdd the following config to /etc/ssh/ssh_config\nUseLPK yes\nLpkServers ldap://myhost.mydomain.com\nLpkUserDN  ou=People,dc=mydomain,dc=com\n\nThe man page for ssh-ldap-helper is misleading as it says it can be used in sshd_config. This is not true, ssh-wrapper should be used instead in the latest version. The man page should mention that this tool is great for manual testing (not the oposite as it does now).\n\nssh-ldap-helper run without parameters should return the help and not end without a message.\n\nThe man page for ssh-ldap.conf was generated incorrectly and is missing new lines:\nhttp://pastebin.test.redhat.com/43497\n\nBoth man pages should be reviewed by some other senior developer and then also by the documentation team.\n\nMoving to assigned as the documentation for this nice feature needs improvements.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110310T12:06:04",
          "bug_id": "455350",
          "creator_id": "271572",
          "time": "20110310T12:06:04",
          "id": "3584649",
          "is_private": "False"
        },
        {
          "count": "22",
          "creator": "mvadkert@redhat.com",
          "text": "Great the new package openssh-5.3p1-46.el5 now comes with a nice HOWTO in one file. The howto is understandable but needs to be reviewed by the documentation team to fix any gramatical issues. I'm contacting them to get this done.\n\nThe man page for ssh-ldap-helper is corrected now.\n\nThe ssh-ldap.conf is still broken (no newlines) and needs to be fixed so the bug stays in assigned.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110311T08:11:30",
          "bug_id": "455350",
          "creator_id": "271572",
          "time": "20110311T08:11:30",
          "id": "3586781",
          "is_private": "False"
        },
        {
          "count": "23",
          "creator": "mvadkert@redhat.com",
          "text": "Added new Beaker sanity test for the feature. \n/CoreOS/openssh/Sanity/bz455350-support-centralized-management-of-keys\n\nPasses with openssh-5.3p1-46.el6.x86_64:\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\ntestuser:*:9999:9999::/home/testuser:/bin/bash\n:: [   PASS   ] :: Running 'getent passwd testuser'\n:: [   PASS   ] :: Running '/usr/sbin/sshd -f ./sshd_config -p 999 &> /tmp/tmp.xkiHeln4oS &'\nssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAwLMZ7yAA8u0tJDhTkEH6ckP9lUYU9ai6cYPjK8On4S3HFsaf5QOSwJyTp3w9olXcRb3ycrpmAtb90AfeUE2f+wcIODlQk6DL1N+BzPm6xXv8qQ3BmWLRcFIpXJbOGZQLnjcSAT/EAQyNQWYH45rQ7ty15l+FrQSaCg87TNKc8ACzlvCdJ8tK266nE93ligJoHg1+TezolaI5YAULP4KJ4m/IlgFG8hOJqfttghJJSiFEi8U2LGCZ9CwkU7Nwd07YmTw0zoCaB7kXlnJ10r/bsZbwIRcxD/pfxr939GhxtsdlcZMFsrD/DMdMmdipZ/2NUItYlP0M7ZQSdsB5xp6SCQ== root@dell-pe1950-04.rhts.englab.brq.redhat.com\n:: [   PASS   ] :: Running '/usr/libexec/openssh/ssh-ldap-helper -s testuser | tee /tmp/tmp.zp7Kp6A0tW'\n:: [   PASS   ] :: File '/tmp/tmp.zp7Kp6A0tW' should contain 'ssh-rsa'\nspawn ssh -i ./id_rsa -p999 testuser@dell-pe1950-02.rhts.englab.brq.redhat.com\nLast login: Sat Mar 12 06:11:59 2011 from dell-pe1950-02.rhts.englab.brq.redhat.com\n**  **  **  **  **  **  **  **  **  **  **  **  **  **  **  **  **  **\n                 This System is reserved by mvadkert@redhat.com.\n\n To return this system early. You can run the command: return2beaker.sh\n  Ensure you have your logs off the system before returning to Beaker\n\n To extend your reservation time. You can run the command:\n  extendtesttime.sh\n This is an interactive script. You will be prompted for how many\n  hours you would like to extend the reservation.\n  Please use this command responsibly, Everyone uses these machines.\n\n You should verify the watchdog was updated succesfully after\n  you extend your reservation.\n  https://beaker.engineering.redhat.com/recipes/124987\n\n For ssh, kvm, serial and power control operations please look here:\n  https://beaker.engineering.redhat.com/view/dell-pe1950-02.rhts.englab.brq.redhat.com\n\n      Beaker Test information:\n                         HOSTNAME=dell-pe1950-02.rhts.englab.brq.redhat.com\n                            JOBID=61139\n                         RECIPEID=124987\n                    RESULT_SERVER=127.0.0.1:7097\n                           DISTRO=RHEL6.1-20110224.2\n                     ARCHITECTURE=x86_64\n**  **  **  **  **  **  **  **  **  **  **  **  **  **  **  **  **  **\n-bash-4.1$ exit\nlogout\nConnection to dell-pe1950-02.rhts.englab.brq.redhat.com closed.\n:: [   PASS   ] :: Running './ssh.exp testuser'",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110312T11:26:55",
          "bug_id": "455350",
          "creator_id": "271572",
          "time": "20110312T11:26:55",
          "id": "3588984",
          "is_private": "True"
        },
        {
          "count": "24",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from MODIFIED to ON_QA status by the Errata System: \nAdvisory RHBA-2011:10529-18: \nhttp://errata.devel.redhat.com/errata/stateview/10529",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110322T15:36:15",
          "bug_id": "455350",
          "creator_id": "241731",
          "time": "20110322T15:36:15",
          "id": "3621568",
          "is_private": "True"
        },
        {
          "count": "25",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2011:10529-20: \nhttp://errata.devel.redhat.com/errata/stateview/10529\n\nVERIFIED as fixed in openssh-5.3p1-52.el6\nLDAP support now works in openssh for getting authorized_keys\n\nNEW package openssh-5.3p1-52.el6:\n:: [   PASS   ] :: Running 'getent passwd testuser'\n:: [   PASS   ] :: Running '/usr/sbin/sshd -ddd -f ./sshd_config -p 999 &> /tmp/tmp.Qsh7l2UYr2 &'\n:: [   PASS   ] :: Running '/usr/libexec/openssh/ssh-ldap-helper -s testuser | tee /tmp/tmp.TasOhVUKYD'\n:: [   PASS   ] :: File '/tmp/tmp.TasOhVUKYD' should contain 'ssh-rsa'\n:: [   PASS   ] :: Running './ssh.exp testuser'\n:: [   LOG    ] :: Duration: 2s\n:: [   LOG    ] :: Assertions: 5 good, 0 bad\n:: [   PASS   ] :: RESULT: Test\n\nOLD package openssh-5.3p1-20.el6:\n:: [   PASS   ] :: Running 'getent passwd testuser'\n:: [   PASS   ] :: Running '/usr/sbin/sshd -ddd -f ./sshd_config -p 999 &> /tmp/tmp.49B8cW05Ky &'\n:: [   PASS   ] :: Running '/usr/libexec/openssh/ssh-ldap-helper -s testuser | tee /tmp/tmp.BE5hxJ4U1q'\n:: [   FAIL   ] :: File '/tmp/tmp.BE5hxJ4U1q' should contain 'ssh-rsa' \n:: [   FAIL   ] :: Running './ssh.exp testuser' (Expected 0, got 1)\n:: [   LOG    ] :: Duration: 2s\n:: [   LOG    ] :: Assertions: 3 good, 2 bad\n:: [   FAIL   ] :: RESULT: Test",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110420T14:57:43",
          "bug_id": "455350",
          "creator_id": "241731",
          "time": "20110420T14:57:43",
          "id": "3687470",
          "is_private": "True"
        },
        {
          "count": "26",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "An advisory has been issued which should help the problem\ndescribed in this bug report. This report is therefore being\nclosed with a resolution of ERRATA. For more information\non therefore solution and/or where to find the updated files,\nplease follow the link below. You may reopen this bug report\nif the solution does not work for you.\n\nhttp://rhn.redhat.com/errata/RHBA-2011-0598.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110519T13:30:04",
          "bug_id": "455350",
          "creator_id": "241731",
          "time": "20110519T13:30:04",
          "id": "3745792",
          "is_private": "False"
        },
        {
          "count": "27",
          "creator": "barrowkwan@yahoo.com",
          "text": "I am trying to get this working with our Active Directory but has problem with the ldap_searching string.\n\nI am wondering if this can be made configurable in the /etc/ssh/ldap.conf\n\n\nIn the openssh-5.3p1-ldap.patch file,  if we can make this changeable in /etc/ssh/ldap.conf, that will be very helpful.\n\nright now I have to change this\n\n+#define LDAPSEARCH_FORMAT ''(&(objectclass=posixAccount)(objectclass=ldapPublicKey)(uid=%s)%s)''\n\nto\n\n\n+#define LDAPSEARCH_FORMAT ''(&(objectclass=user)(uid=%s)%s)''\n\n\nthanks",
          "author": "barrowkwan@yahoo.com",
          "creation_time": "20120507T21:44:36",
          "bug_id": "455350",
          "creator_id": "276760",
          "time": "20120507T21:44:36",
          "id": "4656229",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.0"
      ],
      "cc": [
        "barrowkwan@yahoo.com",
        "borgan@redhat.com",
        "ddumas@redhat.com",
        "herrold@owlriver.com",
        "jrieden@redhat.com",
        "k.georgiou@atreides.org.uk",
        "liko@redhat.com",
        "mkhusid@redhat.com",
        "mvadkert@redhat.com",
        "reed@reedloden.com",
        "sgrubb@redhat.com",
        "snagar@redhat.com",
        "soumplis@ekt.gr",
        "syeghiay@redhat.com",
        "tao@redhat.com"
      ],
      "cf_verified": [
        "FailedQA"
      ],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "655920",
        "215741"
      ],
      "qa_contact": "bbrock@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Enhancement",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "[FEAT] OpenSSH to support centralized management of SSH keys",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.1.0",
          "modification_date": "20101206T14:12:56",
          "type_id": "202",
          "is_active": "0",
          "creation_date": "20100311T15:41:31",
          "id": "573343",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "exception",
          "modification_date": "20110322T15:33:23",
          "type_id": "15",
          "is_active": "1",
          "creation_date": "20110318T18:08:08",
          "id": "783324",
          "setter": "syeghiay@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20101129T20:45:20",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20100311T16:59:14",
          "id": "573409",
          "setter": "mkhusid@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20101202T16:34:33",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20100818T20:26:59",
          "id": "667069",
          "setter": "sgrubb@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20101206T14:07:50",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20101110T09:46:14",
          "id": "719783",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20120507T21:44:36",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509325-xBzRjKtVn6iA0aSKeEispf8GNrrUKQ_srtnxR1xXmc0",
      "cf_partner": [],
      "cf_last_closed": "20110519T13:30:04",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20080714T23:04:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "FutureFeature",
        "OtherQA",
        "Triaged"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00322431",
          "bug_id": "455351",
          "ext_description": "[RHEL6:OPENSSH:RFE] Addition of GSSAPI key exchange to OpenSSH",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "11544"
        },
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00517439",
          "bug_id": "455351",
          "ext_description": "Unable to define GSSAPIKeyExchange in sshd_config",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "45899"
        }
      ],
      "id": "455351",
      "cf_release_notes": "",
      "priority": "high",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-9",
      "creator": "riek@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "riek@redhat.com",
          "text": "The requested changes are not accepted upstream, but the requested functionality\nis important for enterprise-class deployments. This request therefore aims at\nworking with upstream on enabling GSSAPI support in OpenSSH or to find an\nalternative solution.\n\n+++ This bug was initially created as a clone of Bug #443472 +++\n\n> What is the exact nature of the problem trying to be solved with this\n> request?\nPlease consider including the GSSAPI Key Exchange features in our\nOpenSSH packages.\n\n> What, if any, business requirements are satisfied by this request? (What\n> is the use case context?)\n\nOpenSSH contains support out of the box for GSSAPI user authentication\nusing the 'gssapi-with-mic' mechanism, which is fine for small sites\nwith small kerberos deployments.\n\nLarger sites, have requested that the key exchange patches be\nincluded with Red Hat's OpenSSH rpm.  Currently, many are rolling their\nown version of OpenSSH with these patches:  \n\nhttp://www.sxw.org.uk/computing/patches/openssh.html\n\n\n> List the functional requirement(s) for performing the action(s) that are\n> not presently possible. Please focus on describing the problem related\n> requirements without projecting any specific solution.\n\nGSSAPI key exchange will let customers use their existing key management\ninfrastructure (e.g. Kerberos), without having to distribute ssh host keys\neverywhere.  Sites with larger Kerberos deployments will benefit from this\nthe mos because ssh host key maintenance quickly becomes a nightmare. \nWith GSSAPI key exchange, servers do not need ssh host keys when being\naccessed by clients with valid credentials.\n\n\n> Each functional requirement must have clear acceptance criteria so Red Hat\n> understands what success looks like. \n\nBe able to successfully perform, in SSH, server and user authentication\nvia GSSAPI without having to use gobs of maps of ssh host keys. \n\nThere is an actual RFC published on OpenSSH Key exchange:\nhttp://www.digipedia.pl/rfc/rfc4462.html",
          "author": "riek@redhat.com",
          "creation_time": "20080714T23:04:53",
          "bug_id": "455351",
          "creator_id": "152197",
          "time": "20080714T23:04:53",
          "id": "1801225",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "notting@redhat.com",
          "text": "Any feedback on why upstream hasn't taken the changes?",
          "author": "notting@redhat.com",
          "creation_time": "20081001T17:18:37",
          "bug_id": "455351",
          "creator_id": "4",
          "time": "20081001T17:18:37",
          "id": "1882689",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "tmraz@redhat.com",
          "text": "Unfortunately even after multiple pings they did not respond.\nBut as this is RFC now I'm getting convinced to add the patch to our package anyway.",
          "author": "tmraz@redhat.com",
          "creation_time": "20081001T18:06:51",
          "bug_id": "455351",
          "creator_id": "167996",
          "time": "20081001T18:06:51",
          "id": "1882771",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "snagar@redhat.com",
          "text": "Have there been any updates to the upstream status for this since the last update?",
          "author": "snagar@redhat.com",
          "creation_time": "20100104T17:04:25",
          "bug_id": "455351",
          "creator_id": "271112",
          "time": "20100104T17:04:25",
          "id": "2565031",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "jchadima@redhat.com",
          "text": "no, but the patch is implemted in both fedora and rhel branches",
          "author": "jchadima@redhat.com",
          "creation_time": "20100107T10:04:11",
          "bug_id": "455351",
          "creator_id": "276623",
          "time": "20100107T10:04:11",
          "id": "2571406",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "releng-rhel@redhat.com",
          "text": "Fixed in 'openssh-5.3p1-9'. 'openssh-5.3p1-12.1.el6' included in compose 'RHEL6.0-20100209.1'.\nMoving to ON_QA.",
          "author": "releng-rhel@redhat.com",
          "creation_time": "20100209T19:23:13",
          "bug_id": "455351",
          "creator_id": "286012",
          "time": "20100209T19:23:13",
          "id": "2639303",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "ebenes@redhat.com",
          "text": "@jfch: Could you please provide us how-to-test instructions for this bug?",
          "author": "ebenes@redhat.com",
          "creation_time": "20100331T16:20:15",
          "bug_id": "455351",
          "creator_id": "203333",
          "time": "20100331T16:20:15",
          "id": "2752119",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "mvadkert@redhat.com",
          "text": "how-to-test instructions were provided, I will create a TCMS test case for this issue. Needinfo flag cleared.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100413T09:46:31",
          "bug_id": "455351",
          "creator_id": "271572",
          "time": "20100413T09:46:31",
          "id": "2774487",
          "is_private": "False"
        },
        {
          "count": "8",
          "creator": "ohudlick@redhat.com",
          "text": "Adding OtherQA - can GSS or customer help with testing? \nWe are missing the expertise here. Setup is pretty complex and there are lot of options, not enough info to build reasonable test cover - please provide complete usecase if possible.",
          "author": "ohudlick@redhat.com",
          "creation_time": "20100414T15:43:59",
          "bug_id": "455351",
          "creator_id": "188618",
          "time": "20100414T15:43:59",
          "id": "2777981",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "tao@redhat.com",
          "text": "Event posted on 04-15-2010 11:05am EDT by kbaxley\n\nI can most likely get my customer to help with testing once the Beta rolls\nout.\n\n\nThis event sent from IssueTracker by kbaxley \n issue 96013",
          "author": "tao@redhat.com",
          "creation_time": "20100415T15:05:45",
          "bug_id": "455351",
          "creator_id": "80926",
          "time": "20100415T15:05:45",
          "id": "2780379",
          "is_private": "False"
        },
        {
          "count": "10",
          "creator": "cward@redhat.com",
          "text": "Beta's out :)",
          "author": "cward@redhat.com",
          "creation_time": "20100512T07:47:38",
          "bug_id": "455351",
          "creator_id": "215842",
          "time": "20100512T07:47:38",
          "id": "2841664",
          "is_private": "False"
        },
        {
          "count": "11",
          "creator": "ebenes@redhat.com",
          "text": "Could we get some feedback from the customer? This feature is quite complex and there is a request to address this feature also in RHEL 5. Before we do that we need testing instructions or a customer willing to help with the testing.\n\nAccording to IT status for account kbaxley is inactive?!",
          "author": "ebenes@redhat.com",
          "creation_time": "20100802T11:52:53",
          "bug_id": "455351",
          "creator_id": "203333",
          "time": "20100802T11:52:53",
          "id": "3049436",
          "is_private": "True"
        },
        {
          "count": "12",
          "creator": "cward@redhat.com",
          "text": "needinfo'ing tao. \n\n@GSS, any updates here?\n\n@QE, Seems unlikely we'll be able to get feedback, unfortunately.",
          "author": "cward@redhat.com",
          "creation_time": "20100802T12:04:10",
          "bug_id": "455351",
          "creator_id": "215842",
          "time": "20100802T12:04:10",
          "id": "3049447",
          "is_private": "True"
        },
        {
          "count": "13",
          "creator": "tao@redhat.com",
          "text": "Event posted on 08-02-2010 09:34am EDT by tgummels\n\nI'll ping the customer and see if we can get them to do some testing.\n\nThanks\n\n\nThis event sent from IssueTracker by tgummels \n issue 96013",
          "author": "tao@redhat.com",
          "creation_time": "20100802T13:34:22",
          "bug_id": "455351",
          "creator_id": "80926",
          "time": "20100802T13:34:22",
          "id": "3049704",
          "is_private": "True"
        },
        {
          "count": "14",
          "creator": "tao@redhat.com",
          "text": "Event posted on 08-04-2010 09:50am EDT by tgummels\n\nHello,\n\nCustomer will begin testing RHEL 6 for their environment in about a month.\n OpenSSH with GSSAPI is on the list.  They can provide feed back once\ntesting is complete.  Does that work for you?\n\nTravis\n\nInternal Status set to 'Waiting on Engineering'\nStatus set to: Next Release\n\nThis event sent from IssueTracker by tgummels \n issue 96013",
          "author": "tao@redhat.com",
          "creation_time": "20100804T13:50:17",
          "bug_id": "455351",
          "creator_id": "80926",
          "time": "20100804T13:50:17",
          "id": "3056057",
          "is_private": "True"
        },
        {
          "count": "15",
          "creator": "mvadkert@redhat.com",
          "text": "any update?",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100910T09:58:35",
          "bug_id": "455351",
          "creator_id": "271572",
          "time": "20100910T09:58:35",
          "id": "3140298",
          "is_private": "True"
        },
        {
          "count": "16",
          "creator": "releng-rhel@redhat.com",
          "text": "Red Hat Enterprise Linux 6.0 is now available and should resolve\nthe problem described in this bug report. This report is therefore being closed\nwith a resolution of CURRENTRELEASE. You may reopen this bug report if the\nsolution does not work for you.",
          "author": "releng-rhel@redhat.com",
          "creation_time": "20101115T14:33:40",
          "bug_id": "455351",
          "creator_id": "286012",
          "time": "20101115T14:33:40",
          "id": "3309492",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.0"
      ],
      "cc": [
        "borgan@redhat.com",
        "cward@redhat.com",
        "ebenes@redhat.com",
        "k.georgiou@atreides.org.uk",
        "mvadkert@redhat.com",
        "notting@redhat.com",
        "sgrubb@redhat.com",
        "snagar@redhat.com",
        "sputhenp@redhat.com",
        "tao@redhat.com"
      ],
      "cf_verified": [
        "Any",
        "SanityOnly"
      ],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "391521",
        "443472"
      ],
      "qa_contact": "mvadkert@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Enhancement",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "[FEAT] Addition of GSSAPI key exchange to OpenSSH (RFC4462)",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.0.0",
          "modification_date": "20100106T20:10:45",
          "type_id": "62",
          "is_active": "0",
          "creation_date": "20080715T14:28:01",
          "id": "386113",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20100104T17:04:25",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20080715T14:28:01",
          "id": "386114",
          "setter": "snagar@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20091118T14:18:29",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20090911T17:02:35",
          "id": "499380",
          "setter": "sgrubb@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20100106T19:51:03",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20091118T14:27:58",
          "id": "524333",
          "setter": "borgan@redhat.com"
        }
      ],
      "last_change_time": "20110906T04:55:01",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509325-nQbGJjXw80Z75o0xwsO7gKyUrEMnb8piq4zLEekFJ4k",
      "cf_partner": [],
      "cf_last_closed": "20101115T14:33:40",
      "resolution": "CURRENTRELEASE",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20100120T16:02:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "557166",
      "cf_release_notes": "",
      "priority": "high",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-12.2",
      "creator": "tmraz@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "tmraz@redhat.com",
          "text": "Ssh and sshd need to have RAND_cleanup() calls added to the places where the processes (and child processes) exit.\n\nThis is required for the FIPS-140-2 compliance.",
          "author": "tmraz@redhat.com",
          "creation_time": "20100120T16:02:01",
          "bug_id": "557166",
          "creator_id": "167996",
          "time": "20100120T16:02:01",
          "id": "2600003",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "This request was evaluated by Red Hat Product Management for inclusion in a Red\nHat Enterprise Linux major release.  Product Management has requested further\nreview of this request by Red Hat Engineering, for potential inclusion in a Red\nHat Enterprise Linux Major release.  This request is not yet committed for\ninclusion.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20100120T16:15:58",
          "bug_id": "557166",
          "creator_id": "193983",
          "time": "20100120T16:15:58",
          "id": "2600049",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "releng-rhel@redhat.com",
          "text": "Fixed in 'openssh-5.3p1-12.2'. 'openssh-5.3p1-14.el6' included in compose 'RHEL6.0-20100422.12'.\nMoving to ON_QA.",
          "author": "releng-rhel@redhat.com",
          "creation_time": "20100423T04:55:26",
          "bug_id": "557166",
          "creator_id": "286012",
          "time": "20100423T04:55:26",
          "id": "2796001",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "mvadkert@redhat.com",
          "text": "RAND_cleanup() called at process exits. VERIFIED as fixed in openssh-5.3p1-15.el6",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100601T09:42:06",
          "bug_id": "557166",
          "creator_id": "271572",
          "time": "20100601T09:42:06",
          "id": "2890988",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "releng-rhel@redhat.com",
          "text": "Red Hat Enterprise Linux Beta 2 is now available and should resolve\nthe problem described in this bug report. This report is therefore being closed\nwith a resolution of CURRENTRELEASE. You may reopen this bug report if the\nsolution does not work for you.",
          "author": "releng-rhel@redhat.com",
          "creation_time": "20100702T20:53:07",
          "bug_id": "557166",
          "creator_id": "286012",
          "time": "20100702T20:53:07",
          "id": "2980421",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.0"
      ],
      "cc": [
        "mvadkert@redhat.com",
        "sgrubb@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "rhel_beta"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "Need RAND_cleanup() calls added for FIPS compliance",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.0.0",
          "modification_date": "20100127T10:21:30",
          "type_id": "62",
          "is_active": "0",
          "creation_date": "20100120T16:02:10",
          "id": "546766",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20100120T16:15:57",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20100120T16:09:38",
          "id": "546773",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20100120T16:09:38",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20100120T16:09:38",
          "id": "546774",
          "setter": "sgrubb@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20100127T10:07:58",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20100120T16:09:38",
          "id": "546775",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20100702T20:53:07",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509325-9HoQjYz8ivOk6MS9_75uemV5ex_BJn4JO80obhYaJT4",
      "cf_partner": [],
      "cf_last_closed": "20100702T20:53:07",
      "resolution": "CURRENTRELEASE",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20100412T09:31:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "581444",
      "cf_release_notes": "",
      "priority": "high",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-14.el6",
      "creator": "jchadima@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "jchadima@redhat.com",
          "text": "Description of problem:\nThe openssh package does not build with the last krb5-devel package, it search for nonexisting file /etc/profile.d/krb5-devel.sh\n\nVersion-Release number of selected component (if applicable):\nopenssh-5.3p1-13.el6\n\nHow reproducible:\nAlways\n\nSteps to Reproduce:\n1. make build || make local (in cvs repository)\n2.\n3.\n  \nActual results:\ndoes not build\n\nExpected results:\nbuilt successfully\n\nAdditional info:",
          "author": "jchadima@redhat.com",
          "creation_time": "20100412T09:31:31",
          "bug_id": "581444",
          "creator_id": "276623",
          "time": "20100412T09:31:31",
          "id": "2771921",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "This request was evaluated by Red Hat Product Management for inclusion in a Red\nHat Enterprise Linux major release.  Product Management has requested further\nreview of this request by Red Hat Engineering, for potential inclusion in a Red\nHat Enterprise Linux Major release.  This request is not yet committed for\ninclusion.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20100412T09:44:09",
          "bug_id": "581444",
          "creator_id": "193983",
          "time": "20100412T09:44:09",
          "id": "2771945",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this bug is proposed for the current release and its status has\nchanged to MODIFIED, the devel_ack flag has been set to +.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20100412T09:54:21",
          "bug_id": "581444",
          "creator_id": "193983",
          "time": "20100412T09:54:21",
          "id": "2771966",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "releng-rhel@redhat.com",
          "text": "Fixed in 'openssh-5.3p1-14.el6', included in compose 'RHEL6.0-20100422.12'.\nMoving to ON_QA.",
          "author": "releng-rhel@redhat.com",
          "creation_time": "20100423T04:55:36",
          "bug_id": "581444",
          "creator_id": "286012",
          "time": "20100423T04:55:36",
          "id": "2796004",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "mvadkert@redhat.com",
          "text": "VERIFIED as fixed in openssh-5.3p1-16, rebuild works well with krb5-devel-1.8.1-6.el6",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100601T10:20:58",
          "bug_id": "581444",
          "creator_id": "271572",
          "time": "20100601T10:20:58",
          "id": "2891068",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "releng-rhel@redhat.com",
          "text": "Red Hat Enterprise Linux Beta 2 is now available and should resolve\nthe problem described in this bug report. This report is therefore being closed\nwith a resolution of CURRENTRELEASE. You may reopen this bug report if the\nsolution does not work for you.",
          "author": "releng-rhel@redhat.com",
          "creation_time": "20100702T19:40:02",
          "bug_id": "581444",
          "creator_id": "286012",
          "time": "20100702T19:40:02",
          "id": "2979622",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.0"
      ],
      "cc": [
        "mvadkert@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "mvadkert@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "rhel_beta"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "The openssh does not build with last krb5-devel",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.0.0",
          "modification_date": "20100421T18:31:13",
          "type_id": "62",
          "is_active": "0",
          "creation_date": "20100412T09:34:26",
          "id": "587616",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20100412T09:44:08",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20100412T09:44:08",
          "id": "587623",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20100412T09:54:19",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20100412T09:46:46",
          "id": "587626",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20100421T17:35:26",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20100412T10:38:02",
          "id": "587659",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20100702T19:40:02",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509325-MXUD9RuKmEJpvV5ek5foIUU75eREKxVnx5iMr-voO1s",
      "cf_partner": [],
      "cf_last_closed": "20100702T19:40:02",
      "resolution": "CURRENTRELEASE",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20100504T19:45:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "FutureFeature",
        "Triaged"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00318226",
          "bug_id": "588912",
          "ext_description": "Request GSS KEX patches in openssh",
          "ext_priority": "2 (High)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "29931"
        }
      ],
      "id": "588912",
      "cf_release_notes": "",
      "priority": "high",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "tao@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "tao@redhat.com",
          "text": "Escalated to Bugzilla from IssueTracker",
          "author": "tao@redhat.com",
          "creation_time": "20100504T19:45:27",
          "bug_id": "588912",
          "creator_id": "80926",
          "time": "20100504T19:45:27",
          "id": "2824245",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "tao@redhat.com",
          "text": "Event posted on 04-20-2010 01:53pm EDT by nayfield\n\nThis appears to be on track for F14:\n\nhttp://cvs.fedoraproject.org/viewvc/devel/openssh/openssh-5.4p1-gsskex.patch?view=log\n\nWe'd like to see this functionality ship with RHEL6.\n\nThis event sent from IssueTracker by cww  [SEG - Feature Request]\n issue 787223",
          "author": "tao@redhat.com",
          "creation_time": "20100504T19:45:28",
          "bug_id": "588912",
          "creator_id": "80926",
          "time": "20100504T19:45:28",
          "id": "2824246",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "tao@redhat.com",
          "text": "Event posted on 05-03-2010 03:39pm EDT by RFE-tool\n\n1) Customer Name:\nGoldman Sachs\n\n2) Nature Of Problem:\nGoldman maintains site wide maps of host keys. They would like to get rid\nof this administrative overhead.\n\n3) Business Requirements Satisfied By Request:\nless time with the updates of ssh host keys\n\n4) Functional Requirements That Are Not Presently Possible:\nuse gss key exchange\n\n5) What Will Success Look Like:\nincorporate the patch that is going into ssh in F14 in RHEL 6.0\n\n6) Desired Release Vehicle:\nMajor\n\n7) Request Meets The Rhel Inclusion Criteria:\nYes\n\n8) Affected Packages:\nssh\n\n9) Sales Sponsor:\nssajer\n\n10) Rh Business Opportunity With Customer:\nlarge\n\n11) Status And Risk To Contract If Not Satisfied:\nsmall\n\n12) If this request is vendor specific, has the customer engaged the\npartner as well?:\nNot Applicable\n\n\n\n\nRFE-tool assigned to issue for SEG - Feature Request.\n\nThis event sent from IssueTracker by cww  [SEG - Feature Request]\n issue 787223",
          "author": "tao@redhat.com",
          "creation_time": "20100504T19:45:29",
          "bug_id": "588912",
          "creator_id": "80926",
          "time": "20100504T19:45:29",
          "id": "2824247",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "jchadima@redhat.com",
          "text": "This functionaly is already in RHEL6",
          "author": "jchadima@redhat.com",
          "creation_time": "20100505T06:16:57",
          "bug_id": "588912",
          "creator_id": "276623",
          "time": "20100505T06:16:57",
          "id": "2825146",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.0"
      ],
      "cc": [
        "cww@redhat.com",
        "tao@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Enhancement",
      "cf_clone_of": "0",
      "groups": [
        "devel",
        "qa",
        "rhel_beta",
        "rhn",
        "support"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "[RFE] Request GSS KEX patches in openssh",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.1.0",
          "modification_date": "20100504T19:46:24",
          "type_id": "202",
          "is_active": "0",
          "creation_date": "20100504T19:46:24",
          "id": "600005",
          "setter": "cww@redhat.com"
        },
        {
          "status": "?",
          "name": "pm_ack",
          "modification_date": "20100504T19:46:24",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20100504T19:46:24",
          "id": "600006",
          "setter": "cww@redhat.com"
        }
      ],
      "last_change_time": "20101023T15:12:45",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509325-cyMfjLa1THmJQK-W95lKc4BxSBWBq9TnFb3aKBRb8i0",
      "cf_partner": [],
      "cf_last_closed": "20100505T06:16:57",
      "resolution": "NOTABUG",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20100526T12:15:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "596192",
      "cf_release_notes": "",
      "priority": "high",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-16.el6",
      "creator": "mvadkert@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "mvadkert@redhat.com",
          "text": "Package openssh-5.3p1-14.el6 failed RPMdiff testing.\n\nSee please\nhttp://rhel6rpmdiff.lab.eng.brq.redhat.com/run.php?runid=4346&groupid=58&email=jchadima@redhat.com\nfor details. The page contains waiving functionality with reporting back to bugzilla. Please add comments and waive if apropriate. If you waive all test results which failed and needed inspection, the bug will be automatically closed as NOTABUG.\n\nFor more information on reporting and review of RHEL6 RPMdiff runs see please https://wiki.test.redhat.com/BaseOs/Projects/Rhel6RPMDiff#RPMdiffrunsreportingandreview.\n\nTo report a bug against RPMdiff see link at the bottom of the RPMdiff run. \n\nFor any other questions don't hasitate to contact the reporter of this bug.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100526T12:15:22",
          "bug_id": "596192",
          "creator_id": "271572",
          "time": "20100526T12:15:22",
          "id": "2878301",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20100526T12:23:35",
          "bug_id": "596192",
          "creator_id": "193983",
          "time": "20100526T12:23:35",
          "id": "2878407",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "pm-rhel@redhat.com",
          "text": "This request was evaluated by Red Hat Product Management for inclusion in a Red\nHat Enterprise Linux major release.  Product Management has requested further\nreview of this request by Red Hat Engineering, for potential inclusion in a Red\nHat Enterprise Linux Major release.  This request is not yet committed for\ninclusion.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20100526T16:39:31",
          "bug_id": "596192",
          "creator_id": "193983",
          "time": "20100526T16:39:31",
          "id": "2879455",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "jchadima@redhat.com",
          "text": "Bug send to upstream as https://bugzilla.mindrot.org/show_bug.cgi?id=1772",
          "author": "jchadima@redhat.com",
          "creation_time": "20100527T11:03:22",
          "bug_id": "596192",
          "creator_id": "276623",
          "time": "20100527T11:03:22",
          "id": "2881683",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "jchadima@redhat.com",
          "text": "Upstream proposed turn switch strict aliasing globally.",
          "author": "jchadima@redhat.com",
          "creation_time": "20100528T09:35:24",
          "bug_id": "596192",
          "creator_id": "276623",
          "time": "20100528T09:35:24",
          "id": "2884700",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "releng-rhel@redhat.com",
          "text": "Fixed in 'openssh-5.3p1-16.el6'. 'openssh-5.3p1-18.el6' included in compose 'RHEL6.0-20100701.0'.\nMoving to ON_QA.",
          "author": "releng-rhel@redhat.com",
          "creation_time": "20100701T13:20:11",
          "bug_id": "596192",
          "creator_id": "286012",
          "time": "20100701T13:20:11",
          "id": "2972977",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "mvadkert@redhat.com",
          "text": "VERIFIED as fixed in openssh-5.3p1-18.el6. Latest RPMdiff run is clean:\nhttp://rhel6rpmdiff.lab.eng.brq.redhat.com/run.php?runid=9224",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100718T11:14:01",
          "bug_id": "596192",
          "creator_id": "271572",
          "time": "20100718T11:14:01",
          "id": "3014228",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "releng-rhel@redhat.com",
          "text": "Red Hat Enterprise Linux 6.0 is now available and should resolve\nthe problem described in this bug report. This report is therefore being closed\nwith a resolution of CURRENTRELEASE. You may reopen this bug report if the\nsolution does not work for you.",
          "author": "releng-rhel@redhat.com",
          "creation_time": "20101110T21:17:00",
          "bug_id": "596192",
          "creator_id": "286012",
          "time": "20101110T21:17:00",
          "id": "3297342",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.0"
      ],
      "cc": [
        "sgrubb@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "593740"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "private"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "Snapshot 7",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "RPMdiff run failed for package openssh-5.3p1-14.el6",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.0.0",
          "modification_date": "20100528T13:12:07",
          "type_id": "62",
          "is_active": "0",
          "creation_date": "20100526T16:20:06",
          "id": "614120",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20100526T16:39:29",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20100526T12:41:38",
          "id": "613733",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20100528T13:09:40",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20100526T16:43:58",
          "id": "614251",
          "setter": "sgrubb@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20100528T09:13:58",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20100528T09:08:52",
          "id": "615273",
          "setter": "mvadkert@redhat.com"
        }
      ],
      "last_change_time": "20101110T21:17:00",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509325-VSALsk30JKSRNaLkK3klqXzqMag1WQ9rg0MfH2_c5Ys",
      "cf_partner": [],
      "cf_last_closed": "20101110T21:17:00",
      "resolution": "CURRENTRELEASE",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20100603T07:34:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "599392",
      "cf_release_notes": "",
      "priority": "high",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-16.el6",
      "creator": "mvadkert@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "mvadkert@redhat.com",
          "text": "Package openssh-5.3p1-15.el6 failed RPMdiff testing.\n\nSee please\nhttp://rhel6rpmdiff.lab.eng.brq.redhat.com/run.php?runid=6969&groupid=77&email=jchadima@redhat.com\nfor details. The page contains waiving functionality with reporting back to bugzilla. Please add comments and waive if apropriate. If you waive all test results which failed and needed inspection, the bug will be automatically closed as NOTABUG.\n\nFor more information on reporting and review of RHEL6 RPMdiff runs see please https://wiki.test.redhat.com/BaseOs/Projects/Rhel6RPMDiff#RPMdiffrunsreportingandreview.\n\nTo report a bug against RPMdiff see link at the bottom of the RPMdiff run. \n\nFor any other questions don't hasitate to contact the reporter of this bug.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100603T07:34:11",
          "bug_id": "599392",
          "creator_id": "271572",
          "time": "20100603T07:34:11",
          "id": "2896977",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "This request was evaluated by Red Hat Product Management for inclusion in a Red\nHat Enterprise Linux major release.  Product Management has requested further\nreview of this request by Red Hat Engineering, for potential inclusion in a Red\nHat Enterprise Linux Major release.  This request is not yet committed for\ninclusion.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20100603T07:37:54",
          "bug_id": "599392",
          "creator_id": "193983",
          "time": "20100603T07:37:54",
          "id": "2897038",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this bug is proposed for the current release and its status has\nchanged to MODIFIED, the devel_ack flag has been set to +.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20100603T09:44:29",
          "bug_id": "599392",
          "creator_id": "193983",
          "time": "20100603T09:44:29",
          "id": "2897340",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "releng-rhel@redhat.com",
          "text": "Fixed in 'openssh-5.3p1-16.el6'. 'openssh-5.3p1-18.el6' included in compose 'RHEL6.0-20100701.0'.\nMoving to ON_QA.",
          "author": "releng-rhel@redhat.com",
          "creation_time": "20100701T13:20:19",
          "bug_id": "599392",
          "creator_id": "286012",
          "time": "20100701T13:20:19",
          "id": "2972980",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "mvadkert@redhat.com",
          "text": "VERIFIED as fixed in openssh-5.3p1-18.el6. Latest RPMdiff run is clean:\nhttp://rhel6rpmdiff.lab.eng.brq.redhat.com/run.php?runid=9224",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100719T12:31:47",
          "bug_id": "599392",
          "creator_id": "271572",
          "time": "20100719T12:31:47",
          "id": "3015727",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "releng-rhel@redhat.com",
          "text": "Red Hat Enterprise Linux 6.0 is now available and should resolve\nthe problem described in this bug report. This report is therefore being closed\nwith a resolution of CURRENTRELEASE. You may reopen this bug report if the\nsolution does not work for you.",
          "author": "releng-rhel@redhat.com",
          "creation_time": "20101110T21:17:04",
          "bug_id": "599392",
          "creator_id": "286012",
          "time": "20101110T21:17:04",
          "id": "3297344",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.0"
      ],
      "cc": [],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "593740"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "private"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "Snapshot 7",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "RPMdiff run failed for package openssh-5.3p1-15.el6",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.0.0",
          "modification_date": "20100603T10:20:45",
          "type_id": "62",
          "is_active": "0",
          "creation_date": "20100603T07:34:13",
          "id": "618105",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20100603T07:37:53",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20100603T07:34:13",
          "id": "618106",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20100603T09:44:28",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20100603T07:34:13",
          "id": "618107",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20100603T10:16:24",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20100603T07:34:13",
          "id": "618108",
          "setter": "mvadkert@redhat.com"
        }
      ],
      "last_change_time": "20101110T21:17:04",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509325-OKPJbPAVrfvo5MxnkZuOZPz30WQPEeaj1hE6eIRMKPw",
      "cf_partner": [],
      "cf_last_closed": "20101110T21:17:04",
      "resolution": "CURRENTRELEASE",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20100825T08:23:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "627148",
      "cf_release_notes": "",
      "priority": "high",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "sgruszka@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "sgruszka@redhat.com",
          "text": "Description of problem:\nssh not working\n\nVersion-Release number of selected component (if applicable):\nopenssh-server-5.3p1-20.el6.i686\nopenssh-clients-5.3p1-20.el6.i686\nopenssh-5.3p1-20.el6.i686\nopenssh-askpass-5.3p1-20.el6.i686\n\nHow reproducible:\nAlways\n\nSteps to Reproduce:\nssl root@127.0.0.1\n  \nActual results:\nSleeps forever, no password prompts\n\nExpected results:\nShow password prompt, allow to login.\n\nAdditional info:\n> rpm -Uvh --oldpackage openssh-5.3p1-19.el6.i686.rpm openssh-clients-5.3p1-19.el6.i686.rpm openssh-server-5.3p1-19.el6.i686.rpm  openssh-askpass-5.3p1-19.el6.i686.rpm\nhelps with problem",
          "author": "sgruszka@redhat.com",
          "creation_time": "20100825T08:23:59",
          "bug_id": "627148",
          "creator_id": "276382",
          "time": "20100825T08:23:59",
          "id": "3103898",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "sgruszka@redhat.com",
          "text": "Proposed as blocker since ssh is crucial application.",
          "author": "sgruszka@redhat.com",
          "creation_time": "20100825T08:24:59",
          "bug_id": "627148",
          "creator_id": "276382",
          "time": "20100825T08:24:59",
          "id": "3103900",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "jchadima@redhat.com",
          "text": "Can you provide more info about your problem, I've not been able to reproduce it.\nCan you provide ssh -v -v -v .... and sshd -d -d -d .... outputs.",
          "author": "jchadima@redhat.com",
          "creation_time": "20100825T11:18:42",
          "bug_id": "627148",
          "creator_id": "276623",
          "time": "20100825T11:18:42",
          "id": "3104250",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "sgruszka@redhat.com",
          "text": "I updated openssh packages again and I was unable to reproduce. I have no idea what was wrong before. I'm closing with WORKSFORME resolution, I will reopen if I will see this again, but I believe I will not. Sorry for noise.",
          "author": "sgruszka@redhat.com",
          "creation_time": "20100825T13:21:22",
          "bug_id": "627148",
          "creator_id": "276382",
          "time": "20100825T13:21:22",
          "id": "3104543",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.0"
      ],
      "cc": [],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "ssh stops working after update to RHEL6.0-20100824 (openssh-5.3p1-20.el6)",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "?",
          "name": "pm_ack",
          "modification_date": "20100825T08:26:12",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20100825T08:26:12",
          "id": "669921",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20100825T08:24:59",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20100825T08:24:59",
          "id": "669918",
          "setter": "sgruszka@redhat.com"
        },
        {
          "status": "?",
          "name": "qa_ack",
          "modification_date": "20100825T08:24:59",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20100825T08:24:59",
          "id": "669919",
          "setter": "sgruszka@redhat.com"
        }
      ],
      "last_change_time": "20100825T13:21:22",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509325-JjkFrEyIZ9stfwINMVIdQyrI8fRuJ5POzHHw3yViakI",
      "cf_partner": [],
      "cf_last_closed": "20100825T13:21:22",
      "resolution": "WORKSFORME",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20100913T17:41:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "FutureFeature"
      ],
      "target_release": [
        "6.1"
      ],
      "external_bugs": [
        {
          "ext_status": "None",
          "ext_bz_bug_id": "67058",
          "bug_id": "633404",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "7",
          "type": {
            "must_send": "False",
            "description": "IBM Linux Technology Center",
            "url": "http://bugzilla.linux.ibm.com",
            "can_get": "False",
            "id": "7",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "http://bugzilla.linux.ibm.com/show_bug.cgi?id=%id%"
          },
          "id": "10832"
        }
      ],
      "id": "633404",
      "cf_release_notes": "",
      "priority": "high",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-33.el6",
      "creator": "bugproxy@us.ibm.com",
      "comments": [
        {
          "count": "0",
          "creator": "bugproxy@us.ibm.com",
          "text": "1. Feature Overview:\nFeature Id: [67058]\na. Name of Feature: [6.1 FEAT] Fix and recompile openSSH to enable HW Crypto\nb. Feature Description\nThis feature request is to fix and recompile openSSH package to enable HW Crypto as required by\nSystem z customers.\n\n2. Feature Details:\nSponsor: LTC zSeries BOE\nArchitectures:  zSeries - 64 native, \n\nArch Specificity: purely common code\nAffects Kernel Modules: Field does not exist\nDelivery Mechanism: LDP Deliverable\nCategory: other\nRequest Type: Package - Feature from Upstream\nd. Upstream Acceptance: Field does not exist\nSponsor Priority P1\nf. Severity: ship issue\nIBM Confidential: No\nCode Contribution: no\ng. Component Version Target:---\n\n3. Business Case\nWithout this feature, customers are having performance impacts which will impact their satisfaction\nwith the distributor and IBM, and eventually move away.\n\n4. Primary contact at Red Hat:\nJohn Jarvis jjarvis@redhat.com\n\n5. Primary contacts at Partner:\nProject Management Contact:\nHans-Georg Markgraf, mgrf@de.ibm.com\n\nTechnical contact(s):\nGonzalo Muelas Serrano, gmuelas@de.ibm.com",
          "author": "bugproxy@us.ibm.com",
          "creation_time": "20100913T17:41:58",
          "bug_id": "633404",
          "creator_id": "41342",
          "time": "20100913T17:41:58",
          "id": "3146016",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20100913T17:43:20",
          "bug_id": "633404",
          "creator_id": "193983",
          "time": "20100913T17:43:20",
          "id": "3146024",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "bugproxy@us.ibm.com",
          "text": "------- Comment From rsisk@us.ibm.com 2010-10-04 10:36 EDT-------\nCode Upstream Status: Accepted",
          "author": "bugproxy@us.ibm.com",
          "creation_time": "20101004T15:13:52",
          "bug_id": "633404",
          "creator_id": "41342",
          "time": "20101004T15:13:52",
          "id": "3191979",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "ebenes@redhat.com",
          "text": "QA_ACK+ for 6.1.0",
          "author": "ebenes@redhat.com",
          "creation_time": "20101119T14:24:02",
          "bug_id": "633404",
          "creator_id": "203333",
          "time": "20101119T14:24:02",
          "id": "3360990",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "snagar@redhat.com",
          "text": "Jan, any backward compatibilities issues we need to worry about?",
          "author": "snagar@redhat.com",
          "creation_time": "20101119T15:12:52",
          "bug_id": "633404",
          "creator_id": "271112",
          "time": "20101119T15:12:52",
          "id": "3361140",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "jchadima@redhat.com",
          "text": "There were no problems. AFAIK",
          "author": "jchadima@redhat.com",
          "creation_time": "20101122T14:39:55",
          "bug_id": "633404",
          "creator_id": "276623",
          "time": "20101122T14:39:55",
          "id": "3365668",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "mkhusid@redhat.com",
          "text": "pm_ack+ for 6.1",
          "author": "mkhusid@redhat.com",
          "creation_time": "20101124T15:34:37",
          "bug_id": "633404",
          "creator_id": "298056",
          "time": "20101124T15:34:37",
          "id": "3372499",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "jjarvis@redhat.com",
          "text": "This enhancement request was evaluated by the full Red Hat Enterprise Linux \nteam for inclusion in a Red Hat Enterprise Linux minor release.   As a \nresult of this evaluation, Red Hat has tentatively approved inclusion of \nthis feature in the next Red Hat Enterprise Linux Update minor release.   \nWhile it is a goal to include this enhancement in the next minor release \nof Red Hat Enterprise Linux, the enhancement is not yet committed for \ninclusion in the next minor release pending the next phase of actual \ncode integration and successful Red Hat and partner testing.",
          "author": "jjarvis@redhat.com",
          "creation_time": "20101222T17:42:16",
          "bug_id": "633404",
          "creator_id": "189535",
          "time": "20101222T17:42:16",
          "id": "3440715",
          "is_private": "False"
        },
        {
          "count": "8",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2011:10529-07\nhttp://errata.devel.redhat.com/errata/show/10529",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110114T12:40:37",
          "bug_id": "633404",
          "creator_id": "241731",
          "time": "20110114T12:40:37",
          "id": "3479011",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2011:10529-14: \nhttp://errata.devel.redhat.com/errata/stateview/10529\n\nVERIFIED as fixed in openssh-5.3p1-34.el6\n\nRHTS test passes on s390x with enabled CPACF and loaded z90crypt module\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: No acceleration\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'openssl engine -tt -c'\n:: [   PASS   ] :: Running '(time dd if=/dev/zero count=100 bs=1M | ssh -c aes128-cbc localhost ''cat >/dev/null'') &> /tmp/tmp.Vx9z2KLbKF'\n:: [   PASS   ] :: Running 'SPEED=9.4'\n:: [   LOG    ] :: Speed w/o IBMCA: 9.4 MB/s\n:: [   LOG    ] :: Duration: 12s\n:: [   LOG    ] :: Assertions: 3 good, 0 bad\n:: [   PASS   ] :: RESULT: No acceleration\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: IBMCA acceleration\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'cp -f openssl_ibmca.cnf /etc/pki/tls/openssl.cnf'\n:: [   PASS   ] :: Running 'openssl engine -tt -c'\n:: [   PASS   ] :: Running '(time dd if=/dev/zero count=100 bs=1M | ssh -c aes128-cbc localhost ''cat >/dev/null'') &> /tmp/tmp.Ny9r8seAst'\n:: [   PASS   ] :: Running 'SPEEDN=18.5'\n:: [   LOG    ] :: Speed with IBMCA: 18.5 MB/s\n:: [   PASS   ] :: Running 'perl -e ''if ( 9.4*1.5 < 18.5 ) { print 'PASS'; } else { print 'FAIL'; }'' &> /tmp/tmp.Vx9z2KLbKF'\n:: [   PASS   ] :: File '/tmp/tmp.Vx9z2KLbKF' should contain 'PASS'\n:: [   LOG    ] :: Duration: 7s\n:: [   LOG    ] :: Assertions: 6 good, 0 bad\n:: [   PASS   ] :: RESULT: IBMCA acceleration\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: RSA4096\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'time dd if=/dev/zero count=100 bs=1M | ssh -c aes256-cbc localhost ''cat > /dev/null'''\n:: [   PASS   ] :: Running 'time dd if=/dev/zero count=100 bs=1M | ssh -c aes256-ctr localhost ''cat > /dev/null'''\n:: [   LOG    ] :: Duration: 15s\n:: [   LOG    ] :: Assertions: 2 good, 0 bad\n:: [   PASS   ] :: RESULT: RSA4096",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110118T16:10:20",
          "bug_id": "633404",
          "creator_id": "241731",
          "time": "20110118T16:10:20",
          "id": "3486076",
          "is_private": "True"
        },
        {
          "count": "10",
          "creator": "mvadkert@redhat.com",
          "text": "According to the develpoer, this code change can affect FIPS support. Though CPACF HW is not yet FIPS certified (see https://bugzilla.redhat.com/show_bug.cgi?id=618595) and so testing is impossible at this time",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110127T12:00:46",
          "bug_id": "633404",
          "creator_id": "271572",
          "time": "20110127T12:00:46",
          "id": "3503641",
          "is_private": "True"
        },
        {
          "count": "11",
          "creator": "bugproxy@us.ibm.com",
          "text": "------- Comment From mgrf@de.ibm.com 2011-03-28 12:16 EDT-------\nThis feature is verified on R 6.1 test deliverable - set to verified on IBM site",
          "author": "bugproxy@us.ibm.com",
          "creation_time": "20110328T16:22:15",
          "bug_id": "633404",
          "creator_id": "41342",
          "time": "20110328T16:22:15",
          "id": "3634013",
          "is_private": "False"
        },
        {
          "count": "12",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "An advisory has been issued which should help the problem\ndescribed in this bug report. This report is therefore being\nclosed with a resolution of ERRATA. For more information\non therefore solution and/or where to find the updated files,\nplease follow the link below. You may reopen this bug report\nif the solution does not work for you.\n\nhttp://rhn.redhat.com/errata/RHBA-2011-0598.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110519T13:30:28",
          "bug_id": "633404",
          "creator_id": "241731",
          "time": "20110519T13:30:28",
          "id": "3745796",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "s390x",
      "version": [
        "6.1"
      ],
      "cc": [
        "jjarvis@redhat.com",
        "jtakahas@redhat.com",
        "mkhusid@redhat.com",
        "mvadkert@redhat.com",
        "sbest@redhat.com",
        "sgrubb@redhat.com",
        "snagar@redhat.com"
      ],
      "cf_verified": [
        "IBM"
      ],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "538808",
        "580566",
        "655920"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Enhancement",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "epm",
      "target_milestone": "beta",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "[6.1 FEAT] Fix and recompile openSSH to enable HW Crypto",
      "alias": [],
      "op_sys": "All",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.1.0",
          "modification_date": "20101124T15:46:00",
          "type_id": "202",
          "is_active": "0",
          "creation_date": "20100913T17:43:18",
          "id": "678418",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20101124T15:34:37",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20100913T17:56:49",
          "id": "678436",
          "setter": "mkhusid@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20101109T18:44:41",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20100913T18:04:13",
          "id": "678458",
          "setter": "sgrubb@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20101119T14:24:02",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20101108T13:03:49",
          "id": "718508",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20110519T13:30:28",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509326-QyrpuJazpy9KNXBxSSxC8TdHjJ6JyOgE11ipp1FcD7Y",
      "cf_partner": [
        "IBM"
      ],
      "cf_last_closed": "20110519T13:30:28",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [
        "632402"
      ],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20101013T20:23:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "642792",
      "cf_release_notes": "",
      "priority": "high",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-47.el6",
      "creator": "mkhusid@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "mkhusid@redhat.com",
          "text": "+++ This bug was initially created as a clone of Bug #632402 +++\n\nDescription of problem:\nWe need to add some audit records to sshd that records the following:\n\n1)  In the sshd DH and RSA/DSA based key authentication we need to record the remote end (IP address and port), mechanism being used (key), and results.\n2) During cryptographic tunnel establishment, we need to record: ciphers/block chaining modes, key sizes, source, destination of connection, originator.\n\n--- Additional comment from ebenes@redhat.com on 2010-09-10 03:52:27 EDT ---\n\nQA_ACK+ for 5.6\n\n--- Additional comment from sgrubb@redhat.com on 2010-09-14 16:44:12 EDT ---\n\nCreated attachment 447320\npatch attempting to fix problem\n\nI think this patch should meet the public key requirements. Still need to look for the DH key negotiation.\n\n--- Additional comment from jchadima@redhat.com on 2010-09-15 02:43:21 EDT ---\n\n(In reply to comment #2)\n> Created attachment 447320 [details]\n> patch attempting to fix problem\n> \n> I think this patch should meet the public key requirements. Still need to look\n> for the DH key negotiation.\n\nmaybe somewhere in kex*dh*.c\n\n--- Additional comment from sgrubb@redhat.com on 2010-09-19 18:39:30 EDT ---\n\nCreated attachment 448320\nimproved patch addressing pubkey authentication\n\nThis patch improves over the previous one. I am now using an AUTH record rather than a key record and modified its contents to be more in line with what an AUTH record should be.\n\n--- Additional comment from errata-xmlrpc@redhat.com on 2010-09-20 10:47:27 EDT ---\n\nBug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2010:9721-06\nhttp://errata.devel.redhat.com/errata/show/9721\n\n--- Additional comment from jchadima@redhat.com on 2010-09-21 04:27:40 EDT ---\n\nCreated attachment 448649\nNext approch to the patch\n\n--- Additional comment from jchadima@redhat.com on 2010-09-21 04:30:52 EDT ---\n\nSteve, can you review the patch? (currently contains pubkey + crypto tunnels, does not contain DH exchange and tun tunnels)\n\n--- Additional comment from errata-xmlrpc@redhat.com on 2010-09-21 07:36:50 EDT ---\n\nBug report changed from MODIFIED to ON_QA status by the Errata System: \nAdvisory RHBA-2010:9721-06: \nhttp://errata.devel.redhat.com/errata/stateview/9721\n\nThis should be on_qa now, new build added\n\n--- Additional comment from errata-xmlrpc@redhat.com on 2010-09-21 07:36:51 EDT ---\n\nBug report changed from MODIFIED to VERIFIED status by the Errata System: \nAdvisory RHBA-2010:9721-06: \nhttp://errata.devel.redhat.com/errata/stateview/9721\n\nThis should be on_qa now, new build added\n\n--- Additional comment from errata-xmlrpc@redhat.com on 2010-09-21 07:39:04 EDT ---\n\nBug report changed from VERIFIED to ON_QA status by the Errata System: \nAdvisory RHBA-2010:9721-06: \nhttp://errata.devel.redhat.com/errata/stateview/9721\n\nPutting back to ON_QA, this is bug wasn't verified. Please ignore the previous comment\n\n--- Additional comment from jstodola@redhat.com on 2010-09-23 08:19:54 EDT ---\n\nSomething has broken in openssh-4.3p2-50.el5, ssh server is closing connections if ~/.ssh/ contains a key:\n\n[root@chicken ~]# ls -l .ssh/\ntotal 8\n-rw-r--r-- 1 root root 395 Sep 23 02:38 known_hosts\n[root@chicken ~]# ssh root@10.16.105.197\nroot@10.16.105.197's password: \nLast login: Thu Sep 23 06:11:59 2010 from localhost.localdomain\n[root@rtt6 ~]# exit\nlogout\nConnection to 10.16.105.197 closed.\n[root@chicken ~]# ssh-keygen \nGenerating public/private rsa key pair.\nEnter file in which to save the key (/root/.ssh/id_rsa): \nEnter passphrase (empty for no passphrase): \nEnter same passphrase again: \nYour identification has been saved in /root/.ssh/id_rsa.\nYour public key has been saved in /root/.ssh/id_rsa.pub.\nThe key fingerprint is:\ndb:8d:bb:11:15:15:61:7b:0d:5d:65:5e:6f:ac:72:f2 root@chicken.rhts.eng.rdu.redhat.com\n[root@chicken ~]# ls -l .ssh/\ntotal 24\n-rw------- 1 root root 1675 Sep 23 02:39 id_rsa\n-rw-r--r-- 1 root root  418 Sep 23 02:39 id_rsa.pub\n-rw-r--r-- 1 root root  395 Sep 23 02:38 known_hosts\n[root@chicken ~]# ssh root@10.16.105.197\nConnection closed by 10.16.105.197\n\nMoving to ASSIGNED.\n\n--- Additional comment from jstodola@redhat.com on 2010-09-23 08:22:14 EDT ---\n\nCreated attachment 449199\nssh -vvv ...\n\n--- Additional comment from errata-xmlrpc@redhat.com on 2010-09-24 14:53:34 EDT ---\n\nBug report changed from MODIFIED to ON_QA status by the Errata System: \nAdvisory RHBA-2010:9721-06: \nhttp://errata.devel.redhat.com/errata/stateview/9721\n\n--- Additional comment from errata-xmlrpc@redhat.com on 2010-10-04 04:25:34 EDT ---\n\nBug report changed from ON_QA to ASSIGNED status by the Errata System: \nAdvisory RHBA-2010:9721-06: \nhttp://errata.devel.redhat.com/errata/stateview/9721\n\nMoving back to assigned, new patch available\n\n--- Additional comment from mvadkert@redhat.com on 2010-10-06 08:37:51 EDT ---\n\nI cannot reproduce the problem describedin comment 11 any more in openssh-4.3p2-52.el5. Though the testsuite comming with openssh is now failing in dynamic-forward test:\n\nrun test dynamic-forward.sh ...\nWaiting for forwarded connections to terminate...\nThe following connections are open:\n  #1 direct-tcpip: listening port 4243 for localhost port 4242, connect from 127.0.0.1 port 42400 (t4 r3 i2/0 o3/0 fd 9/9 cfd -1)\nnc: Connection to 127.0.0.1 closed by remote host.\nread failed (0/8): Broken pipe\nssh_exchange_identification: Connection closed by remote host\ncmp: EOF on /usr/src/redhat/BUILD/openssh-4.3p2/regress/ls.copy\ncorrupted copy of /bin/ls\nssh_exchange_identification: Connection closed by remote host\ncmp: EOF on /usr/src/redhat/BUILD/openssh-4.3p2/regress/ls.copy\ncorrupted copy of /bin/ls\nssh_exchange_identification: Connection closed by remote host\ncmp: EOF on /usr/src/redhat/BUILD/openssh-4.3p2/regress/ls.copy\ncorrupted copy of /bin/ls\nssh_exchange_identification: Connection closed by remote host\ncmp: EOF on /usr/src/redhat/BUILD/openssh-4.3p2/regress/ls.copy\ncorrupted copy of /bin/ls\n/usr/src/redhat/BUILD/openssh-4.3p2/regress/dynamic-forward.sh: line 42: kill: (17124) - No such process\nfailed dynamic forwarding\nmake[1]: *** [t-exec] Error 1\nmake[1]: Leaving directory `/usr/src/redhat/BUILD/openssh-4.3p2/regress'\nmake: *** [tests] Error 2\n\nWhen I disable the latest audit patch it works fine\n\n--- Additional comment from mvadkert@redhat.com on 2010-10-06 09:17:58 EDT ---\n\nAddition to comment 15:\nThs problem can be reproduced with enforcing and also permissive selinux\n\n--- Additional comment from mvadkert@redhat.com on 2010-10-07 04:46:26 EDT ---\n\nMoving to ASSIGNED, fix incoplete, dynamic-forward upstream testsuite fails\n\n--- Additional comment from jchadima@redhat.com on 2010-10-08 04:45:06 EDT ---\n\nSteve, \nI need the exact definition what means ''tunnel'' and what means ''DH and RSA/DSA based key authentication''. The DH is used for key exchange only, not for authentication. \nShould be the primary connection to port 22 considered as a ''tunnel''? Or only the additional connections (ssh -L -R -D) and what about tunneling via tun?\nCan you ask atsec?\n\n--- Additional comment from errata-xmlrpc@redhat.com on 2010-10-12 05:08:39 EDT ---\n\nBug report changed from MODIFIED to ON_QA status by the Errata System: \nAdvisory RHBA-2010:9721-06: \nhttp://errata.devel.redhat.com/errata/stateview/9721\n\nMoving to ON_QA as bug is ready for testing\n\n--- Additional comment from mvadkert@redhat.com on 2010-10-12 07:59:45 EDT ---\n\nI get connection closed when key in ~/.ssh/ exists (same as comment 11) with the latest openssh-4.3p2-53.el5 package. The testsuite now passes without issues. Moving back to assigned.\n\n--- Additional comment from errata-xmlrpc@redhat.com on 2010-10-12 08:00:08 EDT ---\n\nBug report changed from ON_QA to ASSIGNED status by the Errata System: \nAdvisory RHBA-2010:9721-06: \nhttp://errata.devel.redhat.com/errata/stateview/9721\n\nI get connection closed when key in ~/.ssh/ exists (same as comment 11) with the latest openssh-4.3p2-53.el5 package. The testsuite now passes without issues. Moving back to assigned.\n\n--- Additional comment from sgrubb@redhat.com on 2010-10-12 08:56:43 EDT ---\n\nIn reply to comment #18, a tunnel is any crypto session used by any of the ssh services. DH is Diffie-Helman key exchange. When keys are settled on by both sides, we need to record the items mention in comment 0. The RSA/DSA part is when keys are used for authentication rather than passwords. As it stands, sshd was only recording password authentication attempts via pam. This extends the coverage to include key based methods.\n\n--- Additional comment from errata-xmlrpc@redhat.com on 2010-10-12 11:09:20 EDT ---\n\nBug report changed from MODIFIED to ON_QA status by the Errata System: \nAdvisory RHBA-2010:9721-06: \nhttp://errata.devel.redhat.com/errata/stateview/9721\n\nMoving to ON_QA, as new build is available in bugzilla\n\n--- Additional comment from errata-xmlrpc@redhat.com on 2010-10-12 11:59:23 EDT ---\n\nBug report changed from ON_QA to ASSIGNED status by the Errata System: \nAdvisory RHBA-2010:9721-06: \nhttp://errata.devel.redhat.com/errata/stateview/9721\n\nI still don't see the ForceCommand in sshd_config man page. Moving to ASSIGNED,\n\n--- Additional comment from errata-xmlrpc@redhat.com on 2010-10-13 05:09:07 EDT ---\n\nBug report changed from ASSIGNED to ON_QA status by the Errata System: \nAdvisory RHBA-2010:9721-06: \nhttp://errata.devel.redhat.com/errata/stateview/9721\n\nPlease ignore comment #24. It related to bug 532559.\n\n--- Additional comment from mvadkert@redhat.com on 2010-10-13 08:45:49 EDT ---\n\nI'm creating and RHTS test which will show (and in future test correctness) of the newly added audit records (in CRYPTO_SESSION and USER_AUTH msgs).\n\nPlease note that when connecting to sshd with scp, ssh-copy-id and sftp there are NO NEW audit records and IMHO there should be also.\n\n--- Additional comment from jchadima@redhat.com on 2010-10-13 10:53:38 EDT ---\n\n(In reply to comment #26)\n> \n> Please note that when connecting to sshd with scp, ssh-copy-id and sftp there\n> are NO NEW audit records and IMHO there should be also.\n\nRepaired in version -57",
          "author": "mkhusid@redhat.com",
          "creation_time": "20101013T20:23:02",
          "bug_id": "642792",
          "creator_id": "298056",
          "time": "20101013T20:23:02",
          "id": "3212194",
          "is_private": "True"
        },
        {
          "count": "1",
          "creator": "mkhusid@redhat.com",
          "text": "We will need the changes introduced in RHEL5.6 for certification in RHEL6.1.",
          "author": "mkhusid@redhat.com",
          "creation_time": "20101013T20:24:54",
          "bug_id": "642792",
          "creator_id": "298056",
          "time": "20101013T20:24:54",
          "id": "3212216",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "ebenes@redhat.com",
          "text": "QA_ACK+ for 6.1",
          "author": "ebenes@redhat.com",
          "creation_time": "20101108T08:37:18",
          "bug_id": "642792",
          "creator_id": "203333",
          "time": "20101108T08:37:18",
          "id": "3274474",
          "is_private": "True"
        },
        {
          "count": "3",
          "attachment_id": "459851",
          "author": "jchadima@redhat.com",
          "text": "Created attachment 459851\nProposed patch",
          "creator": "jchadima@redhat.com",
          "creation_time": "20101111T21:07:50",
          "bug_id": "642792",
          "creator_id": "276623",
          "time": "20101111T21:07:50",
          "id": "3303141",
          "is_private": "True"
        },
        {
          "count": "4",
          "attachment_id": "467706",
          "author": "jchadima@redhat.com",
          "text": "Created attachment 467706\nproposed solution\n\nImprove the patch (reenable rekeying)",
          "creator": "jchadima@redhat.com",
          "creation_time": "20101209T09:08:02",
          "bug_id": "642792",
          "creator_id": "276623",
          "time": "20101209T09:08:02",
          "id": "3416296",
          "is_private": "True"
        },
        {
          "count": "5",
          "attachment_id": "468052",
          "author": "jchadima@redhat.com",
          "text": "Created attachment 468052\nproposed solution\n\nImprove the patch, add ability to run sshd as non root, add rekeying.",
          "creator": "jchadima@redhat.com",
          "creation_time": "20101210T20:29:45",
          "bug_id": "642792",
          "creator_id": "276623",
          "time": "20101210T20:29:45",
          "id": "3420204",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2011:10529-06\nhttp://errata.devel.redhat.com/errata/show/10529",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110114T12:33:41",
          "bug_id": "642792",
          "creator_id": "241731",
          "time": "20110114T12:33:41",
          "id": "3479001",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "mvadkert@redhat.com",
          "text": "*** Bug 680722 has been marked as a duplicate of this bug. ***",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110301T14:31:09",
          "bug_id": "642792",
          "creator_id": "271572",
          "time": "20110301T14:31:09",
          "id": "3566307",
          "is_private": "False"
        },
        {
          "count": "8",
          "attachment_id": "482866",
          "author": "mvadkert@redhat.com",
          "text": "Created attachment 482866\nopenssh-5.3p1-43.el6 audit log results\n\nSteve, could you please review the audit log results from the latest openssh package please? I need to know if they are correct and in case of any issues I will enhance the test for checking for expect results. Thank you!",
          "creator": "mvadkert@redhat.com",
          "creation_time": "20110308T10:11:11",
          "bug_id": "642792",
          "creator_id": "271572",
          "time": "20110308T10:11:11",
          "id": "3578903",
          "is_private": "False"
        },
        {
          "count": "9",
          "creator": "sgrubb@redhat.com",
          "text": "I see one thing that I am curious about. \n\ntype=CRYPTO_KEY_USER suid=0: \ntype=CRYPTO_SESSION  lport=22:\n\nThere is an extraneous colon in the record.",
          "author": "sgrubb@redhat.com",
          "creation_time": "20110311T13:20:59",
          "bug_id": "642792",
          "creator_id": "168751",
          "time": "20110311T13:20:59",
          "id": "3587323",
          "is_private": "False"
        },
        {
          "count": "10",
          "creator": "sgrubb@redhat.com",
          "text": "Also, I see the following:\n\ntype=USER_AUTH   terminal=sshd\ntype=CRED_ACQ terminal=ssh\n\nI wonder why the terminal changes?",
          "author": "sgrubb@redhat.com",
          "creation_time": "20110311T13:25:23",
          "bug_id": "642792",
          "creator_id": "168751",
          "time": "20110311T13:25:23",
          "id": "3587339",
          "is_private": "False"
        },
        {
          "count": "11",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to ASSIGNED status by the Errata System: \nAdvisory RHBA-2011:10529-18: \nhttp://errata.devel.redhat.com/errata/stateview/10529\n\nMoving to assigned as the outstanding issues need to be fixed",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110311T15:19:53",
          "bug_id": "642792",
          "creator_id": "241731",
          "time": "20110311T15:19:53",
          "id": "3587658",
          "is_private": "True"
        },
        {
          "count": "12",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from MODIFIED to ON_QA status by the Errata System: \nAdvisory RHBA-2011:10529-18: \nhttp://errata.devel.redhat.com/errata/stateview/10529",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110322T15:36:44",
          "bug_id": "642792",
          "creator_id": "241731",
          "time": "20110322T15:36:44",
          "id": "3621571",
          "is_private": "True"
        },
        {
          "count": "13",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2011:10529-19: \nhttp://errata.devel.redhat.com/errata/stateview/10529\n\nVERIFIED as fixed in openssh-5.3p1-50.el6. Beaker test passes:\n/CoreOS/openssh/Regression/bz632402-audit-crypto-usage\n\n* The colon is still there but it is now separated by a space (see below). The issue with the colon is according to the openssh developer a bug in libaudit - I will report the problem there.\n\ntime->Mon Mar 28 05:32:23 2011\ntype=CRYPTO_KEY_USER msg=audit(1301304743.056:77380): user pid=14237 uid=0 auid=0 ses=2712 subj=unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 msg='op=destroy kind=server fp=72:74:bf:4e:ad:55:82:9c:ec:62:79:ae:4b:07:94:d3 direction=? spid=14237 suid=0 : exe=''/usr/sbin/sshd'' hostname=? addr=10.34.35.69 terminal=pts/5 res=success'\n\ntype=CRYPTO_SESSION msg=audit(1301304744.715:77393): user pid=14295 uid=0 auid=0 ses=2628 subj=unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 msg='op=start direction=from-server cipher=aes256-cbc ksize=256 spid=14296 suid=74 rport=51791 laddr=10.34.35.69 lport=22 : exe=''/usr/sbin/sshd'' hostname=? addr=10.34.35.69 terminal=? res=success'\n\n\n* The terminal is now ssh in all records:\n\ntime->Mon Mar 28 05:32:22 2011\ntype=USER_AUTH msg=audit(1301304742.976:77373): user pid=14234 uid=0 auid=0 ses=2628 subj=unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 msg='op=success acct=''root'' exe=''/usr/sbin/sshd'' hostname=? addr=10.34.35.69 terminal=ssh res=success'\n----\ntime->Mon Mar 28 05:32:22 2011\ntype=CRED_ACQ msg=audit(1301304742.976:77374): user pid=14234 uid=0 auid=0 ses=2628 subj=unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 msg='op=PAM:setcred acct=''root'' exe=''/usr/sbin/sshd'' hostname=dell-pe1950-04.rhts.englab.brq.redhat.com addr=10.34.35.69 terminal=ssh res=success'",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110329T09:02:00",
          "bug_id": "642792",
          "creator_id": "241731",
          "time": "20110329T09:02:00",
          "id": "3636005",
          "is_private": "True"
        },
        {
          "count": "14",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "An advisory has been issued which should help the problem\ndescribed in this bug report. This report is therefore being\nclosed with a resolution of ERRATA. For more information\non therefore solution and/or where to find the updated files,\nplease follow the link below. You may reopen this bug report\nif the solution does not work for you.\n\nhttp://rhn.redhat.com/errata/RHBA-2011-0598.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110519T13:30:31",
          "bug_id": "642792",
          "creator_id": "241731",
          "time": "20110519T13:30:31",
          "id": "3745798",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.1"
      ],
      "cc": [
        "ebenes@redhat.com",
        "iboverma@redhat.com",
        "jofernan@redhat.com",
        "jstodola@redhat.com",
        "mvadkert@redhat.com",
        "sgrubb@redhat.com"
      ],
      "cf_verified": [
        "FailedQA"
      ],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "584498",
        "846801",
        "846802"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "632402",
      "groups": [
        "atsec",
        "devel",
        "hp",
        "ibmconf",
        "qa",
        "redhat",
        "sgi"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "Need some audit updates around crypto usage in ssh",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.1.0",
          "modification_date": "20101109T18:55:53",
          "type_id": "202",
          "is_active": "0",
          "creation_date": "20101013T20:24:54",
          "id": "694142",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "blocker",
          "modification_date": "20101109T18:55:53",
          "type_id": "24",
          "is_active": "1",
          "creation_date": "20101013T20:24:54",
          "id": "694143",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20101104T04:03:30",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20101013T20:24:54",
          "id": "694144",
          "setter": "syeghiay@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20101109T18:45:28",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20101013T20:24:54",
          "id": "694145",
          "setter": "sgrubb@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20101108T08:37:18",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20101013T20:24:54",
          "id": "694146",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20130402T23:43:49",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509326-I5rBhkRfO0x7P0U-n_T83-jz3OhOH_oJ3yPop9zOsFY",
      "cf_partner": [],
      "cf_last_closed": "20110519T13:30:31",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20101014T08:25:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "642927",
      "cf_release_notes": "",
      "priority": "high",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-40.el6",
      "creator": "jchadima@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "jchadima@redhat.com",
          "text": "Description of problem:\nthe sshd daemon is not linked with RELRO flag\n\nVersion-Release number of selected component (if applicable):\nopenssh-5.3p1-20.el6",
          "author": "jchadima@redhat.com",
          "creation_time": "20101014T08:25:37",
          "bug_id": "642927",
          "creator_id": "276623",
          "time": "20101014T08:25:37",
          "id": "3213125",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20101014T08:33:32",
          "bug_id": "642927",
          "creator_id": "193983",
          "time": "20101014T08:33:32",
          "id": "3213137",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "ebenes@redhat.com",
          "text": "QA_ACK+ for 6.1.0",
          "author": "ebenes@redhat.com",
          "creation_time": "20101119T14:19:43",
          "bug_id": "642927",
          "creator_id": "203333",
          "time": "20101119T14:19:43",
          "id": "3360976",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2011:10529-05\nhttp://errata.devel.redhat.com/errata/show/10529",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110114T12:28:17",
          "bug_id": "642927",
          "creator_id": "241731",
          "time": "20110114T12:28:17",
          "id": "3478932",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "mvadkert@redhat.com",
          "text": "To check relro I will use the following script:\nhttp://tk-blog.blogspot.com/2009/02/relro-not-so-well-known-memory.html",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110126T13:49:39",
          "bug_id": "642927",
          "creator_id": "271572",
          "time": "20110126T13:49:39",
          "id": "3501440",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "mvadkert@redhat.com",
          "text": "Expected output (ssh-copy-id is a script - so no relro there):\n\n# for file in $(rpm -qal openssh* | grep bin | grep -v debug | grep -v mac); do ./checkrelro.sh --file $file; done\n/usr/sbin/sshd - full RELRO\n/usr/bin/scp - full RELRO\n/usr/bin/sftp - full RELRO\n/usr/bin/slogin - full RELRO\n/usr/bin/ssh - full RELRO\n/usr/bin/ssh-add - full RELRO\n/usr/bin/ssh-agent - full RELRO\n/usr/bin/ssh-copy-id - no RELRO\n/usr/bin/ssh-keyscan - full RELRO\n/usr/bin/ssh-keygen - full RELRO",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110126T14:21:05",
          "bug_id": "642927",
          "creator_id": "271572",
          "time": "20110126T14:21:05",
          "id": "3501500",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from MODIFIED to ON_QA status by the Errata System: \nAdvisory RHBA-2011:10529-15: \nhttp://errata.devel.redhat.com/errata/stateview/10529",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110208T19:10:54",
          "bug_id": "642927",
          "creator_id": "241731",
          "time": "20110208T19:10:54",
          "id": "3527394",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "ebenes@redhat.com",
          "text": "*** Bug 679469 has been marked as a duplicate of this bug. ***",
          "author": "ebenes@redhat.com",
          "creation_time": "20110224T10:02:20",
          "bug_id": "642927",
          "creator_id": "203333",
          "time": "20110224T10:02:20",
          "id": "3557706",
          "is_private": "False"
        },
        {
          "count": "8",
          "creator": "ebenes@redhat.com",
          "text": "Switching to ASSIGNED. Accoding to the changelogs relro has been removed for ppc. This should work and needs to be re-added.\n\nVersion-Release number of selected component (if applicable):\nopenssh-5.3p1-38.el6\n\nHow reproducible:\n100%\n\nSteps to Reproduce:\n1. wget http://www.trapkit.de/tools/checksec.sh\n2. bash checksec.sh --file /usr/sbin/sshd\n\n\nActual results:\nRELRO           STACK CANARY      NX            PIE             FILE\nNo RELRO        Canary found      NX enabled    PIE enabled     /usr/sbin/sshd\n\n\nExpected results:\nRELRO           STACK CANARY      NX            PIE              FILE\nFull RELRO      Canary found      NX enabled    PIE enabled      /usr/sbin/sshd",
          "author": "ebenes@redhat.com",
          "creation_time": "20110224T10:04:44",
          "bug_id": "642927",
          "creator_id": "203333",
          "time": "20110224T10:04:44",
          "id": "3557720",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "mvadkert@redhat.com",
          "text": "One file still has no RELRO (and STACK CANARY and pie!\n/usr/libexec/openssh/gnome-ssh-askpass\n\nRELRO           STACK CANARY      NX            PIE                     FILE\nNo RELRO        No canary found   NX enabled    No PIE                  /usr/libexec/openssh/gnome-ssh-askpass\n\nIs this expected please??",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110301T16:03:17",
          "bug_id": "642927",
          "creator_id": "271572",
          "time": "20110301T16:03:17",
          "id": "3566615",
          "is_private": "False"
        },
        {
          "count": "10",
          "creator": "sgrubb@redhat.com",
          "text": "This is OK. We are mainly after long running or network facing programs that have root/elevated privs. So, that would be the daemon and any setuid programs that may exist.",
          "author": "sgrubb@redhat.com",
          "creation_time": "20110301T16:34:11",
          "bug_id": "642927",
          "creator_id": "168751",
          "time": "20110301T16:34:11",
          "id": "3566690",
          "is_private": "False"
        },
        {
          "count": "11",
          "creator": "mvadkert@redhat.com",
          "text": "Test fixed to exclude /usr/libexec/openssh/gnome-ssh-askpass from testing",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110302T10:38:31",
          "bug_id": "642927",
          "creator_id": "271572",
          "time": "20110302T10:38:31",
          "id": "3568281",
          "is_private": "True"
        },
        {
          "count": "12",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from MODIFIED to ON_QA status by the Errata System: \nAdvisory RHBA-2011:10529-18: \nhttp://errata.devel.redhat.com/errata/stateview/10529",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110307T21:39:44",
          "bug_id": "642927",
          "creator_id": "241731",
          "time": "20110307T21:39:44",
          "id": "3577950",
          "is_private": "True"
        },
        {
          "count": "13",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2011:10529-18: \nhttp://errata.devel.redhat.com/errata/stateview/10529\n\nVERIFIED as fixed in openssh-5.3p1-43.el6\n\nNEW package openssh-5.3p1-43.el6\n:: [   PASS   ] :: Running './checksec.sh --file /usr/libexec/openssh/ssh-keycat | tee /tmp/tmp.Qcx5qKMH74'\n:: [   PASS   ] :: File '/tmp/tmp.Qcx5qKMH74' should contain 'Full RELRO'\n:: [   PASS   ] :: Running './checksec.sh --file /usr/bin/ssh-keygen | tee /tmp/tmp.Qcx5qKMH74'\n:: [   PASS   ] :: File '/tmp/tmp.Qcx5qKMH74' should contain 'Full RELRO'\n:: [   PASS   ] :: Running './checksec.sh --file /usr/libexec/openssh/ssh-keysign | tee /tmp/tmp.Qcx5qKMH74'\n:: [   PASS   ] :: File '/tmp/tmp.Qcx5qKMH74' should contain 'Full RELRO'\n:: [   PASS   ] :: Running './checksec.sh --file /usr/libexec/openssh/sftp-server | tee /tmp/tmp.Qcx5qKMH74'\n:: [   PASS   ] :: File '/tmp/tmp.Qcx5qKMH74' should contain 'Full RELRO'\n:: [   PASS   ] :: Running './checksec.sh --file /usr/sbin/sshd | tee /tmp/tmp.Qcx5qKMH74'\n:: [   PASS   ] :: File '/tmp/tmp.Qcx5qKMH74' should contain 'Full RELRO'\n:: [   PASS   ] :: Running './checksec.sh --file /usr/bin/scp | tee /tmp/tmp.Qcx5qKMH74'\n:: [   PASS   ] :: File '/tmp/tmp.Qcx5qKMH74' should contain 'Full RELRO'\n:: [   PASS   ] :: Running './checksec.sh --file /usr/bin/sftp | tee /tmp/tmp.Qcx5qKMH74'\n:: [   PASS   ] :: File '/tmp/tmp.Qcx5qKMH74' should contain 'Full RELRO'\n:: [   PASS   ] :: Running './checksec.sh --file /usr/bin/ssh | tee /tmp/tmp.Qcx5qKMH74'\n:: [   PASS   ] :: File '/tmp/tmp.Qcx5qKMH74' should contain 'Full RELRO'\n:: [   PASS   ] :: Running './checksec.sh --file /usr/bin/ssh-add | tee /tmp/tmp.Qcx5qKMH74'\n:: [   PASS   ] :: File '/tmp/tmp.Qcx5qKMH74' should contain 'Full RELRO'\n:: [   PASS   ] :: Running './checksec.sh --file /usr/bin/ssh-agent | tee /tmp/tmp.Qcx5qKMH74'\n:: [   PASS   ] :: File '/tmp/tmp.Qcx5qKMH74' should contain 'Full RELRO'\n:: [   PASS   ] :: Running './checksec.sh --file /usr/bin/ssh-keyscan | tee /tmp/tmp.Qcx5qKMH74'\n:: [   PASS   ] :: File '/tmp/tmp.Qcx5qKMH74' should contain 'Full RELRO'\n:: [   PASS   ] :: Running './checksec.sh --file /usr/libexec/openssh/ssh-ldap-helper | tee /tmp/tmp.Qcx5qKMH74'\n:: [   PASS   ] :: File '/tmp/tmp.Qcx5qKMH74' should contain 'Full RELRO'\n:: [   LOG    ] :: Duration: 20s\n:: [   LOG    ] :: Assertions: 24 good, 0 bad\n:: [   PASS   ] :: RESULT: Test\n\nOLD package openssh-5.3p1-20.el6\n:: [   PASS   ] :: Running './checksec.sh --file /usr/libexec/openssh/sftp-server | tee /tmp/tmp.sUkbJ2VXBR'\n:: [   FAIL   ] :: File '/tmp/tmp.sUkbJ2VXBR' should contain 'Full RELRO' \n:: [   PASS   ] :: Running './checksec.sh --file /usr/sbin/sshd | tee /tmp/tmp.sUkbJ2VXBR'\n:: [   FAIL   ] :: File '/tmp/tmp.sUkbJ2VXBR' should contain 'Full RELRO' \n:: [   PASS   ] :: Running './checksec.sh --file /usr/bin/ssh-keygen | tee /tmp/tmp.sUkbJ2VXBR'\n:: [   FAIL   ] :: File '/tmp/tmp.sUkbJ2VXBR' should contain 'Full RELRO' \n:: [   PASS   ] :: Running './checksec.sh --file /usr/libexec/openssh/ssh-keysign | tee /tmp/tmp.sUkbJ2VXBR'\n:: [   FAIL   ] :: File '/tmp/tmp.sUkbJ2VXBR' should contain 'Full RELRO' \n:: [   PASS   ] :: Running './checksec.sh --file /usr/bin/scp | tee /tmp/tmp.sUkbJ2VXBR'\n:: [   FAIL   ] :: File '/tmp/tmp.sUkbJ2VXBR' should contain 'Full RELRO' \n:: [   PASS   ] :: Running './checksec.sh --file /usr/bin/sftp | tee /tmp/tmp.sUkbJ2VXBR'\n:: [   FAIL   ] :: File '/tmp/tmp.sUkbJ2VXBR' should contain 'Full RELRO' \n:: [   PASS   ] :: Running './checksec.sh --file /usr/bin/ssh | tee /tmp/tmp.sUkbJ2VXBR'\n:: [   FAIL   ] :: File '/tmp/tmp.sUkbJ2VXBR' should contain 'Full RELRO' \n:: [   PASS   ] :: Running './checksec.sh --file /usr/bin/ssh-add | tee /tmp/tmp.sUkbJ2VXBR'\n:: [   FAIL   ] :: File '/tmp/tmp.sUkbJ2VXBR' should contain 'Full RELRO' \n:: [   PASS   ] :: Running './checksec.sh --file /usr/bin/ssh-agent | tee /tmp/tmp.sUkbJ2VXBR'\n:: [   FAIL   ] :: File '/tmp/tmp.sUkbJ2VXBR' should contain 'Full RELRO' \n:: [   PASS   ] :: Running './checksec.sh --file /usr/bin/ssh-keyscan | tee /tmp/tmp.sUkbJ2VXBR'\n:: [   FAIL   ] :: File '/tmp/tmp.sUkbJ2VXBR' should contain 'Full RELRO' \n:: [   LOG    ] :: Duration: 18s\n:: [   LOG    ] :: Assertions: 10 good, 10 bad\n:: [   FAIL   ] :: RESULT: Test",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110308T10:34:08",
          "bug_id": "642927",
          "creator_id": "241731",
          "time": "20110308T10:34:08",
          "id": "3578947",
          "is_private": "True"
        },
        {
          "count": "14",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "An advisory has been issued which should help the problem\ndescribed in this bug report. This report is therefore being\nclosed with a resolution of ERRATA. For more information\non therefore solution and/or where to find the updated files,\nplease follow the link below. You may reopen this bug report\nif the solution does not work for you.\n\nhttp://rhn.redhat.com/errata/RHBA-2011-0598.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110519T13:30:34",
          "bug_id": "642927",
          "creator_id": "241731",
          "time": "20110519T13:30:34",
          "id": "3745799",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.1"
      ],
      "cc": [
        "mvadkert@redhat.com",
        "sgrubb@redhat.com"
      ],
      "cf_verified": [
        "FailedQA"
      ],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "Add relro flag to sshd",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.1.0",
          "modification_date": "20101119T14:24:45",
          "type_id": "202",
          "is_active": "0",
          "creation_date": "20101014T08:33:31",
          "id": "694343",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20101029T21:09:37",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20101014T08:46:34",
          "id": "694353",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20101109T18:46:09",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20101029T22:04:00",
          "id": "702827",
          "setter": "sgrubb@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20101119T14:19:43",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20101108T13:02:33",
          "id": "718505",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20110519T13:30:34",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509326-ZqeM39EsitXCg38S_HMTj9QFqMdmC-KNPGOd4LP8_VE",
      "cf_partner": [],
      "cf_last_closed": "20110519T13:30:34",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20101111T13:20:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "652249",
      "cf_release_notes": "",
      "priority": "high",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-33.el6",
      "creator": "mvadkert@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "mvadkert@redhat.com",
          "text": "Description of problem:\n# rpm -ql openssh | grep README.nss\n(no found)\n\nREADME.nss should be added to docs\n\nVersion-Release number of selected component (if applicable):\nnss-3.12.7-2.el6\n\nHow reproducible:\n100%\n\nSteps to Reproduce:\n1. rpm -ql openssh\n  \nActual results:\nNo README.nss\n\nExpected results:\nREADME.nss is available",
          "author": "mvadkert@redhat.com",
          "creation_time": "20101111T13:20:21",
          "bug_id": "652249",
          "creator_id": "271572",
          "time": "20101111T13:20:21",
          "id": "3300194",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "ebenes@redhat.com",
          "text": "QA_ACK+ for 6.1.0\n\nWe have this in RHEL 5, it just got lost in Fedora on the way.",
          "author": "ebenes@redhat.com",
          "creation_time": "20101119T14:32:28",
          "bug_id": "652249",
          "creator_id": "203333",
          "time": "20101119T14:32:28",
          "id": "3361008",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2011:10529-11\nhttp://errata.devel.redhat.com/errata/show/10529",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110114T14:03:45",
          "bug_id": "652249",
          "creator_id": "241731",
          "time": "20110114T14:03:45",
          "id": "3479329",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2011:10529-18: \nhttp://errata.devel.redhat.com/errata/stateview/10529\n\nVERIFIED as fixed in openssh-5.3p1-48.el6. The README.nss documentation is included in the package now.\n\n# rpm -ql openssh | grep README.nss\n/usr/share/doc/openssh-5.3p1/README.nss\n# cat /usr/share/doc/openssh-5.3p1/README.nss\nHow to use NSS tokens with OpenSSH?\n\nThis version of OpenSSH contains experimental support for authentication using\nkeys stored in tokens stored in NSS database. This for example includes any\nPKCS#11 tokens which are installed in your NSS database.\n\nAs the code is experimental and preliminary only SSH protocol 2 is supported.\nThe NSS certificate and token databases are looked for in the ~/.ssh\ndirectory or in a directory specified by environment variable NSS_DB_PATH.\n\nCommon operations:\n\n(1) tell the ssh client to use the NSS keys:\n\n\t$ ssh -o 'UseNSS yes' otherhost\n\t\n\tif you want to use a specific token:\n\t\n\t$ ssh -o 'UseNSS yes' -o 'NSS Token My PKCS11 Token' otherhost\n\n(2) or tell the agent to use the NSS keys:\n\n\t$ ssh-add -n\n\t\n\tif you want to use a specific token:\n\t\n\t$ ssh-add -n -T 'My PKCS11 Token'\n\n(3) extract the public key from token so it can be added to the\nserver:\n\n\t$ ssh-keygen -n\n\t\n\tif you want to use a specific token and/or key:\n\t\n\t$ ssh-keygen -n -D 'My PKCS11 Token' 'My Key ID'\n\nTomas Mraz, Red Hat, Inc.",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110322T14:49:26",
          "bug_id": "652249",
          "creator_id": "241731",
          "time": "20110322T14:49:26",
          "id": "3621389",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "An advisory has been issued which should help the problem\ndescribed in this bug report. This report is therefore being\nclosed with a resolution of ERRATA. For more information\non therefore solution and/or where to find the updated files,\nplease follow the link below. You may reopen this bug report\nif the solution does not work for you.\n\nhttp://rhn.redhat.com/errata/RHBA-2011-0598.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110519T13:30:43",
          "bug_id": "652249",
          "creator_id": "241731",
          "time": "20110519T13:30:43",
          "id": "3745802",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.0"
      ],
      "cc": [
        "sgrubb@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "Missing README.nss in openssh",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.1.0",
          "modification_date": "20101122T21:10:14",
          "type_id": "202",
          "is_active": "0",
          "creation_date": "20101111T13:20:21",
          "id": "720699",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20101111T13:37:30",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20101111T13:20:21",
          "id": "720700",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20101122T20:55:34",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20101111T13:20:21",
          "id": "720701",
          "setter": "sgrubb@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20101119T14:32:28",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20101111T13:20:21",
          "id": "720702",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20110519T13:30:43",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509326-0WXvZFKEi-Upex7vsGityxM7dPoUPJMjtFj_WlXcIUI",
      "cf_partner": [],
      "cf_last_closed": "20110519T13:30:43",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20101222T19:19:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "665112",
      "cf_release_notes": "",
      "priority": "high",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-33.el6",
      "creator": "sgrubb@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "sgrubb@redhat.com",
          "text": "Description of problem:\nThe RHEL6 Common Criteria need one additional audit event. It needs an event for the destruction of keys. It would be a AUDIT_CRYPTO_KEY_USER type with op=destroy. It needs to have some way of tying the destruction back to the creation of the key. This may be either the key's identifier, remote address & port, or some other means.",
          "author": "sgrubb@redhat.com",
          "creation_time": "20101222T19:19:17",
          "bug_id": "665112",
          "creator_id": "168751",
          "time": "20101222T19:19:17",
          "id": "3440837",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "ebenes@redhat.com",
          "text": "QA_ACK+",
          "author": "ebenes@redhat.com",
          "creation_time": "20110103T11:10:25",
          "bug_id": "665112",
          "creator_id": "203333",
          "time": "20110103T11:10:25",
          "id": "3449833",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2011:10529-10\nhttp://errata.devel.redhat.com/errata/show/10529",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110114T13:29:46",
          "bug_id": "665112",
          "creator_id": "241731",
          "time": "20110114T13:29:46",
          "id": "3479136",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "mvadkert@redhat.com",
          "text": "The check for this will be added to the existing test for audit logs:\n/CoreOS/openssh/Regression/bz632402-audit-crypto-usage",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110126T14:26:24",
          "bug_id": "665112",
          "creator_id": "271572",
          "time": "20110126T14:26:24",
          "id": "3501510",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "mvadkert@redhat.com",
          "text": "Package: openssh-5.3p1-43.el6\nHere are some samples of op=destroy in CRYPTO_KEY_USER message type:\n\ntime->Tue Mar  8 04:36:13 2011\ntype=CRYPTO_KEY_USER msg=audit(1299576973.299:25087273): user pid=29297 uid=0 auid=0 ses=1863 subj=unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 msg='op=destroy kind=server fp=72:74:bf:4e:ad:55:82:9c:ec:62:79:ae:4b:07:94:d3 direction=? spid=29297 suid=0: exe=2F7573722F7362696E2F73736864202864656C6574656429 hostname=? addr=? terminal=? res=success'\n----\ntime->Tue Mar  8 04:36:15 2011\ntype=CRYPTO_KEY_USER msg=audit(1299576975.409:25087297): user pid=30260 uid=0 auid=0 ses=2266 subj=unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 msg='op=destroy kind=server fp=72:74:bf:4e:ad:55:82:9c:ec:62:79:ae:4b:07:94:d3 direction=? spid=30260 suid=0: exe=''/usr/sbin/sshd'' hostname=? addr=10.34.35.69 terminal=? res=success'\n----\ntime->Tue Mar  8 04:36:15 2011\ntype=CRYPTO_KEY_USER msg=audit(1299576975.409:25087298): user pid=30260 uid=0 auid=0 ses=2266 subj=unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 msg='op=destroy kind=server fp=89:76:e4:c5:1f:58:0d:86:3a:1e:e7:58:c7:dc:c7:d4 direction=? spid=30260 suid=0: exe=''/usr/sbin/sshd'' hostname=? addr=10.34.35.69 terminal=? res=success'\n----\ntime->Tue Mar  8 04:36:15 2011\ntype=CRYPTO_KEY_USER msg=audit(1299576975.409:25087299): user pid=30260 uid=0 auid=0 ses=2266 subj=unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 msg='op=destroy kind=session fp=? direction=both spid=30260 suid=0 rport=60862 laddr=10.34.35.69 lport=22: exe=''/usr/sbin/sshd'' hostname=? addr=10.34.35.69 terminal=? res=success'\n\nSteve, are the results expected/sufficient? Are the questions makers i direction/fp expected? The exe=2F7573722F7362696E2F73736864202864656C6574656429 looks bogus. I'm attaching the results from our openssh audit log RHTS test with all the results.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110308T10:06:57",
          "bug_id": "665112",
          "creator_id": "271572",
          "time": "20110308T10:06:57",
          "id": "3578894",
          "is_private": "False"
        },
        {
          "count": "5",
          "attachment_id": "482864",
          "author": "mvadkert@redhat.com",
          "text": "Created attachment 482864\nopenssh-5.3p1-43.el6 audit log results",
          "creator": "mvadkert@redhat.com",
          "creation_time": "20110308T10:07:27",
          "bug_id": "665112",
          "creator_id": "271572",
          "time": "20110308T10:07:27",
          "id": "3578896",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "mvadkert@redhat.com",
          "text": "*** Bug 682763 has been marked as a duplicate of this bug. ***",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110308T16:51:50",
          "bug_id": "665112",
          "creator_id": "271572",
          "time": "20110308T16:51:50",
          "id": "3579847",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "mvadkert@redhat.com",
          "text": "Checking for fatal problems when using ssh commands (including those reported in bug 682763) is now part of Beaker test:\n/CoreOS/openssh/Regression/bz632402-audit-crypto-usage",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110308T17:48:45",
          "bug_id": "665112",
          "creator_id": "271572",
          "time": "20110308T17:48:45",
          "id": "3579977",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "mvadkert@redhat.com",
          "text": "Indeed exe=2F7573722F7362696E2F73736864202864656C6574656429 is a hexadecimal encoded string /usr/sbin/sshd (deleted). So this is expected.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110311T13:58:31",
          "bug_id": "665112",
          "creator_id": "271572",
          "time": "20110311T13:58:31",
          "id": "3587407",
          "is_private": "False"
        },
        {
          "count": "9",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2011:10529-18: \nhttp://errata.devel.redhat.com/errata/stateview/10529\n\nVERIFIED as fixed in openssh-5.3p1-46.el6. The CRYPTO_KEY_USER is now logging destruction of key (op=destroy). The outstanding issues with the log format will be fixed in bug 644877",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110311T15:11:25",
          "bug_id": "665112",
          "creator_id": "241731",
          "time": "20110311T15:11:25",
          "id": "3587630",
          "is_private": "True"
        },
        {
          "count": "10",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "An advisory has been issued which should help the problem\ndescribed in this bug report. This report is therefore being\nclosed with a resolution of ERRATA. For more information\non therefore solution and/or where to find the updated files,\nplease follow the link below. You may reopen this bug report\nif the solution does not work for you.\n\nhttp://rhn.redhat.com/errata/RHBA-2011-0598.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110519T13:30:49",
          "bug_id": "665112",
          "creator_id": "241731",
          "time": "20110519T13:30:49",
          "id": "3745807",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.0"
      ],
      "cc": [
        "iboverma@redhat.com",
        "jgalipea@redhat.com",
        "mvadkert@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "584498",
        "846801",
        "846802"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "atsec",
        "devel",
        "errata",
        "hp",
        "ibmconf",
        "qa",
        "redhat",
        "sgi"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "openssh needs to audit destruction of keys",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.1.0",
          "modification_date": "20110103T11:19:11",
          "type_id": "202",
          "is_active": "0",
          "creation_date": "20101222T19:19:17",
          "id": "742836",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "blocker",
          "modification_date": "20110103T11:19:11",
          "type_id": "24",
          "is_active": "1",
          "creation_date": "20101222T19:19:17",
          "id": "742837",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20101222T20:58:42",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20101222T19:26:26",
          "id": "742847",
          "setter": "syeghiay@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20101222T19:19:17",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20101222T19:19:17",
          "id": "742838",
          "setter": "sgrubb@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20110103T11:10:25",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20101222T19:25:56",
          "id": "742844",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20120808T18:29:11",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509326-Be3zOjq-eiXL7rIAR-7LID8f3yYXsC4rlxN5RjYbOZI",
      "cf_partner": [],
      "cf_last_closed": "20110519T13:30:49",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20110126T16:06:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "672870",
      "cf_release_notes": "",
      "priority": "high",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-47.el6",
      "creator": "sgrubb@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "sgrubb@redhat.com",
          "text": "Description of problem:\nWhen booting up a freshly installed system in fips mode, if the RSA1 key is missing, sshd will not start. From the initscript:\n\n        if [ ''x${AUTOCREATE_SERVER_KEYS}'' != xNO ]; then\n                do_rsa1_keygen\n                do_rsa_keygen\n                do_dsa_keygen\n        fi\n\nwhere do_rsa1_keygen exits the init script should it fail. Running its command, I get this:\n\n# ssh-keygen -t rsa1 -f /etc/ssh/sshd_host_key -C '' -N '' -v\nGenerating public/private rsa1 key pair.\ncipher_set_key_string failed.\nSaving the key failed: /etc/ssh/sshd_host_key.\n\nSo, in FIPS mode, rsa1 keys cannot be generated. The reason seems to be that RSA1 is a forbidden algorithm in FIPS mode. The solution is that if the key is missing and the kernel indicates that fips_enabled is true, then skip the RSA1 check since the daemon cannot use RSA1.\n\nHow reproducible:\nalways\n\nSteps to Reproduce:\n1. remove the file /etc/ssh/ssh_host_key\n2. reboot into fips mode\n\n  \nActual results:\nsshd not started\n\nExpected results:\nsshd started",
          "author": "sgrubb@redhat.com",
          "creation_time": "20110126T16:06:48",
          "bug_id": "672870",
          "creator_id": "168751",
          "time": "20110126T16:06:48",
          "id": "3501848",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "ebenes@redhat.com",
          "text": "qa_ack+",
          "author": "ebenes@redhat.com",
          "creation_time": "20110127T11:53:46",
          "bug_id": "672870",
          "creator_id": "203333",
          "time": "20110127T11:53:46",
          "id": "3503625",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "mvadkert@redhat.com",
          "text": "I will add a testcase to the RHEL6.1 test plan to throughly test openssh in FIPS mode.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110127T12:30:01",
          "bug_id": "672870",
          "creator_id": "271572",
          "time": "20110127T12:30:01",
          "id": "3503700",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "mvadkert@redhat.com",
          "text": "https://tcms.engineering.redhat.com/case/76825/?from_plan=3266",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110127T12:33:51",
          "bug_id": "672870",
          "creator_id": "271572",
          "time": "20110127T12:33:51",
          "id": "3503708",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "jchadima@redhat.com",
          "text": "automatic rsa1 key generation in non fips mode.",
          "author": "jchadima@redhat.com",
          "creation_time": "20110128T09:57:20",
          "bug_id": "672870",
          "creator_id": "276623",
          "time": "20110128T09:57:20",
          "id": "3505749",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2011:10529-15\nhttp://errata.devel.redhat.com/errata/show/10529",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110208T23:02:43",
          "bug_id": "672870",
          "creator_id": "241731",
          "time": "20110208T23:02:43",
          "id": "3527938",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2011:10529-18: \nhttp://errata.devel.redhat.com/errata/stateview/10529\n\nVERIFIED as fixed in openssh-5.3p1-43.el6\n\nNEW PACKAGE openssh-5.3p1-43.el6\n# rm -rf /etc/ssh/ssh_host_*\n# service sshd restart\nStopping sshd: [  OK  ]\nGenerating SSH2 RSA host key: [  OK  ]\nGenerating SSH2 DSA host key: [  OK  ]\nStarting sshd: [  OK  ]\n\nOLD PACKAGE openssh-5.3p1-20.el6\n# rm -rf /etc/ssh/ssh_host_*\n# service sshd restart\nStopping sshd: [FAILED]\nGenerating SSH1 RSA host key: [FAILED]",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110308T09:30:01",
          "bug_id": "672870",
          "creator_id": "241731",
          "time": "20110308T09:30:01",
          "id": "3578847",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "An advisory has been issued which should help the problem\ndescribed in this bug report. This report is therefore being\nclosed with a resolution of ERRATA. For more information\non therefore solution and/or where to find the updated files,\nplease follow the link below. You may reopen this bug report\nif the solution does not work for you.\n\nhttp://rhn.redhat.com/errata/RHBA-2011-0598.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110519T13:30:55",
          "bug_id": "672870",
          "creator_id": "241731",
          "time": "20110519T13:30:55",
          "id": "3745809",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.0"
      ],
      "cc": [
        "iboverma@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "661821"
      ],
      "qa_contact": "mvadkert@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "atsec",
        "devel",
        "errata",
        "qa",
        "redhat"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "When booting in FIPS mode, sshd does not start if rsa1 key is missing",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.1.0",
          "modification_date": "20110127T11:57:26",
          "type_id": "202",
          "is_active": "0",
          "creation_date": "20110126T16:06:48",
          "id": "757113",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20110126T16:07:51",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20110126T16:07:51",
          "id": "757116",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20110126T16:06:48",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20110126T16:06:48",
          "id": "757114",
          "setter": "sgrubb@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20110127T11:53:46",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20110126T16:25:58",
          "id": "757130",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20110519T13:30:55",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509326-1h1WziamPRmF66f9AiQ5GE53HHCcw_LH0u9N5d9lrwI",
      "cf_partner": [],
      "cf_last_closed": "20110519T13:30:55",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20110210T16:45:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "676665",
      "cf_release_notes": "",
      "priority": "high",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-50.el6",
      "creator": "smueller@atsec.com",
      "comments": [
        {
          "count": "0",
          "creator": "smueller@atsec.com",
          "text": "Description of problem:\n\nssh pubkey authentication together with polyinstantiation on an MLS system is \ncurrently not working as expected.\n\nTo be precise, pubkey auth works properly by sshd. But a user can NOT generate \nthe authorized_keys file at the right place.\n\nNote the following sequence considering that after initial configuration, \nthere is no authorized_keys file yet:\n\n1. user logs in\n\n2. user generates his ~/.ssh/authorized_keys file\n\n3. user logs out\n\n4. user logs in using pubkey auth\n\n5. sshd looks for $HOME/.ssh/authorized_keys file\n\n\nIn step 5, sshd can NOT find the authorized_keys file, because the file \ngenerated in step 2 is stored in the polyinstantiated backend dir in \n/home/home-inst/.... but the directory that sshd looks up is /home/<USER> as \nthe sshd does not set up polyinstantiation at the time of looking up the \nuser's key.\n\nTherefore, sshd cannot find the users authorized_keys file. But the user \ncannot create the authorized_keys file in a spot where sshd can find it.\n\nFor test purposes, if root moves the .ssh/ directory from /home/home-inst/.../ \nto /home/<USER> and does a chown on them, pubkey auth works nicely.\n\nSo, pubkey auth in an MLS system must be considered broken.\n\n\nVersion-Release number of selected component (if applicable): \n\n\nHow reproducible:\n\nAlways using the steps above.\n\nExpected results:\n\nkey-based authentication should work in an MLS environment",
          "author": "smueller@atsec.com",
          "creation_time": "20110210T16:45:17",
          "bug_id": "676665",
          "creator_id": "267556",
          "time": "20110210T16:45:17",
          "id": "3531488",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20110210T16:53:14",
          "bug_id": "676665",
          "creator_id": "193983",
          "time": "20110210T16:53:14",
          "id": "3531499",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "ebenes@redhat.com",
          "text": "qa_ack+ for 6.1",
          "author": "ebenes@redhat.com",
          "creation_time": "20110216T10:34:48",
          "bug_id": "676665",
          "creator_id": "203333",
          "time": "20110216T10:34:48",
          "id": "3540873",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2011:10529-16\nhttp://errata.devel.redhat.com/errata/show/10529",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110301T12:30:27",
          "bug_id": "676665",
          "creator_id": "241731",
          "time": "20110301T12:30:27",
          "id": "3565983",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "mvadkert@redhat.com",
          "text": "Jan, I can reproduce the exact problem also without MLS (using targeted policy). \nI.e. using targeted policy the authorized key file is looked up in the home directory (not the polyinstantiated home directory).\n\nShould this work also in non-MLS enviroments??",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110304T11:16:13",
          "bug_id": "676665",
          "creator_id": "271572",
          "time": "20110304T11:16:13",
          "id": "3573255",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to ASSIGNED status by the Errata System: \nAdvisory RHBA-2011:10529-18: \nhttp://errata.devel.redhat.com/errata/stateview/10529\n\nThe ssh-keycat pam configuration is incorrect and should be fixed. There is a newline inside the comment (user context is on a new line):\n\n\n#%PAM-1.0\n# pam_selinux.so close should be the first session rule\nsession    required     pam_selinux.so close\nsession    required     pam_loginuid.so\n# pam_selinux.so open should only be followed by sessions to be executed in the\nuser context\nsession    required     pam_selinux.so open env_params\nsession    required     pam_namespace.so\n\nYou have new mail in /var/spool/mail/root\n\nMoving back to assigned",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110304T12:08:17",
          "bug_id": "676665",
          "creator_id": "241731",
          "time": "20110304T12:08:17",
          "id": "3573331",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "mvadkert@redhat.com",
          "text": "So I know now how to test this. It should of course work in non-MLS env. But I have another question. Shouldn't be this future documented somehow? At least a readme file would be nice!",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110304T12:12:25",
          "bug_id": "676665",
          "creator_id": "271572",
          "time": "20110304T12:12:25",
          "id": "3573337",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "mvadkert@redhat.com",
          "text": "\n\nTest passes in targeted policy:\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Setup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Checking for the presence of openssh rpm\n:: [   PASS   ] :: Running 'setsebool allow_polyinstantiation 1'\n:: [   PASS   ] :: Running 'userdel -r tester'\n:: [   PASS   ] :: Running 'useradd tester'\n:: [   PASS   ] :: Running 'echo tester | passwd --stdin tester'\n:: [   PASS   ] :: Running 'echo redhat | passwd --stdin root'\n:: [   PASS   ] :: Running 'rm -f /root/.ssh/id_rsa*'\n:: [   PASS   ] :: Running 'ssh-keygen -t rsa -f /root/.ssh/id_rsa -N redhat'\n:: [   PASS   ] :: Running 'su - -c 'ssh-keygen -t rsa -f /home/tester/.ssh/id_rsa -N redhat' tester'\n:: [   PASS   ] :: Running 'cp *.exp /home/tester'\n:: [   PASS   ] :: Running 'restorecon -Rv /root/.ssh'\n:: [   PASS   ] :: Running 'sed -i 's/.*AuthorizedKeysCommand .*/AuthorizedKeysCommand \\/usr\\/libexec\\/openssh\\/ssh-keycat/g' /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running 'sed -i 's/.*AuthorizedKeysCommandRunAs.*/AuthorizedKeysCommandRunAs root/g' /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running 'service sshd restart'\n:: [   LOG    ] :: Duration: 12s\n:: [   LOG    ] :: Assertions: 14 good, 0 bad\n:: [   PASS   ] :: RESULT: Setup\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'echo 'session    optional        pam_namespace.so debug' >> /etc/pam.d/sshd'\n:: [   PASS   ] :: Running 'echo '$HOME $HOME/$USER.inst/  user' >> /etc/security/namespace.conf'\n:: [   PASS   ] :: Running './ssh-copy-id.exp tester tester'\n:: [   PASS   ] :: Running './ssh-pub.exp tester redhat'\n:: [   PASS   ] :: Running './ssh-copy-id.exp root redhat'\n:: [   PASS   ] :: Running './ssh-pub.exp root redhat'\n:: [   PASS   ] :: Running 'su - -c './ssh-copy-id.exp tester tester' tester'\n:: [   PASS   ] :: Running 'su - -c './ssh-pub.exp tester redhat' tester'\n:: [   PASS   ] :: Running 'su - -c './ssh-copy-id.exp root redhat' tester'\n:: [   PASS   ] :: Running 'su - -c './ssh-pub.exp root redhat' tester'\n:: [   LOG    ] :: Duration: 25s\n:: [   LOG    ] :: Assertions: 10 good, 0 bad\n:: [   PASS   ] :: RESULT: Test",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110304T13:19:50",
          "bug_id": "676665",
          "creator_id": "271572",
          "time": "20110304T13:19:50",
          "id": "3573452",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from MODIFIED to ASSIGNED status by the Errata System: \nAdvisory RHBA-2011:10529-18: \nhttp://errata.devel.redhat.com/errata/stateview/10529\n\nAfter discussion with the documentation team,  the content of /usr/share/doc/openssh-keycat-5.3p1/HOWTO.ssh-keycat should be corrected to this text:\n\n====\nThe ssh-keycat retrieves the content of the ~/.ssh/authorized_keys\nof an user in any environment. This includes environments with\npolyinstantiation of home directories and SELinux MLS policy enabled.\n\nTo use ssh-keycat, set these options in /etc/ssh/sshd_config file:\n        AuthorizedKeysCommand /usr/libexec/openssh/ssh-keycat\n        AuthorizedKeysCommandRunAs root\n\nDo not forget to enable public key authentication:\n        PubkeyAuthentication yes\n====\n\nI think there will be another respin of openssh, so we can pull in these changes during that. Moving to assigned.",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110307T12:24:39",
          "bug_id": "676665",
          "creator_id": "241731",
          "time": "20110307T12:24:39",
          "id": "3576733",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "mvadkert@redhat.com",
          "text": "I was able to manually test the pubkey authentication with \n\n* enabled polyinstantiation of home directories\n* MLS policy enabled \n\nThe ssh-keycat works in this environment as expected I can login without issues.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110307T12:36:02",
          "bug_id": "676665",
          "creator_id": "271572",
          "time": "20110307T12:36:02",
          "id": "3576752",
          "is_private": "False"
        },
        {
          "count": "10",
          "creator": "smueller@atsec.com",
          "text": "> The ssh-keycat works in this environment as expected I can login without\n> issues.\n\nDo you have a working solution for the described problem? Can you please show us the code or design, because I fear easy MLS policy violations.",
          "author": "smueller@atsec.com",
          "creation_time": "20110307T12:49:39",
          "bug_id": "676665",
          "creator_id": "267556",
          "time": "20110307T12:49:39",
          "id": "3576781",
          "is_private": "False"
        },
        {
          "count": "11",
          "creator": "mvadkert@redhat.com",
          "text": "Stephan, our developers came up with a solution for the problem. It consists of a authorized keys helper program (ssh-keycat) and a pam module for it.\n\nThis is the howto for the solution\n======\nThe ssh-keycat retrieves the content of the ~/.ssh/authorized_keys\nof an user in any environment. This includes environments with\npolyinstantiation of home directories and SELinux MLS policy enabled.\n\nTo use ssh-keycat, set these options in /etc/ssh/sshd_config file:\n        AuthorizedKeysCommand /usr/libexec/openssh/ssh-keycat\n        AuthorizedKeysCommandRunAs root\n\nDo not forget to enable public key authentication:\n        PubkeyAuthentication yes\n=====\n\nWe are currently contacting Irine to make the new packages available to you for testing.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110307T13:13:05",
          "bug_id": "676665",
          "creator_id": "271572",
          "time": "20110307T13:13:05",
          "id": "3576840",
          "is_private": "False"
        },
        {
          "count": "12",
          "creator": "smueller@atsec.com",
          "text": "\n> We are currently contacting Irine to make the new packages available to you for\n> testing.\n\nNot having seen any code, please note my concerns: polyinstantiation ensures proper separation of information generated by the same user but in different levels. There must not be any connections between these levels.\n\nAny solution that copies the authorized keys file around naturally tries to circumvent this requirement. However, this circumvention must only be done for keys! Note that you can stuff anything in a file called authorized keys, even data not parsable by sshd. In addition, there may be comments and such.\n\nNote that we must prevent information flow (that is any arbitrary, user-definable data) between the labels. That means we must only allow keys or commands to be copied around.",
          "author": "smueller@atsec.com",
          "creation_time": "20110307T13:27:24",
          "bug_id": "676665",
          "creator_id": "267556",
          "time": "20110307T13:27:24",
          "id": "3576871",
          "is_private": "False"
        },
        {
          "count": "13",
          "creator": "jchadima@redhat.com",
          "text": "\n> \n> Any solution that copies the authorized keys file around naturally tries to\n> circumvent this requirement. However, this circumvention must only be done for\n> keys! Note that you can stuff anything in a file called authorized keys, even\n> data not parsable by sshd. In addition, there may be comments and such.\n\nThere are no data copying. The ssh-keycat program in the fly reads the data from the proper user/context's authorized keys and via stdout piped to sshd send it for verification.",
          "author": "jchadima@redhat.com",
          "creation_time": "20110307T18:49:27",
          "bug_id": "676665",
          "creator_id": "276623",
          "time": "20110307T18:49:27",
          "id": "3577599",
          "is_private": "False"
        },
        {
          "count": "14",
          "creator": "smueller@atsec.com",
          "text": "> from the proper user/context's authorized keys and via stdout piped to sshd\n> send it for verification.\n\nThat is good - this approach should not cause any problem with the MLS constraints.",
          "author": "smueller@atsec.com",
          "creation_time": "20110307T19:36:17",
          "bug_id": "676665",
          "creator_id": "267556",
          "time": "20110307T19:36:17",
          "id": "3577675",
          "is_private": "False"
        },
        {
          "count": "15",
          "creator": "mvadkert@redhat.com",
          "text": "The howto is fixed now also. Moving back to ON_QA",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110309T16:02:49",
          "bug_id": "676665",
          "creator_id": "271572",
          "time": "20110309T16:02:49",
          "id": "3582720",
          "is_private": "False"
        },
        {
          "count": "16",
          "creator": "mvadkert@redhat.com",
          "text": "Stephan, we are still waiting for the refresh of the ftp to make the new bits available to you.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110309T16:06:48",
          "bug_id": "676665",
          "creator_id": "271572",
          "time": "20110309T16:06:48",
          "id": "3582731",
          "is_private": "False"
        },
        {
          "count": "17",
          "creator": "smueller@atsec.com",
          "text": "Thanks for the note - just ping me.",
          "author": "smueller@atsec.com",
          "creation_time": "20110309T16:10:17",
          "bug_id": "676665",
          "creator_id": "267556",
          "time": "20110309T16:10:17",
          "id": "3582767",
          "is_private": "False"
        },
        {
          "count": "18",
          "creator": "mvadkert@redhat.com",
          "text": "Stephan, openssh-5.3p1-45.el6 should be available to you as it is included in the RHEL6.1 Beta compose. Could you please try to reproduce the problem using this package? The howto is here:\n/usr/share/doc/openssh-keycat-5.3p1/HOWTO.ssh-keycat",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110323T08:40:06",
          "bug_id": "676665",
          "creator_id": "271572",
          "time": "20110323T08:40:06",
          "id": "3623051",
          "is_private": "False"
        },
        {
          "count": "19",
          "creator": "smueller@atsec.com",
          "text": "Maybe I do not look at the right place, but the ISO image only contains the following files:\n\nopenssh-5.3p1-45.el6.x86_64.rpm\nopenssh-askpass-5.3p1-45.el6.x86_64.rpm\nopenssh-clients-5.3p1-45.el6.x86_64.rpm\nopenssh-server-5.3p1-45.el6.x86_64.rpm\n\nLooking at the OpenSSH package spec file, I would need to expect some openssh-keycat package. Bottom line, when unpacking the above mentioned packages, I do not see any keycat related bits.\n\nWhere can I find the keycat package?",
          "author": "smueller@atsec.com",
          "creation_time": "20110323T09:38:00",
          "bug_id": "676665",
          "creator_id": "267556",
          "time": "20110323T09:38:00",
          "id": "3623153",
          "is_private": "False"
        },
        {
          "count": "20",
          "creator": "smueller@atsec.com",
          "text": "Some comments to the keycat patch:\n\n+dump_keys():\n+       if (!S_ISREG(st.st_mode) || \n+               (st.st_uid != pwd->pw_uid && st.st_uid != 0)) {\n+               rv = ERR_FILE_MODE;\n+               goto fail;\n+       }\n\nShouldn't this check be consistent with the one from the sshd implementation (it also checks for permissions on .ssh/)? I would strongly suggest to apply the same security measures as in sshd for resolving .ssh and reading the authorized_keys file (see secure_filename function).\n\nDoes keycat have any SELinux privilege (I guess not due to the configuration of keycat in sshd_config - but I want to be sure)? I am worried about the following:\n\n+       while ((len = fread(buf, 1, sizeof(buf), f)) > 0) {\n+               rv = fwrite(buf, 1, len, stdout) != len ? ERR_WRITE : 0;\n+       }\n\nAnother question: how can a user in a privsep environment generate the authorized_keys file in the non-polyinstantiated $HOME/.ssh directory?",
          "author": "smueller@atsec.com",
          "creation_time": "20110323T10:06:03",
          "bug_id": "676665",
          "creator_id": "267556",
          "time": "20110323T10:06:03",
          "id": "3623189",
          "is_private": "False"
        },
        {
          "count": "21",
          "creator": "tmraz@redhat.com",
          "text": "(In reply to comment #20)\n> Some comments to the keycat patch:\n> \n> +dump_keys():\n> +       if (!S_ISREG(st.st_mode) || \n> +               (st.st_uid != pwd->pw_uid && st.st_uid != 0)) {\n> +               rv = ERR_FILE_MODE;\n> +               goto fail;\n> +       }\n> \n> Shouldn't this check be consistent with the one from the sshd implementation\n> (it also checks for permissions on .ssh/)? I would strongly suggest to apply\n> the same security measures as in sshd for resolving .ssh and reading the\n> authorized_keys file (see secure_filename function).\nThe problem is some of the secure_filename checks are only optional - you can switch them off in the sshd_config. ssh-keycat does not read the sshd configuration file as we wanted to keep it as small as possible and so it would be impossible to turn off the checks in it.\n\n> Does keycat have any SELinux privilege (I guess not due to the configuration of\n> keycat in sshd_config - but I want to be sure)? I am worried about the\n> following:\n> \n> +       while ((len = fread(buf, 1, sizeof(buf), f)) > 0) {\n> +               rv = fwrite(buf, 1, len, stdout) != len ? ERR_WRITE : 0;\n> +       }\nWhat is the problem here? Can you be more specific?\n\n> Another question: how can a user in a privsep environment generate the\n> authorized_keys file in the non-polyinstantiated $HOME/.ssh directory?\nI am sorry but I do not understand this question.",
          "author": "tmraz@redhat.com",
          "creation_time": "20110323T10:19:16",
          "bug_id": "676665",
          "creator_id": "167996",
          "time": "20110323T10:19:16",
          "id": "3623217",
          "is_private": "False"
        },
        {
          "count": "22",
          "creator": "mvadkert@redhat.com",
          "text": "Stephan, the package is in the optional tree. I'm checking with release engineering if this is available also to the partners. I though it is :(",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110323T10:20:54",
          "bug_id": "676665",
          "creator_id": "271572",
          "time": "20110323T10:20:54",
          "id": "3623219",
          "is_private": "False"
        },
        {
          "count": "23",
          "creator": "smueller@atsec.com",
          "text": "(In reply to comment #22)\n> Stephan, the package is in the optional tree. I'm checking with release\n> engineering if this is available also to the partners. I though it is :(\n\nFound it in the optional tree - thanks for the pointer. Are there plans to move it to the main ISO? I will need another day or two before I can test it.",
          "author": "smueller@atsec.com",
          "creation_time": "20110323T10:29:58",
          "bug_id": "676665",
          "creator_id": "267556",
          "time": "20110323T10:29:58",
          "id": "3623233",
          "is_private": "False"
        },
        {
          "count": "24",
          "creator": "smueller@atsec.com",
          "text": "(In reply to comment #21)\n\n> The problem is some of the secure_filename checks are only optional - you can\n> switch them off in the sshd_config. ssh-keycat does not read the sshd\n> configuration file as we wanted to keep it as small as possible and so it would\n> be impossible to turn off the checks in it.\n\nHm, ok. However, I have to think a bit longer about that check and whether it is sufficient. My problem is that a fully privileged application reads data from a path name that is under the full control of the user. Granted, the output is fed into sshd and sshd tries to interpret the bits as an authorized_keys file. But since sshd does some magic beyond just checking the keys (think of the potential commands in authorized_keys), I need to think whether there is a privilege escalation possible here (privilege escalation means: access something with a different UID/GID, different label or different capability).\n> \n\n> What is the problem here? Can you be more specific?\n\nSee above.\n> \n> > Another question: how can a user in a privsep environment generate the\n> > authorized_keys file in the non-polyinstantiated $HOME/.ssh directory?\n> I am sorry but I do not understand this question.\n\nSkip that question for the moment in favor of the following: you use PAM with keycat. I guess the main intention here is to allow pam_namespace to be invoked, right? What is the expected/proposed PAM config for keycat?",
          "author": "smueller@atsec.com",
          "creation_time": "20110323T10:37:54",
          "bug_id": "676665",
          "creator_id": "267556",
          "time": "20110323T10:37:54",
          "id": "3623245",
          "is_private": "False"
        },
        {
          "count": "25",
          "creator": "smueller@atsec.com",
          "text": "\n> \n> Skip that question for the moment in favor of the following: you use PAM with\n> keycat. I guess the main intention here is to allow pam_namespace to be\n> invoked, right? What is the expected/proposed PAM config for keycat?\n\nMaybe I should check the RPM before I ask as there is the answer for a PAM config. Sorry for the noise. :-(",
          "author": "smueller@atsec.com",
          "creation_time": "20110323T10:42:29",
          "bug_id": "676665",
          "creator_id": "267556",
          "time": "20110323T10:42:29",
          "id": "3623252",
          "is_private": "False"
        },
        {
          "count": "26",
          "creator": "mvadkert@redhat.com",
          "text": "Stephan so do you already have access to the openssh-keycat package?",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110323T10:44:05",
          "bug_id": "676665",
          "creator_id": "271572",
          "time": "20110323T10:44:05",
          "id": "3623254",
          "is_private": "False"
        },
        {
          "count": "27",
          "creator": "smueller@atsec.com",
          "text": "(In reply to comment #26)\n> Stephan so do you already have access to the openssh-keycat package?\n\nYes, I do.",
          "author": "smueller@atsec.com",
          "creation_time": "20110323T10:47:39",
          "bug_id": "676665",
          "creator_id": "267556",
          "time": "20110323T10:47:39",
          "id": "3623259",
          "is_private": "False"
        },
        {
          "count": "28",
          "creator": "tmraz@redhat.com",
          "text": "(In reply to comment #24)\n> (In reply to comment #21)\n> \n> > The problem is some of the secure_filename checks are only optional - you can\n> > switch them off in the sshd_config. ssh-keycat does not read the sshd\n> > configuration file as we wanted to keep it as small as possible and so it would\n> > be impossible to turn off the checks in it.\n> \n> Hm, ok. However, I have to think a bit longer about that check and whether it\n> is sufficient. My problem is that a fully privileged application reads data\n> from a path name that is under the full control of the user. Granted, the\n> output is fed into sshd and sshd tries to interpret the bits as an\n> authorized_keys file. But since sshd does some magic beyond just checking the\n> keys (think of the potential commands in authorized_keys), I need to think\n> whether there is a privilege escalation possible here (privilege escalation\n> means: access something with a different UID/GID, different label or different\n> capability).\n\nNote that there is the temporarily_use_uid() call before the open() call. This means that the effective uid as well as the groups will be set to the user. This avoids any symlinking and other race attacks where the user could make ssh-keycat read files that he does not have an access to.\n\nAlso note that if ssh-keycat is not used the sshd directly reads/parses/uses the .ssh/authorized_keys file and this file can be fully manipulated by the user - so there is no change in possible attack vectors against the sshd. Of course in this case the code of ssh-keycat could be attacked as well but as you can see all the manipulation that it does with the file contents is extremely simple - it just reads it and write to stdout.",
          "author": "tmraz@redhat.com",
          "creation_time": "20110323T12:27:21",
          "bug_id": "676665",
          "creator_id": "167996",
          "time": "20110323T12:27:21",
          "id": "3623441",
          "is_private": "False"
        },
        {
          "count": "29",
          "creator": "ebenes@redhat.com",
          "text": "(In reply to comment #23)\n> (In reply to comment #22)\n> > Stephan, the package is in the optional tree. I'm checking with release\n> > engineering if this is available also to the partners. I though it is :(\n> \n> Found it in the optional tree - thanks for the pointer. Are there plans to move\n> it to the main ISO? I will need another day or two before I can test it.\n\nFiled bug 690127 to track the requested change and move it out of optionals.",
          "author": "ebenes@redhat.com",
          "creation_time": "20110323T12:32:25",
          "bug_id": "676665",
          "creator_id": "203333",
          "time": "20110323T12:32:25",
          "id": "3623457",
          "is_private": "False"
        },
        {
          "count": "30",
          "creator": "smueller@atsec.com",
          "text": "(In reply to comment #28)\n\n> \n> Note that there is the temporarily_use_uid() call before the open() call. This\n\nThanks, that is a good hint. I overlooked that one.\n\n> means that the effective uid as well as the groups will be set to the user.\n> This avoids any symlinking and other race attacks where the user could make\n> ssh-keycat read files that he does not have an access to.\n> \n> Also note that if ssh-keycat is not used the sshd directly reads/parses/uses\n> the .ssh/authorized_keys file and this file can be fully manipulated by the\n> user - so there is no change in possible attack vectors against the sshd. Of\n> course in this case the code of ssh-keycat could be attacked as well but as you\n> can see all the manipulation that it does with the file contents is extremely\n> simple - it just reads it and write to stdout.\n\nWith the set*uid you mentioned above I think we can call my concerns closed. :-)",
          "author": "smueller@atsec.com",
          "creation_time": "20110323T12:43:24",
          "bug_id": "676665",
          "creator_id": "267556",
          "time": "20110323T12:43:24",
          "id": "3623493",
          "is_private": "False"
        },
        {
          "count": "31",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2011:10529-19: \nhttp://errata.devel.redhat.com/errata/stateview/10529\n\nVERIFIED as fixed in openssh-server-5.3p1-49.el6\n\nFor details see comments #7, #9 and #30.",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110326T12:31:43",
          "bug_id": "676665",
          "creator_id": "241731",
          "time": "20110326T12:31:43",
          "id": "3630720",
          "is_private": "True"
        },
        {
          "count": "32",
          "creator": "smueller@atsec.com",
          "text": "With the version of OpenSSH packages that supposedly have the fixes, I still cannot log in using keys on an MLS system.\n\nWhen starting sshd in debug mode, I see:\n\nlookup of /home/eal/.ssh/authorized_keys and /home/eal/.ssh/authorized_keys2 which both fail. There is no indication that the ssh-keycat was spawned. Also the audit log does not indicate the starting of ssh-keycat.\n\n\n\nHome directory of user eal:\n[eal/staff_r/SystemLow@rhel ~]$ ls -la\ntotal 32\ndrwx------. 4 eal  eal  4096 Mar 28 04:50 .\ndrwxr-xr-x. 5 root root 4096 Mar 28 04:26 ..\n-rw-------. 1 eal  eal    18 Mar 28 04:50 .bash_history\n-rw-r--r--. 1 eal  eal    18 Mar 28 04:35 .bash_logout\n-rw-r--r--. 1 eal  eal   176 Mar 28 04:35 .bash_profile\n-rw-r--r--. 1 eal  eal   124 Mar 28 04:35 .bashrc\ndrwx------. 2 eal  eal  4096 Mar 28 05:04 .screen\ndrwx------. 2 eal  eal  4096 Mar 28 04:48 .ssh\n[eal/staff_r/SystemLow@rhel ~]$\n\nContents of ~eal/.ssh:\n[eal/staff_r/SystemLow@rhel ~]$ ls -la .ssh/\ntotal 12\ndrwx------. 2 eal eal 4096 Mar 28 04:48 .\ndrwx------. 4 eal eal 4096 Mar 28 04:50 ..\n-rw-------. 1 eal eal 1115 Mar 28 04:48 authorized_keys\n[eal/staff_r/SystemLow@rhel ~]$\n\n\nPackages installed:\nrpm -qa | grep openssh\nopenssh-server-5.3p1-45.el6.x86_64\nopenssh-5.3p1-45.el6.x86_64\nopenssh-clients-5.3p1-45.el6.x86_64\nopenssh-keycat-5.3p1-45.el6.x86_64\n\nsshd_config (critical part):\n\n# Configure password-based login. If password-based\n# authentication is enabled, you MUST use the PAM\n# library exclusively.\n# You MAY disable UsePAM by setting both variables to ''no''\nUsePAM yes\nChallengeResponseAuthentication yes\n\n# You MAY disable key-based authentication\nPubkeyAuthentication yes\n\n# The ssh-keycat retrieves the content of the ~/.ssh/authorized_keys\n# of an user in any environment. This includes environments with\n# polyinstantiation of home directories and SELinux MLS policy enabled.\n# You MAY disable the following lines - however, key-based authentication\n# will NOT work in an MLS environment.\nAuthorizedKeysCommand ''/usr/libexec/openssh/ssh-keycat''\nAuthorizedKeysCommandRunAs root",
          "author": "smueller@atsec.com",
          "creation_time": "20110328T10:08:44",
          "bug_id": "676665",
          "creator_id": "267556",
          "time": "20110328T10:08:44",
          "id": "3633123",
          "is_private": "False"
        },
        {
          "count": "33",
          "creator": "mvadkert@redhat.com",
          "text": "Strange, trying to reproduce again and will report back ASAP",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110328T10:29:57",
          "bug_id": "676665",
          "creator_id": "271572",
          "time": "20110328T10:29:57",
          "id": "3633175",
          "is_private": "False"
        },
        {
          "count": "34",
          "creator": "mvadkert@redhat.com",
          "text": "Stephan could you please try remove the double quotes around the command please?\n\nAuthorizedKeysCommand /usr/libexec/openssh/ssh-keycat",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110328T12:50:01",
          "bug_id": "676665",
          "creator_id": "271572",
          "time": "20110328T12:50:01",
          "id": "3633422",
          "is_private": "False"
        },
        {
          "count": "35",
          "creator": "mvadkert@redhat.com",
          "text": "With the quotes this doesn't work, we will need to fix the docs, sorry for this.\n\nJan could you please remove the bogus double quotes from the README?",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110328T12:55:08",
          "bug_id": "676665",
          "creator_id": "271572",
          "time": "20110328T12:55:08",
          "id": "3633445",
          "is_private": "False"
        },
        {
          "count": "36",
          "creator": "smueller@atsec.com",
          "text": "Yes, without the double quotes it works. I can log in using a key. Thanks for clarifying",
          "author": "smueller@atsec.com",
          "creation_time": "20110328T12:58:46",
          "bug_id": "676665",
          "creator_id": "267556",
          "time": "20110328T12:58:46",
          "id": "3633450",
          "is_private": "False"
        },
        {
          "count": "37",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from MODIFIED to ON_QA status by the Errata System: \nAdvisory RHBA-2011:10529-19: \nhttp://errata.devel.redhat.com/errata/stateview/10529",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110328T18:45:22",
          "bug_id": "676665",
          "creator_id": "241731",
          "time": "20110328T18:45:22",
          "id": "3634491",
          "is_private": "True"
        },
        {
          "count": "38",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2011:10529-19: \nhttp://errata.devel.redhat.com/errata/stateview/10529\n\nVERIFIED as fixed in openssh-5.3p1-50.el6. The documentation is now correct and doesn't contain the bogus double quotes:\n\n# cat /usr/share/doc/openssh-server-5.3p1/HOWTO.ssh-keycat\nThe ssh-keycat retrieves the content of the ~/.ssh/authorized_keys\nof an user in any environment. This includes environments with\npolyinstantiation of home directories and SELinux MLS policy enabled.\n\nTo use ssh-keycat, set these options in /etc/ssh/sshd_config file:\n        AuthorizedKeysCommand /usr/libexec/openssh/ssh-keycat\n        AuthorizedKeysCommandRunAs root\n\nDo not forget to enable public key authentication:\n        PubkeyAuthentication yes",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110329T08:20:05",
          "bug_id": "676665",
          "creator_id": "241731",
          "time": "20110329T08:20:05",
          "id": "3635894",
          "is_private": "True"
        },
        {
          "count": "39",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "An advisory has been issued which should help the problem\ndescribed in this bug report. This report is therefore being\nclosed with a resolution of ERRATA. For more information\non therefore solution and/or where to find the updated files,\nplease follow the link below. You may reopen this bug report\nif the solution does not work for you.\n\nhttp://rhn.redhat.com/errata/RHBA-2011-0598.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110519T13:30:56",
          "bug_id": "676665",
          "creator_id": "241731",
          "time": "20110519T13:30:56",
          "id": "3745810",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.0"
      ],
      "cc": [
        "ebenes@redhat.com",
        "mgrepl@redhat.com",
        "mvadkert@redhat.com",
        "sgrubb@redhat.com",
        "tmraz@redhat.com"
      ],
      "cf_verified": [
        "FailedQA"
      ],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "584498",
        "846801",
        "846802"
      ],
      "qa_contact": "mvadkert@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "ssh pubkey auth and polyinstantiation",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.1.0",
          "modification_date": "20110216T10:38:52",
          "type_id": "202",
          "is_active": "0",
          "creation_date": "20110210T16:53:12",
          "id": "764476",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "blocker",
          "modification_date": "20110216T10:38:52",
          "type_id": "24",
          "is_active": "1",
          "creation_date": "20110214T20:51:06",
          "id": "765913",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20110210T17:07:49",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20110210T17:06:19",
          "id": "764482",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20110214T20:51:06",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20110210T17:25:58",
          "id": "764486",
          "setter": "sgrubb@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20110216T10:34:48",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20110214T20:55:34",
          "id": "765914",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20120808T18:29:11",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509326-N67P6Kgs5z8QVcYpxgLcSaz4-qVN3-dO0sHkYwAHb0g",
      "cf_partner": [],
      "cf_last_closed": "20110519T13:30:56",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "classification": "Red Hat",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_story_points": "---",
      "cf_conditional_nak": [],
      "creation_time": "20110222T16:22:00",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "summary": "Add relro on ppc for openssh",
      "external_bugs": [],
      "id": "679469",
      "cf_release_notes": "",
      "priority": "high",
      "cf_internal_whiteboard": "",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "mvadkert@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "mvadkert@redhat.com",
          "text": "Description of problem:\nAccoding to the changelogs relro has been removed for ppc. This should work and needs to be re-added.\n\nVersion-Release number of selected component (if applicable):\nopenssh-5.3p1-38.el6\n\nHow reproducible:\n100%\n\nSteps to Reproduce:\n1. wget http://www.trapkit.de/tools/checksec.sh\n2. bash checksec.sh --file /usr/sbin/sshd\n\n  \nActual results:\nRELRO           STACK CANARY      NX            PIE             FILE\nNo RELRO        Canary found      NX enabled    PIE enabled     /usr/sbin/sshd\n\n\nExpected results:\nRELRO           STACK CANARY      NX            PIE              FILE\nFull RELRO      Canary found      NX enabled    PIE enabled      /usr/sbin/sshd\n\n\nAdditional info:",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110222T16:22:24",
          "bug_id": "679469",
          "creator_id": "271572",
          "time": "20110222T16:22:24",
          "id": "3553159",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "mvadkert@redhat.com",
          "text": "This bug should make it's way to RHEL6.1.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110224T09:57:07",
          "bug_id": "679469",
          "creator_id": "271572",
          "time": "20110224T09:57:07",
          "id": "3557690",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "ebenes@redhat.com",
          "text": "This should be fixed as a part of bug 642927.\n\n*** This bug has been marked as a duplicate of bug 642927 ***",
          "author": "ebenes@redhat.com",
          "creation_time": "20110224T10:02:20",
          "bug_id": "679469",
          "creator_id": "203333",
          "time": "20110224T10:02:20",
          "id": "3557705",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "ppc",
      "version": [
        "6.1"
      ],
      "cc": [],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_regression_status": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "product": "Red Hat Enterprise Linux 6",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "target_release": [
        "---"
      ],
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "redhat"
      ],
      "cf_documentation_action": "---",
      "sub_components": {},
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "op_sys": "Linux",
      "alias": [],
      "dupe_of": "642927",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.1.0",
          "modification_date": "20110222T16:22:24",
          "type_id": "202",
          "is_active": "0",
          "creation_date": "20110222T16:22:24",
          "id": "770227",
          "setter": "mvadkert@redhat.com"
        },
        {
          "status": "?",
          "name": "blocker",
          "modification_date": "20110222T16:22:24",
          "type_id": "24",
          "is_active": "1",
          "creation_date": "20110222T16:22:24",
          "id": "770228",
          "setter": "mvadkert@redhat.com"
        },
        {
          "status": "?",
          "name": "pm_ack",
          "modification_date": "20110222T16:22:24",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20110222T16:22:24",
          "id": "770229",
          "setter": "mvadkert@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20110222T16:22:24",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20110222T16:22:24",
          "id": "770230",
          "setter": "mvadkert@redhat.com"
        },
        {
          "status": "?",
          "name": "qa_ack",
          "modification_date": "20110222T16:22:24",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20110222T16:22:24",
          "id": "770231",
          "setter": "mvadkert@redhat.com"
        }
      ],
      "last_change_time": "20110224T10:02:20",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509326-vmfCuoxTNdgwVJ7kxFBEfcFa5cuS-7pyTasGJgzmjng",
      "cf_partner": [],
      "cf_last_closed": "20110224T10:02:20",
      "resolution": "DUPLICATE",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "classification": "Red Hat",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_story_points": "---",
      "cf_conditional_nak": [],
      "creation_time": "20110227T11:14:00",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "Regression"
      ],
      "summary": "ssh flooding audit log with USER_END messages",
      "external_bugs": [],
      "id": "680722",
      "cf_release_notes": "",
      "priority": "high",
      "cf_internal_whiteboard": "",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "mvadkert@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "mvadkert@redhat.com",
          "text": "Description of problem:\nAfter I login/logout with to a SSHv1 ssh server processes like\n\n11385 ?        Rs     1:33 sshd: root@notty \n\nStart flooding audit log with messages below. \n\ntype=USER_END msg=audit(1298804960.636:894587): user pid=11385 uid=0 auid=0 ses=5536 subj=unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 msg='op=login id=0 exe=''/usr/sbin/sshd'' hostname=localhost addr=::1 terminal=ssh res=success'\ntype=USER_END msg=audit(1298804960.646:894588): user pid=11385 uid=0 auid=0 ses=5536 subj=unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 msg='op=login id=0 exe=''/usr/sbin/sshd'' hostname=localhost addr=::1 terminal=ssh res=success'\ntype=USER_END msg=audit(1298804960.646:894589): user pid=11385 uid=0 auid=0 ses=5536 subj=unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 msg='op=login id=0 exe=''/usr/sbin/sshd'' hostname=localhost addr=::1 terminal=ssh res=success'\ntype=USER_END msg=audit(1298804960.646:894590): user pid=11385 uid=0 auid=0 ses=5536 subj=unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 msg='op=login id=0 exe=''/usr/sbin/sshd'' hostname=localhost addr=::1 terminal=ssh res=success'\ntype=USER_END msg=audit(1298804960.646:894591): user pid=11385 uid=0 auid=0 ses=5536 subj=unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 msg='op=login id=0 exe=''/usr/sbin/sshd'' hostname=localhost addr=::1 terminal=ssh res=success'\ntype=USER_END msg=audit(1298804960.646:894592): user pid=11385 uid=0 auid=0 ses=5536 subj=unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 msg='op=login id=0 exe=''/usr/sbin/sshd'' hostname=localhost addr=::1 terminal=ssh res=success'\ntype=USER_END msg=audit(1298804960.646:894593): user pid=11385 uid=0 auid=0 ses=5536 subj=unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 msg='op=login id=0 exe=''/usr/sbin/sshd'' hostname=localhost addr=::1 terminal=ssh res=success'\n\n\nVersion-Release number of selected component (if applicable):\nopenssh-5.3p1-40.el6.x86_64\n\nHow reproducible:\n100% on all archs\n\nSteps to Reproduce:\n1. set Protocol 1 in /etc/sshd_config\n2. service sshd restart\n3. ssh -1 root@localhost\n4. exit\n5. tailf /var/log/audit/audit.log \n\nActual results:\naudit.log flooded by never ending USER_END messages\nsshd: root@notty processes hanging on the machine\n\nExpected results:\naudit.log not flooded, no sshd: root@notty processes hanging on the machine\n\nAdditional info:",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110227T11:14:48",
          "bug_id": "680722",
          "creator_id": "271572",
          "time": "20110227T11:14:48",
          "id": "3562485",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "mvadkert@redhat.com",
          "text": "Important note:\nThis does not happen with SSHv2 (Protocol 2 in sshd_config)",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110227T11:16:47",
          "bug_id": "680722",
          "creator_id": "271572",
          "time": "20110227T11:16:47",
          "id": "3562487",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "mvadkert@redhat.com",
          "text": "The processes cannot be killed by SIG_TERM - you have to send SIG_KILL",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110227T11:27:45",
          "bug_id": "680722",
          "creator_id": "271572",
          "time": "20110227T11:27:45",
          "id": "3562493",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "mvadkert@redhat.com",
          "text": "Corrected description:\nAfter I login/logout to a SSHv1 ssh server, processes like\n[snip]",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110228T08:02:34",
          "bug_id": "680722",
          "creator_id": "271572",
          "time": "20110228T08:02:34",
          "id": "3563249",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "mvadkert@redhat.com",
          "text": "Miloslav, do you have any idea what could be wrong here please. jfch asked me to CC you. Thank you!",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110228T08:04:04",
          "bug_id": "680722",
          "creator_id": "271572",
          "time": "20110228T08:04:04",
          "id": "3563253",
          "is_private": "True"
        },
        {
          "count": "5",
          "attachment_id": "481363",
          "author": "mitr@redhat.com",
          "text": "Created attachment 481363\nWorkaround\n\nThe attached patch fixes the looping.\n\nThe underlying problem is that when logging in root, privilege separation is turned off in the postuath process, which means a different code path is used.  In this path audit_session_open() is called from a child process (created in do_exec_pty(), through do_login()), and when the child increments user_login_count, this is not seen in the parent.  audit_session_close() is called in the parent, though, and starts with user_login_count == 0.  The decrement turns this into -1, leading to the almost-infinite loop later when handling SSH_CONNECTION_CLOSE.\n\nTo get a truly correct fix (and probably to get a consistent set of USER_LOGIN/USER_LOGOUT records, with the same number of LOGIN and LOGOUT records), it would be necessary to increment user_login_count in the parent on behalf of the auditing performed in the child.",
          "creator": "mitr@redhat.com",
          "creation_time": "20110228T13:06:58",
          "bug_id": "680722",
          "creator_id": "164954",
          "time": "20110228T13:06:58",
          "id": "3563681",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "mvadkert@redhat.com",
          "text": "This is a regression as this problem cannot be reproduced with openssh-5.3p1-40.el6.x86_64",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110228T15:05:34",
          "bug_id": "680722",
          "creator_id": "271572",
          "time": "20110228T15:05:34",
          "id": "3563902",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "ebenes@redhat.com",
          "text": "qa_ack+ for 6.1 as this is a regression introduced by 6.1 openssh errata\n\nMiro, good catch!",
          "author": "ebenes@redhat.com",
          "creation_time": "20110301T11:51:45",
          "bug_id": "680722",
          "creator_id": "203333",
          "time": "20110301T11:51:45",
          "id": "3565920",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "mvadkert@redhat.com",
          "text": "This bug is actually caused by wrong patch in bug 642792. Closing as duplicate.\n\n*** This bug has been marked as a duplicate of bug 642792 ***",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110301T14:31:09",
          "bug_id": "680722",
          "creator_id": "271572",
          "time": "20110301T14:31:09",
          "id": "3566306",
          "is_private": "False"
        },
        {
          "count": "9",
          "creator": "sgrubb@redhat.com",
          "text": "*** Bug 683456 has been marked as a duplicate of this bug. ***",
          "author": "sgrubb@redhat.com",
          "creation_time": "20110328T18:24:31",
          "bug_id": "680722",
          "creator_id": "168751",
          "time": "20110328T18:24:31",
          "id": "3634389",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.1"
      ],
      "cc": [
        "jgalipea@redhat.com",
        "michal.kosciowski@intel.com",
        "mitr@redhat.com",
        "pvrabec@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_regression_status": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "product": "Red Hat Enterprise Linux 6",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "target_release": [
        "---"
      ],
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "sub_components": {},
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "op_sys": "Linux",
      "alias": [],
      "dupe_of": "642792",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.1.0",
          "modification_date": "20110227T11:14:48",
          "type_id": "202",
          "is_active": "0",
          "creation_date": "20110227T11:14:48",
          "id": "772353",
          "setter": "mvadkert@redhat.com"
        },
        {
          "status": "?",
          "name": "blocker",
          "modification_date": "20110227T11:14:48",
          "type_id": "24",
          "is_active": "1",
          "creation_date": "20110227T11:14:48",
          "id": "772354",
          "setter": "mvadkert@redhat.com"
        },
        {
          "status": "?",
          "name": "pm_ack",
          "modification_date": "20110227T11:14:48",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20110227T11:14:48",
          "id": "772355",
          "setter": "mvadkert@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20110227T11:14:48",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20110227T11:14:48",
          "id": "772356",
          "setter": "mvadkert@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20110301T11:51:45",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20110227T11:14:48",
          "id": "772357",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20110328T18:24:31",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509327-PgSo11Dl-vgKXU5yhzxb0XxbUim4n_AsNYxnFUKc59w",
      "cf_partner": [],
      "cf_last_closed": "20110301T14:31:09",
      "resolution": "DUPLICATE",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20110301T12:44:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "Regression"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "None",
          "ext_bz_bug_id": "45166",
          "bug_id": "681202",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "69",
          "type": {
            "must_send": "False",
            "description": "TCMS Test Case",
            "url": "https://tcms.engineering.redhat.com",
            "can_get": "False",
            "id": "69",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          },
          "id": "128597"
        },
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00456973",
          "bug_id": "681202",
          "ext_description": "Trying to get passwordless ssh to work with chroot",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "39339"
        }
      ],
      "id": "681202",
      "cf_release_notes": "",
      "priority": "high",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-47.el6",
      "creator": "mvadkert@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "mvadkert@redhat.com",
          "text": "Description of problem:\n\n\nVersion-Release number of selected component (if applicable):\n\n\nHow reproducible:\n\n\nSteps to Reproduce:\n1.\n2.\n3.\n  \nActual results:\n\n\nExpected results:\n\n\nAdditional info:",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110301T12:44:50",
          "bug_id": "681202",
          "creator_id": "271572",
          "time": "20110301T12:44:50",
          "id": "3566033",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "mvadkert@redhat.com",
          "text": "Argh, I will add the description in a minute, I hit Enter by mistake and saved the bug without a description :/",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110301T12:46:02",
          "bug_id": "681202",
          "creator_id": "271572",
          "time": "20110301T12:46:02",
          "id": "3566036",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "mvadkert@redhat.com",
          "text": "Description of problem:\nWhen correctly using ChrootDirectory directive openssh closes connection\n\n# ll -d /chroot\ndrwxr-xr-x. 2 root root 4096 Mar  1 07:48 /chroot/\n\n# cat /etc/sshd_config | grep ChrootDirectory\nChrootDirectory /chroot/\n\n# sftp root@localhost\nConnecting to localhost...\nConnection closed\n\nVersion-Release number of selected component (if applicable):\nopenssh-5.3p1-40.el6.x86_64\n\nHow reproducible:\n100%\n\nSteps to Reproduce:\n1. Add ChrootDirectory /chroot/ to sshd_config\n2. mkdir /chroot\n3. ssh root@localhost\n\nActual results:\nConnection closed\n\nExpected results:\nConnection successful\n\nAdditional info:\nThis is a regression as this passes with openssh-5.3p1-20.el6.x86_64",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110301T12:53:17",
          "bug_id": "681202",
          "creator_id": "271572",
          "time": "20110301T12:53:17",
          "id": "3566052",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "ebenes@redhat.com",
          "text": "qa_ack+ for 6.1",
          "author": "ebenes@redhat.com",
          "creation_time": "20110301T13:58:13",
          "bug_id": "681202",
          "creator_id": "203333",
          "time": "20110301T13:58:13",
          "id": "3566192",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "mvadkert@redhat.com",
          "text": "The repro steps from comment 2 are wrong! Correct repro steps are:\n\n================\nRepro steps\n================\n\n1. add ChrootDirectory to sshd_config\n# echo ''ChrootDirectory /chroot/'' >> /etc/ssh/sshd_config\n\n2. Change sftp subsystem to internal-sftp\n# sed -i 's/^Subsystem.*sftp.*/Subsystem sftp internal-sftp/g' /etc/ssh/sshd_config\n\n3. Add test user\n# useradd tester\n# echo ''redhat'' | passwd --stdin tester\n\n4. Restart ssh server\n# service sshd restart\n\n5. Create /chroot dir and turn off selinux\n# mkdir /chroot\n# setenforce 0\n\n6. Try to sftp as test user (password is redhat)\n# sftp tester@localhost\n\nActual results:\nConnection closed\nConnecting to localhost...\ntester@localhost's password: \nsubsystem request failed on channel 0\nCouldn't read packet: Connection reset by peer\n\nExpected results:\nConnection successful\nsftp>\n\n=================\nImportant note:\n=================\nConnecting as root works as expected!",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110301T14:22:54",
          "bug_id": "681202",
          "creator_id": "271572",
          "time": "20110301T14:22:54",
          "id": "3566277",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "mvadkert@redhat.com",
          "text": "This can be still reproduced with latest openssh-5.3p1-41.el6.x86_64",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110301T14:37:46",
          "bug_id": "681202",
          "creator_id": "271572",
          "time": "20110301T14:37:46",
          "id": "3566322",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "mvadkert@redhat.com",
          "text": "I can see a difference in /var/log/secure for buggy -41.el6 revision and working -20.el6 revision:\n\nopenssh-5.3p1-41.el6.x86_64\n===========================\nMar  3 04:50:25 dell-pesc440-01 sshd[2671]: Accepted password for tester from ::1 port 41595 ssh2\nMar  3 04:50:25 dell-pesc440-01 sshd[2672]: fatal: mm_request_receive: read: Connection reset by peer\nMar  3 04:50:25 dell-pesc440-01 sshd[2671]: pam_unix(sshd:session): session opened for user tester by (uid=0)\nMar  3 04:50:25 dell-pesc440-01 sshd[2675]: subsystem request for sftp\nMar  3 04:50:25 dell-pesc440-01 sshd[2675]: error: do_exec_no_pty: open(/dev/null): No such file or directory\nMar  3 04:50:25 dell-pesc440-01 sshd[2675]: subsystem request for sftp failed, subsystem not found\nMar  3 04:50:25 dell-pesc440-01 sshd[2671]: pam_unix(sshd:session): session closed for user tester\n\nopenssh-5.3p1-20.el6.x86_64\n===========================\nMar  3 04:52:32 dell-pesc440-01 sshd[2733]: Accepted password for tester from ::1 port 39063 ssh2\nMar  3 04:52:32 dell-pesc440-01 sshd[2733]: pam_unix(sshd:session): session opened for user tester by (uid=0)\nMar  3 04:52:32 dell-pesc440-01 sshd[2737]: subsystem request for sftp\nMar  3 04:52:33 dell-pesc440-01 sshd[2737]: Received disconnect from ::1: 11: disconnected by user\nMar  3 04:52:33 dell-pesc440-01 sshd[2733]: pam_unix(sshd:session): session closed for user tester",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110303T09:56:43",
          "bug_id": "681202",
          "creator_id": "271572",
          "time": "20110303T09:56:43",
          "id": "3570773",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2011:10529-17\nhttp://errata.devel.redhat.com/errata/show/10529",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110303T13:11:37",
          "bug_id": "681202",
          "creator_id": "241731",
          "time": "20110303T13:11:37",
          "id": "3571160",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2011:10529-18: \nhttp://errata.devel.redhat.com/errata/stateview/10529\n\nVERIFIED as fixed in openssh-5.3p1-43.el6\n\nPackage openssh-5.3p1-43.el6:\n:: [   PASS   ] :: Running '/bin/sed -i -e 's/\\(ChrootDirectory \\).*$/\\1 \\/chroot\\//' /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running '/sbin/service sshd restart'\n:: [   LOG    ] :: Attempt to sftp into the box as tester should pass.\n:: [   PASS   ] :: Running 'try_sftp tester'\n:: [   LOG    ] :: Duration: 5s\n:: [   LOG    ] :: Assertions: 3 good, 0 bad\n:: [   PASS   ] :: RESULT: Root-owned Chroot Directory\n\nPackage openssh-5.3p1-41.el6:\n:: [   PASS   ] :: Running '/bin/sed -i -e 's/\\(ChrootDirectory \\).*$/\\1 \\/chroot\\//' /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running '/sbin/service sshd restart'\n:: [   LOG    ] :: Attempt to sftp into the box as tester should pass.\n:: [   FAIL   ] :: Running 'try_sftp tester' (Expected 0, got 255)\n:: [   LOG    ] :: Duration: 4s\n:: [   LOG    ] :: Assertions: 2 good, 1 bad\n:: [   FAIL   ] :: RESULT: Root-owned Chroot Directory",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110308T07:38:48",
          "bug_id": "681202",
          "creator_id": "241731",
          "time": "20110308T07:38:48",
          "id": "3578658",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "An advisory has been issued which should help the problem\ndescribed in this bug report. This report is therefore being\nclosed with a resolution of ERRATA. For more information\non therefore solution and/or where to find the updated files,\nplease follow the link below. You may reopen this bug report\nif the solution does not work for you.\n\nhttp://rhn.redhat.com/errata/RHBA-2011-0598.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110519T13:30:58",
          "bug_id": "681202",
          "creator_id": "241731",
          "time": "20110519T13:30:58",
          "id": "3745811",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.1"
      ],
      "cc": [
        "sgrubb@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "mvadkert@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "openssh closes connection if ChrootDirectory specified",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20131029T12:12:02",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20131029T12:12:02",
          "id": "1566133",
          "setter": "ksrot@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.1.0",
          "modification_date": "20110303T12:53:15",
          "type_id": "202",
          "is_active": "0",
          "creation_date": "20110301T12:44:50",
          "id": "773347",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "blocker",
          "modification_date": "20110303T12:53:15",
          "type_id": "24",
          "is_active": "1",
          "creation_date": "20110301T12:44:50",
          "id": "773348",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20110303T12:45:45",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20110301T12:44:50",
          "id": "773349",
          "setter": "lsmid@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20110303T12:36:44",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20110301T12:44:50",
          "id": "773350",
          "setter": "sgrubb@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20110301T13:58:13",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20110301T12:44:50",
          "id": "773351",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20131029T12:12:02",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509327--zEZXPuTwxutFXaWG8kjKi-qwTTyV5f1l6qPPjV_VRo",
      "cf_partner": [],
      "cf_last_closed": "20110519T13:30:58",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "classification": "Red Hat",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_story_points": "---",
      "cf_conditional_nak": [],
      "creation_time": "20110307T14:33:00",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "Regression"
      ],
      "summary": "sshd: fatal: mm_request_send: write: Broken pipe",
      "external_bugs": [],
      "id": "682763",
      "cf_release_notes": "",
      "priority": "high",
      "cf_internal_whiteboard": "",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "mvadkert@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "mvadkert@redhat.com",
          "text": "Description of problem:\nWhen logging in via ssh I see fatal messages in /var/log/secure like:\n\nsshd[2869]: fatal: mm_request_receive: read: Connection reset by peer\nsshd[2944]: fatal: mm_request_send: write: Broken pipe\n\nAlthough the connection is successful and I see no issues now fatal messages are bad. This is also a regression as these messages are not appearing in \nopenssh-5.3p1-20.el6\n\nVersion-Release number of selected component (if applicable):\nopenssh-5.3p1-43.el6\n\nHow reproducible:\n100%\n\nSteps to Reproduce:\n1. tailf /var/log/secure\n2. ssh user@localhost\n  \nActual results:\nfatal messages appearing\n\nExpected results:\nNo fatal messages\n\nAdditional info:",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110307T14:33:19",
          "bug_id": "682763",
          "creator_id": "271572",
          "time": "20110307T14:33:19",
          "id": "3576997",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "mvadkert@redhat.com",
          "text": "This bug was introduced with fixes for bug 665112\n\n*** This bug has been marked as a duplicate of bug 665112 ***",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110308T16:51:50",
          "bug_id": "682763",
          "creator_id": "271572",
          "time": "20110308T16:51:50",
          "id": "3579846",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.1"
      ],
      "cc": [],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_regression_status": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "product": "Red Hat Enterprise Linux 6",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "target_release": [
        "---"
      ],
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "sub_components": {},
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "op_sys": "Linux",
      "alias": [],
      "dupe_of": "665112",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.1.0",
          "modification_date": "20110307T14:33:19",
          "type_id": "202",
          "is_active": "0",
          "creation_date": "20110307T14:33:19",
          "id": "776239",
          "setter": "mvadkert@redhat.com"
        },
        {
          "status": "?",
          "name": "blocker",
          "modification_date": "20110307T14:33:19",
          "type_id": "24",
          "is_active": "1",
          "creation_date": "20110307T14:33:19",
          "id": "776240",
          "setter": "mvadkert@redhat.com"
        },
        {
          "status": "?",
          "name": "pm_ack",
          "modification_date": "20110307T14:33:19",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20110307T14:33:19",
          "id": "776241",
          "setter": "mvadkert@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20110307T14:33:19",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20110307T14:33:19",
          "id": "776242",
          "setter": "mvadkert@redhat.com"
        },
        {
          "status": "?",
          "name": "qa_ack",
          "modification_date": "20110307T14:33:19",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20110307T14:33:19",
          "id": "776243",
          "setter": "mvadkert@redhat.com"
        }
      ],
      "last_change_time": "20110308T17:47:23",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509327-PdMjHFilf-_zNn--nASZ9wBmby_ZXjIhWAT9-1YHqDw",
      "cf_partner": [],
      "cf_last_closed": "20110308T16:51:50",
      "resolution": "DUPLICATE",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20110323T12:05:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "Reopened"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "690127",
      "cf_release_notes": "",
      "priority": "high",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "ebenes@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "ebenes@redhat.com",
          "text": "Currently, the openssh-keycat subpackage of the openssh source package is in an\noptional package set. There was a claim to move it out of optionals [1]. I believe it should be available together with other openssh subpackes we are certifying for a RHEL6 Common Criteria. That means that the package should be supported and moved into the base product.\n\nopenssh-keycat-5.3p1-45.el6\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=676665#c23",
          "author": "ebenes@redhat.com",
          "creation_time": "20110323T12:05:02",
          "bug_id": "690127",
          "creator_id": "203333",
          "time": "20110323T12:05:02",
          "id": "3623370",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "jchadima@redhat.com",
          "text": "The openssh-keycat will be included to openssh-server in the next respin.",
          "author": "jchadima@redhat.com",
          "creation_time": "20110323T12:49:44",
          "bug_id": "690127",
          "creator_id": "276623",
          "time": "20110323T12:49:44",
          "id": "3623513",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "ebenes@redhat.com",
          "text": "(In reply to comment #1)\n> The openssh-keycat will be included to openssh-server in the next respin.\n\nGood news, lets keep this open to track the status until the change is in place. Thanks for the notice.",
          "author": "ebenes@redhat.com",
          "creation_time": "20110323T14:35:57",
          "bug_id": "690127",
          "creator_id": "203333",
          "time": "20110323T14:35:57",
          "id": "3623821",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "mvadkert@redhat.com",
          "text": "CLOSING as current release as ssh-keycat is now included in openssh-server-5.3p1-49.el6 package:\n\n# rpm -ql openssh-server | grep keycat\n/etc/pam.d/ssh-keycat\n/usr/libexec/openssh/ssh-keycat\n/usr/share/doc/openssh-server-5.3p1/HOWTO.ssh-keycat",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110326T12:22:56",
          "bug_id": "690127",
          "creator_id": "271572",
          "time": "20110326T12:22:56",
          "id": "3630715",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "dgregor@redhat.com",
          "text": "This bug needs to go through proper CDW state transitions.",
          "author": "dgregor@redhat.com",
          "creation_time": "20110328T13:14:39",
          "bug_id": "690127",
          "creator_id": "96230",
          "time": "20110328T13:14:39",
          "id": "3633486",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "ebenes@redhat.com",
          "text": "Hi Denis, I would like to change the component back to openssh, as no releng changes are needed any more. Is this OK with you? Or do you need to revert any changes? Thanks",
          "author": "ebenes@redhat.com",
          "creation_time": "20110328T14:08:26",
          "bug_id": "690127",
          "creator_id": "203333",
          "time": "20110328T14:08:26",
          "id": "3633594",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "dgregor@redhat.com",
          "text": "openssh component sounds good to me.",
          "author": "dgregor@redhat.com",
          "creation_time": "20110328T14:23:53",
          "bug_id": "690127",
          "creator_id": "96230",
          "time": "20110328T14:23:53",
          "id": "3633634",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2011:10529-19\nhttp://errata.devel.redhat.com/errata/show/10529",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110328T18:46:35",
          "bug_id": "690127",
          "creator_id": "241731",
          "time": "20110328T18:46:35",
          "id": "3634496",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2011:10529-19: \nhttp://errata.devel.redhat.com/errata/stateview/10529\n\nVERIFIED as fixed in openssh-5.3p1-50.el6. The openssh-server now contains openssh-keycat. No openssh-keycat package distributed anymore:\n\n# rpm -qa \\*openssh\\*\nopenssh-debuginfo-5.3p1-50.el6.x86_64\nopenssh-askpass-5.3p1-50.el6.x86_64\nopenssh-5.3p1-50.el6.x86_64\nopenssh-server-5.3p1-50.el6.x86_64\nopenssh-ldap-5.3p1-50.el6.x86_64\nopenssh-clients-5.3p1-50.el6.x86_64\n\n# rpm -ql openssh-server | grep keycat\n/etc/pam.d/ssh-keycat\n/usr/libexec/openssh/ssh-keycat\n/usr/share/doc/openssh-server-5.3p1/HOWTO.ssh-keycat",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110329T08:24:56",
          "bug_id": "690127",
          "creator_id": "241731",
          "time": "20110329T08:24:56",
          "id": "3635904",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "An advisory has been issued which should help the problem\ndescribed in this bug report. This report is therefore being\nclosed with a resolution of ERRATA. For more information\non therefore solution and/or where to find the updated files,\nplease follow the link below. You may reopen this bug report\nif the solution does not work for you.\n\nhttp://rhn.redhat.com/errata/RHBA-2011-0598.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110519T13:31:02",
          "bug_id": "690127",
          "creator_id": "241731",
          "time": "20110519T13:31:02",
          "id": "3745813",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.1"
      ],
      "cc": [
        "dmach@redhat.com",
        "jchadima@redhat.com",
        "mvadkert@redhat.com",
        "sgrubb@redhat.com",
        "smueller@atsec.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "584498",
        "846801",
        "846802"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "devel",
        "errata",
        "hp",
        "qa",
        "qe_staff",
        "redhat"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "Snapshot 2",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "Move openssh-keycat package out of optional packages",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.1.0",
          "modification_date": "20110328T14:04:51",
          "type_id": "202",
          "is_active": "0",
          "creation_date": "20110323T12:05:02",
          "id": "785451",
          "setter": "lsmid@redhat.com"
        },
        {
          "status": "+",
          "name": "blocker",
          "modification_date": "20110328T14:04:51",
          "type_id": "24",
          "is_active": "1",
          "creation_date": "20110323T12:05:02",
          "id": "785452",
          "setter": "lsmid@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20110328T14:04:51",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20110323T12:05:02",
          "id": "785453",
          "setter": "lsmid@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20110328T13:17:25",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20110323T12:05:02",
          "id": "785454",
          "setter": "dgregor@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20110323T12:05:02",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20110323T12:05:02",
          "id": "785455",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20120808T18:29:11",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509327-j28ptd4htoETxV3s_wzmf2oK7SPhP3-31PDdrjJ232Y",
      "cf_partner": [],
      "cf_last_closed": "20110519T13:31:02",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20110328T08:46:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "Regression"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "691320",
      "cf_release_notes": "",
      "priority": "high",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-52.el6",
      "creator": "mvadkert@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "mvadkert@redhat.com",
          "text": "Description of problem:\nWhen I try to lunch sshd when other instance already running strace shows segfault. This does not happen with openssh-5.3p1-20.el6 or Fedora package openssh-5.5p1-24.fc14.2.\n\n# ps ax | grep /usr/sbin/sshd | grep -v grep\n 7346 ?        Ss     0:00 /usr/sbin/sshd\n# strace -ff -ttt /usr/sbin/sshd \n\n\nVersion-Release number of selected component (if applicable):\nopenssh-5.3p1-49.el6\n\nHow reproducible:\n100%\n\nSteps to Reproduce:\n1. sshd running\n2. strace -ff -ttt /usr/sbin/sshd\n  \nActual results:\nSegfault\n\nExpected results:\nNo segfault as in openssh-5.3p1-20.el6 and Fedora package openssh-5.5p1-24.fc14.2\n\nAdditional info:",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110328T08:46:17",
          "bug_id": "691320",
          "creator_id": "271572",
          "time": "20110328T08:46:17",
          "id": "3632943",
          "is_private": "False"
        },
        {
          "count": "1",
          "attachment_id": "488141",
          "author": "mvadkert@redhat.com",
          "text": "Created attachment 488141\nopenssh-5.3p1-49.el6 strace log\n\nAttaching strace output",
          "creator": "mvadkert@redhat.com",
          "creation_time": "20110328T13:04:02",
          "bug_id": "691320",
          "creator_id": "271572",
          "time": "20110328T13:04:02",
          "id": "3633465",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "ebenes@redhat.com",
          "text": "qa_ack+ for 6.1",
          "author": "ebenes@redhat.com",
          "creation_time": "20110328T13:06:55",
          "bug_id": "691320",
          "creator_id": "203333",
          "time": "20110328T13:06:55",
          "id": "3633471",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "jchadima@redhat.com",
          "text": "This bug was caused by the new audit patches.",
          "author": "jchadima@redhat.com",
          "creation_time": "20110405T05:13:26",
          "bug_id": "691320",
          "creator_id": "276623",
          "time": "20110405T05:13:26",
          "id": "3651921",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2011:10529-20\nhttp://errata.devel.redhat.com/errata/show/10529",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110405T07:54:45",
          "bug_id": "691320",
          "creator_id": "241731",
          "time": "20110405T07:54:45",
          "id": "3652192",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2011:10529-20: \nhttp://errata.devel.redhat.com/errata/stateview/10529\n\nVERIFIED as fixed in openssh-5.3p1-52.el6\nsshd doesn't SIGSEGV anymore when trying to lunch it of other instance is already running. \n\nNEW package openssh-5.3p1-52.el6\n:: [   PASS   ] :: Running 'strace -ff -ttt /usr/sbin/sshd 2>&1 | tee /tmp/tmp.7P6FVWa3kd'\n:: [   PASS   ] :: File '/tmp/tmp.7P6FVWa3kd' should not contain 'SIGSEGV'\n:: [   LOG    ] :: Duration: 0s\n:: [   LOG    ] :: Assertions: 2 good, 0 bad\n:: [   PASS   ] :: RESULT: Test\n\nOLD package openssh-5.3p1-49.el6\n:: [   PASS   ] :: Running 'strace -ff -ttt /usr/sbin/sshd 2>&1 | tee /tmp/tmp.biVTCrwD50'\n:: [   FAIL   ] :: File '/tmp/tmp.biVTCrwD50' should not contain 'SIGSEGV' \n:: [   LOG    ] :: Duration: 1s\n:: [   LOG    ] :: Assertions: 1 good, 1 bad\n:: [   FAIL   ] :: RESULT: Test",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110421T11:02:11",
          "bug_id": "691320",
          "creator_id": "241731",
          "time": "20110421T11:02:11",
          "id": "3689727",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "An advisory has been issued which should help the problem\ndescribed in this bug report. This report is therefore being\nclosed with a resolution of ERRATA. For more information\non therefore solution and/or where to find the updated files,\nplease follow the link below. You may reopen this bug report\nif the solution does not work for you.\n\nhttp://rhn.redhat.com/errata/RHBA-2011-0598.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110519T13:31:09",
          "bug_id": "691320",
          "creator_id": "241731",
          "time": "20110519T13:31:09",
          "id": "3745815",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.1"
      ],
      "cc": [
        "sgrubb@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "682670"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "devel",
        "qa",
        "suseng"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "sshd segfaults when trying to lunch if other instance already running",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.1.0",
          "modification_date": "20110401T17:43:39",
          "type_id": "202",
          "is_active": "0",
          "creation_date": "20110328T08:46:17",
          "id": "787635",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "blocker",
          "modification_date": "20110401T17:43:39",
          "type_id": "24",
          "is_active": "1",
          "creation_date": "20110328T08:46:17",
          "id": "787636",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20110401T17:39:10",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20110328T08:46:17",
          "id": "787637",
          "setter": "snagar@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20110401T17:06:33",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20110328T08:46:17",
          "id": "787638",
          "setter": "sgrubb@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20110328T13:06:55",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20110328T08:46:17",
          "id": "787639",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20110519T13:31:09",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509327-Ord3SYbSxSPh4Sd0T7Ga4KBSYxrGqCsh16hP7N3Q8cI",
      "cf_partner": [],
      "cf_last_closed": "20110519T13:31:09",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20110328T18:00:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "691518",
      "cf_release_notes": "",
      "priority": "high",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "prarit@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "prarit@redhat.com",
          "text": "Description of problem: The time-to-connect when ssh'ing from the corp.redhat.com network into the lab.bos.redhat.com network is taking exceeding long.  Delays up to 120 seconds are common.\n\nThis behaviour has changed DRAMATICALLY since RHEL6.0.  If I replace the RHEL6.1 openssh packages (5.3p1-49.el6.x86_64) with the RHEL6.0 openssh packages (5.3p1-20.el6.x86_64) everything works fine.  I do not see any delays.\n\n\nVersion-Release number of selected component (if applicable) :5.3p1-49.el6.x86_64\n\n\nHow reproducible: 100% ... and seen by others.\n\n\nSteps to Reproduce:\n1. ssh to/from a lab.bos.redhat.com system\n2.\n3.\n  \nActual results: Delays of up to 120 seconds are seen.\n\n\nExpected results: No delays should be seen.\n\n\nAdditional info:",
          "author": "prarit@redhat.com",
          "creation_time": "20110328T18:00:14",
          "bug_id": "691518",
          "creator_id": "169588",
          "time": "20110328T18:00:14",
          "id": "3634324",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "prarit@redhat.com",
          "text": "Blocker request: Long delays when ssh'ing between systems does not make for a good end-user experience.\n\nAFAICT, this is _NOT_ a lab problem.  Backing up to the old packages make the problem go away.\n\nP.",
          "author": "prarit@redhat.com",
          "creation_time": "20110328T18:01:25",
          "bug_id": "691518",
          "creator_id": "169588",
          "time": "20110328T18:01:25",
          "id": "3634327",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "prarit@redhat.com",
          "text": "scp is also similarly effected by long delays.\n\nP.",
          "author": "prarit@redhat.com",
          "creation_time": "20110328T18:03:14",
          "bug_id": "691518",
          "creator_id": "169588",
          "time": "20110328T18:03:14",
          "id": "3634331",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "nhorman@redhat.com",
          "text": "Whats the output look ilke if you do a ssh -vvvv?  Usually when this happens to me its because either the client or the server is doing a reverse DNS lookup that winds up timing out when the ip being looked up isn't reverse mapped.",
          "author": "nhorman@redhat.com",
          "creation_time": "20110328T18:32:33",
          "bug_id": "691518",
          "creator_id": "151294",
          "time": "20110328T18:32:33",
          "id": "3634433",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "prarit@redhat.com",
          "text": "(In reply to comment #3)\n> Whats the output look ilke if you do a ssh -vvvv?  Usually when this happens to\n> me its because either the client or the server is doing a reverse DNS lookup\n> that winds up timing out when the ip being looked up isn't reverse mapped.\n\nThat might be true ... except ... when I switch out the packages to the RHEL6.0 GA version I don't see a problem AT ALL.\n\nP.",
          "author": "prarit@redhat.com",
          "creation_time": "20110328T18:38:40",
          "bug_id": "691518",
          "creator_id": "169588",
          "time": "20110328T18:38:40",
          "id": "3634467",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "sassmann@redhat.com",
          "text": "I haven't seen the long login times you're describing, but for me it always took between 5-10 seconds to ssh into a lab machine. All tweaks I tried didn't really help.",
          "author": "sassmann@redhat.com",
          "creation_time": "20110329T06:34:48",
          "bug_id": "691518",
          "creator_id": "279032",
          "time": "20110329T06:34:48",
          "id": "3635697",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "tmraz@redhat.com",
          "text": "Can you please run the sshd on the server with -ddd option and find out where in the debug output the connection stucks?",
          "author": "tmraz@redhat.com",
          "creation_time": "20110329T08:36:12",
          "bug_id": "691518",
          "creator_id": "167996",
          "time": "20110329T08:36:12",
          "id": "3635929",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "tmraz@redhat.com",
          "text": "Also, can you try the -50 build?\n\nhttps://brewweb.devel.redhat.com/buildinfo?buildID=160698",
          "author": "tmraz@redhat.com",
          "creation_time": "20110329T08:53:15",
          "bug_id": "691518",
          "creator_id": "167996",
          "time": "20110329T08:53:15",
          "id": "3635972",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "tmraz@redhat.com",
          "text": "And even some older 6.1 builds from brew like:\nhttps://brewweb.devel.redhat.com/buildinfo?buildID=159603",
          "author": "tmraz@redhat.com",
          "creation_time": "20110329T08:54:51",
          "bug_id": "691518",
          "creator_id": "167996",
          "time": "20110329T08:54:51",
          "id": "3635979",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "prarit@redhat.com",
          "text": "(In reply to comment #6)\n> Can you please run the sshd on the server with -ddd option and find out where\n> in the debug output the connection stucks?\n\nHi Tomas, this will be the first thing I do when I get into the office this morning.  \n\nP.",
          "author": "prarit@redhat.com",
          "creation_time": "20110329T10:56:04",
          "bug_id": "691518",
          "creator_id": "169588",
          "time": "20110329T10:56:04",
          "id": "3636309",
          "is_private": "False"
        },
        {
          "count": "10",
          "creator": "prarit@redhat.com",
          "text": "(In reply to comment #9)\n> (In reply to comment #6)\n> > Can you please run the sshd on the server with -ddd option and find out where\n> > in the debug output the connection stucks?\n> \n> Hi Tomas, this will be the first thing I do when I get into the office this\n> morning.  \n> \n> P.\n\nHmmm ... Weird, it's not happening this morning.  I'll try again in a bit.  But jburke can confirm -- we're seeing long delays.  If I encounter this again I will run 'ssh -ddd' on the server and attach the output here.\n\nP.",
          "author": "prarit@redhat.com",
          "creation_time": "20110329T12:12:17",
          "bug_id": "691518",
          "creator_id": "169588",
          "time": "20110329T12:12:17",
          "id": "3636459",
          "is_private": "False"
        },
        {
          "count": "11",
          "creator": "jrieden@redhat.com",
          "text": "Prarit,\n\nif we can't reproduce this, need to close or more to 6.2.\n\nthx,\njack",
          "author": "jrieden@redhat.com",
          "creation_time": "20110414T19:03:00",
          "bug_id": "691518",
          "creator_id": "285873",
          "time": "20110414T19:03:00",
          "id": "3675657",
          "is_private": "True"
        },
        {
          "count": "12",
          "creator": "jchadima@redhat.com",
          "text": "there is no way how to reproduce this. If someone can reproduce it, let he reopen this bugzilla.",
          "author": "jchadima@redhat.com",
          "creation_time": "20110414T20:12:44",
          "bug_id": "691518",
          "creator_id": "276623",
          "time": "20110414T20:12:44",
          "id": "3675835",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.1"
      ],
      "cc": [
        "dzickus@redhat.com",
        "ebenes@redhat.com",
        "ivecera@redhat.com",
        "jburke@redhat.com",
        "jrieden@redhat.com",
        "linville@redhat.com",
        "nhorman@redhat.com",
        "peterm@redhat.com",
        "sassmann@redhat.com",
        "sgrubb@redhat.com",
        "tmraz@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "682670"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "devel"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "ssh into lab systems can exceed 70 seconds",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.1.0",
          "modification_date": "20110328T18:00:14",
          "type_id": "202",
          "is_active": "0",
          "creation_date": "20110328T18:00:14",
          "id": "788062",
          "setter": "prarit@redhat.com"
        },
        {
          "status": "?",
          "name": "blocker",
          "modification_date": "20110328T18:00:14",
          "type_id": "24",
          "is_active": "1",
          "creation_date": "20110328T18:00:14",
          "id": "788063",
          "setter": "prarit@redhat.com"
        },
        {
          "status": "?",
          "name": "pm_ack",
          "modification_date": "20110328T18:16:02",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20110328T18:16:02",
          "id": "788078",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20110405T08:18:50",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20110405T08:18:50",
          "id": "792800",
          "setter": "ebenes@redhat.com"
        },
        {
          "status": "?",
          "name": "qa_ack",
          "modification_date": "20110405T08:18:50",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20110405T08:18:50",
          "id": "792801",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20110414T20:12:44",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509327-A7M3Nu8Amp267dwCKRyrx5TVhhx8Iw0TYsm3Ug0zp00",
      "cf_partner": [],
      "cf_last_closed": "20110414T20:12:44",
      "resolution": "INSUFFICIENT_DATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20110421T18:14:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "698777",
      "cf_release_notes": "",
      "priority": "high",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-58.el6",
      "creator": "mvadkert@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "mvadkert@redhat.com",
          "text": "Description of problem:\nFinally I have a reproducer issue that was hunting me last months. I'm glad it is not that serious and looks like it has been in openssh-server package forever. I can reproduce it on both EL5 and EL6.\n\nThe reproducer is very simple:\n# service sshd restart\nStopping sshd: [  OK  ]\nStarting sshd: [  OK  ]\n# netstat -putna | grep sshd\ntcp        0      0 0.0.0.0:22                  0.0.0.0:*                   LISTEN      19565/sshd          \ntcp        0      0 :::22                       :::*                        LISTEN      19565/sshd          \n# /usr/sbin/sshd -p 133\n# netstat -putna | grep sshd\ntcp        0      0 0.0.0.0:133                 0.0.0.0:*                   LISTEN      19571/sshd          \ntcp        0      0 0.0.0.0:22                  0.0.0.0:*                   LISTEN      19565/sshd          \ntcp        0      0 :::133                      :::*                        LISTEN      19571/sshd          \ntcp        0      0 :::22                       :::*                        LISTEN      19565/sshd          \n# service sshd restart\nStopping sshd: [  OK  ]\nStarting sshd: [  OK  ]\n# netstat -putna | grep sshd\ntcp        0      0 0.0.0.0:22                  0.0.0.0:*                   LISTEN      19565/sshd          \ntcp        0      0 :::22                       :::*                        LISTEN      19565/sshd          \n# service sshd restart\nStopping sshd: [FAILED]\nStarting sshd: [  OK  ]\n# netstat -putna | grep sshd\ntcp        0      0 0.0.0.0:22                  0.0.0.0:*                   LISTEN      19565/sshd          \ntcp        0      0 :::22                       :::*                        LISTEN      19565/sshd        \n\nAs you can see the restarting the sshd service when also sshd on port 133 is running kills this instance and the previous instance is still running. The next restarts fail.\n\nVersion-Release number of selected component (if applicable):\nopenssh-5.3p1-52.el6\n\nHow reproducible:\n100%\n\nSteps to Reproduce:\nsee description\n  \nActual results:\nservice sshd restart kills incorrect sshd instance and then begins to fail.\n\nExpected results:\nservice sshd restart restarts correct sshd instance and doesn't fail if original instance still running. This makes impossible to restart ssh daemon with new configuration for example.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110421T18:14:15",
          "bug_id": "698777",
          "creator_id": "271572",
          "time": "20110421T18:14:15",
          "id": "3691758",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "mvadkert@redhat.com",
          "text": "Proposing for RHEL6.2 as this is not a regression",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110421T18:14:53",
          "bug_id": "698777",
          "creator_id": "271572",
          "time": "20110421T18:14:53",
          "id": "3691760",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "ebenes@redhat.com",
          "text": "qa_ack+ for 6.2",
          "author": "ebenes@redhat.com",
          "creation_time": "20110527T11:58:33",
          "bug_id": "698777",
          "creator_id": "203333",
          "time": "20110527T11:58:33",
          "id": "3764416",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "jchadima@redhat.com",
          "text": "Changes in the init script causes regressions. It is likely that there may even cause regressions on customers. Since this bug is internal error only I recommend to revert this change.",
          "author": "jchadima@redhat.com",
          "creation_time": "20110726T10:59:40",
          "bug_id": "698777",
          "creator_id": "276623",
          "time": "20110726T10:59:40",
          "id": "3916105",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "mvadkert@redhat.com",
          "text": "This bug can be dropped from the errata. If you want to run more sshd daemons you have to make sure they use separate pid files using the -o 'PidFile pid-file' or other configuration file.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110726T13:10:17",
          "bug_id": "698777",
          "creator_id": "271572",
          "time": "20110726T13:10:17",
          "id": "3916402",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.1"
      ],
      "cc": [
        "pvrabec@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "682670"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "service sshd restart kills other sshd instance and keeps failing to restart",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.2.0",
          "modification_date": "20110527T12:03:34",
          "type_id": "249",
          "is_active": "0",
          "creation_date": "20110421T18:14:15",
          "id": "806382",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20110513T22:57:49",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20110421T18:14:15",
          "id": "806384",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "-",
          "name": "devel_ack",
          "modification_date": "20110727T12:37:56",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20110421T18:14:15",
          "id": "806385",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20110527T11:58:33",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20110421T18:14:15",
          "id": "806386",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20110727T12:37:56",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509327-RP4rVN1A3XG5TruvOXpP5cxpXxJ7ToU5NdiOZ6amzPM",
      "cf_partner": [],
      "cf_last_closed": "20110726T12:34:02",
      "resolution": "WONTFIX",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20110527T14:28:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "EasyFix",
        "FutureFeature",
        "Patch"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "708389",
      "cf_release_notes": "",
      "priority": "high",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-57.el6",
      "creator": "kdudka@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "kdudka@redhat.com",
          "text": "Description of problem:\nThe only thing we need to get over the build failure is to set 'WITH_SELINUX 0' and 'pam_ssh_agent 0'.  I was not able to figure out how to achieve that without actually changing openssh.spec.\n\n\nVersion-Release number of selected component (if applicable):\nopenssh-5.3p1-52.el6\n\n\nSteps to Reproduce:\n1. rpmbuild --define '__patch /bin/true' --rebuild openssh-5.3p1-52.el6.src.rpm\n  \n\nActual results:\n...\nchecking for supported audit module... configure: error: Unknown audit module linux\n\n\nAdditional info:\nThe proposed change allows Coverity to scan downstream patches for defects separately.",
          "author": "kdudka@redhat.com",
          "creation_time": "20110527T14:28:02",
          "bug_id": "708389",
          "creator_id": "267952",
          "time": "20110527T14:28:02",
          "id": "3764745",
          "is_private": "False"
        },
        {
          "count": "1",
          "attachment_id": "501314",
          "author": "kdudka@redhat.com",
          "text": "Created attachment 501314\nproposed fix",
          "creator": "kdudka@redhat.com",
          "creation_time": "20110527T14:29:33",
          "bug_id": "708389",
          "creator_id": "267952",
          "time": "20110527T14:29:33",
          "id": "3764752",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "kdudka@redhat.com",
          "text": "See the following link for RPM macros we use for the Coverity scans:\n\nhttps://engineering.redhat.com/trac/CoverityScan/wiki/cov-mockbuild\n\nIf the currently available macros are inappropriate for openssh, we can add some new ones.  Nevertheless the long term goal is to make the list of RPM macros more consistent across all packages.",
          "author": "kdudka@redhat.com",
          "creation_time": "20110527T14:33:52",
          "bug_id": "708389",
          "creator_id": "267952",
          "time": "20110527T14:33:52",
          "id": "3764767",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "ebenes@redhat.com",
          "text": "qack+ for 6.2",
          "author": "ebenes@redhat.com",
          "creation_time": "20110606T07:22:59",
          "bug_id": "708389",
          "creator_id": "203333",
          "time": "20110606T07:22:59",
          "id": "3794289",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "kdudka@redhat.com",
          "text": "(In reply to comment #0)\n> Steps to Reproduce:\n> 1. rpmbuild --define '__patch /bin/true' --rebuild openssh-5.3p1-52.el6.src.rpm\n\nThe reproducer above is unfortunately not sufficient to validate the fix.  This should work:\n\n1. install all dependencies\n2. rpm -Uvh --nodeps openssh-5.3p1-52.1.el6.src.rpm\n3. rpmbuild-rawbuild -bc --nodeps $HOME/rpmbuild/SPECS/openssh.spec\n\nThe rpmbuild-rawbuild script is available in our internal git repository:\n\nhttp://git.engineering.redhat.com/?p=users/kdudka/coverity-scan.git;a=blob_plain;f=aux/rpmbuild-rawbuild",
          "author": "kdudka@redhat.com",
          "creation_time": "20110801T13:01:02",
          "bug_id": "708389",
          "creator_id": "267952",
          "time": "20110801T13:01:02",
          "id": "3926991",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "mvadkert@redhat.com",
          "text": "Thanks Kamil for the updated repro steps.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110801T13:22:26",
          "bug_id": "708389",
          "creator_id": "271572",
          "time": "20110801T13:22:26",
          "id": "3927044",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2011:11301-05: \nhttp://errata.devel.redhat.com/errata/stateview/11301\n\nVERIFIED as fixed in openssh-5.3p1-69.el6\nIt is now possible to build openssh without downstream patches\n\nNEW package openssh-5.3p1-69.el6\n:: [   LOG    ] :: rlFetchSrcForInstalled: Fetching source rpm for installed openssh\n:: [   INFO   ] :: rlFetchSrcForInstalled: Installed openssh version: openssh-5.3p1-69.el6.x86_64\n:: [   PASS   ] :: Running 'rpm -ivh openssh*.src.rpm'\n:: [   PASS   ] :: Running './rpmbuild-rawbuild -bc --nodeps /root/rpmbuild/SPECS/openssh*.spec'\n:: [   LOG    ] :: Duration: 1m 48s\n:: [   LOG    ] :: Assertions: 2 good, 0 bad\n:: [   PASS   ] :: RESULT: Test\n\nOLD package openssh-5.3p1-52.el6\n:: [   LOG    ] :: rlFetchSrcForInstalled: Fetching source rpm for installed openssh\n:: [   INFO   ] :: rlFetchSrcForInstalled: Installed openssh version: openssh-5.3p1-52.el6.x86_64\n:: [   PASS   ] :: Running 'rpm -ivh openssh*.src.rpm'\n:: [   FAIL   ] :: Running './rpmbuild-rawbuild -bc --nodeps /root/rpmbuild/SPECS/openssh*.spec' (Expected 0, got 1)\n:: [   LOG    ] :: Duration: 23s\n:: [   LOG    ] :: Assertions: 1 good, 1 bad\n:: [   FAIL   ] :: RESULT: Test",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110906T19:59:07",
          "bug_id": "708389",
          "creator_id": "241731",
          "time": "20110906T19:59:07",
          "id": "4000022",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2011:11301-05: \nhttp://errata.devel.redhat.com/errata/stateview/11301\n\nVERIFIED as fixed in openssh-5.3p1-69.el6\nIt is now possible to build openssh without downstream patches\n\nNEW package openssh-5.3p1-69.el6\n:: [   LOG    ] :: rlFetchSrcForInstalled: Fetching source rpm for installed openssh\n:: [   INFO   ] :: rlFetchSrcForInstalled: Installed openssh version: openssh-5.3p1-69.el6.x86_64\n:: [   PASS   ] :: Running 'rpm -ivh openssh*.src.rpm'\n:: [   PASS   ] :: Running './rpmbuild-rawbuild -bc --nodeps /root/rpmbuild/SPECS/openssh*.spec'\n:: [   LOG    ] :: Duration: 1m 48s\n:: [   LOG    ] :: Assertions: 2 good, 0 bad\n:: [   PASS   ] :: RESULT: Test\n\nOLD package openssh-5.3p1-52.el6\n:: [   LOG    ] :: rlFetchSrcForInstalled: Fetching source rpm for installed openssh\n:: [   INFO   ] :: rlFetchSrcForInstalled: Installed openssh version: openssh-5.3p1-52.el6.x86_64\n:: [   PASS   ] :: Running 'rpm -ivh openssh*.src.rpm'\n:: [   FAIL   ] :: Running './rpmbuild-rawbuild -bc --nodeps /root/rpmbuild/SPECS/openssh*.spec' (Expected 0, got 1)\n:: [   LOG    ] :: Duration: 23s\n:: [   LOG    ] :: Assertions: 1 good, 1 bad\n:: [   FAIL   ] :: RESULT: Test",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110906T19:59:08",
          "bug_id": "708389",
          "creator_id": "241731",
          "time": "20110906T19:59:08",
          "id": "4000023",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHBA-2011-1551.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20111206T09:56:13",
          "bug_id": "708389",
          "creator_id": "241731",
          "time": "20111206T09:56:13",
          "id": "4193542",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.1"
      ],
      "cc": [
        "mvadkert@redhat.com",
        "pvrabec@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Enhancement",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "CoverityScan",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "[RFE] make it possible to build openssh without downstream patches",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.2.0",
          "modification_date": "20110608T18:17:39",
          "type_id": "249",
          "is_active": "0",
          "creation_date": "20110527T14:28:02",
          "id": "825928",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20110608T18:13:15",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20110527T14:28:02",
          "id": "825929",
          "setter": "snagar@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20110531T08:56:35",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20110527T14:28:02",
          "id": "825930",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20110606T07:22:59",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20110527T14:28:02",
          "id": "825931",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20111206T09:56:13",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509327-NHcrOzzXi9LjzIMFl-oknVDef31E3l0zNehol5W9rPw",
      "cf_partner": [],
      "cf_last_closed": "20111206T09:56:13",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20110620T04:29:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "714554",
      "cf_release_notes": "",
      "priority": "high",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-62.el6",
      "creator": "anton.fang@gmail.com",
      "comments": [
        {
          "count": "0",
          "creator": "anton.fang@gmail.com",
          "text": "Description of problem:\n\n\nVersion-Release number of selected component (if applicable):\n  # rpm -qa | grep dovecot\n  dovecot-2.0.9-2.el6.x86_64\n\n\nHow reproducible:\n  *Always*\n\nSteps to Reproduce:\n1. In a RHEL6.1 x86_64 system, install dovecot-2.0.9-2.el6.x86_64.rpm from RHEL6.1 DVD.\n2. # ssh localhost '' /etc/init.d/dovecot restart ''\nStopping Dovecot Imap: [  OK  ]\nStarting Dovecot Imap: [  OK  ]\n\n\nActual results:\n  ssh does not return and keep waiting.\n\nExpected results:\n  ssh return to the ''#'' prompt.\n\nAdditional info:\n 1. did not meet this issue on RHEL6.0.\n 2. tried the community dovecot-2.0.11, did not meet this issue.",
          "author": "anton.fang@gmail.com",
          "creation_time": "20110620T04:29:27",
          "bug_id": "714554",
          "creator_id": "174257",
          "time": "20110620T04:29:27",
          "id": "3821767",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20110620T04:42:23",
          "bug_id": "714554",
          "creator_id": "193983",
          "time": "20110620T04:42:23",
          "id": "3821769",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "mhlavink@redhat.com",
          "text": "Thanks for reporting this, I can reproduce this",
          "author": "mhlavink@redhat.com",
          "creation_time": "20110621T10:34:42",
          "bug_id": "714554",
          "creator_id": "269554",
          "time": "20110621T10:34:42",
          "id": "3825150",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "mhlavink@redhat.com",
          "text": "This happens not because of dovecot update, but because of openssh update in rhel 6.1\n\nIf you downgrade dovecot to rhel6.0 version behaviour is still the same, but if you downgrade openssh to 5.3p1-20.el6_0.3 it works even with new dovecot version. \n\nIt works with newer openssh version 5.5p1-25.el6.2 from Fedora 14 (after rebuild). Also when I add ''set -x'' in dovecot init script, it calls exit:\n...\n+ RETVAL=0\n+ exit 0",
          "author": "mhlavink@redhat.com",
          "creation_time": "20110621T13:41:17",
          "bug_id": "714554",
          "creator_id": "269554",
          "time": "20110621T13:41:17",
          "id": "3825542",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "pvrabec@redhat.com",
          "text": "This has solved the issue for me. It's a patch for openssh-5.3p1-sftp-chroot.patch\n\n--- a/openssh-5.3p1-sftp-chroot.patch\n+++ b/openssh-5.3p1-sftp-chroot.patch.NEW\n@@ -22,7 +22,7 @@ diff -up openssh-5.3p1/channels.c.sftp-chroot openssh-5.3p1/channels.c\n +              } else if (c->efd != -1 &&\n +                  (c->extended_usage == CHAN_EXTENDED_READ ||\n +                  c->extended_usage == CHAN_EXTENDED_IGNORE) &&\n-+                  FD_ISSET(c->efd, readset)) {\n++                  (c->detach_close || FD_ISSET(c->efd, readset))) {\n                        len = read(c->efd, buf, sizeof(buf));\n                        debug2(''channel %d: read %d from efd %d'',\n                            c->self, len, c->efd);\n\nI have no clue what I have done. Just back-ported snip of code from openssh-5.8p1",
          "author": "pvrabec@redhat.com",
          "creation_time": "20110623T10:04:24",
          "bug_id": "714554",
          "creator_id": "167999",
          "time": "20110623T10:04:24",
          "id": "3832767",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "mvadkert@redhat.com",
          "text": "Tested openssh-5.3p1-52.el6 from RHEL6.1 patched with the above and I didn't find any regressions. The fix seems to be ready to be included in RHEL6.2 updated package.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110623T13:10:02",
          "bug_id": "714554",
          "creator_id": "271572",
          "time": "20110623T13:10:02",
          "id": "3833164",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2011:11301-01\nhttp://errata.devel.redhat.com/errata/show/11301",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110629T06:05:23",
          "bug_id": "714554",
          "creator_id": "241731",
          "time": "20110629T06:05:23",
          "id": "3855179",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "anton.fang@gmail.com",
          "text": "Thanks for fixing the issue.\n\nWill there be an errata for the RHEL6.1 users ?",
          "author": "anton.fang@gmail.com",
          "creation_time": "20110630T14:56:21",
          "bug_id": "714554",
          "creator_id": "174257",
          "time": "20110630T14:56:21",
          "id": "3859591",
          "is_private": "False"
        },
        {
          "count": "8",
          "creator": "mvadkert@redhat.com",
          "text": "The fix for this issue will be addressed in RHEL6.2",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110630T16:49:36",
          "bug_id": "714554",
          "creator_id": "271572",
          "time": "20110630T16:49:36",
          "id": "3859861",
          "is_private": "False"
        },
        {
          "count": "9",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2011:11301-05: \nhttp://errata.devel.redhat.com/errata/stateview/11301\n\nVERIFIED as fixed in openssh-5.3p1-70.el6\nDovecot can be restarted via ssh without issue now.\n\nNEW PACKAGE openssh-5.3p1-70.el6:\n:: [   PASS   ] :: Running 'sshCmd root redhat ''service dovecot restart'''\n:: [   LOG    ] :: Duration: 2s\n:: [   LOG    ] :: Assertions: 1 good, 0 bad\n:: [   PASS   ] :: RESULT: Test\n\nOLD PACKAGE openssh-5.3p1-52.el6:\n:: [   FAIL   ] :: Running 'sshCmd root redhat ''service dovecot restart'''\n:: [   LOG    ] :: Duration: 2s\n:: [   LOG    ] :: Assertions: 0 good, 1 bad\n:: [   FAIL   ] :: RESULT: Test",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110916T09:23:24",
          "bug_id": "714554",
          "creator_id": "241731",
          "time": "20110916T09:23:24",
          "id": "4022472",
          "is_private": "True"
        },
        {
          "count": "10",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHBA-2011-1551.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20111206T09:56:16",
          "bug_id": "714554",
          "creator_id": "241731",
          "time": "20111206T09:56:16",
          "id": "4193543",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.1"
      ],
      "cc": [
        "mvadkert@redhat.com",
        "pvrabec@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "starting dovecot service from ssh command line does not return",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.2.0",
          "modification_date": "20110624T08:15:34",
          "type_id": "249",
          "is_active": "0",
          "creation_date": "20110620T04:42:21",
          "id": "847219",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20110621T13:57:33",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20110620T04:56:06",
          "id": "847223",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20110623T14:07:30",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20110621T10:34:42",
          "id": "848529",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20110624T08:14:55",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20110621T10:34:42",
          "id": "848530",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20111206T09:56:16",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509327-rk4pr4IkBoWVCDe9-WpRfESjy-Os7pUMabMg-_el7SI",
      "cf_partner": [],
      "cf_last_closed": "20111206T09:56:16",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20110622T14:34:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "Regression"
      ],
      "target_release": [
        "6.2"
      ],
      "external_bugs": [],
      "id": "715326",
      "cf_release_notes": "",
      "priority": "high",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-61.el6",
      "creator": "jturner@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "jturner@redhat.com",
          "text": "Description of problem:\nGetting the following series of errors on boot after installing RHEL6.2-20110621.n.0_nfs-Server-x86_64 (openssh-5.3p1-60.el6.x86_64)  The invalid group prevents users from being able to ssh into the system.\n\nGenerating SSH2 RSA host key: chgrp: invalid group: `ssh_keys'\n[  OK  ]\n\nGenerating SSH1 RSA host key: chgrp: invalid group: `ssh_keys'\n[  OK  ]\n\nGenerating SSH2 DSA host key: chgrp: invalid group: `ssh_keys'\n[  OK  ]\n\nVersion-Release number of selected component (if applicable):\nopenssh-5.3p1-60.el6.x86_64\n\nHow reproducible:\nAlways\n\nSteps to Reproduce:\n1. Install\n2. Attempt to ssh into the machine post-installation.  Client system will close the connection almost immediately.\n3.\n  \nActual results:\n\n\nExpected results:\n\n\nAdditional info:",
          "author": "jturner@redhat.com",
          "creation_time": "20110622T14:34:26",
          "bug_id": "715326",
          "creator_id": "405",
          "time": "20110622T14:34:26",
          "id": "3830958",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "jturner@redhat.com",
          "text": "Problem impacts Beaker and that issue is being tracked in https://engineering.redhat.com/rt3/Ticket/Display.html?id=114080",
          "author": "jturner@redhat.com",
          "creation_time": "20110622T14:35:12",
          "bug_id": "715326",
          "creator_id": "405",
          "time": "20110622T14:35:12",
          "id": "3830960",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "jchadima@redhat.com",
          "text": "*** Bug 715375 has been marked as a duplicate of this bug. ***",
          "author": "jchadima@redhat.com",
          "creation_time": "20110623T05:58:12",
          "bug_id": "715326",
          "creator_id": "276623",
          "time": "20110623T05:58:12",
          "id": "3832339",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2011:11301-01\nhttp://errata.devel.redhat.com/errata/show/11301",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110623T16:08:27",
          "bug_id": "715326",
          "creator_id": "241731",
          "time": "20110623T16:08:27",
          "id": "3836662",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "jturner@redhat.com",
          "text": "I don't suppose that someone would actually like to enlighten QE on exactly what is changing so that we can instrument proper regression tests?  Having a defect go from NEW -> Modified with no dialog at all is a bit ''distressing.''  QE should not have to run diffs just to sort out what a developer has done.",
          "author": "jturner@redhat.com",
          "creation_time": "20110623T18:26:27",
          "bug_id": "715326",
          "creator_id": "405",
          "time": "20110623T18:26:27",
          "id": "3837926",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "mvadkert@redhat.com",
          "text": "Jan, can you provide detailed information that what was the cause of this regression please?",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110713T06:49:07",
          "bug_id": "715326",
          "creator_id": "271572",
          "time": "20110713T06:49:07",
          "id": "3880532",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "jchadima@redhat.com",
          "text": "I apologize for the error that occurred during debugging openssh for RHEL 6.2. It was caused by inattention when I checked the code.",
          "author": "jchadima@redhat.com",
          "creation_time": "20110713T09:21:18",
          "bug_id": "715326",
          "creator_id": "276623",
          "time": "20110713T09:21:18",
          "id": "3880801",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "jchadima@redhat.com",
          "text": "*** Bug 720888 has been marked as a duplicate of this bug. ***",
          "author": "jchadima@redhat.com",
          "creation_time": "20110714T07:32:58",
          "bug_id": "715326",
          "creator_id": "276623",
          "time": "20110714T07:32:58",
          "id": "3883081",
          "is_private": "False"
        },
        {
          "count": "8",
          "creator": "jchadima@redhat.com",
          "text": "This bug is repaired by unrolling the init script change.",
          "author": "jchadima@redhat.com",
          "creation_time": "20110727T12:45:23",
          "bug_id": "715326",
          "creator_id": "276623",
          "time": "20110727T12:45:23",
          "id": "3918944",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.2"
      ],
      "cc": [
        "ajia@redhat.com",
        "jstodola@redhat.com",
        "mvadkert@redhat.com",
        "prarit@redhat.com",
        "pvrabec@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "691780"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "beta",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "chgrp: invalid group: `ssh_keys'",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.2.0",
          "modification_date": "20110623T07:51:51",
          "type_id": "249",
          "is_active": "0",
          "creation_date": "20110622T14:34:26",
          "id": "849506",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "blocker",
          "modification_date": "20110623T07:51:51",
          "type_id": "24",
          "is_active": "1",
          "creation_date": "20110622T14:34:26",
          "id": "849507",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20110622T19:56:58",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20110622T14:36:50",
          "id": "849513",
          "setter": "syeghiay@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20110623T07:46:40",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20110622T20:15:34",
          "id": "849694",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20110622T14:34:26",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20110622T14:34:26",
          "id": "849508",
          "setter": "jturner@redhat.com"
        }
      ],
      "last_change_time": "20110804T15:34:28",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509328-RS7oWk80_2LmmVIJdMOOjMMBRXHfUfa5Kbh85NB3_xY",
      "cf_partner": [],
      "cf_last_closed": "20110727T12:45:23",
      "resolution": "NEXTRELEASE",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "classification": "Red Hat",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_story_points": "---",
      "cf_conditional_nak": [],
      "creation_time": "20110713T06:29:00",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "summary": "ssh private key files should be not accessible by others",
      "external_bugs": [],
      "id": "720888",
      "cf_release_notes": "",
      "priority": "high",
      "cf_internal_whiteboard": "",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "ajia@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "ajia@redhat.com",
          "text": "Description of problem:\n/etc/ssh/ssh_host_rsa_key and /etc/ssh/ssh_host_dsa_key have 'r' permissions for others.\n\nI can resolve this issue using manually change these 2 files permission to 600 instead of 640.\n\nVersion-Release number of selected component (if applicable):\n# uname -r\n2.6.32-160.el6.x86_64\n\nNote: installation tree is http://download.englab.nay.redhat.com/pub/rhel/nightly/RHEL6.2-20110623.n.0/6/Server/x86_64/os (RTT test result is pass for\nx86_64 arch)\n\n# rpm -q openssh-clients\nopenssh-clients-5.3p1-60.el6.x86_64\n\nHow reproducible:\nalways\n\nSteps to Reproduce:\n1. install a fresh OS based on above installation tree\n2. use ssh to connect itself\n3. check /var/log/messages\n  \nActual results:\n\n$ ssh -X root@xx.xx.xx.xx\nRead from socket failed: Connection reset by peer\n\nExpected results:\nFix it.\n\nAdditional info:\n\n# ll /etc/ssh/ssh_host_rsa_key\n-rw-r-----. 1 root root 1675 Jul 12 16:36 /etc/ssh/ssh_host_rsa_key\n\n# ll /etc/ssh/ssh_host_dsa_key\n-rw-r-----. 1 root root 668 Jul 12 16:36 /etc/ssh/ssh_host_dsa_key\n\n$ sudo  tail -31 /var/log/messages\nJul 13 13:50:45 localhost sshd[6579]: error: @         WARNING: UNPROTECTED PRIVATE KEY FILE!          @\nJul 13 13:50:45 localhost sshd[6579]: error: @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\nJul 13 13:50:45 localhost sshd[6579]: error: Permissions 0640 for '/etc/ssh/ssh_host_rsa_key' are too open.\nJul 13 13:50:45 localhost sshd[6579]: error: It is recommended that your private key files are NOT accessible by others.\nJul 13 13:50:45 localhost sshd[6579]: error: This private key will be ignored.\nJul 13 13:50:45 localhost sshd[6579]: error: bad permissions: ignore key: /etc/ssh/ssh_host_rsa_key\nJul 13 13:50:45 localhost sshd[6579]: error: Could not load host key: /etc/ssh/ssh_host_rsa_key\nJul 13 13:50:45 localhost sshd[6579]: error: @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\nJul 13 13:50:45 localhost sshd[6579]: error: @         WARNING: UNPROTECTED PRIVATE KEY FILE!          @\nJul 13 13:50:45 localhost sshd[6579]: error: @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\nJul 13 13:50:45 localhost sshd[6579]: error: Permissions 0640 for '/etc/ssh/ssh_host_dsa_key' are too open.\nJul 13 13:50:45 localhost sshd[6579]: error: It is recommended that your private key files are NOT accessible by others.\nJul 13 13:50:45 localhost sshd[6579]: error: This private key will be ignored.\nJul 13 13:50:45 localhost sshd[6579]: error: bad permissions: ignore key: /etc/ssh/ssh_host_dsa_key\nJul 13 13:50:45 localhost sshd[6579]: error: Could not load host key: /etc/ssh/ssh_host_dsa_key\nJul 13 13:52:04 localhost sshd[6590]: error: @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\nJul 13 13:52:04 localhost sshd[6590]: error: @         WARNING: UNPROTECTED PRIVATE KEY FILE!          @\nJul 13 13:52:04 localhost sshd[6590]: error: @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\nJul 13 13:52:04 localhost sshd[6590]: error: Permissions 0640 for '/etc/ssh/ssh_host_rsa_key' are too open.\nJul 13 13:52:04 localhost sshd[6590]: error: It is recommended that your private key files are NOT accessible by others.\nJul 13 13:52:04 localhost sshd[6590]: error: This private key will be ignored.\nJul 13 13:52:04 localhost sshd[6590]: error: bad permissions: ignore key: /etc/ssh/ssh_host_rsa_key\nJul 13 13:52:04 localhost sshd[6590]: error: Could not load host key: /etc/ssh/ssh_host_rsa_key\nJul 13 13:52:04 localhost sshd[6590]: error: @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\nJul 13 13:52:04 localhost sshd[6590]: error: @         WARNING: UNPROTECTED PRIVATE KEY FILE!          @\nJul 13 13:52:04 localhost sshd[6590]: error: @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\nJul 13 13:52:04 localhost sshd[6590]: error: Permissions 0640 for '/etc/ssh/ssh_host_dsa_key' are too open.\nJul 13 13:52:04 localhost sshd[6590]: error: It is recommended that your private key files are NOT accessible by others.\nJul 13 13:52:04 localhost sshd[6590]: error: This private key will be ignored.\nJul 13 13:52:04 localhost sshd[6590]: error: bad permissions: ignore key: /etc/ssh/ssh_host_dsa_key\nJul 13 13:52:04 localhost sshd[6590]: error: Could not load host key: /etc/ssh/ssh_host_dsa_key",
          "author": "ajia@redhat.com",
          "creation_time": "20110713T06:29:09",
          "bug_id": "720888",
          "creator_id": "277160",
          "time": "20110713T06:29:09",
          "id": "3880500",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "esandeen@redhat.com",
          "text": "Shouldn't this bug be filed against openssh(-server) rather than the kernel?",
          "author": "esandeen@redhat.com",
          "creation_time": "20110714T04:18:05",
          "bug_id": "720888",
          "creator_id": "202031",
          "time": "20110714T04:18:05",
          "id": "3882836",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "esandeen@redhat.com",
          "text": "And FWIW, the sshs initscript from openssh-server-5.3p1-20.el6.x86_64 does:\n\n        if [ ! -s $DSA_KEY ]; then\n                echo -n $''Generating SSH2 DSA host key: ''\n                rm -f $DSA_KEY\n                if test ! -f $DSA_KEY && $KEYGEN -q -t dsa -f $DSA_KEY -C '' -N '' >&/dev/null; then\n                        chmod 600 $DSA_KEY\n                        chmod 644 $DSA_KEY.pub\n                        if [ -x /sbin/restorecon ]; then\n                            /sbin/restorecon $DSA_KEY.pub\n                        fi\n                        success $''DSA key generation''\n                        echo\n                else\n                        failure $''DSA key generation''\n                        echo\n                        exit 1\n                fi\n        fi\n}\n\nand similar for RSA; it looks like it explicitly does this chmod, so why is it showing up as og+r for you I wonder?",
          "author": "esandeen@redhat.com",
          "creation_time": "20110714T04:21:25",
          "bug_id": "720888",
          "creator_id": "202031",
          "time": "20110714T04:21:25",
          "id": "3882839",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "ajia@redhat.com",
          "text": "\n\n(In reply to comment #1)\n> Shouldn't this bug be filed against openssh(-server) rather than the kernel?\n\nHi Eric,\n\nYeah, I have changed component to openssh.\n\nThanks,\nAlex",
          "author": "ajia@redhat.com",
          "creation_time": "20110714T06:44:34",
          "bug_id": "720888",
          "creator_id": "277160",
          "time": "20110714T06:44:34",
          "id": "3882990",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "ajia@redhat.com",
          "text": "(In reply to comment #2)\n> And FWIW, the sshs initscript from openssh-server-5.3p1-20.el6.x86_64 does:\n> \n>         if [ ! -s $DSA_KEY ]; then\n>                 echo -n $''Generating SSH2 DSA host key: ''\n>                 rm -f $DSA_KEY\n>                 if test ! -f $DSA_KEY && $KEYGEN -q -t dsa -f $DSA_KEY -C '' -N\n> '' >&/dev/null; then\n>                         chmod 600 $DSA_KEY\n\nI guess you haven't installed RHEL6.2-20110623.n.0/6/Server tree, it's okay for my rhel6.1 os, the above line is the same to you, however, for RHEL6.2-20110623.n.0 tree, my sshd initscript as follows:\n\ndo_rsa1_keygen() {\n        if [ ! -s $RSA1_KEY ]; then\n                echo -n $''Generating SSH1 RSA host key: ''\n                rm -f $RSA1_KEY\n                if test ! -f $RSA1_KEY && $KEYGEN -q -t rsa1 -f $RSA1_KEY -C '' -N '' >&/dev/null; then\n                        chgrp ssh_keys $RSA1_KEY\n                        chmod 640 $RSA1_KEY\n                        chmod 644 $RSA1_KEY.pub\n                        if [ -x /sbin/restorecon ]; then\n                            /sbin/restorecon $RSA1_KEY.pub\n                        fi\n                        success $''RSA1 key generation''\n                        echo\n                else\n                        failure $''RSA1 key generation''\n                        echo\n                        exit 1\n                fi\n        fi\n}\n......\n\nNote, mode is 640 not 600.\n\n\n> \n> and similar for RSA; it looks like it explicitly does this chmod, so why is it\n> showing up as og+r for you I wonder?\n\nPlease see the above sshd initscript, I haven't done any modification.\n\nThanks for your nice comment,\nAlex",
          "author": "ajia@redhat.com",
          "creation_time": "20110714T06:57:25",
          "bug_id": "720888",
          "creator_id": "277160",
          "time": "20110714T06:57:25",
          "id": "3883019",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "jchadima@redhat.com",
          "text": "\n\n*** This bug has been marked as a duplicate of bug 715326 ***",
          "author": "jchadima@redhat.com",
          "creation_time": "20110714T07:32:58",
          "bug_id": "720888",
          "creator_id": "276623",
          "time": "20110714T07:32:58",
          "id": "3883080",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "x86_64",
      "version": [
        "6.2"
      ],
      "cc": [
        "esandeen@redhat.com",
        "rwu@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_regression_status": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "product": "Red Hat Enterprise Linux 6",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "target_release": [
        "---"
      ],
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "sub_components": {},
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "op_sys": "Linux",
      "alias": [],
      "dupe_of": "715326",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.2.0",
          "modification_date": "20110713T06:29:09",
          "type_id": "249",
          "is_active": "0",
          "creation_date": "20110713T06:29:09",
          "id": "859099",
          "setter": "ajia@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20110714T06:47:29",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20110713T06:36:07",
          "id": "859103",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20110714T07:05:38",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20110714T07:05:38",
          "id": "859810",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20110714T07:32:58",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509328-Uv5-024NFNt-LMc9HBPZkWxOYcQ59OekCRM_GvSl2VE",
      "cf_partner": [],
      "cf_last_closed": "20110714T07:32:58",
      "resolution": "DUPLICATE",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "1900",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20101125T16:37:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "FutureFeature"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00634531",
          "bug_id": "657378",
          "ext_description": "RHEL 6.3: two-factor authentication",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "68966"
        },
        {
          "ext_status": "None",
          "ext_bz_bug_id": "113033",
          "bug_id": "657378",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "72",
          "type": {
            "must_send": "False",
            "description": "Red Hat Knowledge Base (Solution)",
            "url": "https://access.redhat.com/site/",
            "can_get": "False",
            "id": "72",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://access.redhat.com/site/solutions/%id%"
          },
          "id": "68968"
        },
        {
          "ext_status": "None",
          "ext_bz_bug_id": "139474",
          "bug_id": "657378",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "69",
          "type": {
            "must_send": "False",
            "description": "TCMS Test Case",
            "url": "https://tcms.engineering.redhat.com",
            "can_get": "False",
            "id": "69",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          },
          "id": "66961"
        },
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00350035",
          "bug_id": "657378",
          "ext_description": "Einloggen \u00fcber SSH sollte Kennwort und PublicKey erfordern",
          "ext_priority": "4 (Low)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "31461"
        },
        {
          "ext_status": "None",
          "ext_bz_bug_id": "983",
          "bug_id": "657378",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "13",
          "type": {
            "must_send": "False",
            "description": "OpenSSH Project",
            "url": "http://bugzilla.mindrot.org",
            "can_get": "False",
            "id": "13",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "http://bugzilla.mindrot.org/show_bug.cgi?id=%id%"
          },
          "id": "49655"
        }
      ],
      "id": "657378",
      "cf_release_notes": "Multiple required methods of authentications for sshd\r\n\r\nSSH can now be set up to require multiple ways of authentication (whereas previously SSH allowed multiple ways of authentication of which only one was required for a successful login); for example, logging in to an SSH-enabled machine requires both a passphrase and a public key to be entered. The RequiredAuthentications1 and RequiredAuthentications2 options can be configured in the /etc/ssh/sshd_config file to specify authentications that are required for a successful log in. For example:\r\n\r\n~]# echo ''RequiredAuthentications2 publickey,password'' >> /etc/ssh/sshd_config\r\n\r\nFor more information on the aforementioned /etc/ssh/sshd_config options, refer to the sshd_config man page.",
      "priority": "high",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-80.el6",
      "creator": "mpoole@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "mpoole@redhat.com",
          "text": "2. What is the nature and description of the request?\n\nSSH two-factor authentication with passphrase and public-key (not passphrase for the public-key)\nThis should work for both SSH-login and scp/sftp (an unsupported workaround for login might be possible already)\n\n\n   3. Why does the customer need this? (List the business requirements here)\n\nThis customer wants to comply with the PCI-DSS at Standard https://www.pcisecuritystandards.org/security_standards/pci_dss.shtml (Chapter 8.2) which seems to require two-factor authentication.\n\n\n   4. How would the customer like to achieve this? (List the functional requirements here)\n\nTo make a ''real'' two factor authentication possible, they want to have the possibility to use pubkey AND a password prompt for login.\n\n\n   5. For each functional requirement listed in question 4, specify how Red Hat and the customer can test to confirm the requirement is successfully implemented.\n\nLogging in on the SSH-server requires both a passphrase and public-key on the server. By using either one of them it should not be possible to login.\n\n\n   6. Is there already an existing RFE upstream or in Red Hat bugzilla?\n\nnone found\n\n\n   7. How quickly does this need resolved? (desired target release)\n\nasap, but seems to require huge changes in openssh, until than, this customer might go for a 3rd party solution\n\n\n   8. Does this request meet the RHEL Inclusion criteria (please review)\n\nyes, but only if upstream accepts the request/implementation too",
          "author": "mpoole@redhat.com",
          "creation_time": "20101125T16:37:07",
          "bug_id": "657378",
          "creator_id": "170409",
          "time": "20101125T16:37:07",
          "id": "3375117",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20101125T16:52:51",
          "bug_id": "657378",
          "creator_id": "193983",
          "time": "20101125T16:52:51",
          "id": "3375148",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "mkhusid@redhat.com",
          "text": "Two factor authentication is an important and desirable feature, but the actual implementation is not in scope for RHEL 6.1.  Postponing.",
          "author": "mkhusid@redhat.com",
          "creation_time": "20101129T20:46:58",
          "bug_id": "657378",
          "creator_id": "298056",
          "time": "20101129T20:46:58",
          "id": "3380939",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "jchadima@redhat.com",
          "text": "Two factor authentication is one of current upstream projects. I recommend to wait a while if upstream includes it into the openssh. The upstream versions of the code are usually better than 3rd parties from the security point of view.\nI start to investigate the task if upstream abandon the activities on it.",
          "author": "jchadima@redhat.com",
          "creation_time": "20110609T14:56:23",
          "bug_id": "657378",
          "creator_id": "276623",
          "time": "20110609T14:56:23",
          "id": "3803720",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "jchadima@redhat.com",
          "text": "I've prepare the patch ... start internal testing before sending it upstream.",
          "author": "jchadima@redhat.com",
          "creation_time": "20110711T09:58:34",
          "bug_id": "657378",
          "creator_id": "276623",
          "time": "20110711T09:58:34",
          "id": "3875852",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "ohudlick@redhat.com",
          "text": "This is big rfe => need to be accepted upstream first. Please let us know the upstream status. If not stable yet, lets postpone it to the next minor release.",
          "author": "ohudlick@redhat.com",
          "creation_time": "20110822T10:38:10",
          "bug_id": "657378",
          "creator_id": "188618",
          "time": "20110822T10:38:10",
          "id": "3969771",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "jrieden@redhat.com",
          "text": "moving to 6.3.\n\nBiz case for this, upcoming PCI/DSS validation (per PM)",
          "author": "jrieden@redhat.com",
          "creation_time": "20110826T14:07:15",
          "bug_id": "657378",
          "creator_id": "285873",
          "time": "20110826T14:07:15",
          "id": "3980898",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20110826T14:12:45",
          "bug_id": "657378",
          "creator_id": "193983",
          "time": "20110826T14:12:45",
          "id": "3980908",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "plautrba@redhat.com",
          "text": "In upstream there is working patch which introduces new configuration options RequiredAuthentications1 and RequiredAuthentications2 for protocol 1 and protocol 2. The patch is against current version but I think it shouldn't be problem to backport it to rhel-6. Also upstream bug is proposed as blocker for openssh-6.0 therefore this seems to be finally accepted.",
          "author": "plautrba@redhat.com",
          "creation_time": "20120104T14:56:09",
          "bug_id": "657378",
          "creator_id": "270148",
          "time": "20120104T14:56:09",
          "id": "4286038",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this bug report now has devel_ack+, the Devel\nConditional NAK state is no longer valid and has\nbeen cleared.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120104T15:41:41",
          "bug_id": "657378",
          "creator_id": "193983",
          "time": "20120104T15:41:41",
          "id": "4286162",
          "is_private": "True"
        },
        {
          "count": "10",
          "creator": "ksrot@redhat.com",
          "text": "qa_ack+ for 6.3",
          "author": "ksrot@redhat.com",
          "creation_time": "20120105T08:37:51",
          "bug_id": "657378",
          "creator_id": "286283",
          "time": "20120105T08:37:51",
          "id": "4287679",
          "is_private": "True"
        },
        {
          "count": "11",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2012:12754-01\nhttp://errata.devel.redhat.com/errata/show/12754",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120229T10:24:06",
          "bug_id": "657378",
          "creator_id": "241731",
          "time": "20120229T10:24:06",
          "id": "4483225",
          "is_private": "True"
        },
        {
          "count": "12",
          "creator": "plautrba@redhat.com",
          "text": "\n    Technical note added. If any revisions are required, please edit the ''Technical Notes'' field\n    accordingly. All revisions will be proofread by the Engineering Content Services team.\n    \n    New Contents:\nsshd_config supports new RequiredAuthentications1 and  RequiredAuthentications2 options now. With these options you can specify authentications\nthat are ''required, but not ''sufficient'' to sshd. e.g. require public-key authentication and password authentication.",
          "author": "plautrba@redhat.com",
          "creation_time": "20120321T09:40:29",
          "bug_id": "657378",
          "creator_id": "270148",
          "time": "20120321T09:40:29",
          "id": "4534490",
          "is_private": "False"
        },
        {
          "count": "13",
          "creator": "mprpic@redhat.com",
          "text": "\n    Technical note updated. If any revisions are required, please edit the ''Technical Notes'' field\n    accordingly. All revisions will be proofread by the Engineering Content Services team.\n    \n    Diffed Contents:\n@@ -1,2 +1,8 @@\n-sshd_config supports new RequiredAuthentications1 and  RequiredAuthentications2 options now. With these options you can specify authentications\n+SSH two-factor authentication\n-that are ''required, but not ''sufficient'' to sshd. e.g. require public-key authentication and password authentication.+\n+SSH now supports two-factor authentication where, for example, logging in to an SSH-enabled machine requires a passphrase and a public key to be entered. The RequiredAuthentications1 and RequiredAuthentications2 options can be specified in the /etc/ssh/sshd_config file to set authentications that are required for a successful log in. For example:\n+\n+~]# echo ''RequiredAuthentications1 password'' >> /etc/ssh/sshd_config\n+~]# echo ''RequiredAuthentications2 puplickey'' >> /etc/ssh/sshd_config\n+\n+Note that you must have a working public key set up for the above configuration to work.",
          "author": "mprpic@redhat.com",
          "creation_time": "20120415T14:29:12",
          "bug_id": "657378",
          "creator_id": "298004",
          "time": "20120415T14:29:12",
          "id": "4594409",
          "is_private": "False"
        },
        {
          "count": "14",
          "creator": "plautrba@redhat.com",
          "text": "\n    Technical note updated. If any revisions are required, please edit the ''Technical Notes'' field\n    accordingly. All revisions will be proofread by the Engineering Content Services team.\n    \n    Diffed Contents:\n@@ -2,7 +2,6 @@\n \n SSH now supports two-factor authentication where, for example, logging in to an SSH-enabled machine requires a passphrase and a public key to be entered. The RequiredAuthentications1 and RequiredAuthentications2 options can be specified in the /etc/ssh/sshd_config file to set authentications that are required for a successful log in. For example:\n \n-~]# echo ''RequiredAuthentications1 password'' >> /etc/ssh/sshd_config\n-~]# echo ''RequiredAuthentications2 puplickey'' >> /etc/ssh/sshd_config\n+~]# echo ''RequiredAuthentications2 publickey,password'' >> /etc/ssh/sshd_config\n \n Note that you must have a working public key set up for the above configuration to work.",
          "author": "plautrba@redhat.com",
          "creation_time": "20120416T01:54:43",
          "bug_id": "657378",
          "creator_id": "270148",
          "time": "20120416T01:54:43",
          "id": "4594900",
          "is_private": "False"
        },
        {
          "count": "15",
          "creator": "mprpic@redhat.com",
          "text": "\n    Technical note updated. If any revisions are required, please edit the ''Technical Notes'' field\n    accordingly. All revisions will be proofread by the Engineering Content Services team.\n    \n    Diffed Contents:\n@@ -1,7 +1,7 @@\n-SSH two-factor authentication\n+Multiple required methods of authentications for sshd\n \n-SSH now supports two-factor authentication where, for example, logging in to an SSH-enabled machine requires a passphrase and a public key to be entered. The RequiredAuthentications1 and RequiredAuthentications2 options can be specified in the /etc/ssh/sshd_config file to set authentications that are required for a successful log in. For example:\n+SSH can now be set up to require multiple ways of authentication (whereas previously SSH allowed multiple ways of authentication of which only one was required for a successful login); for example, logging in to an SSH-enabled machine requires both a passphrase and a public key to be entered. The RequiredAuthentications1 and RequiredAuthentications2 options can be configured in the /etc/ssh/sshd_config file to specify authentications that are required for a successful log in. For example:\n \n ~]# echo ''RequiredAuthentications2 publickey,password'' >> /etc/ssh/sshd_config\n \n-Note that you must have a working public key set up for the above configuration to work.+For more information on the aforementioned /etc/ssh/sshd_config options, refer to the sshd_config man page.",
          "author": "mprpic@redhat.com",
          "creation_time": "20120416T16:42:25",
          "bug_id": "657378",
          "creator_id": "298004",
          "time": "20120416T16:42:25",
          "id": "4596870",
          "is_private": "False"
        },
        {
          "count": "16",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to ASSIGNED status by the Errata System: \nAdvisory RHBA-2012:12754-01: \nhttp://errata.devel.redhat.com/errata/stateview/12754\n\nSegfault when passed invalid parameter in sshd_config for RequiredAuthentications1:\n\nRequiredAuthentications1 password,bad\n\nAfter restart we get a segfault. I think this issue was fixed for v2/\n\n\n\nStopping sshd:           [FAILED]\nStarting sshd: /etc/init.d/sshd: line 128: 10180 Segmentation fault      (core dumped) $SSHD $OPTIONS   [FAILED]",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120510T13:14:27",
          "bug_id": "657378",
          "creator_id": "241731",
          "time": "20120510T13:14:27",
          "id": "4664562",
          "is_private": "True"
        },
        {
          "count": "17",
          "attachment_id": "583617",
          "author": "plautrba@redhat.com",
          "text": "Created attachment 583617\nfoxed openssh-5.3p1-required-authentications.patch\n\nThere was missing break in parse function.",
          "creator": "plautrba@redhat.com",
          "creation_time": "20120510T15:25:21",
          "bug_id": "657378",
          "creator_id": "270148",
          "time": "20120510T15:25:21",
          "id": "4665117",
          "is_private": "False"
        },
        {
          "count": "18",
          "creator": "syeghiay@redhat.com",
          "text": "Approved blocker for Snapshot 4.\nPlease respin advisory brew build by May-16 noon Eastern.",
          "author": "syeghiay@redhat.com",
          "creation_time": "20120510T20:27:30",
          "bug_id": "657378",
          "creator_id": "193262",
          "time": "20120510T20:27:30",
          "id": "4665850",
          "is_private": "True"
        },
        {
          "count": "19",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from MODIFIED to ON_QA status by the Errata System: \nAdvisory RHBA-2012:12754-01: \nhttp://errata.devel.redhat.com/errata/stateview/12754",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120514T16:58:10",
          "bug_id": "657378",
          "creator_id": "241731",
          "time": "20120514T16:58:10",
          "id": "4672181",
          "is_private": "True"
        },
        {
          "count": "20",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2012:12754-01: \nhttp://errata.devel.redhat.com/errata/stateview/12754\n\nVERIFIED as fixed in openssh-5.3p1-81.el6\nMore authentication mechanisms are now supported via RequiredAuthentications1/2 options in sshd_config. We found a few issues with the upstream patch and Petr will send the patches back.\n\nNEW package openssh-5.3p1-81.el6:\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Invalid options\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'sed -i 's|.*RequiredAuthentications2.*|RequiredAuthentications2 |g' /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running 'service sshd restart'\n:: [   PASS   ] :: Running 'sed -i 's|.*RequiredAuthentications1.*|RequiredAuthentications1 |g' /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running 'service sshd restart'\n:: [   PASS   ] :: Running 'sed -i 's|.*RequiredAuthentications2.*|RequiredAuthentications2 %%@@badopt!!|g' /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running 'service sshd restart'\n:: [   PASS   ] :: Running 'sed -i 's|.*RequiredAuthentications1.*|RequiredAuthentications1 %%^^%%badopt!!|g' /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running 'service sshd restart'\n:: [   PASS   ] :: Running 'sed -i 's|.*RequiredAuthentications2.*|RequiredAuthentications2 password,publickey,noopt|g' /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running 'service sshd restart'\n:: [   PASS   ] :: Running 'sed -i 's|.*RequiredAuthentications1.*|RequiredAuthentications1 password,publickey,noopt|g' /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running 'service sshd restart'\n:: [   LOG    ] :: Duration: 1s\n:: [   LOG    ] :: Assertions: 12 good, 0 bad\n:: [   PASS   ] :: RESULT: Invalid options\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: RequireAuthentication2 publickey,password\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'cp -f sshd_config /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running 'sed -i 's|.*RequiredAuthentications2.*|RequiredAuthentications2 publickey,password|g' /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running 'service sshd restart'\n:: [   LOG    ] :: Conecting from root to sshtest12617\n:: [   PASS   ] :: Running 'sshConnect sshtest12617 sshtest12617'\n:: [   PASS   ] :: Running 'rm -f /var/log/secure'\n:: [   PASS   ] :: Running 'service rsyslog restart'\n:: [   LOG    ] :: Conecting from sshtest12617 to sshtest28 with two factor auth\n:: [   PASS   ] :: Running 'sshTwoFactor sshtest12617 sshtest12617 sshtest28 sshtest28'\n:: [   PASS   ] :: Running 'grep failures /var/log/secure'\n:: [   PASS   ] :: File '/var/log/secure' should not contain 'failures [1-9]'\n:: [   LOG    ] :: Conecting from sshtest12617 to sshtest28 with two factor auth\n:: [   PASS   ] :: Running 'sshTwoFactor sshtest12617 sshtest12617 sshtest28 badpass'\n:: [   LOG    ] :: Duration: 3s\n:: [   LOG    ] :: Assertions: 10 good, 0 bad\n:: [   PASS   ] :: RESULT: RequireAuthentication2 publickey,password\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: RequireAuthentication2 password,publickey\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'cp -f sshd_config /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running 'sed -i 's|.*RequiredAuthentications2.*|RequiredAuthentications2 password,publickey|g' /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running 'service sshd restart'\n:: [   LOG    ] :: Conecting from root to sshtest12617\n:: [   PASS   ] :: Running 'sshConnect sshtest12617 sshtest12617'\n:: [   PASS   ] :: Running 'rm -f /var/log/secure'\n:: [   PASS   ] :: Running 'service rsyslog restart'\n:: [   LOG    ] :: Conecting from sshtest12617 to sshtest28 with two factor auth\n:: [   PASS   ] :: Running 'sshTwoFactor sshtest12617 sshtest12617 sshtest28 sshtest28'\n:: [   PASS   ] :: Running 'grep failures /var/log/secure'\n:: [   PASS   ] :: File '/var/log/secure' should not contain 'failures [1-9]'\n:: [   LOG    ] :: Conecting from sshtest12617 to sshtest28 with two factor auth\n:: [   PASS   ] :: Running 'sshTwoFactor sshtest12617 sshtest12617 sshtest28 badpass'\n:: [   LOG    ] :: Duration: 5s\n:: [   LOG    ] :: Assertions: 10 good, 0 bad\n:: [   PASS   ] :: RESULT: RequireAuthentication2 password,publickey\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: RequireAuthentication2 publickey,password,publickey\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'cp -f sshd_config /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running 'sed -i 's|.*RequiredAuthentications2.*|RequiredAuthentications2 publickey,password,publickey|g' /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running 'service sshd restart'\n:: [   LOG    ] :: Conecting from root to sshtest12617\n:: [   PASS   ] :: Running 'sshConnect sshtest12617 sshtest12617'\n:: [   LOG    ] :: Conecting from sshtest12617 to sshtest28 with two factor auth\n:: [   PASS   ] :: Running 'sshTwoFactor sshtest12617 sshtest12617 sshtest28 sshtest28'\n:: [   LOG    ] :: Conecting from sshtest12617 to sshtest28 with two factor auth\n:: [   PASS   ] :: Running 'sshTwoFactor sshtest12617 sshtest12617 sshtest28 badpass'\n:: [   LOG    ] :: Duration: 4s\n:: [   LOG    ] :: Assertions: 6 good, 0 bad\n:: [   PASS   ] :: RESULT: RequireAuthentication2 publickey,password,publickey\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: RequireAuthentication2 gssapi-with-mic\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'cp -f sshd_config /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running 'sed -i 's|.*RequiredAuthentications2.*|RequiredAuthentications2 gssapi-with-mic|g' /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running 'service sshd restart'\n:: [   LOG    ] :: Conecting from root to sshtest12617\n:: [   PASS   ] :: Running 'sshConnect sshtest12617 sshtest12617'\n:: [   LOG    ] :: Duration: 2s\n:: [   LOG    ] :: Assertions: 4 good, 0 bad\n:: [   PASS   ] :: RESULT: RequireAuthentication2 gssapi-with-mic\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: RequireAuthentication2 gssapi-keyex\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'cp -f sshd_config /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running 'sed -i 's|.*RequiredAuthentications2.*|RequiredAuthentications2 gssapi-keyex|g' /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running 'service sshd restart'\n:: [   LOG    ] :: Conecting from root to sshtest12617\n:: [   PASS   ] :: Running 'sshConnect sshtest12617 sshtest12617'\n:: [   LOG    ] :: Duration: 0s\n:: [   LOG    ] :: Assertions: 4 good, 0 bad\n:: [   PASS   ] :: RESULT: RequireAuthentication2 gssapi-keyex\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: RequireAuthentication2 hostbased\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'cp -f sshd_config /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running 'sed -i 's|.*RequiredAuthentications2.*|RequiredAuthentications2 hostbased|g' /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running 'service sshd restart'\n:: [   LOG    ] :: Conecting from root to sshtest12617\n:: [   PASS   ] :: Running 'sshConnect sshtest12617 sshtest12617'\n:: [   LOG    ] :: Duration: 0s\n:: [   LOG    ] :: Assertions: 4 good, 0 bad\n:: [   PASS   ] :: RESULT: RequireAuthentication2 hostbased\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: RequireAuthentication2 none\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'cp -f sshd_config /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running 'sed -i 's|.*RequiredAuthentications2.*|RequiredAuthentications2 none|g' /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running 'service sshd restart'\n:: [   LOG    ] :: Conecting from root to sshtest12617\n:: [   PASS   ] :: Running 'sshConnect sshtest12617 sshtest12617'\n:: [   LOG    ] :: Duration: 1s\n:: [   LOG    ] :: Assertions: 4 good, 0 bad\n:: [   PASS   ] :: RESULT: RequireAuthentication2 none\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: RequireAuthentication2 keyboard-interactive\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'cp -f sshd_config /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running 'sed -i 's|.*RequiredAuthentications2.*|RequiredAuthentications2 keyboard-interactive|g' /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running 'service sshd restart'\n:: [   LOG    ] :: Conecting from root to sshtest12617\n:: [   PASS   ] :: Running 'sshConnect sshtest12617 sshtest12617'\n:: [   LOG    ] :: Duration: 1s\n:: [   LOG    ] :: Assertions: 4 good, 0 bad\n:: [   PASS   ] :: RESULT: RequireAuthentication2 keyboard-interactive",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120516T08:10:36",
          "bug_id": "657378",
          "creator_id": "241731",
          "time": "20120516T08:10:36",
          "id": "4677166",
          "is_private": "True"
        },
        {
          "count": "21",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHSA-2012-0884.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120620T07:17:05",
          "bug_id": "657378",
          "creator_id": "241731",
          "time": "20120620T07:17:05",
          "id": "4841685",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.3"
      ],
      "cc": [
        "chorn@redhat.com",
        "jkodak@redhat.com",
        "jrieden@redhat.com",
        "mkhusid@redhat.com",
        "mvadkert@redhat.com",
        "ohudlick@redhat.com",
        "pvrabec@redhat.com",
        "sgrubb@redhat.com"
      ],
      "cf_verified": [
        "FailedQA"
      ],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "713505",
        "750571",
        "772279",
        "703208",
        "756082"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Enhancement",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "Snapshot 4",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "[RFE] ability to require password and public-key for login",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20120402T09:06:46",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20120105T08:53:53",
          "id": "954825",
          "setter": "mvadkert@redhat.com"
        },
        {
          "status": "+",
          "name": "requires_release_note",
          "modification_date": "20120415T14:29:11",
          "type_id": "60",
          "is_active": "1",
          "creation_date": "20120415T14:29:11",
          "id": "1026804",
          "setter": "mprpic@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.3.0",
          "modification_date": "20120105T08:42:10",
          "type_id": "276",
          "is_active": "0",
          "creation_date": "20110906T13:31:44",
          "id": "889852",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "blocker",
          "modification_date": "20120510T20:27:27",
          "type_id": "24",
          "is_active": "1",
          "creation_date": "20120510T15:27:01",
          "id": "1046927",
          "setter": "syeghiay@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20111214T18:25:08",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20101125T17:06:19",
          "id": "728717",
          "setter": "snagar@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20120104T15:24:21",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20101125T17:13:09",
          "id": "728719",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20120105T08:37:51",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20110822T14:23:42",
          "id": "881571",
          "setter": "ksrot@redhat.com"
        }
      ],
      "last_change_time": "20130313T17:13:45",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509328-uyCkuXdF05t8vq_G4pcCydWq1UI-S1EWHBpzBAymydE",
      "cf_partner": [],
      "cf_last_closed": "20120620T07:17:05",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "2000",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20120118T20:39:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "FutureFeature"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00585395",
          "bug_id": "782912",
          "ext_description": "SSH",
          "ext_priority": "4 (Low)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "59661"
        }
      ],
      "id": "782912",
      "cf_release_notes": "",
      "priority": "high",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-84.1.el6",
      "creator": "klamb@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "klamb@redhat.com",
          "text": "Description of problem:\n\n\n1. Proposed title of this feature request\n\nssh-add to only grab id cert off cac card\n\n2. Who is the customer behind the request?\nAccount name: USMC\nCustomer segment:1\nTAM/SRM customer: no/yes, TAM/SRM customer Yes\nStrategic Customer yes/no: Yes\n\n\n3. What is the nature and description of the request?\n\nWhen attempting to CaC enable SSH, ssh-agent reads all the certs.  Only the id cert is needed.  If a user fat-fingers their pin, then the CaC card is locked, as the pin was attempted against all 3 certs\n\n4. Why does the customer need this? (List the business requirements here)\n\nto cac-enable rhel boxes, as required, they cannot have a situatio where cacs get burned..\n\n5. How would the customer like to achieve this? (List the functional\nrequirements here)\n\nssh-add would only grab the cac's id cert and not attempt against the signing or encrypt cert.\n\n\n6. For each functional requirement listed in question 4, specify how Red Hat\nand the customer can test to confirm the requirement is successfully\nimplemented.\n\nwith a test cac (i have a few) ssh-add and see that only the idcert is accessed\n\n7. Is there already an existing RFE upstream or in Red Hat bugzilla?\n\nno\n\n8. Does the customer have any specific timeline dependencies?\n\nThey are beinga sked to cac-enable all rhel boxes\n\n9. Is the sales team involved in this request and do they have any additional input?\n\n\n10. List any affected packages\n\nssh\n\n11. Would the customer be able to assist in testing this functionality if\nimplemented?\n\nyes",
          "author": "klamb@redhat.com",
          "creation_time": "20120118T20:39:21",
          "bug_id": "782912",
          "creator_id": "210227",
          "time": "20120118T20:39:21",
          "id": "4372362",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120118T20:51:47",
          "bug_id": "782912",
          "creator_id": "193983",
          "time": "20120118T20:51:47",
          "id": "4372390",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "mvadkert@redhat.com",
          "text": "Marking as gradeC for now as we are not sure that this bug can be tested in-house.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20120425T13:25:26",
          "bug_id": "782912",
          "creator_id": "271572",
          "time": "20120425T13:25:26",
          "id": "4627332",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "plautrba@redhat.com",
          "text": "SC support in ssh-add is done via nss. Can you show me the output of following commands for your test cards?\n\n1. modutil -list  -dbdir /etc/pki/nssdb\n\n2. ssh-add -n\n<type correct password> and\nssh-add -L\n\nMy card has one token with two keys ''signing key'' and ''encryption key'' and I can imagine to add option which filter and add only one key to keyring.\n\nBut authentication is done before extracting keys via PK11_Authenticate(slot, PR_TRUE, &passcache) function so I would not probably help with this case.",
          "author": "plautrba@redhat.com",
          "creation_time": "20120425T14:33:11",
          "bug_id": "782912",
          "creator_id": "270148",
          "time": "20120425T14:33:11",
          "id": "4627617",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "jkodak@redhat.com",
          "text": "Thank you for submitting this issue for consideration in Red Hat Enterprise Linux. This request will be considered in a future release of Red Hat Enterprise Linux.",
          "author": "jkodak@redhat.com",
          "creation_time": "20120426T17:23:32",
          "bug_id": "782912",
          "creator_id": "312464",
          "time": "20120426T17:23:32",
          "id": "4631503",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "rrelyea@redhat.com",
          "text": "Petr, I susppect the problem is in the ssh-add password callback. Whenever NSS needs a password, it calls an application specific callback to get the password. If the password fails, the NSS calls the password again to get a new password. There is a parameter in the password callback which tells the application that this is the second call for this same token and that the first one failed. It appears that ssh-add is caching the password and then replaying the last, now known to be wrong password rather than getting a new one. ssh-add should invalidate any password it has after this second call or you will end up locking tokens.",
          "author": "rrelyea@redhat.com",
          "creation_time": "20120619T16:39:18",
          "bug_id": "782912",
          "creator_id": "172385",
          "time": "20120619T16:39:18",
          "id": "4839444",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "pm-rhel@redhat.com",
          "text": "This request was not resolved in time for the current release.\nRed Hat invites you to ask your support representative to\npropose this request, if still desired, for consideration in\nthe next release of Red Hat Enterprise Linux.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120710T07:15:40",
          "bug_id": "782912",
          "creator_id": "193983",
          "time": "20120710T07:15:40",
          "id": "4885843",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "pm-rhel@redhat.com",
          "text": "This request was erroneously removed from consideration in Red Hat Enterprise Linux 6.4, which is currently under development.  This request will be evaluated for inclusion in Red Hat Enterprise Linux 6.4.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120711T01:45:28",
          "bug_id": "782912",
          "creator_id": "193983",
          "time": "20120711T01:45:28",
          "id": "4890536",
          "is_private": "False"
        },
        {
          "count": "8",
          "creator": "ksrot@redhat.com",
          "text": "Hi Kent,\ndo you think the explanation in #c5 is relevant to a customer's issue?",
          "author": "ksrot@redhat.com",
          "creation_time": "20120731T14:24:44",
          "bug_id": "782912",
          "creator_id": "286283",
          "time": "20120731T14:24:44",
          "id": "4931969",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "tmraz@redhat.com",
          "text": "I think we should try to test for error return from PK11_Authenticate() calls. That might really help.",
          "author": "tmraz@redhat.com",
          "creation_time": "20120806T08:59:02",
          "bug_id": "782912",
          "creator_id": "167996",
          "time": "20120806T08:59:02",
          "id": "4941768",
          "is_private": "False"
        },
        {
          "count": "10",
          "attachment_id": "602549",
          "author": "plautrba@redhat.com",
          "text": "Created attachment 602549\ncheck return value of PK11_Authenticate()\n\nThe callback seems to be right as it returns a NULL value if a retry value is set to true. The issue might be that there is no check of a  PK11_Authenticate() return value so that even if PK11_Authenticate() fails on a first atempt, next call PK11_ListPrivKeysInSlot() tries authenticate again.\n\nWith this patch, the K11_Authenticate() return value is checked and a slot is not used anymore in case of failure. But this would need more testing with a certain hardware. A scratch build should be ready soon at http://brewweb.devel.redhat.com/brew/taskinfo?taskID=4726184",
          "creator": "plautrba@redhat.com",
          "creation_time": "20120806T17:15:18",
          "bug_id": "782912",
          "creator_id": "270148",
          "time": "20120806T17:15:18",
          "id": "4942977",
          "is_private": "False"
        },
        {
          "count": "11",
          "creator": "plautrba@redhat.com",
          "text": "Could you please try build from #c10 if it solves this issue?",
          "author": "plautrba@redhat.com",
          "creation_time": "20120814T13:17:27",
          "bug_id": "782912",
          "creator_id": "270148",
          "time": "20120814T13:17:27",
          "id": "4965179",
          "is_private": "False"
        },
        {
          "count": "12",
          "creator": "rrelyea@redhat.com",
          "text": "re comment 10.\n\nPetr, I think your patch is looks good. PK11_Authenticate() return Success if:\n\n1) the token doesn't need authentication.\n2) the token has already been logged in.\n3) the token was logged in as a result of PK11_Authenticate().\n\nIt only fails if the token needed authentication, wasn't logged in, and we couldn't get the correct pin/password for the token.\n\nMy one question: does ssh-add prompt for the password, or does it read it from a cache? If it reads it from a cache we should invalidate the passwords in that cache. The safest place to do the invalidation is in the callback if retry is set to true. It would also be fine to invalidate the cache if PK11_Authenticate() fails. The latter is only safe if you proactively call PK11_Authenticate() in your application (since NSS also may call PK11_Authenticate internally if it things it needs to authenticate to a token).\n\nThe current patch is sufficient if we know we aren't going to call NSS with this slot again if a single PK11_Authenticate fails.\n\nbob",
          "author": "rrelyea@redhat.com",
          "creation_time": "20120814T20:46:06",
          "bug_id": "782912",
          "creator_id": "172385",
          "time": "20120814T20:46:06",
          "id": "4966423",
          "is_private": "False"
        },
        {
          "count": "13",
          "creator": "plautrba@redhat.com",
          "text": "The password callback always asks for the password regardless of the retry variable.\nThe cached password is used only when at least one public key is successfully obtained from \nthe slot and only to be sent to the ssh-agent which uses it for the nss_get_keys() call,\n.",
          "author": "plautrba@redhat.com",
          "creation_time": "20120815T12:05:42",
          "bug_id": "782912",
          "creator_id": "270148",
          "time": "20120815T12:05:42",
          "id": "4967693",
          "is_private": "False"
        },
        {
          "count": "14",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this bug report now has devel_ack+, the Devel Conditional\nNAK state is no longer valid and has been cleared.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20121009T16:21:31",
          "bug_id": "782912",
          "creator_id": "193983",
          "time": "20121009T16:21:31",
          "id": "5098086",
          "is_private": "True"
        },
        {
          "count": "15",
          "creator": "mvadkert@redhat.com",
          "text": "Could the customer help us out with testing the new bits? We lack HW to test this bug.\n\nQA_ACK RHEL6.4 SanityOnly\n\n@QE:\nProceed only with SanityOnly testing. Possibly customer could test the new bits.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20121009T16:29:05",
          "bug_id": "782912",
          "creator_id": "271572",
          "time": "20121009T16:29:05",
          "id": "5098101",
          "is_private": "True"
        },
        {
          "count": "16",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2012:14032-01\nhttp://errata.devel.redhat.com/errata/show/14032",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20121009T16:37:52",
          "bug_id": "782912",
          "creator_id": "241731",
          "time": "20121009T16:37:52",
          "id": "5098120",
          "is_private": "True"
        },
        {
          "count": "17",
          "creator": "jjaburek@redhat.com",
          "text": "Jeremy,\ncould you please ask the customer whether he's willing to test this bug?\n\nKent is not responding.\n\nThanks,\nJiri",
          "author": "jjaburek@redhat.com",
          "creation_time": "20121214T10:08:19",
          "bug_id": "782912",
          "creator_id": "327802",
          "time": "20121214T10:08:19",
          "id": "5289696",
          "is_private": "True"
        },
        {
          "count": "18",
          "creator": "klamb@redhat.com",
          "text": "sorry - i missed the update...\n\nI gave my CaCs and readers to Chris Hudson in Raleigh.  I'll ask him to test",
          "author": "klamb@redhat.com",
          "creation_time": "20121214T13:49:29",
          "bug_id": "782912",
          "creator_id": "210227",
          "time": "20121214T13:49:29",
          "id": "5290208",
          "is_private": "True"
        },
        {
          "count": "19",
          "creator": "jjaburek@redhat.com",
          "text": "Kent,\ncan you please provide an update to this bug? Has any progress been made?\n\nThanks,\nJiri",
          "author": "jjaburek@redhat.com",
          "creation_time": "20130103T08:42:11",
          "bug_id": "782912",
          "creator_id": "327802",
          "time": "20130103T08:42:11",
          "id": "5324107",
          "is_private": "True"
        },
        {
          "count": "20",
          "creator": "ksrot@redhat.com",
          "text": "Hi Chris, Kent,\nany update on this? Thank you.",
          "author": "ksrot@redhat.com",
          "creation_time": "20130107T09:26:06",
          "bug_id": "782912",
          "creator_id": "286283",
          "time": "20130107T09:26:06",
          "id": "5332599",
          "is_private": "True"
        },
        {
          "count": "21",
          "creator": "jjaburek@redhat.com",
          "text": "I can verify that the patch, mentioned in comment #10, is in fact part of openssh-5.3p1-nss-keys.patch, which is applied from openssh.spec (version 5.3p1-84.1.el6).\n\nI'm therefore marking this bug as SanityOnly verified.",
          "author": "jjaburek@redhat.com",
          "creation_time": "20130117T16:39:56",
          "bug_id": "782912",
          "creator_id": "327802",
          "time": "20130117T16:39:56",
          "id": "5380286",
          "is_private": "False"
        },
        {
          "count": "22",
          "creator": "jjaburek@redhat.com",
          "text": "Chris,\nif you manage to verify the bug using provided CaCs and readers, please provide an update to this bug.\n\nThanks.",
          "author": "jjaburek@redhat.com",
          "creation_time": "20130117T16:42:45",
          "bug_id": "782912",
          "creator_id": "327802",
          "time": "20130117T16:42:45",
          "id": "5380305",
          "is_private": "True"
        },
        {
          "count": "23",
          "creator": "aakkiang@redhat.com",
          "text": "Tested with the following rpms on a RHEL 6.4 workstation\n\nopenssh-5.3p1-84.1.el6.x86_64\ncoolkey-1.1.0-25.el6.x86_64\npcsc-lite-1.5.2-11.el6.x86_64\nnss-3.14.0.0-12.el6.x86_64\n\n\nCAC with 3 certs inserted on a omnikey 3121 reader, I'm getting this error:\n\n# modutil -list -dbdir .\n\nListing of PKCS #11 Modules\n-----------------------------------------------------------\n   1. NSS Internal PKCS #11 Module\n      slots: 2 slots attached\n     status: loaded\n\n      slot: NSS Internal Cryptographic Services\n     token: NSS Generic Crypto Services\n\n      slot: NSS User Private Key and Certificate Services\n     token: NSS Certificate DB\n\n   2. CoolKey PKCS #11 Module\n     library name: libcoolkeypk11.so\n      slots: 1 slot attached\n     status: loaded\n\n      slot: OmniKey CardMan 3121 00 00\n     token: BAKER.GRANT.1160178210\n-----------------------------------------------------------\n\n# ssh-add -n\nCould not open a connection to your authentication agent.\n\n\nssh-add is not asking for smart card pin. Is there any additional set-up necessary?",
          "author": "aakkiang@redhat.com",
          "creation_time": "20130118T20:08:14",
          "bug_id": "782912",
          "creator_id": "271643",
          "time": "20130118T20:08:14",
          "id": "5430543",
          "is_private": "True"
        },
        {
          "count": "24",
          "creator": "rrelyea@redhat.com",
          "text": "Asha, you need to start ssh-agent and set the PID in the environment first:\n\neval `ssh-agent`\n\n(or eval `ssh-agen -c` for csh or tcsh)\n\nI believe that the instructions also assume that you did the modutil in ~/.ssh.\n\nbob",
          "author": "rrelyea@redhat.com",
          "creation_time": "20130118T23:15:51",
          "bug_id": "782912",
          "creator_id": "172385",
          "time": "20130118T23:15:51",
          "id": "5431021",
          "is_private": "True"
        },
        {
          "count": "25",
          "creator": "aakkiang@redhat.com",
          "text": "[root@ nssdb]# pwd\n/etc/pki/nssdb\n[root@ nssdb]# modutil -list -dbdir /etc/pki/nssdb\n\nListing of PKCS #11 Modules\n-----------------------------------------------------------\n  1. NSS Internal PKCS #11 Module\n\t slots: 2 slots attached\n\tstatus: loaded\n\n\t slot: NSS Internal Cryptographic Services\n\ttoken: NSS Generic Crypto Services\n\n\t slot: NSS User Private Key and Certificate Services\n\ttoken: NSS Certificate DB\n\n  2. CoolKey PKCS #11 Module\n\tlibrary name: libcoolkeypk11.so\n\t slots: 1 slot attached\n\tstatus: loaded\n\n\t slot: OmniKey CardMan 3121 00 00\n\ttoken: BAKER.GRANT.1160178210\n-----------------------------------------------------------\n[root@ nssdb]# echo $SHELL\n/bin/bash\n[root@ nssdb]# eval `ssh-agent`\nAgent pid 24814\n[root@ nssdb]# echo $SSH_AUTH_SOCK $SSH_AGENT_PID\n/tmp/ssh-olAwU24813/agent.24813 24814\n[root@ nssdb]# ps -aef | grep ssh-agent\nroot     24814     1  0 17:35 ?        00:00:00 ssh-agent\n[root@ nssdb]# ssh-add -n\n[root@ nssdb]#\n\nStill smart card pin is not requested. Please provide info if any additional set-up needed.",
          "author": "aakkiang@redhat.com",
          "creation_time": "20130121T23:02:33",
          "bug_id": "782912",
          "creator_id": "271643",
          "time": "20130121T23:02:33",
          "id": "5436895",
          "is_private": "True"
        },
        {
          "count": "26",
          "creator": "rrelyea@redhat.com",
          "text": "> modutil -list -dbdir /etc/pki/nssdb\n\nshould be\n\nmodutil -list -dbdir ~/.ssh\n\nor you could set NSS_DB_PATH to /etc/pki/nssdb (which is what I did when playing with ssh-add).\n\nHere's the set up I used from the tcsh when testing a different bug:\n\n\nsetenv NSS_DB_PATH /etc/pki/nssdb\neval `ssh-agent -c`\nssh-add -n\n\n\nfor bash you would use:\n\nexport NSS_DB_PATH=/etc/pki/nssdb\neval `ssh-agent`\nssh-add -n\n\n\nbob",
          "author": "rrelyea@redhat.com",
          "creation_time": "20130121T23:41:46",
          "bug_id": "782912",
          "creator_id": "172385",
          "time": "20130121T23:41:46",
          "id": "5436944",
          "is_private": "True"
        },
        {
          "count": "27",
          "creator": "plautrba@redhat.com",
          "text": "Did #c26 help?",
          "author": "plautrba@redhat.com",
          "creation_time": "20130128T11:48:22",
          "bug_id": "782912",
          "creator_id": "270148",
          "time": "20130128T11:48:22",
          "id": "5455961",
          "is_private": "True"
        },
        {
          "count": "28",
          "creator": "aakkiang@redhat.com",
          "text": "Tested with a Gemalto GCX4 72K CAC card having 3 certificates on a Omnikey 3121 reader.\n\nTyped in a bad password for the first ssh-add attempt, typing a correct pin for the second attempt added the keys.\n\n[BAKER.GRANT.1160178210@dhcp129-143 ~]$ rpm -q openssh coolkey pcsc-lite nss\nopenssh-5.3p1-84.1.el6.x86_64\ncoolkey-1.1.0-26.el6.x86_64\npcsc-lite-1.5.2-11.el6.x86_64\nnss-3.14.0.0-12.el6.x86_64\n[BAKER.GRANT.1160178210@dhcp129-143 ~]$ export NSS_DB_PATH=/etc/pki/nssdb\n[BAKER.GRANT.1160178210@dhcp129-143 ~]$ eval `ssh-agent`\nAgent pid 4474\n[BAKER.GRANT.1160178210@dhcp129-143 ~]$ ssh-add -n\nEnter passphrase for token BAKER.GRANT.1160178210: \nAuthentication on slot 'BAKER.GRANT.1160178210' failed\n[BAKER.GRANT.1160178210@dhcp129-143 ~]$ ssh-add -n\nEnter passphrase for token BAKER.GRANT.1160178210: \nKey added: BAKER.GRANT.1160178210:CAC ID Certificate\nKey added: BAKER.GRANT.1160178210:CAC Email Signature Certificate\nKey added: BAKER.GRANT.1160178210:CAC Email Encryption Certificate\n[BAKER.GRANT.1160178210@dhcp129-143 ~]$ ssh-add -L\nssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAAAgQDANOzQka//HkJRDpSbFCG7KmfXIqe97HQP4aVYq7lXqU5L8J0Wj6tNx/98mWnI1kWJQag/GVfn9O+t7AxyLrxZD0E+2FzQZK7tHEXTqjo4huO7B6ArDYnL2DgmCOJWAm1EllFtZr4aA6gnslHV4ypB5O0y3i/30/iqeumDJQstuQ== CAC ID Certificate\nssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAAAgQDSYK+GLpoQikcvalsf46Vm6uKLVPYsIBiTR5vc6U/1tJ53uIoP6MWZfwZMbHQl8wLMPn1zxDrDmQDA/d95NAEEqRQg8VlzRdT/UFeGU2EZrLa1OrRJmRMUiUnp9aJqxu1FHYsiY+x5crQGOS1Su16Ckgn5w6AgP1/3wK7aXXm/QQ== CAC Email Signature Certificate\nssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAAAgQDHZYAB8L2Fh8Bxw2gCrRrogVLcLl2MeKJFJK6AZAz6J2U/BFd604rOraTx7GtZWWg7F37fzakr1+0XQ0pDcNhiTZghZVyI0SV362RJRDO1cKXRfB/aC1YH+cUtYQsv+GJRDQ+2vZ7v8RksG9SWZemr4mxa9pN6XaEnNEeJFCFCxQ== CAC Email Encryption Certificate\n\nThis bug can be marked verified since typing a correct pin on the second (after an in-correct pin) attempt ssh-add added keys for all the 3 certificates successfully and the card is not locked.\n\nI tried to ssh to another machine when 'ssh-add -L' output is stored in target machine's  ~/.ssh/authorized_keys, it is asking for user's password, where as its expected is to login using the keys and certificates on the smart card. \n\nLooks like there is still an issue with ssh-agent.",
          "author": "aakkiang@redhat.com",
          "creation_time": "20130129T23:09:53",
          "bug_id": "782912",
          "creator_id": "271643",
          "time": "20130129T23:09:53",
          "id": "5462189",
          "is_private": "True"
        },
        {
          "count": "29",
          "creator": "jjaburek@redhat.com",
          "text": "(In reply to comment #28)\n> Tested with a Gemalto GCX4 72K CAC card having 3 certificates on a Omnikey\n> 3121 reader.\n> \n> Typed in a bad password for the first ssh-add attempt, typing a correct pin\n> for the second attempt added the keys.\n> \n<snip>\n> \n> This bug can be marked verified since typing a correct pin on the second\n> (after an in-correct pin) attempt ssh-add added keys for all the 3\n> certificates successfully and the card is not locked.\nI'm switching it to verified then (it's a RFE), as suggested by Karel Srot.\n\n> \n> I tried to ssh to another machine when 'ssh-add -L' output is stored in\n> target machine's  ~/.ssh/authorized_keys, it is asking for user's password,\n> where as its expected is to login using the keys and certificates on the\n> smart card. \n> \n> Looks like there is still an issue with ssh-agent.\nI will open another bug for this issue.\n\nThanks,\nJiri",
          "author": "jjaburek@redhat.com",
          "creation_time": "20130130T12:31:50",
          "bug_id": "782912",
          "creator_id": "327802",
          "time": "20130130T12:31:50",
          "id": "5463760",
          "is_private": "True"
        },
        {
          "count": "30",
          "creator": "jjaburek@redhat.com",
          "text": "(In reply to comment #29)\n> (In reply to comment #28)\n> > \n> > I tried to ssh to another machine when 'ssh-add -L' output is stored in\n> > target machine's  ~/.ssh/authorized_keys, it is asking for user's password,\n> > where as its expected is to login using the keys and certificates on the\n> > smart card. \n> > \n> > Looks like there is still an issue with ssh-agent.\n> I will open another bug for this issue.\n> \nSince this issue seems to be CaC-unrelated and I can't reproduce it, please make sure your setup is correct and try again.\n\nFor example:\n1) create a new user on the destination machine, with valid password\n   - the user won't have any ~/.ssh/ directory\n2) with ssh-agent running and keys loaded (as in your setup), run\n     ssh-copy-id newuser@destination\n   and enter the password - this should copy the public keys\n3) try logging in with ssh -vv newuser@destination, this should now work via the publickey auth\n\nYou can, of course, use ie. localhost.\n\nIf something turns out to be unclear, please ask first before switching this bug to ASSIGNED, as this bug is a part of the openssh 6.4 erratum. I'm publishing this comment here just because your ssh-agent issue _might_ be related to this bug.\n\nThanks,\nJiri",
          "author": "jjaburek@redhat.com",
          "creation_time": "20130130T14:56:11",
          "bug_id": "782912",
          "creator_id": "327802",
          "time": "20130130T14:56:11",
          "id": "5464136",
          "is_private": "True"
        },
        {
          "count": "31",
          "creator": "aakkiang@redhat.com",
          "text": "Thanks for the instructions Jiri. Still getting a password prompt for ssh. Please let me know what is missing here.\n\nI always mark the bug ASSIGNED to get the needed information from the developers.\n\n[BAKER.GRANT.1160178210@dhcp129-143 ~]$ export NSS_DB_PATH=/etc/pki/nssdb\n[BAKER.GRANT.1160178210@dhcp129-143 ~]$ eval `ssh-agent`\nAgent pid 6876\n[BAKER.GRANT.1160178210@dhcp129-143 ~]$ ssh-add -n\n[BAKER.GRANT.1160178210@dhcp129-143 ~]$ ssh-add -n\nEnter passphrase for token BAKER.GRANT.1160178210: \nKey added: BAKER.GRANT.1160178210:CAC ID Certificate\nKey added: BAKER.GRANT.1160178210:CAC Email Signature Certificate\nKey added: BAKER.GRANT.1160178210:CAC Email Encryption Certificate\n[BAKER.GRANT.1160178210@dhcp129-143 ~]$ ssh-add -L\nssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAAAgQDANOzQka//HkJRDpSbFCG7KmfXIqe97HQP4aVYq7lXqU5L8J0Wj6tNx/98mWnI1kWJQag/GVfn9O+t7AxyLrxZD0E+2FzQZK7tHEXTqjo4huO7B6ArDYnL2DgmCOJWAm1EllFtZr4aA6gnslHV4ypB5O0y3i/30/iqeumDJQstuQ== CAC ID Certificate\nssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAAAgQDSYK+GLpoQikcvalsf46Vm6uKLVPYsIBiTR5vc6U/1tJ53uIoP6MWZfwZMbHQl8wLMPn1zxDrDmQDA/d95NAEEqRQg8VlzRdT/UFeGU2EZrLa1OrRJmRMUiUnp9aJqxu1FHYsiY+x5crQGOS1Su16Ckgn5w6AgP1/3wK7aXXm/QQ== CAC Email Signature Certificate\nssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAAAgQDHZYAB8L2Fh8Bxw2gCrRrogVLcLl2MeKJFJK6AZAz6J2U/BFd604rOraTx7GtZWWg7F37fzakr1+0XQ0pDcNhiTZghZVyI0SV362RJRDO1cKXRfB/aC1YH+cUtYQsv+GJRDQ+2vZ7v8RksG9SWZemr4mxa9pN6XaEnNEeJFCFCxQ== CAC Email Encryption Certificate\n[BAKER.GRANT.1160178210@dhcp129-143 ~]$ ssh-copy-id testssh@hp-xw6400-01.rhts.eng.bos.redhat.com\nThe authenticity of host 'hp-xw6400-01.rhts.eng.bos.redhat.com (10.16.65.2)' can't be established.\nRSA key fingerprint is 19:b2:47:7a:18:e9:d1:32:cd:95:8e:eb:7f:1f:5d:dc.\nAre you sure you want to continue connecting (yes/no)? yes\nWarning: Permanently added 'hp-xw6400-01.rhts.eng.bos.redhat.com,10.16.65.2' (RSA) to the list of known hosts.\ntestssh@hp-xw6400-01.rhts.eng.bos.redhat.com's password: \nNow try logging into the machine, with ''ssh 'testssh@hp-xw6400-01.rhts.eng.bos.redhat.com''', and check in:\n\n  .ssh/authorized_keys\n\nto make sure we haven't added extra keys that you weren't expecting.\n\n[BAKER.GRANT.1160178210@dhcp129-143 ~]$ ssh -vv testssh@hp-xw6400-01.rhts.eng.bos.redhat.com\nOpenSSH_5.3p1, OpenSSL 1.0.0-fips 29 Mar 2010\ndebug1: Reading configuration data /etc/ssh/ssh_config\ndebug1: Applying options for *\ndebug2: ssh_connect: needpriv 0\ndebug1: Connecting to hp-xw6400-01.rhts.eng.bos.redhat.com [10.16.65.2] port 22.\ndebug1: Connection established.\ndebug1: identity file /home/BAKER.GRANT.1160178210/.ssh/identity type -1\ndebug1: identity file /home/BAKER.GRANT.1160178210/.ssh/id_rsa type -1\ndebug1: identity file /home/BAKER.GRANT.1160178210/.ssh/id_dsa type -1\ndebug1: Remote protocol version 2.0, remote software version OpenSSH_5.3\ndebug1: match: OpenSSH_5.3 pat OpenSSH*\ndebug1: Enabling compatibility mode for protocol 2.0\ndebug1: Local version string SSH-2.0-OpenSSH_5.3\ndebug2: fd 3 setting O_NONBLOCK\ndebug1: SSH2_MSG_KEXINIT sent\ndebug1: SSH2_MSG_KEXINIT received\ndebug2: kex_parse_kexinit: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1\ndebug2: kex_parse_kexinit: ssh-rsa,ssh-dss\ndebug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se\ndebug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se\ndebug2: kex_parse_kexinit: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\ndebug2: kex_parse_kexinit: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\ndebug2: kex_parse_kexinit: none,zlib@openssh.com,zlib\ndebug2: kex_parse_kexinit: none,zlib@openssh.com,zlib\ndebug2: kex_parse_kexinit: \ndebug2: kex_parse_kexinit: \ndebug2: kex_parse_kexinit: first_kex_follows 0 \ndebug2: kex_parse_kexinit: reserved 0 \ndebug2: kex_parse_kexinit: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1\ndebug2: kex_parse_kexinit: ssh-rsa,ssh-dss\ndebug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se\ndebug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se\ndebug2: kex_parse_kexinit: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\ndebug2: kex_parse_kexinit: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\ndebug2: kex_parse_kexinit: none,zlib@openssh.com\ndebug2: kex_parse_kexinit: none,zlib@openssh.com\ndebug2: kex_parse_kexinit: \ndebug2: kex_parse_kexinit: \ndebug2: kex_parse_kexinit: first_kex_follows 0 \ndebug2: kex_parse_kexinit: reserved 0 \ndebug2: mac_setup: found hmac-md5\ndebug1: kex: server->client aes128-ctr hmac-md5 none\ndebug2: mac_setup: found hmac-md5\ndebug1: kex: client->server aes128-ctr hmac-md5 none\ndebug1: SSH2_MSG_KEX_DH_GEX_REQUEST(1024<1024<8192) sent\ndebug1: expecting SSH2_MSG_KEX_DH_GEX_GROUP\ndebug2: dh_gen_key: priv key bits set: 126/256\ndebug2: bits set: 523/1024\ndebug1: SSH2_MSG_KEX_DH_GEX_INIT sent\ndebug1: expecting SSH2_MSG_KEX_DH_GEX_REPLY\ndebug1: Host 'hp-xw6400-01.rhts.eng.bos.redhat.com' is known and matches the RSA host key.\ndebug1: Found key in /home/BAKER.GRANT.1160178210/.ssh/known_hosts:2\ndebug2: bits set: 510/1024\ndebug1: ssh_rsa_verify: signature correct\ndebug2: kex_derive_keys\ndebug2: set_newkeys: mode 1\ndebug1: SSH2_MSG_NEWKEYS sent\ndebug1: expecting SSH2_MSG_NEWKEYS\ndebug2: set_newkeys: mode 0\ndebug1: SSH2_MSG_NEWKEYS received\ndebug1: SSH2_MSG_SERVICE_REQUEST sent\ndebug2: service_accept: ssh-userauth\ndebug1: SSH2_MSG_SERVICE_ACCEPT received\ndebug2: key: CAC ID Certificate (0x7fd61a7daa70)\ndebug2: key: CAC Email Signature Certificate (0x7fd61a7dabf0)\ndebug2: key: CAC Email Encryption Certificate (0x7fd61a7d9ca0)\ndebug2: key: /home/BAKER.GRANT.1160178210/.ssh/identity ((nil))\ndebug2: key: /home/BAKER.GRANT.1160178210/.ssh/id_rsa ((nil))\ndebug2: key: /home/BAKER.GRANT.1160178210/.ssh/id_dsa ((nil))\ndebug1: Authentications that can continue: publickey,gssapi-keyex,gssapi-with-mic,password\ndebug1: Next authentication method: gssapi-keyex\ndebug1: No valid Key exchange context\ndebug2: we did not send a packet, disable method\ndebug1: Next authentication method: gssapi-with-mic\ndebug1: Unspecified GSS failure.  Minor code may provide more information\nCredentials cache file '/tmp/krb5cc_501' not found\n\ndebug1: Unspecified GSS failure.  Minor code may provide more information\nCredentials cache file '/tmp/krb5cc_501' not found\n\ndebug1: Unspecified GSS failure.  Minor code may provide more information\n\n\ndebug1: Unspecified GSS failure.  Minor code may provide more information\nCredentials cache file '/tmp/krb5cc_501' not found\n\ndebug2: we did not send a packet, disable method\ndebug1: Next authentication method: publickey\ndebug1: Offering public key: CAC ID Certificate\ndebug2: we sent a publickey packet, wait for reply\ndebug1: Server accepts key: pkalg ssh-rsa blen 151\ndebug2: input_userauth_pk_ok: SHA1 fp 85:0b:3f:25:cc:a5:70:70:83:2c:11:bc:cd:d4:77:7e:1b:33:68:e6\ndebug1: Authentications that can continue: publickey,gssapi-keyex,gssapi-with-mic,password\ndebug1: Offering public key: CAC Email Signature Certificate\ndebug2: we sent a publickey packet, wait for reply\ndebug1: Server accepts key: pkalg ssh-rsa blen 151\ndebug2: input_userauth_pk_ok: SHA1 fp 10:e9:7d:f8:7b:40:99:f3:67:7d:bb:f1:04:8f:b4:d8:ad:e8:fc:be\ndebug1: Authentications that can continue: publickey,gssapi-keyex,gssapi-with-mic,password\ndebug1: Offering public key: CAC Email Encryption Certificate\ndebug2: we sent a publickey packet, wait for reply\ndebug1: Server accepts key: pkalg ssh-rsa blen 151\ndebug2: input_userauth_pk_ok: SHA1 fp 37:be:9e:62:15:1d:cf:61:b0:7a:4d:19:3a:5c:3d:83:50:91:27:e7\ndebug1: Authentications that can continue: publickey,gssapi-keyex,gssapi-with-mic,password\ndebug1: Trying private key: /home/BAKER.GRANT.1160178210/.ssh/identity\ndebug1: Trying private key: /home/BAKER.GRANT.1160178210/.ssh/id_rsa\ndebug1: Trying private key: /home/BAKER.GRANT.1160178210/.ssh/id_dsa\ndebug2: we did not send a packet, disable method\ndebug1: Next authentication method: password\ntestssh@hp-xw6400-01.rhts.eng.bos.redhat.com's password:",
          "author": "aakkiang@redhat.com",
          "creation_time": "20130130T17:44:48",
          "bug_id": "782912",
          "creator_id": "271643",
          "time": "20130130T17:44:48",
          "id": "5464777",
          "is_private": "True"
        },
        {
          "count": "32",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHSA-2013-0519.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20130221T10:27:46",
          "bug_id": "782912",
          "creator_id": "241731",
          "time": "20130221T10:27:46",
          "id": "5529757",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.4"
      ],
      "cc": [
        "aakkiang@redhat.com",
        "chhudson@redhat.com",
        "james.brown@redhat.com",
        "jgalipea@redhat.com",
        "jjaburek@redhat.com",
        "jkodak@redhat.com",
        "ksrot@redhat.com",
        "mvadkert@redhat.com",
        "pvrabec@redhat.com",
        "rrelyea@redhat.com"
      ],
      "cf_verified": [
        "FailedQA",
        "SanityOnly"
      ],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "772279",
        "782183",
        "840699"
      ],
      "qa_contact": "jjaburek@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Enhancement",
      "cf_clone_of": "0",
      "groups": [
        "private"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "RFE: ssh-add should only read ID cert off of CaC card",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "-",
          "name": "qe_test_coverage",
          "modification_date": "20121015T09:52:28",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20121009T16:33:46",
          "id": "1158301",
          "setter": "jjaburek@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.4.0",
          "modification_date": "20121009T16:33:32",
          "type_id": "326",
          "is_active": "0",
          "creation_date": "20120425T14:33:36",
          "id": "1035938",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20120724T18:43:45",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20120118T21:05:35",
          "id": "962267",
          "setter": "snagar@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20121009T16:12:55",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20120203T15:46:01",
          "id": "974077",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20121009T16:29:05",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20120203T15:46:01",
          "id": "974078",
          "setter": "mvadkert@redhat.com"
        }
      ],
      "last_change_time": "20131121T20:02:07",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509328-BbA9f7ZSL6siVft-n6MICvH414P9Tjuf4s0WK6CeHnI",
      "cf_partner": [],
      "cf_last_closed": "20130221T10:27:46",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20120322T12:14:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "None",
          "ext_bz_bug_id": "147665",
          "bug_id": "805901",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "69",
          "type": {
            "must_send": "False",
            "description": "TCMS Test Case",
            "url": "https://tcms.engineering.redhat.com",
            "can_get": "False",
            "id": "69",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          },
          "id": "66967"
        }
      ],
      "id": "805901",
      "cf_release_notes": "No Documentation needed",
      "priority": "high",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-75.el6",
      "creator": "mbriza@redhat.com",
      "comments": [
        {
          "count": "0",
          "attachment_id": "571974",
          "author": "mbriza@redhat.com",
          "text": "Created attachment 571974\n''Added'' log of Coverity scans, just defects added between RHEL 6.2 and RHEL 6.3\n\nDifference of Coverity scans of openssh-5.3p1-70.el6 and openssh-5.3p1-73.el6 in RHEL 6.2 and 6.3 respectively revealed the following issues added between those two versions:\n\nAll the file names and line numbers are according to openssh-5.3p1-74.el6 as the bugs are still present there.\n\nin file monitor.c on line 457 there begins a dead part of code, as the condition ''!no_increment'' is always evaluated as false because a true value is passed to it every time the cycle runs (lines 419 and 451). This is not a great issue, but it could cause problems somewhere else, so please check this.\n\nin file servconf.c there is a NULL check after the pointer was dereferenced twice - on line 1236 (dereferencing call on 1233) and on line 1249 (dereferencing call on 1246).\n\nin file auth2-chall.c pointer kbdintctxt is dereferenced in condition starting on line 344 even though it could have been freed in auth2_challenge_stop called on line 337 making pointer kbdintctxt pointing to a invalid memory area resulting in undefined behavior.\n\nI'm attaching both the difference and the last Coverity scan for openssh-5.3p1-73.el6.",
          "creator": "mbriza@redhat.com",
          "creation_time": "20120322T12:14:22",
          "bug_id": "805901",
          "creator_id": "327259",
          "time": "20120322T12:14:22",
          "id": "4540321",
          "is_private": "False"
        },
        {
          "count": "1",
          "attachment_id": "571975",
          "author": "mbriza@redhat.com",
          "text": "Created attachment 571975\nComplete Coverity scan log",
          "creator": "mbriza@redhat.com",
          "creation_time": "20120322T12:16:31",
          "bug_id": "805901",
          "creator_id": "327259",
          "time": "20120322T12:16:31",
          "id": "4540326",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "kdudka@redhat.com",
          "text": "(In reply to comment #0)\n> ''Added'' log of Coverity scans, just defects added between RHEL 6.2 and RHEL 6.3\n> \n> openssh-5.3p1-73.el6.\n\nhttps://dell-per610-03.lab.eng.brq.redhat.com/coverity/rhel-6.3-20120307/openssh-5.3p1-73.el6/openssh-5.3p1-73.el6.added.html\n\n(In reply to comment #1)\n> Complete Coverity scan log\n\nhttps://dell-per610-03.lab.eng.brq.redhat.com/coverity/rhel-6.3-20120307/openssh-5.3p1-73.el6/run1/openssh-5.3p1-73.el6.html",
          "author": "kdudka@redhat.com",
          "creation_time": "20120322T12:21:20",
          "bug_id": "805901",
          "creator_id": "267952",
          "time": "20120322T12:21:20",
          "id": "4540334",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "mvadkert@redhat.com",
          "text": "QA_ACK+ for RHEL6.3\n\nThis should be fixed as it it a bug in the added functionality. The patch is not yet accepted upstream.\n\nCoverity guys, can you rerun coverity if we have a new build? We would use this as a part of verification.\n\nTo reproduce the issue add a test that tests:\n1. if empty argument given for RequireAuthentization2 -> no segfault\n2. successful login via more authentication mechanisms doesn't print failure in log",
          "author": "mvadkert@redhat.com",
          "creation_time": "20120328T08:26:40",
          "bug_id": "805901",
          "creator_id": "271572",
          "time": "20120328T08:26:40",
          "id": "4554491",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "mvadkert@redhat.com",
          "text": "Adjusting severity/priority as there is a segfault here",
          "author": "mvadkert@redhat.com",
          "creation_time": "20120328T08:47:47",
          "bug_id": "805901",
          "creator_id": "271572",
          "time": "20120328T08:47:47",
          "id": "4554540",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "ovasik@redhat.com",
          "text": "Yes, we will rerun the coverity with a new build and confirm the issue is gone (once the new build will be available). We are doing that for all CoverityScan reported bugzillas.",
          "author": "ovasik@redhat.com",
          "creation_time": "20120328T12:13:49",
          "bug_id": "805901",
          "creator_id": "213086",
          "time": "20120328T12:13:49",
          "id": "4554970",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "plautrba@redhat.com",
          "text": "I've made a fix for issues from the comment #c0 and sent it to the upstream. Thanks for the report.",
          "author": "plautrba@redhat.com",
          "creation_time": "20120328T12:54:30",
          "bug_id": "805901",
          "creator_id": "270148",
          "time": "20120328T12:54:30",
          "id": "4555074",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from MODIFIED to ON_QA status by the Errata System: \nAdvisory RHBA-2012:12754-01: \nhttp://errata.devel.redhat.com/errata/stateview/12754",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120330T18:35:03",
          "bug_id": "805901",
          "creator_id": "241731",
          "time": "20120330T18:35:03",
          "id": "4564054",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "ovasik@redhat.com",
          "text": "These 6 defects were fixed in RHEL-6.3 openssh between -74.el6 and -76.el6:\ncsdiff -z ../20120406/RHEL-6.3/openssh-5.3p1-76.el6/run1/openssh-5.3p1-76.el6.err ../20120323/RHEL-6.3/openssh-5.3p1-74.el6/run1/openssh-5.3p1-74.el6.err\n\nError: FORWARD_NULL:\n/builddir/build/BUILD/openssh-5.3p1/auth2.c:493: var_compare_op: Comparing ''m->enabled'' to null implies that ''m->enabled'' might be null.\n/builddir/build/BUILD/openssh-5.3p1/auth2.c:499: var_deref_op: Dereferencing null variable ''m->enabled''.\n\nError: NULL_RETURNS:\n/builddir/build/BUILD/openssh-5.3p1/dh.c:52: example_checked: ''strdelim(&cp)'' has its value checked in ''(arg = strdelim(&cp)) == NULL''.\n/builddir/build/BUILD/openssh-5.3p1/dh.c:56: example_assign: Assigning: ''arg'' = return value from ''strdelim(&cp)''.\n/builddir/build/BUILD/openssh-5.3p1/dh.c:57: example_checked: ''arg'' has its value checked in ''arg''.\n/builddir/build/BUILD/openssh-5.3p1/ldapconf.c:146: example_checked: ''strdelim(&s)'' has its value checked in ''(keyword = strdelim(&s)) == NULL''.\n/builddir/build/BUILD/openssh-5.3p1/ldapconf.c:150: example_assign: Assigning: ''keyword'' = return value from ''strdelim(&s)''.\n/builddir/build/BUILD/openssh-5.3p1/ldapconf.c:151: example_checked: ''keyword'' has its value checked in ''keyword == NULL''.\n/builddir/build/BUILD/openssh-5.3p1/ldapconf.c:186: example_assign: Assigning: ''arg'' = return value from ''strdelim(&s)''.\n/builddir/build/BUILD/openssh-5.3p1/ldapconf.c:187: example_checked: ''arg'' has its value checked in ''arg''.\n/builddir/build/BUILD/openssh-5.3p1/servconf.c:1245: returned_null: Function ''strdelim'' returns null (checked 74 out of 81 times).\n/builddir/build/BUILD/openssh-5.3p1/misc.c:166: return_null: Explicitly returning NULL.\n/builddir/build/BUILD/openssh-5.3p1/servconf.c:1245: var_assigned: Assigning: ''arg'' = null return value from ''strdelim''.\n/builddir/build/BUILD/openssh-5.3p1/servconf.c:1246: dereference: Dereferencing a pointer that might be null ''arg'' when calling ''auth2_check_required''.\n/builddir/build/BUILD/openssh-5.3p1/auth2.c:475: deref_parm_in_call: Function ''xstrdup'' dereferences parameter ''list''.\n/builddir/build/BUILD/openssh-5.3p1/xmalloc.c:90: deref_parm_in_call: Function ''strlen'' dereferences parameter ''str''. (The dereference is assumed on the basis of the 'nonnull' parameter attribute.)\n\nError: NULL_RETURNS:\n/builddir/build/BUILD/openssh-5.3p1/dh.c:52: example_checked: ''strdelim(&cp)'' has its value checked in ''(arg = strdelim(&cp)) == NULL''.\n/builddir/build/BUILD/openssh-5.3p1/dh.c:56: example_assign: Assigning: ''arg'' = return value from ''strdelim(&cp)''.\n/builddir/build/BUILD/openssh-5.3p1/dh.c:57: example_checked: ''arg'' has its value checked in ''arg''.\n/builddir/build/BUILD/openssh-5.3p1/ldapconf.c:146: example_checked: ''strdelim(&s)'' has its value checked in ''(keyword = strdelim(&s)) == NULL''.\n/builddir/build/BUILD/openssh-5.3p1/ldapconf.c:150: example_assign: Assigning: ''keyword'' = return value from ''strdelim(&s)''.\n/builddir/build/BUILD/openssh-5.3p1/ldapconf.c:151: example_checked: ''keyword'' has its value checked in ''keyword == NULL''.\n/builddir/build/BUILD/openssh-5.3p1/ldapconf.c:186: example_assign: Assigning: ''arg'' = return value from ''strdelim(&s)''.\n/builddir/build/BUILD/openssh-5.3p1/ldapconf.c:187: example_checked: ''arg'' has its value checked in ''arg''.\n/builddir/build/BUILD/openssh-5.3p1/servconf.c:1407: returned_null: Function ''strdelim'' returns null (checked 74 out of 81 times).\n/builddir/build/BUILD/openssh-5.3p1/misc.c:166: return_null: Explicitly returning NULL.\n/builddir/build/BUILD/openssh-5.3p1/servconf.c:1407: var_assigned: Assigning: ''arg'' = null return value from ''strdelim''.\n/builddir/build/BUILD/openssh-5.3p1/servconf.c:1409: dereference: Dereferencing a pointer that might be null ''arg'' when calling ''xstrdup''.\n/builddir/build/BUILD/openssh-5.3p1/xmalloc.c:90: deref_parm_in_call: Function ''strlen'' dereferences parameter ''str''. (The dereference is assumed on the basis of the 'nonnull' parameter attribute.)\n\nError: REVERSE_INULL:\n/builddir/build/BUILD/openssh-5.3p1/servconf.c:1233: deref_ptr_in_call: Dereferencing pointer ''arg''.\n/builddir/build/BUILD/openssh-5.3p1/auth1.c:121: deref_parm_in_call: Function ''xstrdup'' dereferences parameter ''list''.\n/builddir/build/BUILD/openssh-5.3p1/xmalloc.c:90: deref_parm_in_call: Function ''strlen'' dereferences parameter ''str''. (The dereference is assumed on the basis of the 'nonnull' parameter attribute.)\n/builddir/build/BUILD/openssh-5.3p1/servconf.c:1236: check_after_deref: Dereferencing ''arg'' before a null check.\n\nError: REVERSE_INULL:\n/builddir/build/BUILD/openssh-5.3p1/servconf.c:1246: deref_ptr_in_call: Dereferencing pointer ''arg''.\n/builddir/build/BUILD/openssh-5.3p1/auth2.c:475: deref_parm_in_call: Function ''xstrdup'' dereferences parameter ''list''.\n/builddir/build/BUILD/openssh-5.3p1/xmalloc.c:90: deref_parm_in_call: Function ''strlen'' dereferences parameter ''str''. (The dereference is assumed on the basis of the 'nonnull' parameter attribute.)\n/builddir/build/BUILD/openssh-5.3p1/servconf.c:1249: check_after_deref: Dereferencing ''arg'' before a null check.\n\nError: USE_AFTER_FREE:\n/builddir/build/BUILD/openssh-5.3p1/auth2-chall.c:290: alias: Assigning: ''kbdintctxt'' = ''authctxt->kbdintctxt''. Now both point to the same storage.\n/builddir/build/BUILD/openssh-5.3p1/auth2-chall.c:337: freed_arg: ''auth2_challenge_stop'' frees ''authctxt->kbdintctxt''.\n/builddir/build/BUILD/openssh-5.3p1/auth2-chall.c:210: freed_arg: ''kbdint_free'' frees parameter ''authctxt->kbdintctxt''.\n/builddir/build/BUILD/openssh-5.3p1/auth2-chall.c:154: freed_arg: ''xfree'' frees parameter ''kbdintctxt''.\n/builddir/build/BUILD/openssh-5.3p1/xmalloc.c:81: freed_arg: ''free'' frees parameter ''ptr''.\n/builddir/build/BUILD/openssh-5.3p1/auth2-chall.c:344: deref_after_free: Dereferencing freed pointer ''kbdintctxt''.",
          "author": "ovasik@redhat.com",
          "creation_time": "20120412T12:53:55",
          "bug_id": "805901",
          "creator_id": "213086",
          "time": "20120412T12:53:55",
          "id": "4589688",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "plautrba@redhat.com",
          "text": "There is a new build which should fix remaining DEADCODE issue",
          "author": "plautrba@redhat.com",
          "creation_time": "20120420T13:51:43",
          "bug_id": "805901",
          "creator_id": "270148",
          "time": "20120420T13:51:43",
          "id": "4609695",
          "is_private": "True"
        },
        {
          "count": "10",
          "creator": "ovasik@redhat.com",
          "text": "Confirmed - deadcode defect is gone... thanks\n\ncsdiff -z ../20120422/RHEL-6.3/openssh-5.3p1-78.el6/run1/openssh-5.3p1-78.el6.err ../20120406/RHEL-6.3/openssh-5.3p1-76.el6/run1/openssh-5.3p1-76.el6.err\n\nError: DEADCODE:\n/builddir/build/BUILD/openssh-5.3p1/monitor.c:458: dead_error_condition: On this path, the condition ''no_increment'' cannot be false.\n/builddir/build/BUILD/openssh-5.3p1/monitor.c:419: const: After this line, the value of ''no_increment'' is equal to 1.\n/builddir/build/BUILD/openssh-5.3p1/monitor.c:451: const: After this line, the value of ''no_increment'' is equal to 1.\n/builddir/build/BUILD/openssh-5.3p1/monitor.c:419: assignment: Assigning: ''no_increment'' = ''1''.\n/builddir/build/BUILD/openssh-5.3p1/monitor.c:451: assignment: Assigning: ''no_increment'' = ''1''.\n/builddir/build/BUILD/openssh-5.3p1/monitor.c:459: dead_error_line: Execution cannot reach this statement ''authctxt->failures++;''.",
          "author": "ovasik@redhat.com",
          "creation_time": "20120426T11:40:42",
          "bug_id": "805901",
          "creator_id": "213086",
          "time": "20120426T11:40:42",
          "id": "4630442",
          "is_private": "True"
        },
        {
          "count": "11",
          "creator": "mvadkert@redhat.com",
          "text": "Thanks Ondrej for the confirmation.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20120426T11:50:21",
          "bug_id": "805901",
          "creator_id": "271572",
          "time": "20120426T11:50:21",
          "id": "4630473",
          "is_private": "True"
        },
        {
          "count": "12",
          "creator": "plautrba@redhat.com",
          "text": "\n    Technical note added. If any revisions are required, please edit the ''Technical Notes'' field\n    accordingly. All revisions will be proofread by the Engineering Content Services team.\n    \n    New Contents:\nNo Documentation needed",
          "author": "plautrba@redhat.com",
          "creation_time": "20120427T13:14:08",
          "bug_id": "805901",
          "creator_id": "270148",
          "time": "20120427T13:14:08",
          "id": "4633842",
          "is_private": "False"
        },
        {
          "count": "13",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2012:12754-01: \nhttp://errata.devel.redhat.com/errata/stateview/12754\n\nVERIFIED as fixed in openssh-5.3p1-81.el6\nCoverity rescan shows no more dead code. Added reproducer to test\n/CoreOS/openssh/Sanity/bz657378-RequiredAuthentications\nand no more failures reported in case of successful authorization\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: RequireAuthentication2 password,publickey\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'cp -f sshd_config /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running 'sed -i 's|.*RequiredAuthentications2.*|RequiredAuthentications2 password,publickey|g' /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running 'service sshd restart'\n:: [   LOG    ] :: Conecting from root to sshtest17286\n:: [   PASS   ] :: Running 'sshConnect sshtest17286 sshtest17286'\n:: [   PASS   ] :: Running 'rm -f /var/log/secure'\n:: [   PASS   ] :: Running 'service rsyslog restart'\n:: [   LOG    ] :: Conecting from sshtest17286 to sshtest27605 with two factor auth\n:: [   PASS   ] :: Running 'sshTwoFactor sshtest17286 sshtest17286 sshtest27605 sshtest27605'\n:: [   PASS   ] :: Running 'grep failures /var/log/secure'\n:: [   PASS   ] :: File '/var/log/secure' should not contain 'failures [1-9]'\n:: [   LOG    ] :: Conecting from sshtest17286 to sshtest27605 with two factor auth\n:: [   PASS   ] :: Running 'sshTwoFactor sshtest17286 sshtest17286 sshtest27605 badpass'\n:: [   LOG    ] :: Duration: 3s\n:: [   LOG    ] :: Assertions: 10 good, 0 bad\n:: [   PASS   ] :: RESULT: RequireAuthentication2 password,publickey",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120516T08:20:02",
          "bug_id": "805901",
          "creator_id": "241731",
          "time": "20120516T08:20:02",
          "id": "4677185",
          "is_private": "True"
        },
        {
          "count": "14",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHSA-2012-0884.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120620T07:17:35",
          "bug_id": "805901",
          "creator_id": "241731",
          "time": "20120620T07:17:35",
          "id": "4841692",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.3"
      ],
      "cc": [
        "kdudka@redhat.com",
        "mvadkert@redhat.com",
        "ovasik@redhat.com",
        "pvrabec@redhat.com",
        "syeghiay@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "redhat"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "CoverityScan",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "Possible null dereferences and dead code",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20120402T09:14:34",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20120328T08:44:33",
          "id": "1016359",
          "setter": "mvadkert@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.3.0",
          "modification_date": "20120328T08:32:05",
          "type_id": "276",
          "is_active": "0",
          "creation_date": "20120322T12:14:22",
          "id": "1010728",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20120322T12:27:25",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20120322T12:14:22",
          "id": "1010729",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20120328T07:19:53",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20120322T12:14:22",
          "id": "1010730",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20120328T08:26:40",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20120322T12:14:22",
          "id": "1010731",
          "setter": "mvadkert@redhat.com"
        }
      ],
      "last_change_time": "20120620T07:17:35",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509328-o7I2kShxvc2AYyzWuSrjdl5DtiB4DWn_7mSBPDXZdpg",
      "cf_partner": [],
      "cf_last_closed": "20120620T07:17:35",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "100",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20120420T12:31:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "814691",
      "cf_release_notes": "No Documentation needed",
      "priority": "high",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-78.el6",
      "creator": "mmalik@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "mmalik@redhat.com",
          "text": "An automated test found this issue. Here is the full output: http://beaker-archive.app.eng.bos.redhat.com/beaker-logs/2012/04/2189/218953/465330/5365753/TESTOUT.log\n\nVersion-Release number of selected component (if applicable):\nRHEL6.3-20120411.1\nselinux-policy-3.7.19-145.el6.noarch\nselinux-policy-targeted-3.7.19-145.el6.noarch\n\nSteps to Reproduce:\n1) useradd -Z user_u user1234 # other possibilities are guest_u and staff_u\n2) passwd user1234\n3) chage -d 0 user1234\n4) ssh user1234@127.0.0.1\n5) ausearch -m avc -ts recent\n\nActual results: \n----\ntime->Mon Apr 16 16:01:02 2012\ntype=SYSCALL msg=audit(1334606462.690:139610): arch=40000003 syscall=4 success=no exit=-13 a0=4 a1=e372f0 a2=1b a3=e372f0 items=0 ppid=30672 pid=30673 auid=503 uid=503 gid=504 euid=503 suid=503 fsuid=503 egid=504 sgid=504 fsgid=504 tty=pts2 ses=100 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=guest_u:guest_r:guest_t:s0 key=(null)\ntype=AVC msg=audit(1334606462.690:139610): avc:  denied  { setcurrent } for  pid=30673 comm=''sshd'' scontext=guest_u:guest_r:guest_t:s0 tcontext=guest_u:guest_r:guest_t:s0 tclass=process\n----\ntime->Mon Apr 16 16:01:02 2012\ntype=SYSCALL msg=audit(1334606462.691:139611): arch=40000003 syscall=102 success=no exit=-13 a0=3 a1=bfa583fc a2=83aff4 a3=ffffff54 items=0 ppid=30672 pid=30673 auid=503 uid=503 gid=504 euid=503 suid=503 fsuid=503 egid=504 sgid=504 fsgid=504 tty=pts2 ses=100 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=guest_u:guest_r:guest_t:s0 key=(null)\ntype=AVC msg=audit(1334606462.691:139611): avc:  denied  { write } for  pid=30673 comm=''sshd'' name=''log'' dev=devtmpfs ino=1674305 scontext=guest_u:guest_r:guest_t:s0 tcontext=unconfined_u:object_r:devlog_t:s0 tclass=sock_file\n----\ntime->Mon Apr 16 16:01:36 2012\ntype=SYSCALL msg=audit(1334606496.705:139652): arch=40000003 syscall=4 success=no exit=-13 a0=4 a1=88e2f0 a2=18 a3=88e2f0 items=0 ppid=31012 pid=31013 auid=503 uid=503 gid=504 euid=503 suid=503 fsuid=503 egid=504 sgid=504 fsgid=504 tty=pts2 ses=101 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=user_u:user_r:user_t:s0 key=(null)\ntype=AVC msg=audit(1334606496.705:139652): avc:  denied  { setcurrent } for  pid=31013 comm=''sshd'' scontext=user_u:user_r:user_t:s0 tcontext=user_u:user_r:user_t:s0 tclass=process\n----\ntime->Mon Apr 16 16:01:36 2012\ntype=SYSCALL msg=audit(1334606496.715:139653): arch=40000003 syscall=213 success=yes exit=0 a0=0 a1=bffd0fd8 a2=9 a3=d5 items=0 ppid=31013 pid=31014 auid=503 uid=503 gid=504 euid=0 suid=0 fsuid=0 egid=504 sgid=504 fsgid=504 tty=pts2 ses=101 comm=''passwd'' exe=''/usr/bin/passwd'' subj=user_u:user_r:user_t:s0 key=(null)\ntype=AVC msg=audit(1334606496.715:139653): avc:  denied  { setuid } for  pid=31014 comm=''passwd'' capability=7  scontext=user_u:user_r:user_t:s0 tcontext=user_u:user_r:user_t:s0 tclass=capability\n----\ntime->Mon Apr 16 16:02:11 2012\ntype=SYSCALL msg=audit(1334606531.090:139696): arch=40000003 syscall=4 success=no exit=-13 a0=4 a1=1527d18 a2=27 a3=1527d18 items=0 ppid=31354 pid=31355 auid=503 uid=503 gid=504 euid=503 suid=503 fsuid=503 egid=504 sgid=504 fsgid=504 tty=pts2 ses=102 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=staff_u:staff_r:staff_t:s0-s0:c0.c1023 key=(null)\ntype=AVC msg=audit(1334606531.090:139696): avc:  denied  { setcurrent } for  pid=31355 comm=''sshd'' scontext=staff_u:staff_r:staff_t:s0-s0:c0.c1023 tcontext=staff_u:staff_r:staff_t:s0-s0:c0.c1023 tclass=process\n----\ntime->Mon Apr 16 16:02:11 2012\ntype=SYSCALL msg=audit(1334606531.101:139697): arch=40000003 syscall=213 success=yes exit=0 a0=0 a1=bfd13468 a2=9 a3=d5 items=0 ppid=31355 pid=31356 auid=503 uid=503 gid=504 euid=0 suid=0 fsuid=0 egid=504 sgid=504 fsgid=504 tty=pts2 ses=102 comm=''passwd'' exe=''/usr/bin/passwd'' subj=staff_u:staff_r:staff_t:s0-s0:c0.c1023 key=(null)\ntype=AVC msg=audit(1334606531.101:139697): avc:  denied  { setuid } for  pid=31356 comm=''passwd'' capability=7  scontext=staff_u:staff_r:staff_t:s0-s0:c0.c1023 tcontext=staff_u:staff_r:staff_t:s0-s0:c0.c1023 tclass=capability\n----\n\nExpected results:\n* no AVCs",
          "author": "mmalik@redhat.com",
          "creation_time": "20120420T12:31:28",
          "bug_id": "814691",
          "creator_id": "261258",
          "time": "20120420T12:31:28",
          "id": "4609414",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "dwalsh@redhat.com",
          "text": "Ok this looks like to different problems.  The main one is sshd is executing passwd on behalf of the user but it is doing this after setexecon, so passwd ends up running as staff_t or xguest_t rather then transitioning to passwd_t.\n\nThe easiest way to fix this would be to have sshd execute sh -c passwd, rather then passwd directly.  Or we could build smarts into sshd to ask the kernel what context to execute passwd as,when it is running as staff_t.\n\nThis problem is probably being caused by the fix to run the ''sshd'' user session as the user type rather then the sshd_t.",
          "author": "dwalsh@redhat.com",
          "creation_time": "20120420T13:51:14",
          "bug_id": "814691",
          "creator_id": "81625",
          "time": "20120420T13:51:14",
          "id": "4609693",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "tmraz@redhat.com",
          "text": "We had this discussion before. Could it be solved just by clearing the execcon before running passwd now that the sshd user session process is running with the user context?",
          "author": "tmraz@redhat.com",
          "creation_time": "20120420T14:20:23",
          "bug_id": "814691",
          "creator_id": "167996",
          "time": "20120420T14:20:23",
          "id": "4609778",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "dwalsh@redhat.com",
          "text": "Yes\n\nsetexeccon(NULL) \n\nShould fix the problem.",
          "author": "dwalsh@redhat.com",
          "creation_time": "20120420T15:21:15",
          "bug_id": "814691",
          "creator_id": "81625",
          "time": "20120420T15:21:15",
          "id": "4610033",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "plautrba@redhat.com",
          "text": "This needs also selinux policy change, at least for user_t:\n\ntype=AVC msg=audit(1335185490.074:962): avc: denied { setexec } for pid=3388 comm=''sshd'' scontext=user_u:user_r:user_t:s0 tcontext=user_u:user_r:user_t:s0 tclass=process\n\n# sesearch -A -s user_t -t user_t -c process -p setexec\n\n# sesearch -A -s staff_t -t staff_t -c process -p setexec\nFound 1 semantic av rules:\n   allow staff_t staff_t : process { fork transition sigchld sigkill sigstop signull signal ptrace getsched setsched getsession getpgid setpgid getcap setcap share getattr setexec setfscreate noatsecure siginh rlimitinh dyntransition setkeycreate setsockcreate } ;\n\n# rpm -q selinux-policy\nselinux-policy-3.7.19-146.el6.noarch",
          "author": "plautrba@redhat.com",
          "creation_time": "20120423T13:09:38",
          "bug_id": "814691",
          "creator_id": "270148",
          "time": "20120423T13:09:38",
          "id": "4620293",
          "is_private": "False"
        },
        {
          "count": "5",
          "attachment_id": "579533",
          "author": "plautrba@redhat.com",
          "text": "Created attachment 579533\nupdated openssh-5.3p1-selinux-privsep.patch patch",
          "creator": "plautrba@redhat.com",
          "creation_time": "20120423T13:10:49",
          "bug_id": "814691",
          "creator_id": "270148",
          "time": "20120423T13:10:49",
          "id": "4620299",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "dwalsh@redhat.com",
          "text": "Yes all confined users need this ability.  Miroslav can you add this?",
          "author": "dwalsh@redhat.com",
          "creation_time": "20120423T15:20:02",
          "bug_id": "814691",
          "creator_id": "81625",
          "time": "20120423T15:20:02",
          "id": "4620827",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "ksrot@redhat.com",
          "text": "qa_ack+ for 6.3",
          "author": "ksrot@redhat.com",
          "creation_time": "20120424T11:02:47",
          "bug_id": "814691",
          "creator_id": "286283",
          "time": "20120424T11:02:47",
          "id": "4623354",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "mgrepl@redhat.com",
          "text": "(In reply to comment #6)\n> Yes all confined users need this ability.  Miroslav can you add this?\n\nIt has been added to selinux-policy-3.7.19-147.el6",
          "author": "mgrepl@redhat.com",
          "creation_time": "20120424T12:23:55",
          "bug_id": "814691",
          "creator_id": "269625",
          "time": "20120424T12:23:55",
          "id": "4623608",
          "is_private": "False"
        },
        {
          "count": "9",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from MODIFIED to ON_QA status by the Errata System: \nAdvisory RHBA-2012:12754-01: \nhttp://errata.devel.redhat.com/errata/stateview/12754\n\nPackage is ready for testing. Moving to ON_QA.",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120425T12:26:23",
          "bug_id": "814691",
          "creator_id": "241731",
          "time": "20120425T12:26:23",
          "id": "4627123",
          "is_private": "True"
        },
        {
          "count": "10",
          "creator": "plautrba@redhat.com",
          "text": "\n    Technical note added. If any revisions are required, please edit the ''Technical Notes'' field\n    accordingly. All revisions will be proofread by the Engineering Content Services team.\n    \n    New Contents:\nNo Documentation needed",
          "author": "plautrba@redhat.com",
          "creation_time": "20120427T13:19:13",
          "bug_id": "814691",
          "creator_id": "270148",
          "time": "20120427T13:19:13",
          "id": "4633856",
          "is_private": "False"
        },
        {
          "count": "11",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to ASSIGNED status by the Errata System: \nAdvisory RHBA-2012:12754-01: \nhttp://errata.devel.redhat.com/errata/stateview/12754\n\nMoving to ASSIGNED as there is still an issue with sysadm_u:\n\nReproducer:\nuseradd -Z sysadm_u tst\npasswd tst\nchage -d0 tst\nssh tst@localhost\ntst@localhost's password: \nWrite failed: Broken pipe\n\nsecure log:\nMay 10 12:55:50 crude sshd[31889]: Accepted password for tst from 127.0.0.1 port 39861 ssh2\nMay 10 12:55:50 crude sshd[31889]: pam_selinux(sshd:session): Security context sysadm_u:sysadm_r:oddjob_mkhomedir_t:s0-s0:c0.c1023 is not allowed for \n                 sysadm_u:sysadm_r:oddjob_mkhomedir_t:s0-s0:c0.c1023\ncrude sshd[31889]: pam_selinux(sshd:session): Unable to get valid context for tst\ncrude sshd[31889]: pam_unix(sshd:session): session opened for user tst by (uid=0)\ncrude sshd[31893]: ssh_selinux_copy_context: setcon failed with Invalid argument\ncrude sshd[31893]: fatal: xfree: NULL pointer given as argument\ncrude sshd[31889]: pam_unix(sshd:session): session closed for user tst",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120510T11:23:20",
          "bug_id": "814691",
          "creator_id": "241731",
          "time": "20120510T11:23:20",
          "id": "4664124",
          "is_private": "True"
        },
        {
          "count": "12",
          "creator": "mgrepl@redhat.com",
          "text": "What does\n\n$ getsebool -a |grep ssh\nallow_ssh_keysign --> off\nfenced_can_ssh --> off\nssh_chroot_rw_homedirs --> off\nssh_sysadm_login --> on",
          "author": "mgrepl@redhat.com",
          "creation_time": "20120510T12:03:48",
          "bug_id": "814691",
          "creator_id": "269625",
          "time": "20120510T12:03:48",
          "id": "4664261",
          "is_private": "True"
        },
        {
          "count": "13",
          "creator": "tmraz@redhat.com",
          "text": "This is very weird - I suppose there is something broken with selinux-policy on the test machine - although calling xfree() with NULL pointer is a bug as well.",
          "author": "tmraz@redhat.com",
          "creation_time": "20120510T12:04:29",
          "bug_id": "814691",
          "creator_id": "167996",
          "time": "20120510T12:04:29",
          "id": "4664269",
          "is_private": "True"
        },
        {
          "count": "14",
          "creator": "mvadkert@redhat.com",
          "text": "Ah right, ssh_sysadm_login boolean, I did not know about it :(\n\nFixing tests.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20120510T12:13:11",
          "bug_id": "814691",
          "creator_id": "271572",
          "time": "20120510T12:13:11",
          "id": "4664315",
          "is_private": "True"
        },
        {
          "count": "15",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2012:12754-01: \nhttp://errata.devel.redhat.com/errata/stateview/12754\n\nVERIFIED as fixed openssh-5.3p1-79.el6\nChange aged password now works well with the new package\n\nNEW PACKAGE openssh-5.3p1-79.el6:\n:: [   PASS   ] :: Running 'useradd -Z guest_u user1441'\n:: [   PASS   ] :: Running 'echo S3kr3D18612 | passwd --stdin user1441'\n:: [   PASS   ] :: Running 'chage -d 0 user1441'\n:: [   PASS   ] :: Running './ssh.exp user1441 S3kr3D18612 sEcrEt20665 127.0.0.1'\n:: [   PASS   ] :: Running 'userdel -rf user1441'\n:: [   PASS   ] :: Running 'semanage login -d user1441'\n:: [   PASS   ] :: Running 'useradd -Z user_u user23292'\n:: [   PASS   ] :: Running 'echo S3kr3D11706 | passwd --stdin user23292'\n:: [   PASS   ] :: Running 'chage -d 0 user23292'\n:: [   PASS   ] :: Running './ssh.exp user23292 S3kr3D11706 sEcrEt22364 127.0.0.1'\n:: [   PASS   ] :: Running 'userdel -rf user23292'\n:: [   PASS   ] :: Running 'semanage login -d user23292'\n:: [   PASS   ] :: Running 'useradd -Z staff_u user31926'\n:: [   PASS   ] :: Running 'echo S3kr3D14714 | passwd --stdin user31926'\n:: [   PASS   ] :: Running 'chage -d 0 user31926'\n:: [   PASS   ] :: Running './ssh.exp user31926 S3kr3D14714 sEcrEt19576 127.0.0.1'\n:: [   PASS   ] :: Running 'userdel -rf user31926'\n:: [   PASS   ] :: Running 'semanage login -d user31926'\n:: [   PASS   ] :: Running 'useradd -Z sysadm_u user12244'\n:: [   PASS   ] :: Running 'echo S3kr3D15297 | passwd --stdin user12244'\n:: [   PASS   ] :: Running 'chage -d 0 user12244'\n:: [   PASS   ] :: Running './ssh.exp user12244 S3kr3D15297 sEcrEt20918 127.0.0.1'\n:: [   PASS   ] :: Running 'userdel -rf user12244'\n:: [   PASS   ] :: Running 'semanage login -d user12244'\n:: [   LOG    ] :: Duration: 1m 57s\n:: [   LOG    ] :: Assertions: 24 good, 0 bad\n:: [   PASS   ] :: RESULT: Real scenario -- bz#733668\n\n\nOLD PACKAGE openssh-5.3p1-70.el6:\n:: [   PASS   ] :: Running 'useradd -Z guest_u user26379'\n:: [   PASS   ] :: Running 'echo S3kr3D16231 | passwd --stdin user26379'\n:: [   PASS   ] :: Running 'chage -d 0 user26379'\n:: [   FAIL   ] :: Running './ssh.exp user26379 S3kr3D16231 sEcrEt17046 127.0.0.1' (Expected 0, got 1)\n:: [   PASS   ] :: Running 'userdel -rf user26379'\n:: [   PASS   ] :: Running 'semanage login -d user26379'\n:: [   PASS   ] :: Running 'useradd -Z user_u user14863'\n:: [   PASS   ] :: Running 'echo S3kr3D28356 | passwd --stdin user14863'\n:: [   PASS   ] :: Running 'chage -d 0 user14863'\n:: [   FAIL   ] :: Running './ssh.exp user14863 S3kr3D28356 sEcrEt19430 127.0.0.1' (Expected 0, got 1)\n:: [   PASS   ] :: Running 'userdel -rf user14863'\n:: [   PASS   ] :: Running 'semanage login -d user14863'\n:: [   PASS   ] :: Running 'useradd -Z staff_u user10132'\n:: [   PASS   ] :: Running 'echo S3kr3D11120 | passwd --stdin user10132'\n:: [   PASS   ] :: Running 'chage -d 0 user10132'\n:: [   FAIL   ] :: Running './ssh.exp user10132 S3kr3D11120 sEcrEt8153 127.0.0.1' (Expected 0, got 1)\n:: [   PASS   ] :: Running 'userdel -rf user10132'\n:: [   PASS   ] :: Running 'semanage login -d user10132'\n:: [   PASS   ] :: Running 'useradd -Z sysadm_u user13622'\n:: [   PASS   ] :: Running 'echo S3kr3D5650 | passwd --stdin user13622'\n:: [   PASS   ] :: Running 'chage -d 0 user13622'\n:: [   PASS   ] :: Running './ssh.exp user13622 S3kr3D5650 sEcrEt13454 127.0.0.1'\n:: [   PASS   ] :: Running 'userdel -rf user13622'\n:: [   PASS   ] :: Running 'semanage login -d user13622'\n:: [   LOG    ] :: Duration: 1m 51s\n:: [   LOG    ] :: Assertions: 21 good, 3 bad\n:: [   FAIL   ] :: RESULT: Real scenario -- bz#733668",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120510T12:32:40",
          "bug_id": "814691",
          "creator_id": "241731",
          "time": "20120510T12:32:40",
          "id": "4664404",
          "is_private": "True"
        },
        {
          "count": "16",
          "creator": "plautrba@redhat.com",
          "text": "(In reply to comment #13)\n> This is very weird - I suppose there is something broken with selinux-policy on\n> the test machine - although calling xfree() with NULL pointer is a bug as well.\n\nYes, there seems to be some wrong usage of getexeccon() which can set a NULL context in case that there is no explicitly set exec context, e.g.:\n\n\tif (getexeccon((security_context_t *)&ctx) < 0) {\n\t\tlogit(''%s: getcon failed with %s'', __func__, strerror (errno));\n\t\treturn;\n\t}\n+\tif (ctx == NULL) {\n+\t\tdebug2(''%s: getexeccon() gets NULL context'', __func__);\n+\t\treturn;\n+\t}",
          "author": "plautrba@redhat.com",
          "creation_time": "20120510T17:04:12",
          "bug_id": "814691",
          "creator_id": "270148",
          "time": "20120510T17:04:12",
          "id": "4665397",
          "is_private": "True"
        },
        {
          "count": "17",
          "creator": "mvadkert@redhat.com",
          "text": "Petr will you also add this small fix in the next respin please?",
          "author": "mvadkert@redhat.com",
          "creation_time": "20120514T07:22:03",
          "bug_id": "814691",
          "creator_id": "271572",
          "time": "20120514T07:22:03",
          "id": "4670663",
          "is_private": "True"
        },
        {
          "count": "18",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHSA-2012-0884.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120620T07:17:48",
          "bug_id": "814691",
          "creator_id": "241731",
          "time": "20120620T07:17:48",
          "id": "4841698",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.3"
      ],
      "cc": [
        "dwalsh@redhat.com",
        "mgrepl@redhat.com",
        "mvadkert@redhat.com",
        "pvrabec@redhat.com",
        "tmraz@redhat.com"
      ],
      "cf_verified": [
        "FailedQA"
      ],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "820552"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "redhat"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "RHEL6.3-20120411.1",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "/usr/share/cracklib/pw_dict.pwd: Permission denied PWOpen: Permission denied",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20120510T11:15:26",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20120424T11:15:08",
          "id": "1034364",
          "setter": "mvadkert@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.3.0",
          "modification_date": "20120424T11:06:29",
          "type_id": "276",
          "is_active": "0",
          "creation_date": "20120420T12:31:28",
          "id": "1032210",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "blocker",
          "modification_date": "20120424T11:06:29",
          "type_id": "24",
          "is_active": "1",
          "creation_date": "20120424T11:02:47",
          "id": "1034361",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20120420T14:08:18",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20120420T12:31:28",
          "id": "1032211",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20120424T09:14:50",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20120420T12:31:28",
          "id": "1032212",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20120424T11:02:47",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20120420T12:31:28",
          "id": "1032213",
          "setter": "ksrot@redhat.com"
        }
      ],
      "last_change_time": "20120620T07:17:48",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509328-EloMLHkN9FhtWtzX5wYjHd2DlZSnMOdKBRtzcl37dNw",
      "cf_partner": [],
      "cf_last_closed": "20120620T07:17:48",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [
        "Capacity",
        "Patch"
      ],
      "cf_story_points": "---",
      "cf_pm_score": "400",
      "estimated_time": "0.0",
      "depends_on": [
        "830237",
        "869340"
      ],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20120612T15:58:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "831271",
      "cf_release_notes": "",
      "priority": "high",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "plautrba@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "plautrba@redhat.com",
          "text": "+++ This bug was initially created as a clone of Bug #830237 +++\n\nDescription of problem:\n\nUsing OpenSSH chroot shell functionality the sshd process attempts a process transition from ''chroot_user_t'' to ''unconfined_t'' when launching the user shell (in this case ''/bin/bash -r'') and is denied, which disconnects the SSH session shortly after authentication.\n\nThis OpenSSH session disconnection behaviour also appears to occur in FC16.\n\nUnder FC15 i386 PAE the OpenSSH chroot ran as ''sshd_t'' and SELinux did not deny the process transition to ''unconfined_t'' when launching a chroot shell.\n\n\nFC17 i386 PAE ps dump (captured with SELinux in Permissive mode):\n\nsystem_u:system_r:sshd_t:s0-s0:c0.c1023 1143 2277 2277 2277 ?       -1 Ss       0   0:00  \\_ sshd: testuser [priv]\nsystem_u:system_r:chroot_user_t:s0-s0:c0.c1023 2277 2280 2277 2277 ? -1 S    1001   0:00      \\_ sshd: testuser@pts/3\nunconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023 2280 2281 2281 2281 pts/3 2281 Ss+ 1001   0:00          \\_ /bin/bash -r\n\n\nFC15 i386 PAE ps dump (captured with SELinux in Enforcing mode):\n\nsystem_u:system_r:sshd_t:s0-s0:c0.c1023 27438 3789 3789 3789 ?      -1 Ss       0   0:00  \\_ sshd: testuser [priv]\nsystem_u:system_r:sshd_t:s0-s0:c0.c1023 3789 3792 3789 3789 ?       -1 S      503   0:00      \\_ sshd: testuser@pts/2\nunconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023 3792 3793 3793 3793 /chroot/dev/pts/2 3793 Ss+ 503   0:00          \\_ /bin/bash -r\n\nThere are a number of other SELinux restrictions on ''chroot_user_t'' that prevent OpenSSH chroot from working for which audit2allow can create ''allow'' policy modules, but the policies will still not allow the process transition once the SELinux module is installed.\n\nmodule fc17sshchroot 1.0;\n\nrequire {\n        type ptmx_t;\n\ttype user_devpts_t;\n        type chroot_user_t;\n\ttype devpts_t;\n\ttype shell_exec_t;\n\ttype unconfined_t;\n        class file execute;\n        class dir search;\n        class unix_dgram_socket { create connect };\n        class chr_file { read write ioctl getattr };\n        class process transition;\n        class file { read open };\n}\n\n#============= chroot_user_t ==============\nallow chroot_user_t ptmx_t:chr_file { read write ioctl };\nallow chroot_user_t self:unix_dgram_socket { create connect };\nallow chroot_user_t user_devpts_t:chr_file { read write ioctl getattr };\nallow chroot_user_t devpts_t:dir search;\nallow chroot_user_t shell_exec_t:file { read open execute };\n\n#!!!! This avc is a constraint violation.  You will need to add an attribute to either the source or target type to make it work.\n#Constraint rule:\nallow chroot_user_t unconfined_t:process transition;\n\nVersion-Release number of selected component (if applicable):\n\nopenssh-server-5.9p1-22.fc17.i686\nbash-4.2.28-1.fc17.i686\nkernel-PAE-3.4.0-1.fc17.i686\nselinux-policy-3.10.0-128.fc17.noarch\nselinux-policy-targeted-3.10.0-128.fc17.noarch\nselinux-policy-devel-3.10.0-128.fc17.noarch\n\nHow reproducible:\n\nSetup OpenSSH for chroot environment and create the required chroot tree for chroot shell users.\n\nIn this case, the chroot part of the sshd_config is:\n\nMatch Group sshjail\n        ChrootDirectory /chroot\n        X11Forwarding no\n        AllowTcpForwarding yes\n        Banner /chroot/etc/sshjailmsg\n        ForceCommand /bin/bash -r\n\nOpenSSH setup for key authentication (PasswordAuthentication off).\n\nSteps to Reproduce:\n1. Add a user to a group that OpenSSH will force to chroot (e.g. sshjail)\n2. Connect to SSH with target user and authenticate using key\n3. SSH session will disconnect and the following avc denied entry will be recorded:\n\ntype=AVC msg=audit(1339167129.184:1339): avc:  denied  { transition } for  pid=2281 comm=''sshd'' path=''/bin/bash'' dev=''dm-1'' ino=522245 scontext=system_u:system_r:chroot_user_t:s0-s0:c0.c1023 tcontext=unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023 tclass=process\n\n\nActual results:\n\nSSH session disconnects after authentication due to SELinux denial\n\nExpected results:\n\nSSH shell spawns and user has a chroot SSH shell\n\nAdditional info:\n\nrelated ssh sebools in FC17:\n\nssh_chroot_rw_homedirs --> off\nssh_sysadm_login --> off\n\nTurning either or both of these booleans to ''on'' does not resolve the issue\n\n--- Additional comment from dwalsh@redhat.com on 2012-06-08 17:36:14 CEST ---\n\nWe do not want ssh_chroot_t to transition to unconfined_t at all. \n\nssh guys could this be related to the privsep patch?\n\n--- Additional comment from plautrba@redhat.com on 2012-06-11 16:39:37 CEST ---\n\nThe transition is probably done by pam_selinux module which sets context for next executed shell. Maybe ssh_selinux_change_context() should clean SELinux exec context after SELinux context change.\n\nJun 11 16:34:48 f17-openssh sshd[4347]: pam_selinux(sshd:session): Open Session\nJun 11 16:34:48 f17-openssh sshd[4347]: pam_selinux(sshd:session): Username= test SELinux User = unconfined_u Level= s0-s0:c0.c1023\nJun 11 16:34:48 f17-openssh sshd[4347]: pam_selinux(sshd:session): Selected Security Context unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023\nJun 11 16:34:48 f17-openssh sshd[4347]: pam_selinux(sshd:session): Checking if unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023 mls range valid for  unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023\nJun 11 16:34:48 f17-openssh sshd[4347]: pam_selinux(sshd:session): set test security context to unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023\nJun 11 16:34:48 f17-openssh sshd[4347]: pam_selinux(sshd:session): set test key creation context to unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023\nJun 11 16:34:48 f17-openssh sshd[4347]: pam_unix(sshd:session): session opened for user test by (uid=0)\nJun 11 16:34:48 f17-openssh sshd[4347]: User child is on pid 4351\nJun 11 16:34:48 f17-openssh sshd[4351]: debug1: PAM: establishing credentials\nJun 11 16:34:48 f17-openssh sshd[4351]: debug3: ssh_selinux_setup_variables: setting execution context\nJun 11 16:34:48 f17-openssh sshd[4351]: debug3: ssh_selinux_change_context: setting context from 'system_u:system_r:sshd_t:s0-s0:c0.c1023' to 'system_u:system_r:chroot_user_t:s0-s0:c0.c1023'",
          "author": "plautrba@redhat.com",
          "creation_time": "20120612T15:58:59",
          "bug_id": "831271",
          "creator_id": "270148",
          "time": "20120612T15:58:59",
          "id": "4775930",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "jjaburek@redhat.com",
          "text": "I've run into a similar (and I believe related) problem when running various openssh tests on RHEL7:\n\ntype=AVC msg=audit(1339779354.476:324): avc:  denied  { create } for  pid=2953 comm=''sshd'' scontext=system_u:system_r:chroot_user_t:s0-s0:c0.c1023 tcontext=system_u:system_r:chroot_user_t:s0-s0:c0.c1023 tclass=unix_dgram_socket",
          "author": "jjaburek@redhat.com",
          "creation_time": "20120619T08:05:40",
          "bug_id": "831271",
          "creator_id": "327802",
          "time": "20120619T08:05:40",
          "id": "4835574",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "mvadkert@redhat.com",
          "text": "Cloning for EL7",
          "author": "mvadkert@redhat.com",
          "creation_time": "20120619T09:36:17",
          "bug_id": "831271",
          "creator_id": "271572",
          "time": "20120619T09:36:17",
          "id": "4835845",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "dwalsh@redhat.com",
          "text": "I just checked in all of the allow rules for chroot_user_t into F18 policy which Miroslav will backport into F17 and then we will suck this into RHEL7.\n\nProbably in selinux-policy-3.10.0-133.fc17",
          "author": "dwalsh@redhat.com",
          "creation_time": "20120619T13:50:56",
          "bug_id": "831271",
          "creator_id": "81625",
          "time": "20120619T13:50:56",
          "id": "4836556",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "mgrepl@redhat.com",
          "text": "Dan,\nlook at the following comments\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=830237#c4\nhttps://bugzilla.redhat.com/show_bug.cgi?id=830237#c5",
          "author": "mgrepl@redhat.com",
          "creation_time": "20120619T13:54:24",
          "bug_id": "831271",
          "creator_id": "269625",
          "time": "20120619T13:54:24",
          "id": "4836571",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "ksrot@redhat.com",
          "text": "Hi,\nis this an openssh bug or selinux-policy bug? Or both? Please switch it to selinux-policy or file a selinux-policy bug too (and add it to Requires). Thank you.",
          "author": "ksrot@redhat.com",
          "creation_time": "20120817T07:41:46",
          "bug_id": "831271",
          "creator_id": "286283",
          "time": "20120817T07:41:46",
          "id": "4979049",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "plautrba@redhat.com",
          "text": "We probably can't fix it in the RHEL-6 right now given that at least sftp-internal processes \nshould stay in the chroot_user_t context as they are since the RHEL-6 GA and the SELinux policy\nfor sshd chroot users haven't been probably intended for shell, only for sftp.",
          "author": "plautrba@redhat.com",
          "creation_time": "20120824T13:09:40",
          "bug_id": "831271",
          "creator_id": "270148",
          "time": "20120824T13:09:40",
          "id": "4995367",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "ksrot@redhat.com",
          "text": "This seems to be quite a big change and ATM it is not clear how the fix should be implemented. Also, this request has not been raised by a customer and there is not a demand to have this bug fixed in RHEL6.4.\n\nTherefore adding qe_cond_nacks because of missing patch and QE capacity reasons.\nI believe that devel_ack should be reconsidered too.",
          "author": "ksrot@redhat.com",
          "creation_time": "20120824T13:14:40",
          "bug_id": "831271",
          "creator_id": "286283",
          "time": "20120824T13:14:40",
          "id": "4995376",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "pm-rhel@redhat.com",
          "text": "Development Management has reviewed and declined this request.\nYou may appeal this decision by reopening this request.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120824T13:36:02",
          "bug_id": "831271",
          "creator_id": "193983",
          "time": "20120824T13:36:02",
          "id": "4995410",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "i386",
      "version": [
        "6.3"
      ],
      "cc": [
        "dwalsh@redhat.com",
        "jjaburek@redhat.com",
        "ksrot@redhat.com",
        "mgrepl@redhat.com",
        "mvadkert@redhat.com",
        "plautrba@redhat.com",
        "pvrabec@redhat.com",
        "tmraz@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "833352"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "830237",
      "groups": [
        "devel",
        "qa",
        "redhat"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "SELinux Enforcing Prevents OpenSSH Chroot Shell Logins",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.4.0",
          "modification_date": "20120612T15:58:59",
          "type_id": "326",
          "is_active": "0",
          "creation_date": "20120612T15:58:59",
          "id": "1070678",
          "setter": "plautrba@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20120716T22:27:09",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20120612T16:17:30",
          "id": "1070702",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "-",
          "name": "devel_ack",
          "modification_date": "20120824T13:30:18",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20120710T04:22:21",
          "id": "1089967",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "?",
          "name": "qa_ack",
          "modification_date": "20120710T05:33:54",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20120710T05:33:54",
          "id": "1091664",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20121023T15:48:45",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509328-qkaGQ5vjCzqaCjNy7jKfYTMK82FSRyNcWGuRerP2xes",
      "cf_partner": [],
      "cf_last_closed": "20120824T13:36:02",
      "resolution": "WONTFIX",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20120621T18:56:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "Security",
        "SecurityTracking"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "None",
          "ext_bz_bug_id": "213291",
          "bug_id": "834404",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "69",
          "type": {
            "must_send": "False",
            "description": "TCMS Test Case",
            "url": "https://tcms.engineering.redhat.com",
            "can_get": "False",
            "id": "69",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          },
          "id": "80545"
        }
      ],
      "id": "834404",
      "cf_release_notes": "",
      "priority": "high",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "tmraz@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "tmraz@redhat.com",
          "text": "There is symbol clash in pam_ssh_agent_auth between the .so of the module and libc. The error() call has different parameters in pam_ssh_agent_auth and libc. This can be easily solved by hiding visibility of the internal symbols of the pam_ssh_agent_auth.so which would be much more correct than the current situation where they are visible in the dynamic symbol table. I have simple patch for that.\n\nThe crash can be reproduced if the SSH_AUTH_SOCK environment variable points to nonexistent file and the module is set up in the PAM auth stack in su (which is the default purpose of the module). As the ssh-agent cannot be connected over the SSH_AUTH_SOCK, the error() function from libc is called with bogus parameters from stack. As the libc error() function has a string format as the third parameter it might even lead to exploitability of this bug leading to local privilege escalation. Although it is highly improbable that stack contents could be manipulated in such way I couldn't rule it out completely.\n\nThis bug is not present in the upstream pam_ssh_agent_auth sources as there the function is renamed to logerror(). We renamed it to error() to be able to reuse the openssh sources during the pam_ssh_agent_auth build.\n\nFortunately the pam_ssh_agent_auth module can be used only with su (and similar local utilities) and thus the vulnerability impact is limited to at most local privilege escalation to root.\n\nThe module is also not configured to be used by default.",
          "author": "tmraz@redhat.com",
          "creation_time": "20120621T18:56:07",
          "bug_id": "834404",
          "creator_id": "167996",
          "time": "20120621T18:56:07",
          "id": "4852102",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120621T19:12:50",
          "bug_id": "834404",
          "creator_id": "193983",
          "time": "20120621T19:12:50",
          "id": "4852148",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "ksrot@redhat.com",
          "text": "Could you please propose what should be tested here (except the crash)? \nAre ther any drawbacks in hiding the symbol?",
          "author": "ksrot@redhat.com",
          "creation_time": "20120731T13:16:34",
          "bug_id": "834404",
          "creator_id": "286283",
          "time": "20120731T13:16:34",
          "id": "4931740",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "tmraz@redhat.com",
          "text": "I think regular smoketest tests for openssh should be enough - just whether the ssh and sshd still connect, login, etc. But as the fix is in Fedora already for some time I think any catastrophic failures would be found already. I do not expect any hidden and non-trivial problems from hiding the symbols. Of course hacks like LD_PRELOAD overriding some symbols would probably not work anymore, but these are not supported and supportable anyway.",
          "author": "tmraz@redhat.com",
          "creation_time": "20120806T09:38:09",
          "bug_id": "834404",
          "creator_id": "167996",
          "time": "20120806T09:38:09",
          "id": "4941871",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "thoger@redhat.com",
          "text": "This is approved for 6.4, but I don't find it in RHBA-2012:14032.  Is that intentional?",
          "author": "thoger@redhat.com",
          "creation_time": "20121010T17:21:52",
          "bug_id": "834404",
          "creator_id": "215839",
          "time": "20121010T17:21:52",
          "id": "5102506",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "plautrba@redhat.com",
          "text": "I've got an issue with git push:\nremote: *** Resolves:\nremote: ***   Invalid: rhbz#834404 (error: Fault: <Fault 102: 'You are not authorized to access bug #834404.'>)\nremote: *** No approved Bugzilla IDs referenced in log message or changelog for 2a0529e292d322745fc64e67befe93093eb2148f\n\nAfter I added this bug also to internal employee group it passed.\n\nfixed in http://pkgs.devel.redhat.com/cgit/rpms/openssh/commit/?h=rhel-6.4&id=2a0529e292d322745fc64e67befe93093eb2148f",
          "author": "plautrba@redhat.com",
          "creation_time": "20121011T15:22:57",
          "bug_id": "834404",
          "creator_id": "270148",
          "time": "20121011T15:22:57",
          "id": "5105880",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2012:14032-01\nhttp://errata.devel.redhat.com/errata/show/14032",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20121011T15:27:08",
          "bug_id": "834404",
          "creator_id": "241731",
          "time": "20121011T15:27:08",
          "id": "5105893",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2012:14032-01: \nhttp://errata.devel.redhat.com/errata/stateview/14032\n\nSuccessfully reproduced and verified via an automatic test on  i386, s390x and x86_64, could not reproduce on ppc64 (but still PASS).\n\nhttps://beaker.engineering.redhat.com/tasks/executed?job_id=333650&task=/CoreOS/openssh/Regression/bz834404-pam_ssh_agent_auth-can-segfault-with-potential-security-implications",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20121115T12:57:48",
          "bug_id": "834404",
          "creator_id": "241731",
          "time": "20121115T12:57:48",
          "id": "5201769",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHSA-2013-0519.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20130221T10:27:56",
          "bug_id": "834404",
          "creator_id": "241731",
          "time": "20130221T10:27:56",
          "id": "5529761",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.3"
      ],
      "cc": [
        "jjaburek@redhat.com",
        "ksrot@redhat.com",
        "ovasik@redhat.com",
        "plautrba@redhat.com",
        "pvrabec@redhat.com",
        "rpmdiff-auto@redhat.com",
        "security-response-team@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "836170",
        "834618"
      ],
      "qa_contact": "jjaburek@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Release Note",
      "cf_clone_of": "0",
      "groups": [
        "redhat",
        "security"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "pam_ssh_agent_auth can segfault with potential security implications",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20121004T15:19:07",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20120731T13:17:17",
          "id": "1109045",
          "setter": "jjaburek@redhat.com"
        },
        {
          "status": "-",
          "name": "requires_doc_text",
          "modification_date": "20121010T17:21:52",
          "type_id": "415",
          "is_active": "1",
          "creation_date": "20121010T17:21:52",
          "id": "1159540",
          "setter": "bugzilla@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.4.0",
          "modification_date": "20120731T13:25:24",
          "type_id": "326",
          "is_active": "0",
          "creation_date": "20120621T19:12:48",
          "id": "1078925",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20120716T22:27:07",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20120621T19:26:03",
          "id": "1078929",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20120730T12:56:00",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20120710T04:22:16",
          "id": "1089966",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20120731T13:16:34",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20120710T05:33:52",
          "id": "1091663",
          "setter": "ksrot@redhat.com"
        }
      ],
      "last_change_time": "20130221T10:27:56",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509328-Qz-xYT4bVfkpYV5Rbt6QSh2WjnbjmjocDkzK3ZpnDtE",
      "cf_partner": [],
      "cf_last_closed": "20130221T10:27:56",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "1600",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20120920T21:08:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "01025184",
          "bug_id": "859238",
          "ext_description": "internal-sftp -u not explicitly setting umask",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "141162"
        }
      ],
      "id": "859238",
      "cf_release_notes": "",
      "priority": "high",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "jghobrial@rice.edu",
      "comments": [
        {
          "count": "0",
          "attachment_id": "615126",
          "author": "jghobrial@rice.edu",
          "text": "Created attachment 615126\nPatch to implement sftpfilecontrol.\n\nPatch for openssh to allow overriding umask, chown, chgrp, and chmod for internal-sftp. This patch applies cleanly to the below version and release and builds rpms.\n\nVersion-Release number of selected component (if applicable):\nVersion: 5.3p1\nRelease: 82.el6 \n\nModified 1.3 patch at http://sftpfilecontrol.sourceforge.net/\n\nThe reason I needed this was because the umask parameter exists for\nSubsystem      sftp    /usr/libexec/openssh/sftp-server\n\nbut not for\nSubsystem       sftp    internal-sftp\n\nSee Bug 657059 https://bugzilla.redhat.com/show_bug.cgi?id=657059\n\ninternal-sftp implements the ChrootDirectory, but sftp-server does not. I didn't want to build a complete chroot environment for each and every implementation.\n\nHope someone finds this useful.\n\nThanks,\nJoseph",
          "creator": "jghobrial@rice.edu",
          "creation_time": "20120920T21:08:19",
          "bug_id": "859238",
          "creator_id": "278265",
          "time": "20120920T21:08:19",
          "id": "5054591",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "jghobrial@rice.edu",
          "text": "Sorry, the Release number should have been 81.el6.",
          "author": "jghobrial@rice.edu",
          "creation_time": "20120920T21:10:08",
          "bug_id": "859238",
          "creator_id": "278265",
          "time": "20120920T21:10:08",
          "id": "5054595",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this bug report was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120920T21:13:14",
          "bug_id": "859238",
          "creator_id": "193983",
          "time": "20120920T21:13:14",
          "id": "5054601",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "jghobrial@rice.edu",
          "text": "Another correction. sftp-server implements chroot via the necessary files and directories to support the user's session. internal-sfp only requires the directory location and correct permissions.",
          "author": "jghobrial@rice.edu",
          "creation_time": "20120920T21:13:57",
          "bug_id": "859238",
          "creator_id": "278265",
          "time": "20120920T21:13:57",
          "id": "5054603",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "pm-rhel@redhat.com",
          "text": "This request was not resolved in time for the current release.\nRed Hat invites you to ask your support representative to\npropose this request, if still desired, for consideration in\nthe next release of Red Hat Enterprise Linux.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20121214T08:10:40",
          "bug_id": "859238",
          "creator_id": "193983",
          "time": "20121214T08:10:40",
          "id": "5288983",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "jlyle@redhat.com",
          "text": "removing private flag as it was checked in error.",
          "author": "jlyle@redhat.com",
          "creation_time": "20140131T19:40:45",
          "bug_id": "859238",
          "creator_id": "322050",
          "time": "20140131T19:40:45",
          "id": "6772168",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "tlavigne@redhat.com",
          "text": "Since the release flag was set to ? after the pm_ack flag was set to + (was likely set for the previous release), the pm_ack flag has been reset to ? by the bugbot (pm-rhel). This action ensures the proper review by Product Management.",
          "author": "tlavigne@redhat.com",
          "creation_time": "20140213T19:58:31",
          "bug_id": "859238",
          "creator_id": "336123",
          "time": "20140213T19:58:31",
          "id": "6816921",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "ksrot@redhat.com",
          "text": "This should not be difficult to test but I would appreciate the devel review before providing the qa_ack. \nAlso, according to my understanding the patch is not upstream.",
          "author": "ksrot@redhat.com",
          "creation_time": "20140310T16:15:26",
          "bug_id": "859238",
          "creator_id": "286283",
          "time": "20140310T16:15:26",
          "id": "6899631",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "thgardne@redhat.com",
          "text": "I hate to ask this question, but has anyone independently verified that this doesn't already work?  I'm looking at the case that is attached to this bug (01025184), specifically, the comment from the user https://access.redhat.com/support/cases/01025184/#a0aA000000B4QdLIAV even more specifically, I'm looking at the comment made near the end of that update:\n\n''From a Linux client, a files mask is reduced to the umask, but not expanded to the umask.  This is the same with either the old or the new syntax.''\n\nNow, clearly the user simply is mistaken about how umask works and is confusing the terms ''mask'' and ''permissions'' or ''mode'', but aside from all of that, the last sentence of this quote ''This is the same with either the old or the new syntax'' the ''old'' syntax he's talking about there (I believe) is the same syntax this bug claims doesn't work, but the user is claming does actually work (well, not according to his definition of ''work'' but if you read the whole comment, you'll see that if this ''old'' syntax works the way he's complaining about, then it's actually working correctly).\n\nAnway, I would like to see confirmation that there really is a bug, here.  The behavior the user thinks isn't right, actually is right, and the user says that it works the same way for the syntax that I believe this bug claims to not work....  A little confusing, I know, but I'm having a hard time coming up with a way of expressing it that's any simpler.  If it's not clear, let me know and I'll try to clarify.",
          "author": "thgardne@redhat.com",
          "creation_time": "20140310T20:20:18",
          "bug_id": "859238",
          "creator_id": "338646",
          "time": "20140310T20:20:18",
          "id": "6900393",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "ksrot@redhat.com",
          "text": "I tested the umask functionality with openssh-5.3p1-94.el6\nusing following line in sshd_config:\n  Subsystem sftp internal-sftp -u 0077\n\n# service sshd restart\n\n$ sftp user@localhost\nConnecting to localhost...\nuser@localhost's password: \nsftp> put /tmp/testfile\nUploading /tmp/testfile to /home/user/testfile\n/tmp/testfile                                                               100%    0     0.0KB/s   00:00    \nsftp> ls -l testfile\n-rw-------    0 501      501             0 Mar 11 08:01 testfile\nsftp> ^D\n\nThe above seem to be correct.\n\nI am not sure how to understand chgrp, chown, and chmod in this context. I am not aware of such options in sftp-server.",
          "author": "ksrot@redhat.com",
          "creation_time": "20140311T07:08:24",
          "bug_id": "859238",
          "creator_id": "286283",
          "time": "20140311T07:08:24",
          "id": "6901845",
          "is_private": "False"
        },
        {
          "count": "10",
          "creator": "plautrba@redhat.com",
          "text": "This doesn't look like a bug at all and I tend to close this as WORKSFORME. It seems that there's some confusion about what umask(2) is.\n\nrhel-6 # grep Subsys /etc/ssh/sshd_config\nSubsystem sftp internal-sftp -l VERBOSE -f LOCAL6 -u 0000\n\nclient $ touch file; chmod 777 file\n\nclient $ sftp root@rhel-6\nConnected to rhel-6-preup.\nsftp> put file\nUploading file to /root/file\nfile                                         100%    0     0.0KB/s   00:00    \nsftp> ls -l file\n-rwxrwxrwx    0 0        0               0 Mar 12 12:38 file\nsftp> rm file\nRemoving /root/file\n\n--------\n\nrhel-6 # grep Subsys /etc/ssh/sshd_config\nSubsystem sftp internal-sftp -l VERBOSE -f LOCAL6 -u 0777\n\nrhel-6 # service sshd restart\n\nclient $ touch file; chmod 777 file\n\nclient $ sftp root@rhel-6\nConnected to rhel-6-preup.\nsftp> put file\nUploading file to /root/file\nfile                                         100%    0     0.0KB/s   00:00    \nsftp> ls -l file\n----------    0 0        0               0 Mar 12 12:40 file\nsftp> rm file\nRemoving /root/file",
          "author": "plautrba@redhat.com",
          "creation_time": "20140312T11:48:31",
          "bug_id": "859238",
          "creator_id": "270148",
          "time": "20140312T11:48:31",
          "id": "6907252",
          "is_private": "False"
        },
        {
          "count": "11",
          "creator": "plautrba@redhat.com",
          "text": "Regarding the patch, there's a problematic copyright clause, which I'm not sure we can accomplish. \n\nThe patch adds new configuration options to sshd_config instead using command line arguments similar to current -u option. \n\nThe upstream recently [1] added an ability to white/blacklist sftp protocol requests. But this is not even released yet and there's no  assurance that it's backportable to rhel-6 openssh package.\n\n[1] https://anongit.mindrot.org/openssh.git/commit/?id=6eaeebf27d92f39a38c772aa3f20c2250af2dd29",
          "author": "plautrba@redhat.com",
          "creation_time": "20140312T12:57:28",
          "bug_id": "859238",
          "creator_id": "270148",
          "time": "20140312T12:57:28",
          "id": "6907639",
          "is_private": "False"
        },
        {
          "count": "12",
          "creator": "thgardne@redhat.com",
          "text": "(In reply to Petr Lautrbach from comment #10)\n> This doesn't look like a bug at all and I tend to close this as WORKSFORME.\n> It seems that there's some confusion about what umask(2) is.\n> \n> rhel-6 # grep Subsys /etc/ssh/sshd_config\n> Subsystem sftp internal-sftp -l VERBOSE -f LOCAL6 -u 0000\n> \n> client $ touch file; chmod 777 file\n> \n> client $ sftp root@rhel-6\n> Connected to rhel-6-preup.\n> sftp> put file\n> Uploading file to /root/file\n> file                                         100%    0     0.0KB/s   00:00  \n> \n> sftp> ls -l file\n> -rwxrwxrwx    0 0        0               0 Mar 12 12:38 file\n> sftp> rm file\n> Removing /root/file\n> \n> --------\n> \n> rhel-6 # grep Subsys /etc/ssh/sshd_config\n> Subsystem sftp internal-sftp -l VERBOSE -f LOCAL6 -u 0777\n> \n> rhel-6 # service sshd restart\n> \n> client $ touch file; chmod 777 file\n> \n> client $ sftp root@rhel-6\n> Connected to rhel-6-preup.\n> sftp> put file\n> Uploading file to /root/file\n> file                                         100%    0     0.0KB/s   00:00  \n> \n> sftp> ls -l file\n> ----------    0 0        0               0 Mar 12 12:40 file\n> sftp> rm file\n> Removing /root/file\n\nI think this shows pretty well that it works fine the way it is.  Unless the OP can show something really is broken that we're missing, I second the motion to close this bug as ''SEZWHO?''  OK, well WORKSFORME will do, I suppose.  :-)",
          "author": "thgardne@redhat.com",
          "creation_time": "20140312T16:00:45",
          "bug_id": "859238",
          "creator_id": "338646",
          "time": "20140312T16:00:45",
          "id": "6908808",
          "is_private": "False"
        },
        {
          "count": "13",
          "creator": "pm-rhel@redhat.com",
          "text": "Development Management has reviewed and declined this request.\nYou may appeal this decision by reopening this request.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20140313T14:27:05",
          "bug_id": "859238",
          "creator_id": "193983",
          "time": "20140313T14:27:05",
          "id": "6912406",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "x86_64",
      "version": [
        "6.3"
      ],
      "cc": [
        "cww@redhat.com",
        "jghobrial@rice.edu",
        "jlyle@redhat.com",
        "ksrot@redhat.com",
        "plautrba@redhat.com",
        "pvrabec@redhat.com",
        "thgardne@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "994246",
        "1056252"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "Patch for openssh to implement internal-sftp with umask, chgrp, chown, and chmod.",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "-",
          "name": "rhel-6.4.0",
          "modification_date": "20121214T08:10:37",
          "type_id": "326",
          "is_active": "0",
          "creation_date": "20120920T21:13:13",
          "id": "1146867",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "rhel-6.6.0",
          "modification_date": "20140131T19:18:18",
          "type_id": "519",
          "is_active": "1",
          "creation_date": "20140131T19:18:18",
          "id": "1689228",
          "setter": "jlyle@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20140305T14:19:48",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20120920T21:26:35",
          "id": "1146882",
          "setter": "tlavigne@redhat.com"
        },
        {
          "status": "-",
          "name": "devel_ack",
          "modification_date": "20140313T14:24:51",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20120920T21:26:54",
          "id": "1146885",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "?",
          "name": "qa_ack",
          "modification_date": "20120920T21:27:15",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20120920T21:27:15",
          "id": "1146889",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20140402T10:42:56",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509328-16PFs1sdhBxp-q4mHRJbN3M2s1gTb3eW9vBbF6mt-eE",
      "cf_partner": [],
      "cf_last_closed": "20140313T14:27:05",
      "resolution": "WONTFIX",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "700",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20120926T18:40:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "FutureFeature"
      ],
      "target_release": [
        "6.4"
      ],
      "external_bugs": [
        {
          "ext_status": "None",
          "ext_bz_bug_id": "1618",
          "bug_id": "860809",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "13",
          "type": {
            "must_send": "False",
            "description": "OpenSSH Project",
            "url": "http://bugzilla.mindrot.org",
            "can_get": "False",
            "id": "13",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "http://bugzilla.mindrot.org/show_bug.cgi?id=%id%"
          },
          "id": "80138"
        },
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00712757",
          "bug_id": "860809",
          "ext_description": "[6.4] [RFE] OpenSSH in RHEL does not offer stdio forwarding (''ssh -W host:port ...'')",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "79494"
        },
        {
          "ext_status": "None",
          "ext_bz_bug_id": "212023",
          "bug_id": "860809",
          "ext_description": "/CoreOS/openssh/Sanity/bz860809-implement-stdio-passthrough-port-forward-mode",
          "ext_priority": "None",
          "ext_bz_id": "69",
          "type": {
            "must_send": "False",
            "description": "TCMS Test Case",
            "url": "https://tcms.engineering.redhat.com",
            "can_get": "False",
            "id": "69",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          },
          "id": "80280"
        }
      ],
      "id": "860809",
      "cf_release_notes": "",
      "priority": "high",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-84.1.el6",
      "creator": "ssekidde@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "ssekidde@redhat.com",
          "text": "1. Who is the customer behind the request?\n\nRobert Scheck\n\nAccount name: Etes Gmbh \nCustomer segment:  3\nTAM/SRM customer: No\nStrategic Customer yes/no: No\n\n2. What is the nature and description of the request?\n\nHaving stdio forwarding (''ssh -W host:port ...'') like Fedora 13+.\n\n3. Why does the customer need this? \n\nHaving no stdio forwarding lowers for us the productivity of RHEL Workstation a lot when working with SSH on more complex setups to support customers out there really quick and fast. Due to this missing feature, our employees do now need to setup SSH tunnels manually which makes work definately much slower especially as pre-existing configuration files for ssh(1) from Fedora 13 do not work anymore. Note that the nice SSH feature is also indirectly used by libvirt for example. Opening up two SSH tunnels yourself takes more time than configuring the stdio forwarding once properly.\n\n4. How would the customer like to achieve this? \n\nBackport of the feature or upgrade of OpenSSH to a proper version\n\n5. For each functional requirement listed in question 5, specify how Red Hat and the customer can test to confirm the requirement is successfully\nimplemented.\n\n6. Is there already an existing RFE upstream or in Red Hat bugzilla?\n\nNo\n\n7. Does the customer have any specific timeline dependencies?\n\nLacking stdio forwarding (''ssh -W host:port ...'') just wastes time of our employees. Any non-ASAP solution brings us to the point to return the RHEL workstation subscriptions and use an outdated (GNOME 3-free) Fedora to gain the productivity back - Fedora 16+ with GNOME reduces the productivity, too. Lacking a good workaround and given the time that is wasted, we treated this as severity two (high).\n\n8. Is the sales team involved in this request and do they have any additional input?\n\nN/A\n\n9. List any affected packages or components.\n\nopenssh-askpass-5.3p1-81.el6.x86_64\nopenssh-5.3p1-81.el6.x86_64\nopenssh-server-5.3p1-81.el6.x86_64\nopenssh-clients-5.3p1-81.el6.x86_64\n\n10. Would the customer be able to assist in testing this functionality if implemented?\n\nYes.",
          "author": "ssekidde@redhat.com",
          "creation_time": "20120926T18:40:12",
          "bug_id": "860809",
          "creator_id": "299799",
          "time": "20120926T18:40:12",
          "id": "5068349",
          "is_private": "False"
        },
        {
          "count": "1",
          "attachment_id": "617719",
          "author": "ssekidde@redhat.com",
          "text": "Created attachment 617719\nopenssh-stdio-portforward4.patch",
          "creator": "ssekidde@redhat.com",
          "creation_time": "20120926T18:42:28",
          "bug_id": "860809",
          "creator_id": "299799",
          "time": "20120926T18:42:28",
          "id": "5068357",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "ssekidde@redhat.com",
          "text": "http://docs.fedoraproject.org/en-US/Fedora/13/html-single/Release_Notes/index.html\n\n5.7.2. openssh-server\nOpenssh-server is a open-source server daemon for the SSH protocol.\nThe version of openssh-server in Fedora 13 has been upgraded from version 5.2p1 to version 5.4p1. The most important changes include:\n\n    SSH protocol 1 is disabled by default.\n    added support for PKCS#11 tokens.\n    added support for certificate authentication of users and hosts using a new, minimal OpenSSH certificate format (not X.509).\n    added a netcat mode that connects standard out on a client to a single port forward on a server.\n    added the ability to revoke keys to sshd and ssh. \n\nFor more information, refer to http://www.openssh.com/txt/release-5.4. \n\nChanges since OpenSSH 5.3\n=========================\n\n * Added a 'netcat mode' to ssh(1): ''ssh -W host:port ...'' This connects\n   stdio on the client to a single port forward on the server. This\n   allows, for example, using ssh as a ProxyCommand to route connections\n   via intermediate servers. bz#1618",
          "author": "ssekidde@redhat.com",
          "creation_time": "20120926T18:43:26",
          "bug_id": "860809",
          "creator_id": "299799",
          "time": "20120926T18:43:26",
          "id": "5068361",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "mvadkert@redhat.com",
          "text": "QA_ACK for RHEL6.4\n\n@QE:\nCreate test scenario for 'netcat mode'. Consult with developer for side effects of the backport. Customer can test the feature in his setup (be sure to consult how to get a test build to the customer)",
          "author": "mvadkert@redhat.com",
          "creation_time": "20121008T07:24:40",
          "bug_id": "860809",
          "creator_id": "271572",
          "time": "20121008T07:24:40",
          "id": "5093080",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this bug report was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20121008T07:41:28",
          "bug_id": "860809",
          "creator_id": "193983",
          "time": "20121008T07:41:28",
          "id": "5093113",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "plautrba@redhat.com",
          "text": "Could the customer use 'nc' utility?\n\n$ ssh <host> nc <server> <port>",
          "author": "plautrba@redhat.com",
          "creation_time": "20121011T16:47:42",
          "bug_id": "860809",
          "creator_id": "270148",
          "time": "20121011T16:47:42",
          "id": "5106137",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "ddumas@redhat.com",
          "text": "Simon Sekidde, can you comment?",
          "author": "ddumas@redhat.com",
          "creation_time": "20121017T21:09:06",
          "bug_id": "860809",
          "creator_id": "261745",
          "time": "20121017T21:09:06",
          "id": "5123786",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "ksrot@redhat.com",
          "text": "Hi Petr,\ncould you please summarize the status of this bugzilla request? It has been acked for 6.4 but still missing in the errata. Is the patch already available. Seems like to are requesting some info from the customer. I would propose to ask jwest when Simon is not responding.",
          "author": "ksrot@redhat.com",
          "creation_time": "20121106T11:37:55",
          "bug_id": "860809",
          "creator_id": "286283",
          "time": "20121106T11:37:55",
          "id": "5174132",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "plautrba@redhat.com",
          "text": "Given that using 'ssh <host> nc <server> <port>' is almost equivalent to 'ssh -W <server>:<port> <host>', I would rather not backport this feature to stable rhel release.\n\nThe patch itself is taken from upstream and it's cleanly applicable. But it's not clear that there are not any issues fixed later in upstream development and also stdio forwarding in mux slaves; which would need new multiplexing code; are not supported in this particular patch.\n\nOTOH if the customer can't use 'nc' and therefore needs this feature, I've prepared an update and I can push it in a short while.",
          "author": "plautrba@redhat.com",
          "creation_time": "20121107T15:13:11",
          "bug_id": "860809",
          "creator_id": "270148",
          "time": "20121107T15:13:11",
          "id": "5178243",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "ksrot@redhat.com",
          "text": "Hi,\ncan we get a feedback from the GSS and customer whether the netcat ''workaround'' is sufficient?",
          "author": "ksrot@redhat.com",
          "creation_time": "20121107T15:15:16",
          "bug_id": "860809",
          "creator_id": "286283",
          "time": "20121107T15:15:16",
          "id": "5178262",
          "is_private": "True"
        },
        {
          "count": "10",
          "creator": "jwest@redhat.com",
          "text": "Hi Karel!  \n\nI'll work on getting that feedback for you.",
          "author": "jwest@redhat.com",
          "creation_time": "20121108T20:36:48",
          "bug_id": "860809",
          "creator_id": "194553",
          "time": "20121108T20:36:48",
          "id": "5182800",
          "is_private": "True"
        },
        {
          "count": "11",
          "creator": "jjaburek@redhat.com",
          "text": "Hi Jeremy,\nwhat's the status of the feedback, please?\n\nThanks,\nJiri",
          "author": "jjaburek@redhat.com",
          "creation_time": "20121121T10:26:31",
          "bug_id": "860809",
          "creator_id": "327802",
          "time": "20121121T10:26:31",
          "id": "5217265",
          "is_private": "True"
        },
        {
          "count": "12",
          "creator": "jwest@redhat.com",
          "text": "Jiri,\n\nHere's the feedback we got from the customer:\n\n=====\n\nthis is unfortunately not an option to us, because nc(1) is not installed by default on all servers of our own and our customers. In difference to that the requisites for the solution of OpenSSH seems to be installed by default or is even part of OpenSSH, whatever. Please provide something that does not need adjustment on all servers that we manage out there..\n=====",
          "author": "jwest@redhat.com",
          "creation_time": "20121121T15:21:36",
          "bug_id": "860809",
          "creator_id": "194553",
          "time": "20121121T15:21:36",
          "id": "5218179",
          "is_private": "True"
        },
        {
          "count": "13",
          "creator": "plautrba@redhat.com",
          "text": "respin is  needed due to unintended change of ssh_config config file in the latest relase - https://errata.devel.redhat.com/rpmdiff/show/70761?result_id=1410957\n\nA fix is only to remove little chunk of patch changing a comment in the ssh_config",
          "author": "plautrba@redhat.com",
          "creation_time": "20121213T13:33:28",
          "bug_id": "860809",
          "creator_id": "270148",
          "time": "20121213T13:33:28",
          "id": "5284644",
          "is_private": "True"
        },
        {
          "count": "14",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from MODIFIED to ON_QA status by the Errata System: \nAdvisory RHBA-2012:14032-01: \nhttp://errata.devel.redhat.com/errata/stateview/14032",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20121214T09:55:51",
          "bug_id": "860809",
          "creator_id": "241731",
          "time": "20121214T09:55:51",
          "id": "5289668",
          "is_private": "True"
        },
        {
          "count": "15",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2012:14032-01: \nhttp://errata.devel.redhat.com/errata/stateview/14032\n\nSuccessfully reproduced and verified via an automatic test on all relevant architectures.\n\nhttps://beaker.engineering.redhat.com/tasks/executed?job_id=357244&task=/CoreOS/openssh/Sanity/bz860809-implement-stdio-passthrough-port-forward-mode",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20130103T13:46:26",
          "bug_id": "860809",
          "creator_id": "241731",
          "time": "20130103T13:46:26",
          "id": "5324894",
          "is_private": "True"
        },
        {
          "count": "16",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHSA-2013-0519.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20130221T10:28:13",
          "bug_id": "860809",
          "creator_id": "241731",
          "time": "20130221T10:28:13",
          "id": "5529766",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.3"
      ],
      "cc": [
        "ddumas@redhat.com",
        "jjaburek@redhat.com",
        "jwest@redhat.com",
        "ksrot@redhat.com",
        "mvadkert@redhat.com",
        "pvrabec@redhat.com",
        "tlavigne@redhat.com"
      ],
      "cf_verified": [
        "FailedQA"
      ],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "881827"
      ],
      "qa_contact": "jjaburek@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Enhancement",
      "cf_clone_of": "0",
      "groups": [
        "redhat"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "[RFE] Implement stdio passthrough port forward mode in Openssh-server",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20121008T07:27:10",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20121008T07:27:10",
          "id": "1156811",
          "setter": "mvadkert@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.4.0",
          "modification_date": "20121008T07:52:54",
          "type_id": "326",
          "is_active": "0",
          "creation_date": "20121008T07:41:25",
          "id": "1156825",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "exception",
          "modification_date": "20121213T13:37:50",
          "type_id": "15",
          "is_active": "1",
          "creation_date": "20121213T13:22:20",
          "id": "1214342",
          "setter": "tlavigne@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20120926T18:48:57",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20120926T18:41:13",
          "id": "1150788",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20121008T07:36:11",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20120926T18:41:13",
          "id": "1150789",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20121008T07:24:40",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20120926T18:41:13",
          "id": "1150790",
          "setter": "mvadkert@redhat.com"
        }
      ],
      "last_change_time": "20130221T10:28:13",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509329-RQqu2eTeqej0qm6BkUDA1ZdYf-PzwakTTGYZ47q_b9I",
      "cf_partner": [],
      "cf_last_closed": "20130221T10:28:13",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "2000",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20121101T12:52:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "None",
          "ext_bz_bug_id": "308573",
          "bug_id": "872169",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "69",
          "type": {
            "must_send": "False",
            "description": "TCMS Test Case",
            "url": "https://tcms.engineering.redhat.com",
            "can_get": "False",
            "id": "69",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          },
          "id": "126302"
        },
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00731310",
          "bug_id": "872169",
          "ext_description": "internal-sftp can not log when chrooted",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "82553"
        }
      ],
      "id": "872169",
      "cf_release_notes": "Cause: \r\nThe logging via syslog needs an existing /dev/log socket. This is not possible for all chroots enviroments based on\r\nuser's home directories. The RHEL's openssh tried to work around this using a patch which keeps a syslog file \r\ndescriptor open, but the syslog library has changed and the used heuristic stop working.\r\nConsequence: \r\nThe sftp commands are not logged in a chroot setups in internal-sftp sbsystem.\r\nFix: \r\nThe heuristic in the work around patch has been adjusted to the new conditions.\r\nResult: \r\nThe sftp commands are logged in a chroot setups in internal-sftp sbsystem.",
      "priority": "high",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "rdassen@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "rdassen@redhat.com",
          "text": "Description of problem:\nsftp commands are not logged in a chroot setup.\n\nVersion-Release number of selected component (if applicable):\nopenssh-5.3p1-81.el6.x86_64\n\nHow reproducible:\n100%\n\nSteps to Reproduce:\n* Install RHEL6.3 GA in a KVM VM.\n* Install ''screen''.\n* Configure serial console access to the VM per <https://access.redhat.com/knowledge/solutions/20603>.\n* Connect using serial console (not via SSH).\n* Use ''screen'' to multiplex the connection. As there is no SSH connection, there is but one sshd process at this point.\n* ''ls -l /proc/$(pidof sshd)/fd'' to identify the socket file descriptor numbers. One is listening on the SSH port; the other is used for logging.\n* Set up chrooted SFTP:\n  * groupadd sftpusers\n  * useradd -g sftpusers -s /sbin/nologin guestuser\n  * passwd guestuser\n  * chown root:root /home/guestuser/\n  * mkdir /home/guestuser/test\n  * chown guestuser /home/guestuser/test\n  * Edit /etc/ssh/sshd_config. Comment out the line\n\tSubsystem       sftp    /usr/libexec/openssh/sftp-server\n    and add these lines:\n\tSubsystem sftp internal-sftp -l VERBOSE\n\tMatch Group sftpusers\n\t    ChrootDirectory /home/%u\n\t    ForceCommand internal-sftp -l VERBOSE\n  * service sshd restart\n* Trace sshd:\n\tstrace -ff -o /tmp/strace -s 5000 -p $(pidof sshd)\n* In parallel, connect to the service:\n  sftp guestuser@localhost\n* ctrl-C the strace\n\nActual results:\nThe sshd process servicing the SFTP connection tries but fails to log to\nsyslog:\n\t[root@test tmp]# grep -i badf strace.* | grep -v close\n\tstrace.2498:ioctl(-1, SNDCTL_TMR_TIMEBASE or TCGETS, 0x7fffcf5360f0) = -1 EBADF (Bad file descriptor)\n\tstrace.2499:sendto(4, ''<86>Oct 30 15:42:22 sshd[2499]: session opened for local user guestuser from [::1]'', 82, MSG_NOSIGNAL, NULL, 0) = -1 EBADF (Bad file descriptor)\n\nExpected results:\nThe sshd process servicing the SFTP connection succeeds in logging to\nsyslog. Specifically, sftp commands are logged.\n\nAdditional info:\nI suspect this issue has to do with the open_log() logic in log.c, introduced by openssh-5.1p1-log-in-chroot.patch which tries to keep the fd for the log connection around (so a /dev/log will not be needed in the chroot directory, as discussed in private BZ #822721).\n\nAs per <https://bugzilla.mindrot.org/show_bug.cgi?id=1636#c5>, newer upstream (5.9 and later) handles this quite differently, so this issue is unlikely to affect RHEL7.\n\nInstrumenting sshd to study the open_log logic around log_fd_keep:\n\ndiff -ru openssh-5.3p1.old/log.c openssh-5.3p1/log.c\n--- openssh-5.3p1.old/log.c     2012-10-31 19:07:35.817551473 +0100\n+++ openssh-5.3p1/log.c 2012-10-31 19:30:36.473556544 +0100\n@@ -421,6 +421,8 @@\n        else \n                log_fd_keep = -1;\n \n+       fprintf(stderr, ''openlog: argv0: %s; __progname: %s; temp1 = %d; temp2 = %d; log_fd_keep = %d\\n'', argv0, __progname, temp1, temp2, log_fd_keep);\n+\n        if (temp1 != -1)\n                close(temp1);\n        if (temp2 != -1)\n\n\n[ray@rhel6 SPECS]$ ps -eaf | grep sshd\nroot     17110     1  0 19:51 ?        00:00:00 /usr/sbin/sshd\nroot     17119 17110  0 19:51 ?        00:00:00 sshd: guestuser [priv]\n1127     17123 17119  0 19:51 ?        00:00:00 sshd: guestuser@notty\n1127     17124 17123  0 19:51 ?        00:00:00 sshd: guestuser@internal-sftp\n\nThe log fd isn't kept by the last of these:\n\t[ray@rhel6]$ grep openlog /tmp/strace.*\n\t/tmp/strace.17120:write(2, ''openlog: argv0: sshd; __progname: sshd; temp1 = 6; temp2 = 8; log_fd_keep = 7\\n'', 78) = 78\n\t/tmp/strace.17123:write(2, ''openlog: argv0: sshd; __progname: sshd; temp1 = 6; temp2 = 7; log_fd_keep = -1\\n'', 79) = 79\n\nAnd this is reflected in the open fds:\n17123 still has a sockets:\n\t[root@rhel6]# ls -l /proc/17123/fd\n\ttotal 0\n\tlrwx------. 1 root root 64 Oct 31 20:01 0 -> /dev/null\n\tlrwx------. 1 root root 64 Oct 31 20:01 1 -> /dev/null\n\tlr-x------. 1 root root 64 Oct 31 20:01 10 -> pipe:[134879]\n\tlr-x------. 1 root root 64 Oct 31 20:01 12 -> pipe:[134880]\n\tlrwx------. 1 root root 64 Oct 31 20:01 2 -> /dev/null\n\tlrwx------. 1 root root 64 Oct 31 20:01 3 -> socket:[134742]\n\tlrwx------. 1 root root 64 Oct 31 20:01 4 -> socket:[134846]\n\tlrwx------. 1 root root 64 Oct 31 20:01 5 -> socket:[134851]\n\tlr-x------. 1 root root 64 Oct 31 20:01 6 -> pipe:[134869]\n\tl-wx------. 1 root root 64 Oct 31 20:01 7 -> pipe:[134869]\n\tl-wx------. 1 root root 64 Oct 31 20:01 9 -> pipe:[134878]\nbut 17124 doesn't any more:\n\t[root@rhel6]# ls -l /proc/17124/fd\n\ttotal 0\n\tlr-x------. 1 root root 64 Oct 31 20:01 0 -> pipe:[134878]\n\tl-wx------. 1 root root 64 Oct 31 20:01 1 -> pipe:[134879]\n\tl-wx------. 1 root root 64 Oct 31 20:01 2 -> pipe:[134880]\n\tlr-x------. 1 root root 64 Oct 31 20:01 3 -> pipe:[134878]\n\tl-wx------. 1 root root 64 Oct 31 20:01 4 -> pipe:[134879]\n\nChecking 7.0 Alpha2 (openssh-server-5.9p1-22.el7), the issue is indeed (as I suspected) not reproducible there.",
          "author": "rdassen@redhat.com",
          "creation_time": "20121101T12:52:19",
          "bug_id": "872169",
          "creator_id": "275277",
          "time": "20121101T12:52:19",
          "id": "5163072",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "plautrba@redhat.com",
          "text": "I find the openssh-5.3p1-81.el6.x86_64 wrong. It relies on an assumption that openlog() opens just one filedescriptor and this descriptor is bigger by 1 than last opened descriptor. \n\n +      temp1 = open(''/dev/null'', O_RDONLY);\n +      openlog(argv0 ? argv0 : __progname, LOG_PID|LOG_NDELAY, log_facility);\n +      temp2 = open(''/dev/null'', O_RDONLY);\n +      if (temp1 + 2 ==  temp2)\n +              log_fd_keep = temp1 + 1;\n\n\nAlso it presumes that syslog() will never call openlog() again. It's probably never worked.\n\nI would suggest to backport logging via monitor from openssh-5.9p1.",
          "author": "plautrba@redhat.com",
          "creation_time": "20121109T16:25:06",
          "bug_id": "872169",
          "creator_id": "270148",
          "time": "20121109T16:25:06",
          "id": "5185370",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "rdassen@redhat.com",
          "text": "I'm opening up this bugzilla to the customer contact who filed the underlying support case to us. Please take this into account in your communications in this case and use private comments for updates you do not wish to share with the customer.",
          "author": "rdassen@redhat.com",
          "creation_time": "20121115T09:39:58",
          "bug_id": "872169",
          "creator_id": "275277",
          "time": "20121115T09:39:58",
          "id": "5201298",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "rdassen@redhat.com",
          "text": "Adding Jens Kuehnel who reported this issue to GSS.",
          "author": "rdassen@redhat.com",
          "creation_time": "20121115T09:41:51",
          "bug_id": "872169",
          "creator_id": "275277",
          "time": "20121115T09:41:51",
          "id": "5201307",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "rdassen@redhat.com",
          "text": "This issue was discussed in my weekly conference call with the customer, and they are very quite eager to see this fixed in RHEL6.5; I'm updating the Priority setting to reflect this.\n\nMy customer provides a ''secure upload'' facility using chroot-ed sftp to their customers, and it is important to them that any messages indicating problems (or attempted abuses) with that service are logged properly for analysis purposes.\n\nI would appreciate it if we can get some acks on this soon.\n\nPetr, I also expect that my customer would be quite willing to do testing of an (unsupported) test build of the proposed logging via monitor backport if you're interested in their feedback.",
          "author": "rdassen@redhat.com",
          "creation_time": "20130306T10:38:21",
          "bug_id": "872169",
          "creator_id": "275277",
          "time": "20130306T10:38:21",
          "id": "5572970",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "plautrba@redhat.com",
          "text": "I have got almost a working version. I'll post a patch and a working scratch build here soon.",
          "author": "plautrba@redhat.com",
          "creation_time": "20130311T11:11:37",
          "bug_id": "872169",
          "creator_id": "270148",
          "time": "20130311T11:11:37",
          "id": "5586931",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "plautrba@redhat.com",
          "text": "I'm sorry, but I had been too optimistic before I wrote the comment #c5. \n\nUnfortunately, https://bugzilla.mindrot.org/show_bug.cgi?id=1636#c5 describes only pre-auth phase. internal-sftp session is run during post-authentication phase and it's other process then pre-auth. \n\nAlso it doesn't work for me with the latest RHEL-7 openssh-6.1p1-4.el7.x86_64.\n\nI'll send more soon.",
          "author": "plautrba@redhat.com",
          "creation_time": "20130311T13:02:38",
          "bug_id": "872169",
          "creator_id": "270148",
          "time": "20130311T13:02:38",
          "id": "5587252",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "plautrba@redhat.com",
          "text": "I can see logs from chrooted internal-sftp with slightly changed openssh-5.1p1-log-in-chroot.patch:\n-+      if (temp1 + 2 ==  temp2)\n-+              log_fd_keep = temp1 + 1;\n++      if (temp1 + 2 <=  temp2)\n++              log_fd_keep = temp2 - 1;\n\nand\n\n+-      closefrom(STDERR_FILENO + 1);\n++      /* closefrom(STDERR_FILENO + 1); */\n\nAt least second part is not ideal and will need some other work.\n\nAlso, there will be some discontinuity in updated openssh in environments with syslog configured for chroot. Right now, you see \n\nMar 11 17:58:50 rhel-6-openssh internal-sftp[27853]: realpath ''/test''\n\nbut with updated openssh-5.1p1-log-in-chroot.patch, there will be:\n\nMar 11 17:50:24 rhel-6-openssh sshd[27827]: realpath ''/test''\n\n\nThere's a scratch build - just for testing purposes - \nhttp://brewweb.devel.redhat.com/brew/taskinfo?taskID=5493941",
          "author": "plautrba@redhat.com",
          "creation_time": "20130311T17:03:14",
          "bug_id": "872169",
          "creator_id": "270148",
          "time": "20130311T17:03:14",
          "id": "5588374",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "rdassen@redhat.com",
          "text": "Hello Petr,\n\nAny news here? Is backporting logging via monitor (cf. comment #1) still an option for you?\n\nMy customer has limited bandwidth to perform testing around this issue - if you'd like me to provide a test build to them, please let me know what kind of input you're looking for from them.\n\nKind regards,\nRay",
          "author": "rdassen@redhat.com",
          "creation_time": "20130412T10:21:31",
          "bug_id": "872169",
          "creator_id": "275277",
          "time": "20130412T10:21:31",
          "id": "5823868",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "plautrba@redhat.com",
          "text": "Backporting logging via monitor doesn't solve logging issue for chrooted sftp. But it would solve another issues related to authentication. So I prepared patch with backported logging via monitor and also slightly changed openssh-5.1p1-log-in-chroot.patch according to #c7. \n\nBut when I tried to build it in brew I hit some build issue [1]. I'll let you know when I have a correct build.\n\n\n[1] https://brewweb.devel.redhat.com/taskinfo?taskID=5639720",
          "author": "plautrba@redhat.com",
          "creation_time": "20130412T15:32:22",
          "bug_id": "872169",
          "creator_id": "270148",
          "time": "20130412T15:32:22",
          "id": "5824833",
          "is_private": "True"
        },
        {
          "count": "10",
          "attachment_id": "736320",
          "author": "plautrba@redhat.com",
          "text": "Created attachment 736320\nFixed openssh-5.1p1-log-in-chroot.patch\n\nThis is slightly changed openssh-5.1p1-log-in-chroot.patch. There is a build  http://brewweb.devel.redhat.com/brew/taskinfo?taskID=5651495 based on this patch. \n\nAs for the testing, I've tested it, it works for me but I'd be good if customer can test if logging of chrooted internal sfto works for him and also if there's no regressions in logging behaviour in other parts.",
          "creator": "plautrba@redhat.com",
          "creation_time": "20130416T14:12:23",
          "bug_id": "872169",
          "creator_id": "270148",
          "time": "20130416T14:12:23",
          "id": "5833083",
          "is_private": "True"
        },
        {
          "count": "11",
          "creator": "rdassen@redhat.com",
          "text": "Thank you, Petr. I've provided this build to the customer and will share their feedback when I get it.",
          "author": "rdassen@redhat.com",
          "creation_time": "20130416T14:37:46",
          "bug_id": "872169",
          "creator_id": "275277",
          "time": "20130416T14:37:46",
          "id": "5833209",
          "is_private": "True"
        },
        {
          "count": "12",
          "creator": "ksrot@redhat.com",
          "text": "Hi Ray,\ndo we have any update from the customer? Thank you.",
          "author": "ksrot@redhat.com",
          "creation_time": "20130520T15:48:12",
          "bug_id": "872169",
          "creator_id": "286283",
          "time": "20130520T15:48:12",
          "id": "5932158",
          "is_private": "True"
        },
        {
          "count": "13",
          "creator": "ksrot@redhat.com",
          "text": "qa_ack+ for 6.5",
          "author": "ksrot@redhat.com",
          "creation_time": "20130521T12:31:59",
          "bug_id": "872169",
          "creator_id": "286283",
          "time": "20130521T12:31:59",
          "id": "5935584",
          "is_private": "True"
        },
        {
          "count": "14",
          "creator": "lbailey@redhat.com",
          "text": "Marking with docs_scoped- as this bug should not affect any of the following guides for RHEL 6.5:\n* Performance Tuning Guide\n* Migration Planning Guide\n* Storage Administration Guide\n* SystemTap Tapset Reference\n* SystemTap Beginners Guide\n* Developer Guide",
          "author": "lbailey@redhat.com",
          "creation_time": "20130603T01:00:04",
          "bug_id": "872169",
          "creator_id": "278466",
          "time": "20130603T01:00:04",
          "id": "5970339",
          "is_private": "True"
        },
        {
          "count": "15",
          "creator": "pep@redhat.com",
          "text": "(In reply to Karel Srot from comment #12)\n> do we have any update from the customer? Thank you.\n\nCustomer just came back:\n\nI checked the rpm that Ray attached and they fix the problem.",
          "author": "pep@redhat.com",
          "creation_time": "20130611T21:27:05",
          "bug_id": "872169",
          "creator_id": "211433",
          "time": "20130611T21:27:05",
          "id": "6001997",
          "is_private": "True"
        },
        {
          "count": "16",
          "creator": "sgreen@redhat.com",
          "text": "User rdassen@redhat.com's account has been closed",
          "author": "sgreen@redhat.com",
          "creation_time": "20130703T04:31:54",
          "bug_id": "872169",
          "creator_id": "303534",
          "time": "20130703T04:31:54",
          "id": "6065646",
          "is_private": "True"
        },
        {
          "count": "17",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2013:15245-01\nhttp://errata.devel.redhat.com/errata/show/15245",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20130712T10:37:19",
          "bug_id": "872169",
          "creator_id": "241731",
          "time": "20130712T10:37:19",
          "id": "6103785",
          "is_private": "True"
        },
        {
          "count": "18",
          "creator": "mvadkert@redhat.com",
          "text": "Unfortunately I cannot see the any logs appearing in rsyslog with chrooted sftp. \n\nEverythings works fine if the user is not chrooted. Strace still shows:\n# grep -i badf /tmp/strace.* | grep -v close\n/tmp/strace.357:ioctl(-1, SNDCTL_TMR_TIMEBASE or TCGETS, 0x7fffd906ee80) = -1 EBADF (Bad file descriptor)\n\nBut the second error message reported (is not there anymore)\n\nPetr you can checkout the test here:\nhttp://pkgs.devel.redhat.com/cgit/tests/openssh/tree/Sanity/bz872169-sftp-logging\n\nMy SSH config contains:\n\nSubsystem sftp internal-sftp -l VERBOSE -f LOCAL3 \nMatch user sftpchrootu\n    ChrootDirectory /home/sftpchrootu\n    ForceCommand internal-sftp -l VERBOSE -f LOCAL3\n\n\nAnd rsyslog is configured as:\nlocal3.*            /var/log/sftp.log\n\nPutting back to ASSIGNED",
          "author": "mvadkert@redhat.com",
          "creation_time": "20131013T23:20:24",
          "bug_id": "872169",
          "creator_id": "271572",
          "time": "20131013T23:20:24",
          "id": "6412479",
          "is_private": "True"
        },
        {
          "count": "19",
          "creator": "mvadkert@redhat.com",
          "text": "FTR tested packages:\n\n# rpm -qa openssh\\*\nopenssh-5.3p1-94.el6.x86_64\nopenssh-server-5.3p1-94.el6.x86_64\nopenssh-clients-5.3p1-94.el6.x86_64",
          "author": "mvadkert@redhat.com",
          "creation_time": "20131013T23:21:22",
          "bug_id": "872169",
          "creator_id": "271572",
          "time": "20131013T23:21:22",
          "id": "6412486",
          "is_private": "True"
        },
        {
          "count": "20",
          "creator": "plautrba@redhat.com",
          "text": "Unfortunately, you can't change a facility due to the missing /dev/log interface in change root. So your messages are probably in /var/log/secure with other sshd log messages. Only value you can change for a chrooted internal-sftp is a priority.",
          "author": "plautrba@redhat.com",
          "creation_time": "20131014T12:58:05",
          "bug_id": "872169",
          "creator_id": "270148",
          "time": "20131014T12:58:05",
          "id": "6416719",
          "is_private": "True"
        },
        {
          "count": "21",
          "creator": "mvadkert@redhat.com",
          "text": "So on my test system after removing the facility option the internal-sftp is logging to /var/log/messages. As on your system it was logging to /var/log/secure. Could be that file descriptor guessing in the code could log to any file opened by rsyslog? This is a very unpleasant behavior ...",
          "author": "mvadkert@redhat.com",
          "creation_time": "20131014T19:53:16",
          "bug_id": "872169",
          "creator_id": "271572",
          "time": "20131014T19:53:16",
          "id": "6418430",
          "is_private": "True"
        },
        {
          "count": "22",
          "creator": "mvadkert@redhat.com",
          "text": "Taking back the previous comment, I did not realize that paths are stripped as we are in chrooted environment. I think the added functionality would need a release note - the facility specification is not supported in chrooted environment and the internal sftp subsystem will always log to the sshd logging facility (AUTH by default)",
          "author": "mvadkert@redhat.com",
          "creation_time": "20131014T20:59:53",
          "bug_id": "872169",
          "creator_id": "271572",
          "time": "20131014T20:59:53",
          "id": "6418577",
          "is_private": "True"
        },
        {
          "count": "23",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2013:15245-01: \nChanged by: Miroslav Vadkerti (mvadkert@redhat.com)\nhttp://errata.devel.redhat.com/advisory/15245\n\nVERIFIED as fixed in openssh-5.3p1-94.el6\nThe functionality would need some documentation. I will file a separate bug for this.\n\nNEW PACKAGE openssh-5.3p1-94.el6\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: /CoreOS/openssh/Sanity/bz872169-sftp-logging\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Phases: 4 good, 0 bad\n:: [   PASS   ] :: RESULT: /CoreOS/openssh/Sanity/bz872169-sftp-logging\n\n\nOLD PACKAGE openssh-5.3p1-84.1.el6\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: /CoreOS/openssh/Sanity/bz872169-sftp-logging\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Phases: 3 good, 1 bad\n:: [   FAIL   ] :: RESULT: /CoreOS/openssh/Sanity/bz872169-sftp-logging",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20131014T21:45:49",
          "bug_id": "872169",
          "creator_id": "241731",
          "time": "20131014T21:45:49",
          "id": "6418694",
          "is_private": "True"
        },
        {
          "count": "24",
          "creator": "plautrba@redhat.com",
          "text": "(In reply to Miroslav Vadkerti from comment #22)\n> Taking back the previous comment, I did not realize that paths are stripped\n> as we are in chrooted environment. I think the added functionality would\n> need a release note - the facility specification is not supported in\n> chrooted environment and the internal sftp subsystem will always log to the\n> sshd logging facility (AUTH by default)\n\nNote that there's no added functionality, it's the fix of the fix introduced in Fedora 11 in a commit:\n\ncommit 061e2141160c2280880a83f4ca90e238f369caa5\nAuthor: Jan F. Chadima <jfch2222@fedoraproject.org>\nDate:   Fri Apr 3 12:37:30 2009 +0000\n   \n - fix logging after chroot\n    - enable non root users to use chroot %h in internal-sftp",
          "author": "plautrba@redhat.com",
          "creation_time": "20131015T08:36:58",
          "bug_id": "872169",
          "creator_id": "270148",
          "time": "20131015T08:36:58",
          "id": "6420357",
          "is_private": "True"
        },
        {
          "count": "25",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHSA-2013-1591.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20131121T09:43:49",
          "bug_id": "872169",
          "creator_id": "241731",
          "time": "20131121T09:43:49",
          "id": "6542251",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.3"
      ],
      "cc": [
        "bugzilla-redhat@jens.kuehnel.org",
        "klepikho@redhat.com",
        "ksrot@redhat.com",
        "mvadkert@redhat.com",
        "pep@redhat.com",
        "plautrba@redhat.com",
        "pvrabec@redhat.com",
        "rbinkhor@redhat.com"
      ],
      "cf_verified": [
        "FailedQA"
      ],
      "cf_cust_facing": "No",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "835616",
        "947775",
        "960054"
      ],
      "qa_contact": "mvadkert@redhat.com",
      "tags": [],
      "see_also": [
        "https://bugzilla.redhat.com/show_bug.cgi?id=822721"
      ],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "redhat"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "sftp command logging fails in chrooted setup",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20131012T19:29:15",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20130521T12:43:24",
          "id": "1351161",
          "setter": "mvadkert@redhat.com"
        },
        {
          "status": "?",
          "name": "requires_doc_text",
          "modification_date": "20131025T08:48:18",
          "type_id": "415",
          "is_active": "1",
          "creation_date": "20131025T08:48:18",
          "id": "1563357",
          "setter": "bugzilla@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.5.0",
          "modification_date": "20130521T12:49:02",
          "type_id": "361",
          "is_active": "0",
          "creation_date": "20121101T12:52:19",
          "id": "1177992",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20130506T20:41:15",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20121101T12:52:19",
          "id": "1177993",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20130311T10:54:21",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20121101T12:52:19",
          "id": "1177994",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20130521T12:31:59",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20121101T12:52:19",
          "id": "1177995",
          "setter": "ksrot@redhat.com"
        }
      ],
      "last_change_time": "20131121T09:43:49",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509329-jiTWMVyaN7Z_jwxg1r1EUzjogMqLJP4IKqo0NIF9iew",
      "cf_partner": [],
      "cf_last_closed": "20131121T09:43:49",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "1200",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20130201T18:26:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "FutureFeature"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00783918",
          "bug_id": "906872",
          "ext_description": "RHEL-6.3 Feature Request: Upstream OpenSSH-5.4 support for ertificate authentication of users and hosts",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "94213"
        },
        {
          "ext_status": "None",
          "ext_bz_bug_id": "308658",
          "bug_id": "906872",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "69",
          "type": {
            "must_send": "False",
            "description": "TCMS Test Case",
            "url": "https://tcms.engineering.redhat.com",
            "can_get": "False",
            "id": "69",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          },
          "id": "121535"
        }
      ],
      "id": "906872",
      "cf_release_notes": "Certificate Support in OpenSSH\r\n\r\nRed Hat Enterprise Linux 6.5 supports certificate authentication of users and hosts using a new OpenSSH certificate format. Certificates contain a public key, identity information and validity constraints, and are signed with a standard SSH public key using the ssh-keygen utility. Note that in ssh-keygen shipped with Red Hat Enterprise Linux 6, the ''-Z'' option is used for specifying the principals. For more information on this functionality, refer to the /usr/share/doc/openssh-5.3p1/PROTOCOL.certkeys file.",
      "priority": "high",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "sgadekar@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "sgadekar@redhat.com",
          "text": "1. Proposed title of this feature request\ncertificate support in OpenSSH  for security enhancement.\n\n2. Who is the customer behind the request?\nAccount name:Volkswagen AG\nCustomer segment: 3\nTAM/SRM customer: no/yes, TAM/SRM customer:  Has SRM ( Annagreth Flierl Williams )\nStrategic Customer :  Yes\n\n\n3. What is the nature and description of the request?\n Customer want ''certificate support'' in OpenSSH to further enhance security on 400 Workstations.\n\n\nRHEL-6.3 ships with openssh-5.3p1-81.el6_3.x86_64\n\n\n\n4. Why does the customer need this? (List the business requirements here)\n\n\nEnhance the security\n\n5. How would the customer like to achieve this? (List the functional\nrequirements here)\nCustomer would like to enable users to easily trust certified machines by installing\na certificate. When he install new machines he would certify this installation\nand the user can be sure to only trust machines installed by ''good guys''\nand never trust machines installed by ''bad guys''.\n\n6. For each functional requirement listed in question 5, specify how Red Hat\nand the customer can test to confirm the requirement is successfully\nimplemented.\n\n\n7. Is there already an existing RFE upstream or in Red Hat bugzilla?\nIn upstream it is available. \nThat support is included in upstream OpenSSH-5.4:\n * Add support for certificate authentication of users and hosts using a\n   new, minimal OpenSSH certificate format (not X.509). Certificates\n   contain a public key, identity information and some validity\n   constraints and are signed with a standard SSH public key using\n   ssh-keygen(1). CA keys may be marked as trusted in authorized_keys\n   or via a TrustedUserCAKeys option in sshd_config(5) (for user\n   authentication), or in known_hosts (for host authentication).\n\n   Documentation for certificate support may be found in ssh-keygen(1),\n   sshd(8) and ssh(1) and a description of the protocol extensions in\n   PROTOCOL.certkeys.\n\n8. Does the customer have any specific timeline dependencies?\nWant it in RHEL6.3(backport) Will confirm again\n\n9. Is the sales team involved in this request and do they have any additional input?\nNo\n\n10. List any affected packages or components.\nssh",
          "author": "sgadekar@redhat.com",
          "creation_time": "20130201T18:26:05",
          "bug_id": "906872",
          "creator_id": "331536",
          "time": "20130201T18:26:05",
          "id": "5470971",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this bug report was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20130201T18:30:59",
          "bug_id": "906872",
          "creator_id": "193983",
          "time": "20130201T18:30:59",
          "id": "5470981",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "pm-rhel@redhat.com",
          "text": "This request was not resolved in time for the current release.\nRed Hat invites you to ask your support representative to\npropose this request, if still desired, for consideration in\nthe next release of Red Hat Enterprise Linux.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20130205T06:47:25",
          "bug_id": "906872",
          "creator_id": "193983",
          "time": "20130205T06:47:25",
          "id": "5477366",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "sserban@redhat.com",
          "text": "the customer definitely wants this asap (rhel6.4 if possible, at the very least rhel6.5). \n\ncan we have a clarification regarding: is it possible to have this in rhel6? can we commit to that? can we expect rhel6.4, or is that rhel6.5, etc?\n\nnote: this is a rather important customer (Volkswagen group), and also one who happens to (almost) only bother us with rfe/bug reports (so basically this is all we give them from a support perspective, because ''they know what they are doing'',  which is very rare, and, i dare say, much appreciated), and the request seems quite reasonable i think (?)\n\nthanks a lot.\n\n-- \nsorin",
          "author": "sserban@redhat.com",
          "creation_time": "20130206T12:52:01",
          "bug_id": "906872",
          "creator_id": "318156",
          "time": "20130206T12:52:01",
          "id": "5481620",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "plautrba@redhat.com",
          "text": "This can.t be expected in 6.4,  but 6.5 might be possible.\n\nBackport would be quite complicated given that whole feature is split into several commits and touches 17 files including files with crypto algorithm implementations so it would need FIPS  review.\n\nThere's also unfortunate conflict in ssh-keygen options. The -n option is used for ''use NSS'' in current rhel-6 release, but openssh-5.4p1's keygen uses -n for principals. So even if we'll think about rebase of openssh for rhel-6, this needs to be solved in some non-standard way.\n\nI'll prepare a patch with this feature for openssh-5.3p1 for additional testing. But I will have to use ssh-keygen -Z <principals> instead of keygen -n <principals>",
          "author": "plautrba@redhat.com",
          "creation_time": "20130207T11:48:33",
          "bug_id": "906872",
          "creator_id": "270148",
          "time": "20130207T11:48:33",
          "id": "5485972",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "sserban@redhat.com",
          "text": "Hi Petr,\n\nThanks a lot.\n\nPlease let me know when you expect to have a test package or anything that can be tested, or any progress update whatsoever.\n\nRegards,\n\n-- \nsorin",
          "author": "sserban@redhat.com",
          "creation_time": "20130215T16:38:35",
          "bug_id": "906872",
          "creator_id": "318156",
          "time": "20130215T16:38:35",
          "id": "5512229",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "plautrba@redhat.com",
          "text": "Sorin,\n\nI hope I'll have something next week. I need to finish other tasks first. I'll let you know as soon as I'll have first test build.",
          "author": "plautrba@redhat.com",
          "creation_time": "20130220T16:28:24",
          "bug_id": "906872",
          "creator_id": "270148",
          "time": "20130220T16:28:24",
          "id": "5523959",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "tlavigne@redhat.com",
          "text": "Since the release flag was set to ? after the pm_ack flag was set to + (was likely set for the previous release), the pm_ack flag has been reset to ? by the bugbot (pm-rhel). This action ensures the proper review by Product Management.",
          "author": "tlavigne@redhat.com",
          "creation_time": "20130408T18:59:35",
          "bug_id": "906872",
          "creator_id": "336123",
          "time": "20130408T18:59:35",
          "id": "5810807",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "sforsber@redhat.com",
          "text": "(In reply to comment #6)\n> Sorin,\n> \n> I hope I'll have something next week. I need to finish other tasks first.\n> I'll let you know as soon as I'll have first test build.\n\nPetr, Is this feasible for 6.5? The US Federal team is asking about this for a customer here.",
          "author": "sforsber@redhat.com",
          "creation_time": "20130503T12:57:21",
          "bug_id": "906872",
          "creator_id": "309119",
          "time": "20130503T12:57:21",
          "id": "5882077",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "plautrba@redhat.com",
          "text": "(In reply to comment #8)\n> Petr, Is this feasible for 6.5? The US Federal team is asking about this for\n> a customer here.\n\nI believe so. I'm about to have backported support for ssh-rsa-cert-v0*@openssh.com and ssh-dsa-cert-v0*@openssh.com certificates but there are still some failing selftests.",
          "author": "plautrba@redhat.com",
          "creation_time": "20130507T05:43:16",
          "bug_id": "906872",
          "creator_id": "270148",
          "time": "20130507T05:43:16",
          "id": "5889573",
          "is_private": "True"
        },
        {
          "count": "10",
          "creator": "plautrba@redhat.com",
          "text": "http://brewweb.devel.redhat.com/brew/taskinfo?taskID - this is a preliminary testing build with the openssh certificates support. It contains quite complex set of baskported change sets as you may see in the following list:\n\n20100521\n - (djm) OpenBSD CVS Sync\n   - djm@cvs.openbsd.org 2010/05/07 11:31:26\n     [regress/Makefile regress/cert-userkey.sh]\n     regress tests for AuthorizedPrincipalsFile and ''principals='' key option.\n     feedback and ok markus@\n   - djm@cvs.openbsd.org 2010/05/11 02:58:04\n     [auth-rsa.c]\n     don't accept certificates marked as ''cert-authority'' here; ok markus@\n   - djm@cvs.openbsd.org 2010/05/14 00:47:22\n     [ssh-add.c]\n     check that the certificate matches the corresponding private key before\n     grafting it on\n   - djm@cvs.openbsd.org 2010/05/20 11:25:26\n     [auth2-pubkey.c]\n     fix logspam when key options (from=''...'' especially) deny non-matching\n     keys; reported by henning@ also bz#1765; ok markus@ dtucker@\n   - djm@cvs.openbsd.org 2010/05/20 23:46:02\n     [PROTOCOL.certkeys auth-options.c ssh-keygen.c]\n     Move the permit-* options to the non-critical ''extensions'' field for v01\n     certificates. The logic is that if another implementation fails to\n     implement them then the connection just loses features rather than fails\n     outright.\n     \n     ok markus@\n\n20100510\n   - djm@cvs.openbsd.org 2010/05/07 11:30:30\n     [auth-options.c auth-options.h auth.c auth.h auth2-pubkey.c]\n     [key.c servconf.c servconf.h sshd.8 sshd_config.5]\n     add some optional indirection to matching of principal names listed\n     in certificates. Currently, a certificate must include the a user's name\n     to be accepted for authentication. This change adds the ability to\n     specify a list of certificate principal names that are acceptable.\n     \n     When authenticating using a CA trusted through ~/.ssh/authorized_keys,\n     this adds a new principals=''name1[,name2,...]'' key option.\n     \n     For CAs listed through sshd_config's TrustedCAKeys option, a new config\n     option ''AuthorizedPrincipalsFile'' specifies a per-user file containing\n     the list of acceptable names.\n     \n     If either option is absent, the current behaviour of requiring the\n     username to appear in principals continues to apply.\n     \n     These options are useful for role accounts, disjoint account namespaces\n     and ''user@realm''-style naming policies in certificates.\n     \n     feedback and ok markus@\n   - jmc@cvs.openbsd.org 2010/05/07 12:49:17\n     [sshd_config.5]\n     tweak previous;\n20100418\n - OpenBSD CVS Sync\n   - jmc@cvs.openbsd.org 2010/04/16 06:45:01\n     [ssh_config.5]\n     tweak previous; ok djm\n   - jmc@cvs.openbsd.org 2010/04/16 06:47:04\n     [ssh-keygen.1 ssh-keygen.c]\n     tweak previous; ok djm\n   - djm@cvs.openbsd.org 2010/04/16 01:58:45\n     [regress/cert-hostkey.sh regress/cert-userkey.sh]\n     regression tests for v01 certificate format\n     includes interop tests for v00 certs\n\n20100416\n   - djm@cvs.openbsd.org 2010/04/16 01:47:26\n     [PROTOCOL.certkeys auth-options.c auth-options.h auth-rsa.c]\n     [auth2-pubkey.c authfd.c key.c key.h myproposal.h ssh-add.c]\n     [ssh-agent.c ssh-dss.c ssh-keygen.1 ssh-keygen.c ssh-rsa.c]\n     [sshconnect.c sshconnect2.c sshd.c]\n     revised certificate format ssh-{dss,rsa}-cert-v01@openssh.com with the\n     following changes:\n     \n     move the nonce field to the beginning of the certificate where it can\n     better protect against chosen-prefix attacks on the signature hash\n     \n     Rename ''constraints'' field to ''critical options''\n     \n     Add a new non-critical ''extensions'' field\n     \n     Add a serial number\n     \n     The older format is still support for authentication and cert generation\n     (use ''ssh-keygen -t v00 -s ca_key ...'' to generate a v00 certificate)\n     \n     ok markus@\n\n20100321\n  - djm@cvs.openbsd.org 2010/03/10 23:27:17\n    [auth2-pubkey.c]\n    correct certificate logging and make it more consistent between\n    authorized_keys and TrustedCAKeys; ok markus@\n  - djm@cvs.openbsd.org 2010/03/13 21:45:46\n    [ssh-keygen.1]\n    Certificates are named *-cert.pub, not *_cert.pub; committing a diff\n    from stevesk@ ok me\n  - jmc@cvs.openbsd.org 2010/03/13 23:38:13\n    [ssh-keygen.1]\n    fix a formatting error (args need quoted); noted by stevesk\n  - stevesk@cvs.openbsd.org 2010/03/15 19:40:02\n    [key.c key.h ssh-keygen.c]\n    also print certificate type (user or host) for ssh-keygen -L\n    ok djm kettenis\n  - stevesk@cvs.openbsd.org 2010/03/16 15:46:52\n    [auth-options.c]\n    spelling in error message. ok djm kettenis\n\n20100304\n- OpenBSD CVS Sync\n  - djm@cvs.openbsd.org 2010/03/03 01:44:36\n    [auth-options.c key.c]\n    reject strings with embedded ASCII nul chars in certificate key IDs,\n    principal names and constraints\n  - djm@cvs.openbsd.org 2010/03/04 01:44:57\n    [key.c]\n    use buffer_get_string_ptr_ret() where we are checking the return\n    value explicitly instead of the fatal()-causing buffer_get_string_ptr()\n  - djm@cvs.openbsd.org 2010/03/04 10:36:03\n    [auth-rh-rsa.c auth-rsa.c auth.c auth.h auth2-hostbased.c auth2-pubkey.c]\n    [authfile.c authfile.h hostfile.c hostfile.h servconf.c servconf.h]\n    [ssh-keygen.c ssh.1 sshconnect.c sshd_config.5]\n    Add a TrustedUserCAKeys option to sshd_config to specify CA keys that\n    are trusted to authenticate users (in addition than doing it per-user\n    in authorized_keys).\n    \n    Add a RevokedKeys option to sshd_config and a @revoked marker to\n    known_hosts to allow keys to me revoked and banned for user or host\n    authentication.\n    \n    feedback and ok markus@\n  - djm@cvs.openbsd.org 2010/03/03 00:47:23\n    [regress/cert-hostkey.sh regress/cert-userkey.sh]\n    add an extra test to ensure that authentication with the wrong\n    certificate fails as it should (and it does)\n  - djm@cvs.openbsd.org 2010/03/04 10:38:23\n    [regress/cert-hostkey.sh regress/cert-userkey.sh]\n    additional regression tests for revoked keys and TrustedUserCAKeys\n  - djm@cvs.openbsd.org 2010/03/04 20:35:08\n    [ssh-keygen.1 ssh-keygen.c]\n    Add a -L flag to print the contents of a certificate; ok markus@\n  - djm@cvs.openbsd.org 2010/03/04 23:19:29\n    [ssh.1 sshd.8]\n    move section on CA and revoked keys from ssh.1 to sshd.8's known hosts\n    format section and rework it a bit; requested by jmc@\n  - jmc@cvs.openbsd.org 2010/03/05 06:50:35\n    [ssh.1 sshd.8]\n    tweak previous;\n  - jmc@cvs.openbsd.org 2010/03/05 08:31:20\n    [ssh.1]\n    document certificate authentication; help/ok djm\n  - djm@cvs.openbsd.org 2010/03/05 10:28:21\n    [ssh-add.1 ssh.1 ssh_config.5]\n    mention loading of certificate files from [private]-cert.pub when\n    they are present; feedback and ok jmc@\n\n20100226\n- OpenBSD CVS Sync\n  - djm@cvs.openbsd.org 2010/02/26 20:29:54\n    [PROTOCOL PROTOCOL.agent PROTOCOL.certkeys addrmatch.c auth-options.c]\n    [auth-options.h auth.h auth2-pubkey.c authfd.c dns.c dns.h hostfile.c]\n    [hostfile.h kex.h kexdhs.c kexgexs.c key.c key.h match.h monitor.c]\n    [myproposal.h servconf.c servconf.h ssh-add.c ssh-agent.c ssh-dss.c]\n    [ssh-keygen.1 ssh-keygen.c ssh-rsa.c ssh.1 ssh.c ssh2.h sshconnect.c]\n    [sshconnect2.c sshd.8 sshd.c sshd_config.5]\n    Add support for certificate key types for users and hosts.\n    \n    OpenSSH certificate key types are not X.509 certificates, but a much\n    simpler format that encodes a public key, identity information and\n    some validity constraints and signs it with a CA key. CA keys are\n    regular SSH keys. This certificate style avoids the attack surface\n    of X.509 certificates and is very easy to deploy.\n    \n    Certified host keys allow automatic acceptance of new host keys\n    when a CA certificate is marked as trusted in ~/.ssh/known_hosts.\n    see VERIFYING HOST KEYS in ssh(1) for details.\n    \n    Certified user keys allow authentication of users when the signing\n    CA key is marked as trusted in authorized_keys. See ''AUTHORIZED_KEYS\n    FILE FORMAT'' in sshd(8) for details.\n    \n    Certificates are minted using ssh-keygen(1), documentation is in\n    the ''CERTIFICATES'' section of that manpage.\n    \n    Documentation on the format of certificates is in the file\n    PROTOCOL.certkeys\n    \n    feedback and ok markus@\n  - djm@cvs.openbsd.org 2010/02/26 20:33:21\n    [Makefile regress/cert-hostkey.sh regress/cert-userkey.sh]\n    regression tests for certified keys",
          "author": "plautrba@redhat.com",
          "creation_time": "20130510T18:39:02",
          "bug_id": "906872",
          "creator_id": "270148",
          "time": "20130510T18:39:02",
          "id": "5905310",
          "is_private": "True"
        },
        {
          "count": "11",
          "creator": "ksrot@redhat.com",
          "text": "qa_ack+ for 6.5",
          "author": "ksrot@redhat.com",
          "creation_time": "20130521T09:29:24",
          "bug_id": "906872",
          "creator_id": "286283",
          "time": "20130521T09:29:24",
          "id": "5934787",
          "is_private": "True"
        },
        {
          "count": "12",
          "creator": "lbailey@redhat.com",
          "text": "Marking with docs_scoped- as this bug should not affect any of the following guides for RHEL 6.5:\n* Performance Tuning Guide\n* Migration Planning Guide\n* Storage Administration Guide\n* SystemTap Tapset Reference\n* SystemTap Beginners Guide\n* Developer Guide",
          "author": "lbailey@redhat.com",
          "creation_time": "20130603T01:02:05",
          "bug_id": "906872",
          "creator_id": "278466",
          "time": "20130603T01:02:05",
          "id": "5970344",
          "is_private": "True"
        },
        {
          "count": "13",
          "creator": "jhradile@redhat.com",
          "text": "Marking with docs_scoped? as this bug may affect the following guides for Red Hat Enterprise Linux 6.5:\n\n  * Deployment Guide\n\nHi Petr,\n\nThe Deployment Guide for Red Hat Enterprise Linux 6 includes a chapter about OpenSSH [1]. Should any of this be documented in this chapter?\n\nCheers,\nJaromir\n\n[1] https://access.redhat.com/site/documentation/en-US/Red_Hat_Enterprise_Linux/6/html/Deployment_Guide/ch-OpenSSH.html",
          "author": "jhradile@redhat.com",
          "creation_time": "20130603T19:19:59",
          "bug_id": "906872",
          "creator_id": "298002",
          "time": "20130603T19:19:59",
          "id": "5973923",
          "is_private": "True"
        },
        {
          "count": "14",
          "creator": "jhradile@redhat.com",
          "text": "Marking with docs_scoped+ as this bug does affect the Red Hat Enterprise Linux 6.5 Deployment Guide. I have created documentation bug 973633 to track this.",
          "author": "jhradile@redhat.com",
          "creation_time": "20130612T11:45:46",
          "bug_id": "906872",
          "creator_id": "298002",
          "time": "20130612T11:45:46",
          "id": "6003701",
          "is_private": "True"
        },
        {
          "count": "15",
          "creator": "sserban@redhat.com",
          "text": "Hi Petr,\n\nunfortunately the brew link seems to be broken (contains no actual task id?). if you have some test packages which you'd have this customer try, please give me a shout, i know they'd be glad to try them\n\nThanks again for the great work\n\n-- \nsorin(support)",
          "author": "sserban@redhat.com",
          "creation_time": "20130624T15:10:57",
          "bug_id": "906872",
          "creator_id": "318156",
          "time": "20130624T15:10:57",
          "id": "6038260",
          "is_private": "True"
        },
        {
          "count": "16",
          "creator": "plautrba@redhat.com",
          "text": "[1] is a temporary scratch build which will be probably vanished soon so I've copied all the files into something more reliable [2].\n\n[1] https://brewweb.devel.redhat.com/taskinfo?taskID=5939226\n[2] http://file.brq.redhat.com/~plautrba/openssh/906872-certificate-support/",
          "author": "plautrba@redhat.com",
          "creation_time": "20130624T16:01:58",
          "bug_id": "906872",
          "creator_id": "270148",
          "time": "20130624T16:01:58",
          "id": "6038442",
          "is_private": "True"
        },
        {
          "count": "17",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2013:15245-01\nhttp://errata.devel.redhat.com/errata/show/15245",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20130725T09:57:17",
          "bug_id": "906872",
          "creator_id": "241731",
          "time": "20130725T09:57:17",
          "id": "6140640",
          "is_private": "True"
        },
        {
          "count": "18",
          "creator": "mvadkert@redhat.com",
          "text": "Testsuite provides very comprehensive test for this feature. Below are all testcases that also successfuly on current RHEL6.5 openssh version (openssh-5.3p1-94.el6.x86_64). The only thing I can think of extending this test set is SELinux - if the feature works well also here. Peter anything else we could test here?\n\n\nrun test cert-hostkey.sh ...\ncertified host keys: sign host rsa cert\ncertified host keys: sign host dsa cert\ncertified host keys: host rsa cert connect privsep yes\ncertified host keys: host dsa cert connect privsep yes\ncertified host keys: host rsa_v00 cert connect privsep yes\ncertified host keys: host dsa_v00 cert connect privsep yes\ncertified host keys: host rsa cert connect privsep no\ncertified host keys: host dsa cert connect privsep no\ncertified host keys: host rsa_v00 cert connect privsep no\ncertified host keys: host dsa_v00 cert connect privsep no\ncertified host keys: host rsa revoked cert privsep yes\ncertified host keys: host dsa revoked cert privsep yes\ncertified host keys: host rsa_v00 revoked cert privsep yes\ncertified host keys: host dsa_v00 revoked cert privsep yes\ncertified host keys: host rsa revoked cert privsep no\ncertified host keys: host dsa revoked cert privsep no\ncertified host keys: host rsa_v00 revoked cert privsep no\ncertified host keys: host dsa_v00 revoked cert privsep no\ncertified host keys: host rsa revoked cert\ncertified host keys: host dsa revoked cert\ncertified host keys: host rsa_v00 revoked cert\ncertified host keys: host dsa_v00 revoked cert\ncertified host keys: host cert connect user-certificate rsa expect failure\ncertified host keys: host cert connect user-certificate rsa_v00 expect failure\ncertified host keys: host cert connect empty principals rsa expect success\ncertified host keys: host cert connect empty principals rsa_v00 expect success\ncertified host keys: host cert connect wrong principals rsa expect failure\ncertified host keys: host cert connect wrong principals rsa_v00 expect failure\ncertified host keys: host cert connect cert not yet valid rsa expect failure\ncertified host keys: host cert connect cert not yet valid rsa_v00 expect failure\ncertified host keys: host cert connect cert expired rsa expect failure\ncertified host keys: host cert connect cert expired rsa_v00 expect failure\ncertified host keys: host cert connect cert valid interval rsa expect success\ncertified host keys: host cert connect cert valid interval rsa_v00 expect success\ncertified host keys: host cert connect cert has constraints rsa expect failure\ncertified host keys: host cert connect cert has constraints rsa_v00 expect failure\ncertified host keys: host rsa v01 cert downgrade to raw key\ncertified host keys: host dsa v01 cert downgrade to raw key\ncertified host keys: host rsa v00 cert downgrade to raw key\ncertified host keys: host dsa v00 cert downgrade to raw key\ncertified host keys: host rsa connect wrong cert\ncertified host keys: host dsa connect wrong cert\ncertified host keys: host rsa connect wrong cert\ncertified host keys: host dsa connect wrong cert\nok certified host keys\n\n\nrun test cert-userkey.sh ...\ncertified user keys: sign user rsa cert\ncertified user keys: sign user dsa cert\ncertified user keys: rsa privsep yes missing authorized_principals\ncertified user keys: rsa privsep yes empty authorized_principals\ncertified user keys: rsa privsep yes wrong authorized_principals\ncertified user keys: rsa privsep yes correct authorized_principals\ncertified user keys: rsa privsep yes wrong principals key option\ncertified user keys: rsa privsep yes correct principals key option\ncertified user keys: rsa privsep no missing authorized_principals\ncertified user keys: rsa privsep no empty authorized_principals\ncertified user keys: rsa privsep no wrong authorized_principals\ncertified user keys: rsa privsep no correct authorized_principals\ncertified user keys: rsa privsep no wrong principals key option\ncertified user keys: rsa privsep no correct principals key option\ncertified user keys: dsa privsep yes missing authorized_principals\ncertified user keys: dsa privsep yes empty authorized_principals\ncertified user keys: dsa privsep yes wrong authorized_principals\ncertified user keys: dsa privsep yes correct authorized_principals\ncertified user keys: dsa privsep yes wrong principals key option\ncertified user keys: dsa privsep yes correct principals key option\ncertified user keys: dsa privsep no missing authorized_principals\ncertified user keys: dsa privsep no empty authorized_principals\ncertified user keys: dsa privsep no wrong authorized_principals\ncertified user keys: dsa privsep no correct authorized_principals\ncertified user keys: dsa privsep no wrong principals key option\ncertified user keys: dsa privsep no correct principals key option\ncertified user keys: rsa_v00 privsep yes missing authorized_principals\ncertified user keys: rsa_v00 privsep yes empty authorized_principals\ncertified user keys: rsa_v00 privsep yes wrong authorized_principals\ncertified user keys: rsa_v00 privsep yes correct authorized_principals\ncertified user keys: rsa_v00 privsep yes wrong principals key option\ncertified user keys: rsa_v00 privsep yes correct principals key option\ncertified user keys: rsa_v00 privsep no missing authorized_principals\ncertified user keys: rsa_v00 privsep no empty authorized_principals\ncertified user keys: rsa_v00 privsep no wrong authorized_principals\ncertified user keys: rsa_v00 privsep no correct authorized_principals\ncertified user keys: rsa_v00 privsep no wrong principals key option\ncertified user keys: rsa_v00 privsep no correct principals key option\ncertified user keys: dsa_v00 privsep yes missing authorized_principals\ncertified user keys: dsa_v00 privsep yes empty authorized_principals\ncertified user keys: dsa_v00 privsep yes wrong authorized_principals\ncertified user keys: dsa_v00 privsep yes correct authorized_principals\ncertified user keys: dsa_v00 privsep yes wrong principals key option\ncertified user keys: dsa_v00 privsep yes correct principals key option\ncertified user keys: dsa_v00 privsep no missing authorized_principals\ncertified user keys: dsa_v00 privsep no empty authorized_principals\ncertified user keys: dsa_v00 privsep no wrong authorized_principals\ncertified user keys: dsa_v00 privsep no correct authorized_principals\ncertified user keys: dsa_v00 privsep no wrong principals key option\ncertified user keys: dsa_v00 privsep no correct principals key option\ncertified user keys: rsa privsep yes authorized_keys connect\ncertified user keys: rsa privsep yes authorized_keys revoked key\ncertified user keys: rsa privsep no authorized_keys connect\ncertified user keys: rsa privsep no authorized_keys revoked key\ncertified user keys: rsa authorized_keys revoked CA key\ncertified user keys: dsa privsep yes authorized_keys connect\ncertified user keys: dsa privsep yes authorized_keys revoked key\ncertified user keys: dsa privsep no authorized_keys connect\ncertified user keys: dsa privsep no authorized_keys revoked key\ncertified user keys: dsa authorized_keys revoked CA key\ncertified user keys: rsa_v00 privsep yes authorized_keys connect\ncertified user keys: rsa_v00 privsep yes authorized_keys revoked key\ncertified user keys: rsa_v00 privsep no authorized_keys connect\ncertified user keys: rsa_v00 privsep no authorized_keys revoked key\ncertified user keys: rsa_v00 authorized_keys revoked CA key\ncertified user keys: dsa_v00 privsep yes authorized_keys connect\ncertified user keys: dsa_v00 privsep yes authorized_keys revoked key\ncertified user keys: dsa_v00 privsep no authorized_keys connect\ncertified user keys: dsa_v00 privsep no authorized_keys revoked key\ncertified user keys: dsa_v00 authorized_keys revoked CA key\ncertified user keys: authorized_keys CA does not authenticate\ncertified user keys: ensure CA key does not authenticate user\ncertified user keys: rsa privsep yes TrustedUserCAKeys connect\ncertified user keys: rsa privsep yes TrustedUserCAKeys revoked key\ncertified user keys: rsa privsep no TrustedUserCAKeys connect\ncertified user keys: rsa privsep no TrustedUserCAKeys revoked key\ncertified user keys: rsa TrustedUserCAKeys revoked CA key\ncertified user keys: dsa privsep yes TrustedUserCAKeys connect\ncertified user keys: dsa privsep yes TrustedUserCAKeys revoked key\ncertified user keys: dsa privsep no TrustedUserCAKeys connect\ncertified user keys: dsa privsep no TrustedUserCAKeys revoked key\ncertified user keys: dsa TrustedUserCAKeys revoked CA key\ncertified user keys: rsa_v00 privsep yes TrustedUserCAKeys connect\ncertified user keys: rsa_v00 privsep yes TrustedUserCAKeys revoked key\ncertified user keys: rsa_v00 privsep no TrustedUserCAKeys connect\ncertified user keys: rsa_v00 privsep no TrustedUserCAKeys revoked key\ncertified user keys: rsa_v00 TrustedUserCAKeys revoked CA key\ncertified user keys: dsa_v00 privsep yes TrustedUserCAKeys connect\ncertified user keys: dsa_v00 privsep yes TrustedUserCAKeys revoked key\ncertified user keys: dsa_v00 privsep no TrustedUserCAKeys connect\ncertified user keys: dsa_v00 privsep no TrustedUserCAKeys revoked key\ncertified user keys: dsa_v00 TrustedUserCAKeys revoked CA key\ncertified user keys: TrustedUserCAKeys CA does not authenticate\ncertified user keys: ensure CA key does not authenticate user\ncertified user keys: correct principal auth authorized_keys expect success rsa\ncertified user keys: correct principal auth authorized_keys expect success rsa_v00\ncertified user keys: correct principal auth TrustedUserCAKeys expect success rsa\ncertified user keys: correct principal auth TrustedUserCAKeys expect success rsa_v00\ncertified user keys: host-certificate auth authorized_keys expect failure rsa\ncertified user keys: host-certificate auth authorized_keys expect failure rsa_v00\ncertified user keys: host-certificate auth TrustedUserCAKeys expect failure rsa\ncertified user keys: host-certificate auth TrustedUserCAKeys expect failure rsa_v00\ncertified user keys: wrong principals auth authorized_keys expect failure rsa\ncertified user keys: wrong principals auth authorized_keys expect failure rsa_v00\ncertified user keys: wrong principals auth TrustedUserCAKeys expect failure rsa\ncertified user keys: wrong principals auth TrustedUserCAKeys expect failure rsa_v00\ncertified user keys: cert not yet valid auth authorized_keys expect failure rsa\ncertified user keys: cert not yet valid auth authorized_keys expect failure rsa_v00\ncertified user keys: cert not yet valid auth TrustedUserCAKeys expect failure rsa\ncertified user keys: cert not yet valid auth TrustedUserCAKeys expect failure rsa_v00\ncertified user keys: cert expired auth authorized_keys expect failure rsa\ncertified user keys: cert expired auth authorized_keys expect failure rsa_v00\ncertified user keys: cert expired auth TrustedUserCAKeys expect failure rsa\ncertified user keys: cert expired auth TrustedUserCAKeys expect failure rsa_v00\ncertified user keys: cert valid interval auth authorized_keys expect success rsa\ncertified user keys: cert valid interval auth authorized_keys expect success rsa_v00\ncertified user keys: cert valid interval auth TrustedUserCAKeys expect success rsa\ncertified user keys: cert valid interval auth TrustedUserCAKeys expect success rsa_v00\ncertified user keys: wrong source-address auth authorized_keys expect failure rsa\ncertified user keys: wrong source-address auth authorized_keys expect failure rsa_v00\ncertified user keys: wrong source-address auth TrustedUserCAKeys expect failure rsa\ncertified user keys: wrong source-address auth TrustedUserCAKeys expect failure rsa_v00\ncertified user keys: force-command auth authorized_keys expect failure rsa\ncertified user keys: force-command auth authorized_keys expect failure rsa_v00\ncertified user keys: force-command auth TrustedUserCAKeys expect failure rsa\ncertified user keys: force-command auth TrustedUserCAKeys expect failure rsa_v00\ncertified user keys: empty principals auth authorized_keys expect success rsa\ncertified user keys: empty principals auth authorized_keys expect success rsa_v00\ncertified user keys: empty principals auth TrustedUserCAKeys expect failure rsa\ncertified user keys: empty principals auth TrustedUserCAKeys expect failure rsa_v00\ncertified user keys: AuthorizedPrincipalsFile principals auth TrustedUserCAKeys expect success rsa\ncertified user keys: AuthorizedPrincipalsFile principals auth TrustedUserCAKeys expect success rsa_v00\ncertified user keys: AuthorizedPrincipalsFile no principals auth TrustedUserCAKeys expect failure rsa\ncertified user keys: AuthorizedPrincipalsFile no principals auth TrustedUserCAKeys expect failure rsa_v00\ncertified user keys: principals key option principals auth authorized_keys expect success rsa\ncertified user keys: principals key option principals auth authorized_keys expect success rsa_v00\ncertified user keys: principals key option no principals auth authorized_keys expect failure rsa\ncertified user keys: principals key option no principals auth authorized_keys expect failure rsa_v00\ncertified user keys: user rsa connect wrong cert\ncertified user keys: user dsa connect wrong cert\ncertified user keys: user rsa_v00 connect wrong cert\ncertified user keys: user dsa_v00 connect wrong cert\nok certified user keys",
          "author": "mvadkert@redhat.com",
          "creation_time": "20131010T07:22:24",
          "bug_id": "906872",
          "creator_id": "271572",
          "time": "20131010T07:22:24",
          "id": "6402292",
          "is_private": "False"
        },
        {
          "count": "19",
          "creator": "mvadkert@redhat.com",
          "text": "All tests pass also with SELinux in enforcing",
          "author": "mvadkert@redhat.com",
          "creation_time": "20131010T07:41:38",
          "bug_id": "906872",
          "creator_id": "271572",
          "time": "20131010T07:41:38",
          "id": "6402359",
          "is_private": "False"
        },
        {
          "count": "20",
          "creator": "mvadkert@redhat.com",
          "text": "Petr replied on IRC that a real use test for beaker should be created and this should be enough to cover this feature (including the provided upstream tests).",
          "author": "mvadkert@redhat.com",
          "creation_time": "20131010T08:20:59",
          "bug_id": "906872",
          "creator_id": "271572",
          "time": "20131010T08:20:59",
          "id": "6402638",
          "is_private": "True"
        },
        {
          "count": "21",
          "creator": "mvadkert@redhat.com",
          "text": "ssh-keygen man page needs update as we use -Z parameter instead of provided -n. This should also be properly documented in release notes.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20131017T15:47:29",
          "bug_id": "906872",
          "creator_id": "271572",
          "time": "20131017T15:47:29",
          "id": "6431117",
          "is_private": "True"
        },
        {
          "count": "22",
          "creator": "mvadkert@redhat.com",
          "text": "Accepted for Man page override process ..\n\nPetr could you please do the respin?",
          "author": "mvadkert@redhat.com",
          "creation_time": "20131017T15:55:15",
          "bug_id": "906872",
          "creator_id": "271572",
          "time": "20131017T15:55:15",
          "id": "6431165",
          "is_private": "True"
        },
        {
          "count": "23",
          "creator": "mvadkert@redhat.com",
          "text": "Ok we will need a new bug, clearing blocker and ManPageChange",
          "author": "mvadkert@redhat.com",
          "creation_time": "20131017T16:03:48",
          "bug_id": "906872",
          "creator_id": "271572",
          "time": "20131017T16:03:48",
          "id": "6431208",
          "is_private": "False"
        },
        {
          "count": "24",
          "creator": "mvadkert@redhat.com",
          "text": "I found an issue with the ssh-keygen -V option. The interval according to documentation should be relative from \"now\":\n\n   -V validity_interval\n             Specify a validity interval when signing a certificate.  A validity interval may consist of a single time, indicating that the certificate is valid beginning now and expiring at that time, or\n             may consist of two times separated by a colon to indicate an explicit time interval.  The start time may be specified as a date in YYYYMMDD format, a time in YYYYMMDDHHMMSS format or a rela\u2010\n             tive time (to the current time) consisting of a minus sign followed by a relative time in the format described in the TIME FORMATS section of sshd_config(5).  The end time may be specified as\n             a YYYYMMDD date, a YYYYMMDDHHMMSS time or a relative time starting with a plus character.\n\n             For example: \u201c+52w1d\u201d (valid from now to 52 weeks and one day from now), \u201c-4w:+4w\u201d (valid from four weeks ago to four weeks from now), \u201c20100101123000:20110101123000\u201d (valid from 12:30 PM,\n             January 1st, 2010 to 12:30 PM, January 1st, 2011), \u201c-1d:20110101\u201d (valid from yesterday to midnight, January 1st, 2011).\n\n\nIn reality the right side is relative from the left side, as you can see in this example:\n\n# ssh-keygen -s cakey -I \"sshtest16009 signed key\" -V \"-1w:+1w\" /home/sshtest16009/.ssh/id_rsa.pub\nSigned user key /home/sshtest16009/.ssh/id_rsa-cert.pub: id \"sshtest16009 signed key\" serial 0 valid from 2013-10-11T06:43:02 to 2013-10-18T06:43:02\n\nPlease note that this might be an upstream issue. In my POW we have 2 options:\n\n1) fix the code according to the man page (I think the intended functionality is correct)\n2) correct the man page and stick with the current functionality",
          "author": "mvadkert@redhat.com",
          "creation_time": "20131018T11:18:59",
          "bug_id": "906872",
          "creator_id": "271572",
          "time": "20131018T11:18:59",
          "id": "6434381",
          "is_private": "True"
        },
        {
          "count": "25",
          "creator": "mvadkert@redhat.com",
          "text": "Moving to ASSIGNED based on previous issue.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20131018T12:01:40",
          "bug_id": "906872",
          "creator_id": "271572",
          "time": "20131018T12:01:40",
          "id": "6434544",
          "is_private": "True"
        },
        {
          "count": "26",
          "creator": "plautrba@redhat.com",
          "text": "The man page probably needs to be slightly adjusted but the behaviour is correct.\n\"\u201c-4w:+4w\u201d (valid from four weeks ago to four weeks from now)\" means: from now, four weeks ago to four weeks what is actually now.",
          "author": "plautrba@redhat.com",
          "creation_time": "20131021T08:07:47",
          "bug_id": "906872",
          "creator_id": "270148",
          "time": "20131021T08:07:47",
          "id": "6439883",
          "is_private": "True"
        },
        {
          "count": "27",
          "creator": "mvadkert@redhat.com",
          "text": "We need a new MPO bug and also extend the release note. Eliska pls note that upstream provided -n option is -Z in our release as it conflicts with a downstream  option we use for a special ssh feature. I can provide details if needed.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20131021T15:23:08",
          "bug_id": "906872",
          "creator_id": "271572",
          "time": "20131021T15:23:08",
          "id": "6441725",
          "is_private": "True"
        },
        {
          "count": "28",
          "creator": "eslobodo@redhat.com",
          "text": "I've updated the description as agreed with Petr.\n\nThanks guys!",
          "author": "eslobodo@redhat.com",
          "creation_time": "20131021T15:35:21",
          "bug_id": "906872",
          "creator_id": "314667",
          "time": "20131021T15:35:21",
          "id": "6441785",
          "is_private": "True"
        },
        {
          "count": "29",
          "creator": "mvadkert@redhat.com",
          "text": "I filed MPO bug for the ssh-keygen -V issue:\nBug 1021985 - ssh-keygen -V option needs manual page correction",
          "author": "mvadkert@redhat.com",
          "creation_time": "20131022T12:53:09",
          "bug_id": "906872",
          "creator_id": "271572",
          "time": "20131022T12:53:09",
          "id": "6445250",
          "is_private": "False"
        },
        {
          "count": "30",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHSA-2013:15245-02: \nChanged by: Miroslav Vadkerti (mvadkert@redhat.com)\nhttp://errata.devel.redhat.com/advisory/15245\n\nVERIFIED as fixed in openssh-5.3p1-94.el6\nCertification support with 2 man page fixes via MPO passes QA. The feature is well covered via upstream provided test suite and using new sanity test:\n/CoreOS/openssh/Sanity/bz906872-certificate-support\n\nNEW package openssh-5.3p1-94.el6:\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: User authentication\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: sshtest21094 with signed key can login with correct principal sshtest31366 (Expected 0, got 0)\n:: [   PASS   ] :: sshtest21094 with signed key cannot login with incorrect principal to himself (Expected 1, got 1)\n:: [   PASS   ] :: sshtest31366 with signed key can login to sshtest21094 with empty principal list (Expected 0, got 0)\n:: [   PASS   ] :: sshtest31366 with signed key can login to sshtest31366 with empty principal list (Expected 0, got 0)\n:: [   PASS   ] :: sshtest4938 with valid signed key can login to sshtest21094 (Expected 0, got 0)\n:: [   PASS   ] :: sshtest1266 with valid signed key can login to sshtest21094 (Expected 0, got 0)\n:: [   PASS   ] :: Running 'date -s ''Tue Nov 12 08:21:40 EST 2013''' (Expected 0, got 0)\n:: [   PASS   ] :: sshtest4938 with expired signed key cannot login to sshtest21094 (Expected 1, got 1)\n:: [   PASS   ] :: sshtest1266 with expired signed key cannot login to sshtest21094 (Expected 1, got 1)\n:: [   PASS   ] :: Running 'ntpdate clock.redhat.com' (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 10s\n:: [   LOG    ] :: Assertions: 10 good, 0 bad\n:: [   PASS   ] :: RESULT: User authentication\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Host authentication\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'rm -f /home/sshtest21094/.ssh/known_hosts /home/sshtest31366/.ssh/known_hosts' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'su -c 'echo ''@cert-authority * ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAswCaZthVjTkLna1jBKWuYvBoW3XbAfk2R9+BCaXQQxQvmSqUAJ11AAkL+Cpm4DjFlW7O97J22EuJLi5O3BqQAFbIrl+uWdyffElFdRy/+8AiOK7jYEf10l13MINAL7q/VZUXif0lTNBm1Ssxq7fg4xS86wmLR6edb2+nE8iiFGy4di6RbcbAxtIRi0hfsslsdDGEp4tfAiLUCIrRmHySXmqR4rieydMa7uCIM7Z3VWSkwyvVmwbY8QngP2zmWWz8PW5zcbpq+oIx9uwruPly8KrpZmT3xUK3449bTV7BtIsAD3rPfbw2RIlJt31baif4qB6fqCAAoWLixYRc2n/ItQ== root@rhel65''                 >> /home/sshtest21094/.ssh/known_hosts' sshtest21094' (Expected 0, got 0)\n:: [   PASS   ] :: sshtest21094 can login with strict host checking on (Expected 0, got 0)\n:: [   PASS   ] :: sshtest31366 cannot login with strict host checking on (Expected 2, got 2)\n:: [   PASS   ] :: Running 'date -s ''Tue Nov  5 08:21:44 EST 2013''' (Expected 0, got 0)\n:: [   PASS   ] :: sshtest21094 cannot login to expired host key with strict host checking on (Expected 2, got 2)\n:: [   PASS   ] :: Running 'ntpdate clock.redhat.com' (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 3s\n:: [   LOG    ] :: Assertions: 7 good, 0 bad\n:: [   PASS   ] :: RESULT: Host authentication",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20131022T13:23:55",
          "bug_id": "906872",
          "creator_id": "241731",
          "time": "20131022T13:23:55",
          "id": "6445431",
          "is_private": "True"
        },
        {
          "count": "31",
          "creator": "mvadkert@redhat.com",
          "text": "As upstream replied that the code is indeed wrong in this release we are dropping the MPO bug for ssh-keygen's man page and will need another release note addition.\n\nI filed a new bug for RHEL6.6 to get the feature in par with upstream fix:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1022459",
          "author": "mvadkert@redhat.com",
          "creation_time": "20131023T12:21:32",
          "bug_id": "906872",
          "creator_id": "271572",
          "time": "20131023T12:21:32",
          "id": "6449359",
          "is_private": "False"
        },
        {
          "count": "32",
          "creator": "mvadkert@redhat.com",
          "text": "What we need to document is that the code behaves differently from documentation in man page. In current release when relative date is used on both sides of the range specification the right side is relative to the left side (and not to now as written in the man page).",
          "author": "mvadkert@redhat.com",
          "creation_time": "20131023T12:24:37",
          "bug_id": "906872",
          "creator_id": "271572",
          "time": "20131023T12:24:37",
          "id": "6449375",
          "is_private": "False"
        },
        {
          "count": "33",
          "creator": "mvadkert@redhat.com",
          "text": "The previous two comments reffer to the man page for ssh-keygen",
          "author": "mvadkert@redhat.com",
          "creation_time": "20131023T12:26:20",
          "bug_id": "906872",
          "creator_id": "271572",
          "time": "20131023T12:26:20",
          "id": "6449384",
          "is_private": "False"
        },
        {
          "count": "34",
          "creator": "eslobodo@redhat.com",
          "text": "Clearing the needifno. A known issue has been added in the Technical Notes book as agreed with Miroslav.",
          "author": "eslobodo@redhat.com",
          "creation_time": "20131024T13:38:26",
          "bug_id": "906872",
          "creator_id": "314667",
          "time": "20131024T13:38:26",
          "id": "6454109",
          "is_private": "True"
        },
        {
          "count": "35",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHSA-2013-1591.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20131121T09:44:42",
          "bug_id": "906872",
          "creator_id": "241731",
          "time": "20131121T09:44:42",
          "id": "6542257",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.3"
      ],
      "cc": [
        "dayleparker@redhat.com",
        "eslobodo@redhat.com",
        "ksrot@redhat.com",
        "lnovy@redhat.com",
        "mvadkert@redhat.com",
        "plautrba@redhat.com",
        "pvrabec@redhat.com",
        "sforsber@redhat.com",
        "sgadekar@redhat.com",
        "sgrubb@redhat.com",
        "sserban@redhat.com",
        "tlavigne@redhat.com"
      ],
      "cf_verified": [
        "FailedQA"
      ],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "960054",
        "973632",
        "968473",
        "973633"
      ],
      "qa_contact": "mvadkert@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Release Note",
      "cf_clone_of": "0",
      "groups": [
        "devel",
        "errata",
        "private",
        "redhat",
        "support",
        "suseng"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "certificate support in OpenSSH",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20130909T15:12:12",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20130521T09:56:12",
          "id": "1350864",
          "setter": "lnovy@redhat.com"
        },
        {
          "status": "+",
          "name": "requires_doc_text",
          "modification_date": "20131104T15:53:13",
          "type_id": "415",
          "is_active": "1",
          "creation_date": "20131017T15:47:29",
          "id": "1552907",
          "setter": "eslobodo@redhat.com"
        },
        {
          "status": "+",
          "name": "requires_release_note",
          "modification_date": "20131021T13:20:34",
          "type_id": "60",
          "is_active": "1",
          "creation_date": "20131017T15:47:29",
          "id": "1552908",
          "setter": "eslobodo@redhat.com"
        },
        {
          "status": "-",
          "name": "rhel-6.4.0",
          "modification_date": "20130205T06:47:22",
          "type_id": "326",
          "is_active": "0",
          "creation_date": "20130201T18:30:56",
          "id": "1252648",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.5.0",
          "modification_date": "20130521T09:33:21",
          "type_id": "361",
          "is_active": "0",
          "creation_date": "20130402T15:49:15",
          "id": "1303323",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20130509T15:54:11",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20130201T18:45:40",
          "id": "1252656",
          "setter": "snagar@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20130517T13:35:18",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20130201T18:45:55",
          "id": "1252657",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20130521T09:29:24",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20130201T18:46:10",
          "id": "1252658",
          "setter": "ksrot@redhat.com"
        }
      ],
      "last_change_time": "20131121T09:44:42",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509329-hFyJaau3VQC1_AHN1XpQ_KyvOLpJ3dNH6og1b9riZjI",
      "cf_partner": [],
      "cf_last_closed": "20131121T09:44:42",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "1800",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20130205T17:22:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "FutureFeature"
      ],
      "target_release": [
        "6.5"
      ],
      "external_bugs": [
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00770466",
          "bug_id": "908038",
          "ext_description": "[RFE] DoD CAC Support",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "94495"
        },
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00575815",
          "bug_id": "908038",
          "ext_description": "Using openssh with smartcards and coolkey",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "94496"
        },
        {
          "ext_status": "None",
          "ext_bz_bug_id": "308660",
          "bug_id": "908038",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "69",
          "type": {
            "must_send": "False",
            "description": "TCMS Test Case",
            "url": "https://tcms.engineering.redhat.com",
            "can_get": "False",
            "id": "69",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          },
          "id": "121537"
        }
      ],
      "id": "908038",
      "cf_release_notes": "Feature: \r\nThe support for PKCS#11 tokens has been added to the openssh.\r\nReason: \r\nSo that openssh clients can use smartcards for authentication.\r\nResult (if any):",
      "priority": "high",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "platform-rfe@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "platform-rfe@redhat.com",
          "text": "This request for enhancement (RFE) is a copy of the initial request filed under the 'RHEL RFE' product. It has been triaged by Product Management and is now being proposed for the appropriate release(s). All previous comments have been copied to this bugzilla. Please see the 'Blocks' field for the original RFE and associated release specific bugzillas. The original RFE will remain open until all associated release specific bugs are resolved.",
          "author": "platform-rfe@redhat.com",
          "creation_time": "20130205T17:22:49",
          "bug_id": "908038",
          "creator_id": "316518",
          "time": "20130205T17:22:49",
          "id": "5479319",
          "is_private": "True"
        },
        {
          "count": "1",
          "creator": "platform-rfe@redhat.com",
          "text": "** Original comment by mniranja@redhat.com **\n\n1. Proposed title of this feature request\n\nAdding smartcard support in Openssh in RHEL6\n\n2. Who is the customer behind the request?\nAccount name:National Institute of Health\nCustomer segment: NA\nTAM/SRM customer:  No\nStrategic Customer yes/no: No\n\n3. What is the nature and description of the request?\n\nAdding support of pkcs11 to Openssh in RHEL6 so that  openssh can use smartcards cards for authentication \n\nRHEL 6.2  recently added support for PIV cards within coolkey.  \n\nCustomer(National Institute of Health) is using US Federal Government\nPIV cards as per Homeland Security Presidential Directive 12 (HSPD-12). and requesting for pkcs11 support in Openssh\n\nOnce pkcs11 support is added to openssh,  libcoolkeypk11.so can be directly added to openssh which can then be used with smartcards. \n\nCurrently this cannot be done directly through openssh.  \n\nThe indirect method is to do the following:\n\n\nRHEL6  has experimental support for NSS in OpenSSH which should allow smartcard authentication. \n\nmodutil -list -dbdir /etc/pki/nssdb\n\nListing of PKCS #11 Modules\n-----------------------------------------------------------\n  1. NSS Internal PKCS #11 Module\n         slots: 2 slots attached\n        status: loaded\n\n         slot: NSS Internal Cryptographic Services\n        token: NSS Generic Crypto Services\n\n         slot: NSS User Private Key and Certificate Services\n        token: NSS Certificate DB\n\n  2. CoolKey PKCS #11 Module\n        library name: libcoolkeypk11.so\n         slots: There are no slots attached to this module\n        status: Not loaded\n-----------------------------------------------------------\n\nSince libcoolkey in RHEL6.2 supports PIV cards\n\nCopy the NSS database to your .ssh directory\n cp /etc/pki/nssdb/*.db ~/.ssh\n \nStart an ssh-agent\n\n eval `ssh-agent`\n \nAdd smartcard certificates to ssh-agent \n\n$ssh-add -n\n\nssh-keygen -n -D 'PKCS11 Token' -f 'Key ID'\n\nmodutil -list -dbdir .ssh should list the token under the under the coolkey module  and then use NSS database while ssh \n\n$ssh -o 'UseNSS yes' -o 'NSSToken <PKCS11 Token>' <host>\n\nBut customer would not like to use the above method and rather require a simple method:\n\nWith newer versions  of Openssh(upstream) it's can be eaily done using the below method:\n\n eval $(ssh-agent)\n ssh-add -s libcoolkeypk11.so\n\n4. Why does the customer need this? (List the business requirements here)\n\nSo that openssh can use Smartcards for authentication.\n\nBusiness Justification:\nOur other non-RHEL systems with OpenSSH are all using version 5.5 and\nabove. The new scheme for using smart cards is easier as it doesn't\ninvolve an extra step for creating a NSS store as is needed in RHEL 6.\nCurrently we have to support users with smartcards with 2 separate\nrecipes, one for RHEL 6 and one for the rest. As this is the future for\nOpenSSH then it would be good to move forward sooner rather than later,\nAlso upgrading loses no functionality.\n\nIf we can't upgrade could we have an extra OpenSSH-5.6 package, similar\nto the way there are two qt packages: qt (version 3.3.6) and qt4\n(version 4.2.1) in RHEL5. In RHEL 6, there are qt (version 4.6.2) and\nqt3 packages.\n\n\n5. How would the customer like to achieve this? (List the functional\nrequirements here)\n\nAdd the pkcs11 support in Openssh provided in RHEL6. \n\nUpstream BZ:https://bugzilla.mindrot.org/show_bug.cgi?id=1371\n\nAfter adding support Enable pkcs11 provider as below:\n\n eval $(ssh-agent)\n ssh-add -s libcoolkeypk11.so\n\n\n6. For each functional requirement listed in question 4, specify how Red Hat\nand the customer can test to confirm the requirement is successfully\nimplemented.\n\nOnce the openssh has the pkcs11 support, smartcards can be used by openssh for authentication. libcoolkey can be directly added to openssh which can then be used to access the smartcards.\n\nCustomer requests that if pkcs11 support cannot be backported to current version of openssh, Then provide the alternative higher version of openssh in parallel to current version which has pkcs11 support. \n\n\n7. Is there already an existing RFE upstream or in Red Hat bugzilla?\n\nNo\n\n8. Does the customer have any specific timeline dependencies?\n\nNo\n\n9. Is the sales team involved in this request and do they have any additional input?\n\nNo\n\n10. List any affected packages\n\nOpenssh\n\n11. Would the customer be able to assist in testing this functionality if\nimplemented?\n\nYes",
          "author": "platform-rfe@redhat.com",
          "creation_time": "20130205T17:22:58",
          "bug_id": "908038",
          "creator_id": "316518",
          "time": "20130205T17:22:58",
          "id": "5479320",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "platform-rfe@redhat.com",
          "text": "** Original comment by mniranja@redhat.com **\n\nGreetings PM,\n\nCustomer has requested an update for this RFE and also requested increase the severity , Also they are considering to switch to another OS if smartcard support is not added \n\nRegards\nNiranjan",
          "author": "platform-rfe@redhat.com",
          "creation_time": "20130205T17:23:01",
          "bug_id": "908038",
          "creator_id": "316518",
          "time": "20130205T17:23:01",
          "id": "5479321",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "platform-rfe@redhat.com",
          "text": "** Original comment by mniranja@redhat.com **\n\nGreetings,\n\nAny update on this RFE, Client has mentioned this feature is very important and they would switch to some other OS if this feaure was not added. \n\nRegards\nNiranjan",
          "author": "platform-rfe@redhat.com",
          "creation_time": "20130205T17:23:03",
          "bug_id": "908038",
          "creator_id": "316518",
          "time": "20130205T17:23:03",
          "id": "5479322",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "platform-rfe@redhat.com",
          "text": "** Original comment by rrelyea@redhat.com **\n\nSo is the request simply to make a single command work to set up NSS with openssh and install the coolkey device there? \n\nor does the customer really want openssh to use openssl and direct pkcs11 support?\n\nThe former is relatively simple to add, and appears to meet the prima facia request. The latter is much more difficult to support in a released product.\n\nAlso, as for as a simple command, does it have to be:\n\nssh-add -s 'xxxx' \n\nspecifically?\n\n\nbob",
          "author": "platform-rfe@redhat.com",
          "creation_time": "20130205T17:23:05",
          "bug_id": "908038",
          "creator_id": "316518",
          "time": "20130205T17:23:05",
          "id": "5479323",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "platform-rfe@redhat.com",
          "text": "** Original comment by mniranja@redhat.com **\n\nHi bob\n\nIt's the later, i.e openssh uses openssl and add pkcs11 support directly. \n\nhttps://bugzilla.mindrot.org/show_bug.cgi?id=1371\nexample:\n\nssh-add -s libcoolkeypk11.so\n\nRegards\nNiranjan",
          "author": "platform-rfe@redhat.com",
          "creation_time": "20130205T17:23:07",
          "bug_id": "908038",
          "creator_id": "316518",
          "time": "20130205T17:23:07",
          "id": "5479324",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "platform-rfe@redhat.com",
          "text": "** Original comment by chhudson@redhat.com **\n\nI have a customer interested in the same support. If this is not coming in RHEL6, any idea on RHEL7?",
          "author": "platform-rfe@redhat.com",
          "creation_time": "20130205T17:23:09",
          "bug_id": "908038",
          "creator_id": "316518",
          "time": "20130205T17:23:09",
          "id": "5479325",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "platform-rfe@redhat.com",
          "text": "** Original comment by chhudson@redhat.com **\n\nAny update on my previously asked question?",
          "author": "platform-rfe@redhat.com",
          "creation_time": "20130205T17:23:12",
          "bug_id": "908038",
          "creator_id": "316518",
          "time": "20130205T17:23:12",
          "id": "5479326",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "platform-rfe@redhat.com",
          "text": "** Original comment by rrelyea@redhat.com **\n\nWe're targetting 6.5 for this.",
          "author": "platform-rfe@redhat.com",
          "creation_time": "20130205T17:23:15",
          "bug_id": "908038",
          "creator_id": "316518",
          "time": "20130205T17:23:15",
          "id": "5479328",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "platform-rfe@redhat.com",
          "text": "** Original comment by rrelyea@redhat.com **\n\nCreated attachment 684703\nFix some problems when using NSS, smart cards, and ssh-agent\n\nHere is a patch that fixes some weirdness with the NSS mode of the bug. With this patch you can use NSS and your smart card to authenticate as follows:\n\nexport NSS_DB_PATH=/etc/pki/nssdb\neval `ssh-agent`\nssh-add -n\n\nWithout this patch, the above method works, but removing the smart card requires a restart of ssh-agent. With this patch ssh-agent will cache the pin, but only use the pin against the original smart card.\n\nNOTE: This is only part of our proposed fix of this problem. The patch purposefully does not engage NSS when ssh-add -s is invoked. That is because we intend to backport the upstream smart card support so the customers familiar with that support can use it as is.",
          "author": "platform-rfe@redhat.com",
          "creation_time": "20130205T17:23:17",
          "bug_id": "908038",
          "creator_id": "316518",
          "time": "20130205T17:23:17",
          "id": "5479330",
          "is_private": "False"
        },
        {
          "count": "10",
          "creator": "platform-rfe@redhat.com",
          "text": "** Original comment by plautrba@redhat.com **\n\nCreated attachment 691070\nAdd PKCS#11 (Smartcards) support into OpenSSH\n\nThis patch contains backport of PKCS#11 (Smartcards) support from openssh-5.4p1 to openssh-5.3p1 based on upstream",
          "author": "platform-rfe@redhat.com",
          "creation_time": "20130205T17:23:21",
          "bug_id": "908038",
          "creator_id": "316518",
          "time": "20130205T17:23:21",
          "id": "5479331",
          "is_private": "False"
        },
        {
          "count": "11",
          "creator": "ksrot@redhat.com",
          "text": "Adding qe_cond_nack for now until I find out whether we have the hardware necessary for the testing.\n\nHello Jenny,\nwould you be able to help us with the bug verification? I believe you have the access to a required hardware. Thank you in advance.",
          "author": "ksrot@redhat.com",
          "creation_time": "20130521T12:39:42",
          "bug_id": "908038",
          "creator_id": "286283",
          "time": "20130521T12:39:42",
          "id": "5935638",
          "is_private": "True"
        },
        {
          "count": "12",
          "creator": "chhudson@redhat.com",
          "text": "I am pretty sure Asha Akkiangady, of QE legend, has valid CaC's along with multiple readers (OK3121, SCR331, etc.)\n\n:)",
          "author": "chhudson@redhat.com",
          "creation_time": "20130521T13:43:10",
          "bug_id": "908038",
          "creator_id": "319190",
          "time": "20130521T13:43:10",
          "id": "5935936",
          "is_private": "True"
        },
        {
          "count": "13",
          "creator": "jgalipea@redhat.com",
          "text": "adding Asha to this bug.  We will be doing smart card regression testing for RHEL 6.5 and I would need her to understand the impact.",
          "author": "jgalipea@redhat.com",
          "creation_time": "20130618T14:12:33",
          "bug_id": "908038",
          "creator_id": "268050",
          "time": "20130618T14:12:33",
          "id": "6020936",
          "is_private": "False"
        },
        {
          "count": "14",
          "creator": "plautrba@redhat.com",
          "text": "(In reply to Karel Srot from comment #11)\n> Adding qe_cond_nack for now until I find out whether we have the hardware\n> necessary for the testing.\n> \n\nI've got a  Gemalto TOP IM FIPS CY2 (Cyberflex Access 64k v2) card with a reader which I lend for testing. There's an initialized MUSCLE applet with two stored  RSA keys.",
          "author": "plautrba@redhat.com",
          "creation_time": "20130626T13:53:18",
          "bug_id": "908038",
          "creator_id": "270148",
          "time": "20130626T13:53:18",
          "id": "6045810",
          "is_private": "True"
        },
        {
          "count": "15",
          "creator": "plautrba@redhat.com",
          "text": "I've got a  Gemalto TOP IM FIPS CY2 (Cyberflex Access 64k v2) card with a reader which I *can* lend for a testing.",
          "author": "plautrba@redhat.com",
          "creation_time": "20130626T13:54:28",
          "bug_id": "908038",
          "creator_id": "270148",
          "time": "20130626T13:54:28",
          "id": "6045819",
          "is_private": "True"
        },
        {
          "count": "16",
          "creator": "ksrot@redhat.com",
          "text": "qa_ack+ for 6.5\n\n@QE: Petr has the required hardware to test it. The expected scenario is in #c5.\nBeside the testing with smartcard reader (manual TCMS TC) it would be good to have the automated (softoken) variant of the test as a part of the openssh sanity coverage.",
          "author": "ksrot@redhat.com",
          "creation_time": "20130628T05:23:44",
          "bug_id": "908038",
          "creator_id": "286283",
          "time": "20130628T05:23:44",
          "id": "6053575",
          "is_private": "True"
        },
        {
          "count": "17",
          "creator": "trichard@redhat.com",
          "text": "Marking with docs_scoped- as this bug should not affect the following guides for RHEL 6.5:\n * V2V Guide\n * Virtualization Getting Started Guide\n * Virtualization Host Configuration and Guest Installation Guide",
          "author": "trichard@redhat.com",
          "creation_time": "20130628T06:03:10",
          "bug_id": "908038",
          "creator_id": "344053",
          "time": "20130628T06:03:10",
          "id": "6053667",
          "is_private": "True"
        },
        {
          "count": "18",
          "creator": "lbailey@redhat.com",
          "text": "Peter, should this be mentioned in the RHEL 6.5 Migration Planning Guide?\n\nAdding docs_scoped? just in case.",
          "author": "lbailey@redhat.com",
          "creation_time": "20130701T02:04:50",
          "bug_id": "908038",
          "creator_id": "278466",
          "time": "20130701T02:04:50",
          "id": "6057952",
          "is_private": "True"
        },
        {
          "count": "19",
          "creator": "jeast@redhat.com",
          "text": "Marking with docs_scoped- as this bug should not affect the following guides for RHEL 6.5:\n* Developer Guide\n* Storage Admin Guide\n* SystemTap Tapset Reference\n* SystemTap Beginner's Guide",
          "author": "jeast@redhat.com",
          "creation_time": "20130701T05:55:36",
          "bug_id": "908038",
          "creator_id": "303984",
          "time": "20130701T05:55:36",
          "id": "6058349",
          "is_private": "True"
        },
        {
          "count": "20",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2013:15245-01\nhttp://errata.devel.redhat.com/errata/show/15245",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20130712T10:37:39",
          "bug_id": "908038",
          "creator_id": "241731",
          "time": "20130712T10:37:39",
          "id": "6103788",
          "is_private": "True"
        },
        {
          "count": "21",
          "creator": "jhradile@redhat.com",
          "text": "(In reply to Laura Bailey from comment #18)\n> Peter, should this be mentioned in the RHEL 6.5 Migration Planning Guide?\n> \n> Adding docs_scoped? just in case.\n\nHi Petr,\n\nI have the very same question about the RHEL 6.5 Deployment Guide, should this be documented in it?\n\nThank you,\nJaromir",
          "author": "jhradile@redhat.com",
          "creation_time": "20130806T17:44:08",
          "bug_id": "908038",
          "creator_id": "298002",
          "time": "20130806T17:44:08",
          "id": "6186908",
          "is_private": "True"
        },
        {
          "count": "22",
          "creator": "plautrba@redhat.com",
          "text": "Frankly, I don't know. If there's a documentation how to use smart cards using NSS in openssh, then it probably should be documented with it that with a new update it's possible to use a smartcard directly using #PKCS11 module.",
          "author": "plautrba@redhat.com",
          "creation_time": "20130808T11:31:08",
          "bug_id": "908038",
          "creator_id": "270148",
          "time": "20130808T11:31:08",
          "id": "6194258",
          "is_private": "True"
        },
        {
          "count": "23",
          "creator": "plautrba@redhat.com",
          "text": "There's a bug in built package which needs to be fixed:\n\n# ssh -v -I /usr/lib64/pkcs11/libopencryptoki.so localhost\n...\ndebug1: Trying private key: /usr/lib64/pkcs11/libopencryptoki.so\n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n@         WARNING: UNPROTECTED PRIVATE KEY FILE!          @\n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\nPermissions 0755 for '/usr/lib64/pkcs11/libopencryptoki.so' are too open.\nIt is required that your private key files are NOT accessible by others.\nThis private key will be ignored.",
          "author": "plautrba@redhat.com",
          "creation_time": "20130808T14:40:11",
          "bug_id": "908038",
          "creator_id": "270148",
          "time": "20130808T14:40:11",
          "id": "6195070",
          "is_private": "False"
        },
        {
          "count": "24",
          "creator": "ebenes@redhat.com",
          "text": "@QE: Just for the record and to keep all relevant info in one place. Below are nice instructions on how it could be possible to automate a test for this bug. Thanks!\n\n<snip>\nYou can try to use opencryptoki sw token. For a basic setup, would need also\nopensc package from EPEL and needed steps could be similar to these:\n\n# yum install opensc opencryptoki\n\n# service pkcsslotd start\n\n# pkcs11-tool --module /usr/lib64/pkcs11/libopencryptoki.so --init-token --label ''swvtoken'' --so-pin 87654321\n\n# pkcs11-tool --module /usr/lib64/pkcs11/libopencryptoki.so --init-pin --so-pin 87654321 --pin 989898 --login plautrba\n\n# pkcs11-tool --module /usr/lib64/pkcs11/libopencryptoki.so --keypairgen --key-type rsa:2048 --login --pin 989898 --id 12345678 --label ''swtoken''\n\n# ssh-keygen -D /usr/lib64/pkcs11/libopencryptoki.so\nssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCyEIAx7rhUVRYnoJIlKIuA/j7xsUTS23grpZlSFQz6Dz/2SWpQghyIj/Dk/vSXdzc0f3sdhliQlD2Xes/lLJMYAt3242f7PtsKPVeyqZVl/IcBVH3GmNiidahPuZPYSbs4pdziPhd0VLOz+RF6gw0GYuqZ35bS6XJJ9wIVHZIluSSw2VU4sJCNpQ4HIhXSOune9J2xONhddraDPuP/JpJfP2n08QnhbNhMdiEAU11dLn946YKCrXvfcU2ZFhBZ6QA0dPXka4P5Zl0VJ2QFiK8vQTGQ3eiyx7yQaz14bMtk+Ya7tefD/1oYQYH1/KgdzURd069LUU3y8cy/A0nLJM77 /usr/lib64/pkcs11/libopencryptoki.so\n\n\n# eval `ssh-agent`\nAgent pid 1669\n\n# ssh-add -s /usr/lib64/pkcs11/libopencryptoki.so\nEnter passphrase for PKCS#11:\nCard added: /usr/lib64/pkcs11/libopencryptoki.so\n\n# ssh-add -L\nssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCyEIAx7rhUVRYnoJIlKIuA/j7xsUTS23grpZlSFQz6Dz/2SWpQghyIj/Dk/vSXdzc0f3sdhliQlD2Xes/lLJMYAt3242f7PtsKPVeyqZVl/IcBVH3GmNiidahPuZPYSbs4pdziPhd0VLOz+RF6gw0GYuqZ35bS6XJJ9wIVHZIluSSw2VU4sJCNpQ4HIhXSOune9J2xONhddraDPuP/JpJfP2n08QnhbNhMdiEAU11dLn946YKCrXvfcU2ZFhBZ6QA0dPXka4P5Zl0VJ2QFiK8vQTGQ3eiyx7yQaz14bMtk+Ya7tefD/1oYQYH1/KgdzURd069LUU3y8cy/A0nLJM77 /usr/lib64/pkcs11/libopencryptoki.so\n\n# ssh-copy-id localhost\n\n# ssh-add -e /usr/lib64/pkcs11/libopencryptoki.so\n\n# ssh -I /usr/lib64/pkcs11/libopencryptoki.so localhost\nEnter PIN for 'swtoken':\n</snip>",
          "author": "ebenes@redhat.com",
          "creation_time": "20130809T09:19:57",
          "bug_id": "908038",
          "creator_id": "203333",
          "time": "20130809T09:19:57",
          "id": "6197810",
          "is_private": "True"
        },
        {
          "count": "25",
          "creator": "plautrba@redhat.com",
          "text": "I've just pushed a fix. I'll do a build with other fixes soon.",
          "author": "plautrba@redhat.com",
          "creation_time": "20130812T13:59:41",
          "bug_id": "908038",
          "creator_id": "270148",
          "time": "20130812T13:59:41",
          "id": "6203940",
          "is_private": "True"
        },
        {
          "count": "26",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from MODIFIED to ON_QA status by the Errata System: \nAdvisory RHBA-2013:15245-01: \nhttp://errata.devel.redhat.com/advisory/15245",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20130814T15:00:14",
          "bug_id": "908038",
          "creator_id": "241731",
          "time": "20130814T15:00:14",
          "id": "6211799",
          "is_private": "True"
        },
        {
          "count": "27",
          "creator": "ksrot@redhat.com",
          "text": "@QE:\nautomated scenario from #c24 pushed to git as /CoreOS/openssh/Sanity/bz908038-Adding-smartcard-support-in-Openssh-in-RHEL6\n\nhttp://pkgs.devel.redhat.com/cgit/tests/openssh/tree/Sanity/bz908038-Adding-smartcard-support-in-Openssh-in-RHEL6/runtest.sh",
          "author": "ksrot@redhat.com",
          "creation_time": "20131023T15:53:36",
          "bug_id": "908038",
          "creator_id": "286283",
          "time": "20131023T15:53:36",
          "id": "6450406",
          "is_private": "True"
        },
        {
          "count": "28",
          "creator": "ksrot@redhat.com",
          "text": "@QE:\nAutomated test passed in Beaker on x86_64, i686 and ppc64. Was not executed on s390x because the opensc package comes from the EPEL and EPEL is not available for s390x.\n\nhttps://beaker.engineering.redhat.com/jobs/526627\n\ntested on RHEL6.5-20131022.2 with:\nopenssh-5.3p1-94.el6\nopencryptoki-2.4.3.1-1.el6\nopensc-0.12.2-2.el6",
          "author": "ksrot@redhat.com",
          "creation_time": "20131024T06:54:30",
          "bug_id": "908038",
          "creator_id": "286283",
          "time": "20131024T06:54:30",
          "id": "6452567",
          "is_private": "True"
        },
        {
          "count": "29",
          "creator": "ksrot@redhat.com",
          "text": "Here are the results from the manual testing:\nScenario is based on http://bachradsusi.livejournal.com/1996.html\n\n$ rpm -q openssh coolkey\nopenssh-5.3p1-94.el6.x86_64\ncoolkey-1.1.0-31.el6.x86_64\n\n$ pkcs11-tool --module /usr/lib64/pkcs11/libcoolkeypk11.so -L\nAvailable slots:\nSlot 0 (0x1): Gemplus GemPC Twin 00 00\n  token label:   mytoken\n  token manuf:   4090 Axalto\n  token model:   61457e3d29191130\n  token flags:   readonly, login required, PIN initialized, token initialized\n  serial num  :  29191130\n\n$ ssh-keygen -D /usr/lib64/pkcs11/libcoolkeypk11.so\nssh-rsa AAAAB3Nz........bq6AB4lQ==\n\n$ # be sure that .ssh/authorized_keys exists for test@localhost and has corrent permissions (600)\n$ # then add the key to .ssh/authorized_keys\n$ ssh-keygen -D /usr/lib64/pkcs11/libcoolkeypk11.so | ssh test@localhost cat \\>\\> .ssh/authorized_keys\n\n$ # now trying to login using keys from the token\n$ ssh -I /usr/lib64/pkcs11/libcoolkeypk11.so test@localhost\nEnter PIN for 'mytoken': \nLast login: Thu Oct 24 15:05:07 2013 from dhcp-30-102.brq.redhat.com\n$ id\nuid=503(test) gid=504(test) groups=504(test) context=unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023\n$ exit\nlogout\nConnection to localhost closed.\n\n$ eval `ssh-agent`\nAgent pid 4082\n\n\n$ # Adding keys to the ssh-agent:\n$ ssh-add -s /usr/lib64/pkcs11/libcoolkeypk11.so\nEnter passphrase for PKCS#11: \nCard added: /usr/lib64/pkcs11/libcoolkeypk11.so\n$ ssh-add -L\nssh-rsa AAAAB3Nz........bq6AB4lQ== /usr/lib64/pkcs11/libcoolkeypk11.so\n$ ssh test@localhost\nLast login: Thu Oct 24 15:08:23 2013 from dhcp-30-102.brq.redhat.com\n[test@dhcp-30-102 ~]$ id\nuid=503(test) gid=504(test) groups=504(test) context=unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023\n[test@dhcp-30-102 ~]$ exit\nlogout\nConnection to localhost closed.\n\n$ ssh-add -e /usr/lib64/pkcs11/libcoolkeypk11.so\nEnter passphrase for PKCS#11: \nCard removed: /usr/lib64/pkcs11/libcoolkeypk11.so\n$ ssh-add -L\nThe agent has no identities.\n\nAccording to my testing, when removing the key the passphrase is actually not required. \nThe key is removed even for an empty or wrong passphrase.\n\n\nIf I unplug the reader after adding a key to ssh-agent the authorization fallback to a regular login\n\n$ ssh-add -s /usr/lib64/pkcs11/libcoolkeypk11.so\nEnter passphrase for PKCS#11: \nCard added: /usr/lib64/pkcs11/libcoolkeypk11.so\n$ ssh-add -L\nssh-rsa AAAAB3Nz........bq6AB4lQ== /usr/lib64/pkcs11/libcoolkeypk11.so\n$ # now unplug the gemalto reader\n$ ssh-add -L\nssh-rsa AAAAB3Nz........bq6AB4lQ== /usr/lib64/pkcs11/libcoolkeypk11.so\n$ ssh test@localhost\nAgent admitted failure to sign using the key.\ntest@localhost's password: ^C\n$\n\nThere is a small issue with removing the card from the reader without removing the key from the ssh-agent\n\n$ ssh-add -s /usr/lib64/pkcs11/libcoolkeypk11.so\nEnter passphrase for PKCS#11: \nCard added: /usr/lib64/pkcs11/libcoolkeypk11.so\n$ ssh-add -L\nssh-rsa AAAAB3Nz........bq6AB4lQ== /usr/lib64/pkcs11/libcoolkeypk11.so\n$ ssh test@localhost\nLast login: Thu Oct 24 15:21:24 2013 from dhcp-30-102.brq.redhat.com\n[test@dhcp-30-102 ~]$ logout\nConnection to localhost closed.\n$ \n$ # now I remove the smartcard from the reader\n$ ssh-add -L\nssh-rsa AAAAB3Nz........bq6AB4lQ== /usr/lib64/pkcs11/libcoolkeypk11.so\n$ \n$ # and now plug it in again\n$ ssh-add -L\nssh-rsa AAAAB3Nz........bq6AB4lQ== /usr/lib64/pkcs11/libcoolkeypk11.so\n$ # I am not allowed to login without the password\n$ ssh test@localhost\nAgent admitted failure to sign using the key.\ntest@localhost's password: ^C\n\n$ # but I can't add the key again without removing it first\n$ ssh-add -s /usr/lib64/pkcs11/libcoolkeypk11.so\nEnter passphrase for PKCS#11: \nSSH_AGENT_FAILURE\nCould not add card: /usr/lib64/pkcs11/libcoolkeypk11.so",
          "author": "ksrot@redhat.com",
          "creation_time": "20131024T13:42:47",
          "bug_id": "908038",
          "creator_id": "286283",
          "time": "20131024T13:42:47",
          "id": "6454127",
          "is_private": "True"
        },
        {
          "count": "30",
          "creator": "ksrot@redhat.com",
          "text": "Switching the bug to VERIFIED based on comments #c28 and #c29.\n\nIt is a question whether the passphrase should be required during the key removal but it is not an issue that would break the functionality or prevent the usage of smartcard tokens.",
          "author": "ksrot@redhat.com",
          "creation_time": "20131024T15:06:51",
          "bug_id": "908038",
          "creator_id": "286283",
          "time": "20131024T15:06:51",
          "id": "6454513",
          "is_private": "True"
        },
        {
          "count": "31",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHSA-2013-1591.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20131121T09:45:12",
          "bug_id": "908038",
          "creator_id": "241731",
          "time": "20131121T09:45:12",
          "id": "6542261",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.5"
      ],
      "cc": [
        "aakkiang@redhat.com",
        "bkozdemb@redhat.com",
        "chhudson@redhat.com",
        "jgalipea@redhat.com",
        "ksrot@redhat.com",
        "plautrba@redhat.com",
        "pvrabec@redhat.com"
      ],
      "cf_verified": [
        "FailedQA"
      ],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "835616",
        "960054",
        "786971"
      ],
      "qa_contact": "ksrot@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Enhancement",
      "cf_clone_of": "0",
      "groups": [
        "redhat"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "Adding smartcard support in Openssh in RHEL6",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20130809T09:19:57",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20130628T05:25:08",
          "id": "1401775",
          "setter": "ebenes@redhat.com"
        },
        {
          "status": "?",
          "name": "requires_doc_text",
          "modification_date": "20131025T11:07:22",
          "type_id": "415",
          "is_active": "1",
          "creation_date": "20131025T11:07:22",
          "id": "1563606",
          "setter": "plautrba@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.5.0",
          "modification_date": "20130628T05:28:16",
          "type_id": "361",
          "is_active": "0",
          "creation_date": "20130205T17:22:55",
          "id": "1255038",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20130509T15:55:01",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20130205T17:22:55",
          "id": "1255039",
          "setter": "snagar@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20130517T13:35:42",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20130205T17:22:55",
          "id": "1255040",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20130628T05:23:44",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20130205T17:22:55",
          "id": "1255041",
          "setter": "ksrot@redhat.com"
        }
      ],
      "last_change_time": "20131121T09:45:12",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509329-saNGJlE9IzcelbkRwCW8C7iZvZpX7kmv4Cq_qdxRKo8",
      "cf_partner": [],
      "cf_last_closed": "20131121T09:45:12",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "1700",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20130420T16:49:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "6.4"
      ],
      "external_bugs": [
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00821626",
          "bug_id": "954094",
          "ext_description": "[BZ]openssh-ldap-5.3p1-84.1.el6 does not support the full bindpw syntax accepted by",
          "ext_priority": "2 (High)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "102960"
        },
        {
          "ext_status": "None",
          "ext_bz_bug_id": "76451",
          "bug_id": "954094",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "69",
          "type": {
            "must_send": "False",
            "description": "TCMS Test Case",
            "url": "https://tcms.engineering.redhat.com",
            "can_get": "False",
            "id": "69",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          },
          "id": "126541"
        }
      ],
      "id": "954094",
      "cf_release_notes": "Cause: \r\nThere was a bug in the parser of ldap configuration files.\r\nConsequence:\r\nA bindpw option, which contained double quotes, wasn't correctly parsed and ssh-ldap-helper failed to bind to a ldap \r\nserver.\r\n\r\nFix: \r\nThe parser was adjusted in order to conform ldap.conf format according to LDAP.CONF(5)\r\n\r\nResult: \r\nssh-ldap-helper now parses ldap configuration files correctly.",
      "priority": "high",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "chhudson@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "chhudson@redhat.com",
          "text": "Description of problem:\nWhen using a bind password that contains double quotes (as part of the password) in /etc/ssh/ldap.conf, ssh-ldap-helper fails to parse the password correctly.\n\nVersion-Release number of selected component (if applicable):\nopenssh-ldap-5.3p1-84.1.el6\n\nHow reproducible:\nAlways\n\nSteps to Reproduce:\n1. Configure openssh-ldap\n2. Use a bind password that contains double quotes in the password\n3. Watch ssh-ldap-helper fail to bind\n  \nActual results:\nFails to bind\n\nExpected results:\nBinds properly\n\nAdditional info:\n\nFailing example (bindpw contains a double quote):\n\n---\n[root@ssh1 ~]# /usr/libexec/openssh/ssh-ldap-helper -s user1 -vvv\ndebug1: Reading configuration data /etc/ssh/ldap.conf\n/etc/ssh/ldap.conf line 38: Missing argument.\n\n[root@ssh1 ~]# sed '38!d' /etc/ssh/ldap.conf \nbindpw redhat''123\n---\n\nWorking example (bindpw does not contain a double quote):\n\n---\n[root@ssh1 ~]# /usr/libexec/openssh/ssh-ldap-helper -s user1 -vvv\ndebug1: Reading configuration data /etc/ssh/ldap.conf\ndebug3: === Configuration ===\ndebug3: URI ldap://10.13.211.130\ndebug3: Host 10.13.211.130\ndebug3: Port 389\ndebug3: SSL No\ndebug3: Ldap_Version 3\ndebug3: TimeLimit 10\ndebug3: Bind_Timelimit 10\ndebug3: Base cn=accounts,dc=example,dc=com\ndebug3: BindDN uid=sshbind,cn=users,cn=accounts,dc=example,dc=com\ndebug3: BindPW redhat#123\ndebug3: Scope Sub\ndebug3: Deref Never\ndebug3: Referrals Yes\ndebug3: Restart Yes\ndebug3: Bind_Policy Hard\ndebug3: SSLPath <UNDEFINED>\ndebug3: TLS_CheckPeer Hard\ndebug3: TLS_CaCertFile <UNDEFINED>\ndebug3: TLS_CaCertDir <UNDEFINED>\ndebug3: TLS_Ciphers <UNDEFINED>\ndebug3: TLS_Cert <UNDEFINED>\ndebug3: TLS_Key <UNDEFINED>\ndebug3: TLS_RandFile <UNDEFINED>\ndebug3: LogDir <UNDEFINED>\ndebug3: Debug 0\ndebug3: SSH_Filter \ndebug3: === *** ===\ndebug1: LDAP do connect\ndebug3: Set TLS check peer to 1 \ndebug3: LDAP initialize ldap://10.13.211.130\ndebug3: LDAP set version to 3\ndebug3: LDAP set rebind proc\ndebug3: LDAP set deref to 0\ndebug3: LDAP set timelimit to 10\ndebug3: LDAP set opt network timeout to 10.0\ndebug3: LDAP set referrals to 1\ndebug3: LDAP set restart to 1\ndebug3: LDAP simple bind (uid=sshbind,cn=users,cn=accounts,dc=example,dc=com)\ndebug3: LDAP result in time\ndebug3: LDAP parse result OK\ndebug2: LDAP do connect OK\ndebug1: LDAP process user\ndebug3: LDAP search scope = 2 (&(objectclass=posixAccount)(objectclass=ldapPublicKey)(uid=user1))\ndebug2: LDAP process user finished\ndebug1: LDAP do close\ndebug2: LDAP do close OK\n---",
          "author": "chhudson@redhat.com",
          "creation_time": "20130420T16:49:55",
          "bug_id": "954094",
          "creator_id": "319190",
          "time": "20130420T16:49:55",
          "id": "5845333",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "chhudson@redhat.com",
          "text": "Anyone looking at this?",
          "author": "chhudson@redhat.com",
          "creation_time": "20130423T11:19:09",
          "bug_id": "954094",
          "creator_id": "319190",
          "time": "20130423T11:19:09",
          "id": "5852120",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "chhudson@redhat.com",
          "text": "Good Morning, any update? I would like to set an expectation with my customer. Thanks!",
          "author": "chhudson@redhat.com",
          "creation_time": "20130424T14:53:38",
          "bug_id": "954094",
          "creator_id": "319190",
          "time": "20130424T14:53:38",
          "id": "5856880",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "plautrba@redhat.com",
          "text": "There's an issue with parsing bindpw option. I'm investigating this and I'll send result soon",
          "author": "plautrba@redhat.com",
          "creation_time": "20130424T16:35:27",
          "bug_id": "954094",
          "creator_id": "270148",
          "time": "20130424T16:35:27",
          "id": "5857228",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "chhudson@redhat.com",
          "text": "Hello Petr. Did you have a chance to investigate? Thanks!",
          "author": "chhudson@redhat.com",
          "creation_time": "20130426T16:14:38",
          "bug_id": "954094",
          "creator_id": "319190",
          "time": "20130426T16:14:38",
          "id": "5863880",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "plautrba@redhat.com",
          "text": "I believe that this is fixable but I don't have a working patch right now. I'll attach the patch as soon as it'll be ready. It'll be most probably include in the next rhel-6.5 update.",
          "author": "plautrba@redhat.com",
          "creation_time": "20130430T12:34:46",
          "bug_id": "954094",
          "creator_id": "270148",
          "time": "20130430T12:34:46",
          "id": "5871478",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "chhudson@redhat.com",
          "text": "Hi Petr. Do you plan to get a build out any time soon? (prior to 6.5)",
          "author": "chhudson@redhat.com",
          "creation_time": "20130502T15:24:08",
          "bug_id": "954094",
          "creator_id": "319190",
          "time": "20130502T15:24:08",
          "id": "5878877",
          "is_private": "True"
        },
        {
          "count": "7",
          "attachment_id": "743223",
          "author": "plautrba@redhat.com",
          "text": "Created attachment 743223\nopenssh-5.3p1-ldap.patch with changed parsing logic\n\nThis is a slightly changed openssh-5.3p1-ldap.patch in order to conform ldap.conf format according to LDAP.CONF(5). There's a temporary testing build available for testing at http://brewweb.devel.redhat.com/brew/taskinfo?taskID=5720784",
          "creator": "plautrba@redhat.com",
          "creation_time": "20130503T13:44:34",
          "bug_id": "954094",
          "creator_id": "270148",
          "time": "20130503T13:44:34",
          "id": "5882220",
          "is_private": "False"
        },
        {
          "count": "8",
          "creator": "chhudson@redhat.com",
          "text": "Petr,\n\nFirst off, thanks! This worked for the customer. \n\nNow, can you run a new build with the hotfix tag so that I can sign it and give it to the customer as a supported hotfix. \n\nThis seems to be pressing for the [strategic] customer as they tend to use double quotes in their passwords.\n\nI will add GSSApproved to the whiteboard, set necessary flags and send an email.\n\nThanks again!\nChris",
          "author": "chhudson@redhat.com",
          "creation_time": "20130503T18:41:47",
          "bug_id": "954094",
          "creator_id": "319190",
          "time": "20130503T18:41:47",
          "id": "5883014",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "mvadkert@redhat.com",
          "text": "Our current LDAP related tests should be enhanced to cover also unusual characters in bindpw.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20130503T20:37:44",
          "bug_id": "954094",
          "creator_id": "271572",
          "time": "20130503T20:37:44",
          "id": "5883224",
          "is_private": "True"
        },
        {
          "count": "10",
          "creator": "pvrabec@redhat.com",
          "text": "I'm setting the devel ack.\n\nIf I understand a process correctly. We need PM and QA ack in order to run the new build.\n\nhttps://docspace.corp.redhat.com/docs/DOC-74811#Tagging_a_package_as_an_official_Hotfix\n\n''Note: It is the responsibility of the SBR contact to monitor, poke, prod, and push the fix forward.  If the SBR contact isn't actively reminding the PM/DEV/QE ... requests will fall off the radar.''\n\n\nWho is the SBR contact here?",
          "author": "pvrabec@redhat.com",
          "creation_time": "20130506T10:36:32",
          "bug_id": "954094",
          "creator_id": "167999",
          "time": "20130506T10:36:32",
          "id": "5886480",
          "is_private": "True"
        },
        {
          "count": "11",
          "creator": "mvadkert@redhat.com",
          "text": "Testing instructions are clear. Giving qa_ack+",
          "author": "mvadkert@redhat.com",
          "creation_time": "20130506T12:01:09",
          "bug_id": "954094",
          "creator_id": "271572",
          "time": "20130506T12:01:09",
          "id": "5886683",
          "is_private": "True"
        },
        {
          "count": "12",
          "creator": "plautrba@redhat.com",
          "text": "In the mean time I made another scratch build for rhel-6-hotfix-candidate - http://brewweb.devel.redhat.com/brew/taskinfo?taskID=5725022",
          "author": "plautrba@redhat.com",
          "creation_time": "20130506T12:35:44",
          "bug_id": "954094",
          "creator_id": "270148",
          "time": "20130506T12:35:44",
          "id": "5886818",
          "is_private": "True"
        },
        {
          "count": "13",
          "creator": "plautrba@redhat.com",
          "text": "Another scratch build openssh-5.3p1-84.1.el6.0.0.hotfix.1.bz954094 [1] with NVR conforming to the NVR policy [2]\n\n[1] https://brewweb.devel.redhat.com/taskinfo?taskID=5725812\n[2] https://engineering.redhat.com/trac/rcm/browser/external/en-US/Policies/nvr_policy_hotfixes.rst",
          "author": "plautrba@redhat.com",
          "creation_time": "20130506T12:52:36",
          "bug_id": "954094",
          "creator_id": "270148",
          "time": "20130506T12:52:36",
          "id": "5886913",
          "is_private": "True"
        },
        {
          "count": "14",
          "creator": "dsirrine@redhat.com",
          "text": "Petr,\n\nIs the above listed hotfix https://brewweb.devel.redhat.com/taskinfo?taskID=5725812 ready for issuance to the customer?\n\n-- David Sirrine",
          "author": "dsirrine@redhat.com",
          "creation_time": "20130507T13:29:18",
          "bug_id": "954094",
          "creator_id": "328816",
          "time": "20130507T13:29:18",
          "id": "5891422",
          "is_private": "True"
        },
        {
          "count": "15",
          "creator": "plautrba@redhat.com",
          "text": "All selftests pass, the customer confirmed that it fixed his issue so I'd say that the build https://brewweb.devel.redhat.com/taskinfo?taskID=5725812  is ready for issuance.",
          "author": "plautrba@redhat.com",
          "creation_time": "20130507T20:11:46",
          "bug_id": "954094",
          "creator_id": "270148",
          "time": "20130507T20:11:46",
          "id": "5892818",
          "is_private": "True"
        },
        {
          "count": "16",
          "creator": "chhudson@redhat.com",
          "text": "Hi Petr, looks like the build has expired. Can you please run this again so that I can sign it and pull it down? Thanks!",
          "author": "chhudson@redhat.com",
          "creation_time": "20130513T13:36:22",
          "bug_id": "954094",
          "creator_id": "319190",
          "time": "20130513T13:36:22",
          "id": "5909412",
          "is_private": "True"
        },
        {
          "count": "17",
          "creator": "plautrba@redhat.com",
          "text": "http://brewweb.devel.redhat.com/brew/taskinfo?taskID=5766319",
          "author": "plautrba@redhat.com",
          "creation_time": "20130514T10:14:32",
          "bug_id": "954094",
          "creator_id": "270148",
          "time": "20130514T10:14:32",
          "id": "5912366",
          "is_private": "True"
        },
        {
          "count": "18",
          "creator": "lbailey@redhat.com",
          "text": "Marking with docs_scoped- as this bug should not affect any of the following guides for RHEL 6.5:\n* Performance Tuning Guide\n* Migration Planning Guide",
          "author": "lbailey@redhat.com",
          "creation_time": "20130614T00:13:26",
          "bug_id": "954094",
          "creator_id": "278466",
          "time": "20130614T00:13:26",
          "id": "6010051",
          "is_private": "True"
        },
        {
          "count": "19",
          "creator": "jeast@redhat.com",
          "text": "Marking with docs_scoped- as this bug should not affect any of the following guides for RHEL 6.5:\n* Developer Guide\n* Storage Admin Guide\n* SystemTap Tapset Reference\n* SystemTap Beginner's Guide",
          "author": "jeast@redhat.com",
          "creation_time": "20130621T04:01:27",
          "bug_id": "954094",
          "creator_id": "303984",
          "time": "20130621T04:01:27",
          "id": "6031416",
          "is_private": "True"
        },
        {
          "count": "20",
          "creator": "lnovich@redhat.com",
          "text": "Marking with docs_scoped - as this issue will not be documented in the Virtualization Administration Guide for RHEL 6.5",
          "author": "lnovich@redhat.com",
          "creation_time": "20130621T04:17:22",
          "bug_id": "954094",
          "creator_id": "324069",
          "time": "20130621T04:17:22",
          "id": "6031458",
          "is_private": "True"
        },
        {
          "count": "21",
          "creator": "trichard@redhat.com",
          "text": "Marking with docs_scoped- as this bug should not affect the following guides for RHEL 6.5:\n * V2V Guide\n * Virtualization Getting Started Guide\n * Virtualization Host Configuration and Guest Installation Guide",
          "author": "trichard@redhat.com",
          "creation_time": "20130626T00:35:49",
          "bug_id": "954094",
          "creator_id": "344053",
          "time": "20130626T00:35:49",
          "id": "6043410",
          "is_private": "True"
        },
        {
          "count": "22",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2013:15245-01\nhttp://errata.devel.redhat.com/errata/show/15245",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20130712T10:37:56",
          "bug_id": "954094",
          "creator_id": "241731",
          "time": "20130712T10:37:56",
          "id": "6103790",
          "is_private": "True"
        },
        {
          "count": "23",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2013:15245-01: \nChanged by: Miroslav Vadkerti (mvadkert@redhat.com)\nhttp://errata.devel.redhat.com/advisory/15245\n\nVERIFIED as fixed in openssh-5.3p1-94.el6\nEnhanced test for BZ#455350 to test with password containing double quote.\n\nNEW PACKAGE openssh-5.3p1-94.el6\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: /CoreOS/openssh/Sanity/bz455350-support-centralized-management-of-keys\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Phases: 8 good, 0 bad\n:: [   PASS   ] :: RESULT: /CoreOS/openssh/Sanity/bz455350-support-centralized-management-of-keys\n\nOLD PACKAGE openssh-5.3p1-84.1.el6\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: /CoreOS/openssh/Sanity/bz455350-support-centralized-management-of-keys\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Phases: 3 good, 5 bad\n:: [   FAIL   ] :: RESULT: /CoreOS/openssh/Sanity/bz455350-support-centralized-management-of-keys",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20131015T11:27:28",
          "bug_id": "954094",
          "creator_id": "241731",
          "time": "20131015T11:27:28",
          "id": "6420963",
          "is_private": "True"
        },
        {
          "count": "24",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHSA-2013-1591.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20131121T09:45:52",
          "bug_id": "954094",
          "creator_id": "241731",
          "time": "20131121T09:45:52",
          "id": "6542265",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "x86_64",
      "version": [
        "6.4"
      ],
      "cc": [
        "dsirrine@redhat.com",
        "james.brown@redhat.com",
        "lnovich@redhat.com",
        "lnovy@redhat.com",
        "mvadkert@redhat.com",
        "pvrabec@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "No",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "mvadkert@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "devel",
        "qa",
        "redhat",
        "support"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "GSSApproved",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "openssh-ldap does not escape double quotes in bindpw and fails to parse /etc/ssh/ldap.conf properly as a result",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "?",
          "name": "hot_fix_requested",
          "modification_date": "20130503T18:42:18",
          "type_id": "14",
          "is_active": "1",
          "creation_date": "20130503T18:42:18",
          "id": "1336573",
          "setter": "chhudson@redhat.com"
        },
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20130503T20:37:44",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20130503T20:37:44",
          "id": "1336626",
          "setter": "mvadkert@redhat.com"
        },
        {
          "status": "?",
          "name": "requires_doc_text",
          "modification_date": "20131025T11:14:06",
          "type_id": "415",
          "is_active": "1",
          "creation_date": "20131025T11:14:06",
          "id": "1563620",
          "setter": "plautrba@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.5.0",
          "modification_date": "20130506T20:53:49",
          "type_id": "361",
          "is_active": "0",
          "creation_date": "20130423T14:13:25",
          "id": "1324984",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20130506T20:41:12",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20130420T16:49:55",
          "id": "1322759",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20130506T10:36:32",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20130420T16:49:55",
          "id": "1322760",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20130506T12:01:09",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20130420T16:49:55",
          "id": "1322761",
          "setter": "mvadkert@redhat.com"
        }
      ],
      "last_change_time": "20131121T09:45:52",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509329-TUSJBgW7l1PdsUy0LnI4LPbnwdSfzM2BSzKwH6YfgRk",
      "cf_partner": [],
      "cf_last_closed": "20131121T09:45:52",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "2900",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20130531T19:39:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "FutureFeature",
        "Reopened"
      ],
      "target_release": [
        "6.5"
      ],
      "external_bugs": [
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00926750",
          "bug_id": "969565",
          "ext_description": "Install OpenSSH 6.2",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "121379"
        },
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00653174",
          "bug_id": "969565",
          "ext_description": "SSH Key Generating",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "107895"
        },
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00630926",
          "bug_id": "969565",
          "ext_description": "[RFE] Add support for hmac-sha2 algorithms to OpenSSH server/client",
          "ext_priority": "4 (Low)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "107896"
        },
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00918471",
          "bug_id": "969565",
          "ext_description": "[RFE] : HP-Japan : Need support of SHA-2 for OpenSSH on RHEL5/RHEL6",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "116675"
        },
        {
          "ext_status": "None",
          "ext_bz_bug_id": "308665",
          "bug_id": "969565",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "69",
          "type": {
            "must_send": "False",
            "description": "TCMS Test Case",
            "url": "https://tcms.engineering.redhat.com",
            "can_get": "False",
            "id": "69",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          },
          "id": "121546"
        }
      ],
      "id": "969565",
      "cf_release_notes": "Feature: \r\nSHA2 HMAC algorithm support hasbeen backported to OpenSSH from upstream\r\nReason: \r\n\r\nResult (if any):",
      "priority": "high",
      "severity": "urgent",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "platform-rfe@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "platform-rfe@redhat.com",
          "text": "This request for enhancement (RFE) is a copy of the initial request filed under the 'RHEL RFE' product. It has been triaged by Product Management and is now being proposed for the appropriate release(s). All previous comments have been copied to this bugzilla. Please see the 'Blocks' field for the original RFE and associated release specific bugzillas. The original RFE will remain open until all associated release specific bugs are resolved.",
          "author": "platform-rfe@redhat.com",
          "creation_time": "20130531T19:39:25",
          "bug_id": "969565",
          "creator_id": "316518",
          "time": "20130531T19:39:25",
          "id": "5967835",
          "is_private": "True"
        },
        {
          "count": "1",
          "creator": "platform-rfe@redhat.com",
          "text": "** Original comment by tbowling@redhat.com **\n\n1. Proposed title of this feature request:\n\n[RFE] Backport SHA2 HMAC algorithm support to OpenSSH from upstream\n\n3. What is the nature and description of the request?\n\nPlease include the following algoritms for openssh:\nhmac-sha2-256, hmac-sha2-256-96, hmac-sha2-512, and hmac-sha2-512-96.\n\n\n4. Why does the customer need this? (List the business requirements here)\n\nNIST and FIPs requirements are driving us toward the sha2 algorithms.\n\n5. How would the customer like to achieve this?  \n\nThey would like to specify them in the MACS config line in sshd_config. \nExample:\nMACS hmac-sha2-256,hmac-sha2-256-96,hmac-sha2-512,hmac-sha2-512-96\n\n\n6. For each functional requirement listed in question 5, specify how Red Hat\nand the customer can test to confirm the requirement is successfully\nimplemented.\n\nAdd the MACS line to sshd_config, restart sshd, ssh from another client at the same revision to verify it works.\n\n\n7. Is there already an existing RFE upstream or in Red Hat bugzilla?\n\nNo, but the functinality was release in upstream OpenSSH 5.9 codebase in Sept. 2011.  So it has had approximately 9 months of time to mature.\n\nFrom upstream OpenSSH 5.9 (released Sept. 2011) changelog:\n\n* Add new SHA256-based HMAC transport integrity modes from\n   http://www.ietf.org/id/draft-dbider-sha2-mac-for-ssh-02.txt\n   These modes are hmac-sha2-256, hmac-sha2-256-96, hmac-sha2-512,\n   and hmac-sha2-512-96, and are available by default in ssh(1) and\n   sshd(8)\n\n8. Does the customer have any specific timeline dependencies?\nCustomer will need this functionality in the 6.4 release, February 2013 timeframe.\n\n9. Is the sales team involved in this request and do they have any additional input?\n\nNo\n\n10. List any affected packages or components.\n\nopenssh-5.3p1-70.el6_2.2.x86_64\nopenssh-askpass-5.3p1-70.el6_2.2.x86_64\nopenssh-server-5.3p1-70.el6_2.2.x86_64\nopenssh-clients-5.3p1-70.el6_2.2.x86_64\n\n\n11. Would the customer be able to assist in testing this functionality if\nimplemented?\n\nYes",
          "author": "platform-rfe@redhat.com",
          "creation_time": "20130531T19:39:44",
          "bug_id": "969565",
          "creator_id": "316518",
          "time": "20130531T19:39:44",
          "id": "5967838",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "platform-rfe@redhat.com",
          "text": "** Original comment by tbowling@redhat.com **\n\n2. Who is the customer behind the request?\nAccount name: Motorola Solutions, Inc.\nCustomer segment: Communications systems\nTAM/SRM customer: yes\nStrategic Customer: yes",
          "author": "platform-rfe@redhat.com",
          "creation_time": "20130531T19:39:47",
          "bug_id": "969565",
          "creator_id": "316518",
          "time": "20130531T19:39:47",
          "id": "5967840",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "platform-rfe@redhat.com",
          "text": "** Original comment by tbowling@redhat.com **\n\nThe URL for the draft text is no longer valid.  Here is a good link to the draft text specified by the upstream commit:\n\nftp://ftp.ietf.org/internet-drafts/draft-dbider-sha2-mac-for-ssh-06.txt",
          "author": "platform-rfe@redhat.com",
          "creation_time": "20130531T19:39:50",
          "bug_id": "969565",
          "creator_id": "316518",
          "time": "20130531T19:39:50",
          "id": "5967841",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "platform-rfe@redhat.com",
          "text": "** Original comment by tmraz@redhat.com **\n\nActually the RFC went to final in the mean time. \n\nhttp://tools.ietf.org/html/rfc6668\n\nThe 96bits versions were dropped.",
          "author": "platform-rfe@redhat.com",
          "creation_time": "20130531T19:39:52",
          "bug_id": "969565",
          "creator_id": "316518",
          "time": "20130531T19:39:52",
          "id": "5967842",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "platform-rfe@redhat.com",
          "text": "** Original comment by tbowling@redhat.com **\n\nLink to upstream's commit to /src/usr.bin/ssh/mac.c\n\nhttp://www.openbsd.org/cgi-bin/cvsweb/src/usr.bin/ssh/mac.c.diff?r1=1.15;r2=1.16;f=h;f=u\n\n@@ -54,6 +54,10 @@ struct {\n } macs[] = {\n \t{ ''hmac-sha1'',\t\t\tSSH_EVP, EVP_sha1, 0, -1, -1 },\n \t{ ''hmac-sha1-96'',\t\tSSH_EVP, EVP_sha1, 96, -1, -1 },\n+\t{ ''hmac-sha2-256'',\t\tSSH_EVP, EVP_sha256, 0, -1, -1 },\n+\t{ ''hmac-sha2-256-96'',\t\tSSH_EVP, EVP_sha256, 96, -1, -1 },\n+\t{ ''hmac-sha2-512'',\t\tSSH_EVP, EVP_sha512, 0, -1, -1 },\n+\t{ ''hmac-sha2-512-96'',\t\tSSH_EVP, EVP_sha512, 96, -1, -1 },\n \t{ ''hmac-md5'',\t\t\tSSH_EVP, EVP_md5, 0, -1, -1 },\n \t{ ''hmac-md5-96'',\t\tSSH_EVP, EVP_md5, 96, -1, -1 },\n \t{ ''hmac-ripemd160'',\t\tSSH_EVP, EVP_ripemd160, 0, -1, -1 },\n\nNote that the hmac-sha2-256-96 and hmac-sha2-512-96 were later removed in version 1.18 of mac.c due to being removed from the final RFC.",
          "author": "platform-rfe@redhat.com",
          "creation_time": "20130531T19:39:55",
          "bug_id": "969565",
          "creator_id": "316518",
          "time": "20130531T19:39:55",
          "id": "5967843",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "platform-rfe@redhat.com",
          "text": "** Original comment by tbowling@redhat.com **\n\nCould we get an update on the feasibility of this request?  Strategic customer creates an embedded product and needs to know if they can get it in 6.4 or if they need to find some other way around it (i.e. commercial ssh).",
          "author": "platform-rfe@redhat.com",
          "creation_time": "20130531T19:39:58",
          "bug_id": "969565",
          "creator_id": "316518",
          "time": "20130531T19:39:58",
          "id": "5967845",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "platform-rfe@redhat.com",
          "text": "** Original comment by tmraz@redhat.com **\n\nThe backport should not be too hard however the addition of supported algorithm might conflict with the ongoing FIPS validation process.\n\nPerhaps adding it only for non-FIPS mode would not be a problem.",
          "author": "platform-rfe@redhat.com",
          "creation_time": "20130531T19:40:01",
          "bug_id": "969565",
          "creator_id": "316518",
          "time": "20130531T19:40:01",
          "id": "5967846",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "platform-rfe@redhat.com",
          "text": "** Original comment by snagar@redhat.com **\n\nJake/Jack, Am I right in saying that we don't want this to compromise our FIPS compliance? What about Tomas's comment above?",
          "author": "platform-rfe@redhat.com",
          "creation_time": "20130531T19:40:04",
          "bug_id": "969565",
          "creator_id": "316518",
          "time": "20130531T19:40:04",
          "id": "5967847",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "platform-rfe@redhat.com",
          "text": "** Original comment by jkodak@redhat.com **\n\nThis will certainly break the FIPS",
          "author": "platform-rfe@redhat.com",
          "creation_time": "20130531T19:40:07",
          "bug_id": "969565",
          "creator_id": "316518",
          "time": "20130531T19:40:07",
          "id": "5967848",
          "is_private": "True"
        },
        {
          "count": "10",
          "creator": "platform-rfe@redhat.com",
          "text": "** Original comment by snagar@redhat.com **\n\nWe are not going to be able to include SHA2 HMAC algorithm support in OpenSSH. This new functionality negatively impacts our security certifications (FIPS). These certifications involve a significant investment from Red Hat and are needed for deploying RHEL for government use.",
          "author": "platform-rfe@redhat.com",
          "creation_time": "20130531T19:40:09",
          "bug_id": "969565",
          "creator_id": "316518",
          "time": "20130531T19:40:09",
          "id": "5967849",
          "is_private": "False"
        },
        {
          "count": "11",
          "creator": "platform-rfe@redhat.com",
          "text": "** Original comment by chenders@redhat.com **\n\nWould it be possible to include SHA2 HMAC algorithm support in OpenSSH only for non-FIPS mode?",
          "author": "platform-rfe@redhat.com",
          "creation_time": "20130531T19:40:12",
          "bug_id": "969565",
          "creator_id": "316518",
          "time": "20130531T19:40:12",
          "id": "5967851",
          "is_private": "True"
        },
        {
          "count": "12",
          "creator": "platform-rfe@redhat.com",
          "text": "** Original comment by tbowling@redhat.com **\n\n1.  Is non-FIPS mode a possiblity?  I believe the answer is NO because it requires changes to libcrypto.  But I need this answer clarified.  Or would it be possible to have a nonfips-libcrypto option.\n\n2.  If NO to question one, I would like to keep this RFE open for the next FIPS certification cycle.  Am I correct that the next FIPS certification process will be for RHEL 7?  If so, can we just make this a RHEL 7 RFE?",
          "author": "platform-rfe@redhat.com",
          "creation_time": "20130531T19:40:14",
          "bug_id": "969565",
          "creator_id": "316518",
          "time": "20130531T19:40:14",
          "id": "5967852",
          "is_private": "False"
        },
        {
          "count": "13",
          "creator": "platform-rfe@redhat.com",
          "text": "** Original comment by sgrubb@redhat.com **\n\nAnd change to source code within the crypto boundary regardless of whether or not its for fips mode or not will cause us to not be able to vendor affirm the fips-140 certification. This means we can't do it today.\n\nHowever, there may be a point in the future where we know we have to alter code within the crypto boundary such as to fix a CVE and in that case we can pull this in. So, rather than close it, let's defer this RFE to a future release where we might know we are breaking the cert.\n\nShould this be reassigned to openssh so that its on the devlopment team's radar? If so, let's set the 6.5 flag and re-evaluate for that release.",
          "author": "platform-rfe@redhat.com",
          "creation_time": "20130531T19:40:17",
          "bug_id": "969565",
          "creator_id": "316518",
          "time": "20130531T19:40:17",
          "id": "5967854",
          "is_private": "True"
        },
        {
          "count": "14",
          "creator": "platform-rfe@redhat.com",
          "text": "** Original comment by tmraz@redhat.com **\n\nNote this does not require changes to libcrypto, however it requires changes in the crypto boundary in the openssh client and server FIPS modules.",
          "author": "platform-rfe@redhat.com",
          "creation_time": "20130531T19:40:20",
          "bug_id": "969565",
          "creator_id": "316518",
          "time": "20130531T19:40:20",
          "id": "5967855",
          "is_private": "False"
        },
        {
          "count": "15",
          "creator": "platform-rfe@redhat.com",
          "text": "** Original comment by tmraz@redhat.com **\n\nAlso RHEL7 is already on fresh enough openssh so the SHA2 HMAC algorithms are included so I do not think this needs to be opened as RHEL 7 RFE.",
          "author": "platform-rfe@redhat.com",
          "creation_time": "20130531T19:40:22",
          "bug_id": "969565",
          "creator_id": "316518",
          "time": "20130531T19:40:22",
          "id": "5967856",
          "is_private": "True"
        },
        {
          "count": "16",
          "creator": "platform-rfe@redhat.com",
          "text": "** Original comment by tbowling@redhat.com **\n\nTomas and Steve,\n\nIn a somewhat related question, do NSS and OpenSSL have HMAC-SHA2-256 support?  In reading the Security Polices submitted to NIST:\n\n  * OpenSSL - Security Policy specifies HMAC-SHA256.  Is this the same HMAC-SHA2-256 (i.e. SHA2)?\n\n  * NSS     - I see no mention of HMAC-SHA*.  Does it have support by way of OpenSSL\n\nhttp://csrc.nist.gov/groups/STM/cmvp/documents/140-1/1401val2012.htm\n\nSorry to keep this alive, but this discussion is not going away for me due to supposedly new requirements to the SRG in November and NIST SP800-131A.\n\nhttp://csrc.nist.gov/publications/nistpubs/800-131A/sp800-131A.pdf\n\nThanks in advance for any feedback you can provide...",
          "author": "platform-rfe@redhat.com",
          "creation_time": "20130531T19:40:25",
          "bug_id": "969565",
          "creator_id": "316518",
          "time": "20130531T19:40:25",
          "id": "5967857",
          "is_private": "True"
        },
        {
          "count": "17",
          "creator": "platform-rfe@redhat.com",
          "text": "** Original comment by tmraz@redhat.com **\n\n(In reply to comment #15)\n> Tomas and Steve,\n> \n> In a somewhat related question, do NSS and OpenSSL have HMAC-SHA2-256\n> support?  In reading the Security Polices submitted to NIST:\n> \n>   * OpenSSL - Security Policy specifies HMAC-SHA256.  Is this the same\n> HMAC-SHA2-256 (i.e. SHA2)?\n\nYes, HMAC-SHA256 is HMAC-SHA2-256 and OpenSSL supports it.\n\nI cannot speak for NSS (cced Rob Relyea).",
          "author": "platform-rfe@redhat.com",
          "creation_time": "20130531T19:40:29",
          "bug_id": "969565",
          "creator_id": "316518",
          "time": "20130531T19:40:29",
          "id": "5967858",
          "is_private": "True"
        },
        {
          "count": "18",
          "creator": "platform-rfe@redhat.com",
          "text": "** Original comment by tbowling@redhat.com **\n\nA summary of where we are with this...\n\n * OpenSSH Client & Server in RHEL 6.3 does not support the HMAC-SHA2-* protocols.  It cannot be added yet as it would require modifying the crypto boundaries and thus require some degree of FIPS recertification.\n\n * NSS and OpenSSL in RHEL 6.3 do appear to support the crypto primitives, though OpenSSH currently lacks the function to make use of them.  See previous statement.\n\n * This request will be satisfied in RHEL 7.\n\n * Currently, Product Management does not have plans for re-certifying any components of RHEL 6.x.\n\nThis brings us to Red Hat's FIPS certification plans regarding various new requests stemming from upcoming changes to SRG/STIG, SP800-131A, SP800-90A, and various other documents found at:  http://csrc.nist.gov/publications/PubsSPs.html\n\nA request has been made to product management to address the concern of upcoming changes and the lack of a planned budget for FIPS related changes.",
          "author": "platform-rfe@redhat.com",
          "creation_time": "20130531T19:40:31",
          "bug_id": "969565",
          "creator_id": "316518",
          "time": "20130531T19:40:31",
          "id": "5967859",
          "is_private": "True"
        },
        {
          "count": "19",
          "creator": "platform-rfe@redhat.com",
          "text": "** Original comment by tbowling@redhat.com **\n\nJake or Steve,\n\nAre there any new status updates on the feasibility of completing this request?\n\n-Terry",
          "author": "platform-rfe@redhat.com",
          "creation_time": "20130531T19:40:34",
          "bug_id": "969565",
          "creator_id": "316518",
          "time": "20130531T19:40:34",
          "id": "5967860",
          "is_private": "False"
        },
        {
          "count": "20",
          "creator": "platform-rfe@redhat.com",
          "text": "** Original comment by sgrubb@redhat.com **\n\nWe might be able to do it on 6.5. We were thinking to do a couple re-vals on that release.",
          "author": "platform-rfe@redhat.com",
          "creation_time": "20130531T19:40:37",
          "bug_id": "969565",
          "creator_id": "316518",
          "time": "20130531T19:40:37",
          "id": "5967862",
          "is_private": "True"
        },
        {
          "count": "21",
          "creator": "platform-rfe@redhat.com",
          "text": "** Original comment by plautrba@redhat.com **\n\nCreated attachment 754488\nAdd HMAC-SHA2 algorithms support\n\nThis is a patch with backported HMAC-SHA2 algorithms support with regress tests  into openssh-5.3p1. Both hmac-sha2-256 and hmac-sha2-512 are also available in the FIPs enabled mode.",
          "author": "platform-rfe@redhat.com",
          "creation_time": "20130531T19:40:40",
          "bug_id": "969565",
          "creator_id": "316518",
          "time": "20130531T19:40:40",
          "id": "5967863",
          "is_private": "False"
        },
        {
          "count": "22",
          "creator": "platform-rfe@redhat.com",
          "text": "** Original comment by plautrba@redhat.com **\n\nJake,\n\ncould you clone this and set acks for rhel-6.5 so I can incorporate it with other openssh RHEL-6.5 bugs?",
          "author": "platform-rfe@redhat.com",
          "creation_time": "20130531T19:40:43",
          "bug_id": "969565",
          "creator_id": "316518",
          "time": "20130531T19:40:43",
          "id": "5967864",
          "is_private": "False"
        },
        {
          "count": "23",
          "creator": "platform-rfe@redhat.com",
          "text": "** Original comment by sgrubb@redhat.com **\n\nThis kind of bug isn't cloned, they are assigned to the right component. This step needs to be taken so it can be worked by Engineering. Thanks.",
          "author": "platform-rfe@redhat.com",
          "creation_time": "20130531T19:40:46",
          "bug_id": "969565",
          "creator_id": "316518",
          "time": "20130531T19:40:46",
          "id": "5967865",
          "is_private": "True"
        },
        {
          "count": "24",
          "creator": "platform-rfe@redhat.com",
          "text": "** Original comment by sforsber@redhat.com **\n\n(In reply to Steve Grubb from comment #22)\n> This kind of bug isn't cloned, they are assigned to the right component.\n> This step needs to be taken so it can be worked by Engineering. Thanks.\n\nThe ''new RFE process'' does state that these RFE bugs need to be cloned to the proper product/component to be worked on in the release. See slide 7 of attached \n\nhttps://home.corp.redhat.com/sites/default/files/departments/platform_bu/rhel_rfe_process_updates_20110912.pdf",
          "author": "platform-rfe@redhat.com",
          "creation_time": "20130531T19:40:49",
          "bug_id": "969565",
          "creator_id": "316518",
          "time": "20130531T19:40:49",
          "id": "5967866",
          "is_private": "True"
        },
        {
          "count": "25",
          "creator": "ksrot@redhat.com",
          "text": "qa_ack+ for 6.5",
          "author": "ksrot@redhat.com",
          "creation_time": "20130710T13:04:53",
          "bug_id": "969565",
          "creator_id": "286283",
          "time": "20130710T13:04:53",
          "id": "6096396",
          "is_private": "True"
        },
        {
          "count": "26",
          "creator": "tbowling@redhat.com",
          "text": "Please let me know as soon as a test build is available as customer would like to test during their QA/QE process to prepare their embedded product release for rhel6.5.",
          "author": "tbowling@redhat.com",
          "creation_time": "20130710T22:46:11",
          "bug_id": "969565",
          "creator_id": "320027",
          "time": "20130710T22:46:11",
          "id": "6098314",
          "is_private": "False"
        },
        {
          "count": "27",
          "creator": "plautrba@redhat.com",
          "text": "I'll build one today and I'll post a link.",
          "author": "plautrba@redhat.com",
          "creation_time": "20130712T09:20:52",
          "bug_id": "969565",
          "creator_id": "270148",
          "time": "20130712T09:20:52",
          "id": "6103621",
          "is_private": "False"
        },
        {
          "count": "28",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2013:15245-01\nhttp://errata.devel.redhat.com/errata/show/15245",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20130712T10:38:07",
          "bug_id": "969565",
          "creator_id": "241731",
          "time": "20130712T10:38:07",
          "id": "6103791",
          "is_private": "True"
        },
        {
          "count": "29",
          "creator": "plautrba@redhat.com",
          "text": "Temporary test scratch build can be found at https://brewweb.devel.redhat.com/taskinfo?taskID=6028025",
          "author": "plautrba@redhat.com",
          "creation_time": "20130712T11:29:07",
          "bug_id": "969565",
          "creator_id": "270148",
          "time": "20130712T11:29:07",
          "id": "6103907",
          "is_private": "False"
        },
        {
          "count": "30",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHSA-2013:15245-02: \nChanged by: Lukas Novy (lnovy@redhat.com)\nhttp://errata.devel.redhat.com/advisory/15245\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: TEST PROTOCOL\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Test run ID   : 16529575\n:: [   LOG    ] :: Package       : openssh\n:: [   LOG    ] :: Installed:    : openssh-5.3p1-84.1.el6.x86_64 \n:: [   LOG    ] :: Test started  : 2013-10-17 12:42:56 EDT\n:: [   LOG    ] :: Test finished : 2013-10-17 12:43:59 EDT\n:: [   LOG    ] :: Test name     : /CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to\n:: [   LOG    ] :: Distro:       : Red Hat Enterprise Linux Server release 6.4 (Santiago)\n:: [   LOG    ] :: Hostname      : hp-bl460cg5-01.rhts.eng.bos.redhat.com\n:: [   LOG    ] :: Architecture  : x86_64\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test description\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\nPURPOSE of\n/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to\nDescription: Test for BZ#969565 ([RFE] Backport HMAC-SHA2 algorithm support to)\nAuthor: Lukas Novy <lnovy@redhat.com>\nBug summary: [RFE] Backport HMAC-SHA2 algorithm support to OpenSSH from upstream\nBugzilla link: https://bugzilla.redhat.com/show_bug.cgi?id=969565\n\n[RFE] Backport SHA2 HMAC algorithm support to OpenSSH from upstream\n\nPlease include the following algoritms for openssh:\nhmac-sha2-256, hmac-sha2-256-96, hmac-sha2-512, and hmac-sha2-512-96.\n\nThey would like to specify them in the MACS config line in sshd_config. \nExample:\nMACS hmac-sha2-256,hmac-sha2-256-96,hmac-sha2-512,hmac-sha2-512-96\n\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Setup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Checking for the presence of openssh rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   openssh-5.3p1-84.1.el6.x86_64\n:: [   PASS   ] :: Creating tmp directory (Expected 0, got 0)\n:: [   PASS   ] :: Running 'pushd /tmp/tmp.MJPwpMHnE7' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'useradd bz974096' (Expected 0-255, got 0)\n:: [   PASS   ] :: Running 'echo bz974096 | passwd --stdin bz974096' (Expected 0, got 0)\n:: [   INFO   ] :: KEX MACs known: hmac-md5 hmac-sha1 umac-64@openssh.com hmac-sha2-256 hmac-sha2-512 hmac-ripemd160 hmac-ripemd160@openssh.com hmac-sha1-96 hmac-md5-96 hmac-rot13\n:: [   INFO   ] :: KEX MACs that need to work: hmac-md5 hmac-sha1 umac-64@openssh.com hmac-sha2-256 hmac-sha2-512 hmac-ripemd160 hmac-ripemd160@openssh.com hmac-sha1-96 hmac-md5-96\n:: [   INFO   ] :: KEX MACs must not work: hmac-rot13\n:: [   LOG    ] :: Duration: 2s\n:: [   LOG    ] :: Assertions: 5 good, 0 bad\n:: [   PASS   ] :: RESULT: Setup\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   INFO   ] :: Allowed server MACs: hmac-md5\n:: [   INFO   ] :: Allowed client MACs: hmac-md5\n:: [   INFO   ] :: Expected connection MAC: hmac-md5\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.SEf1UKR0Fq >/tmp/tmp.XIiPePuKxt' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.XIiPePuKxt' should contain 'debug2: mac_setup: found hmac-md5' \n:: [   INFO   ] :: Sending /tmp/tmp.XIiPePuKxt as tmp-tmp.XIiPePuKxt\n:: [   INFO   ] :: Sending /tmp/tmp.SEf1UKR0Fq as tmp-tmp.SEf1UKR0Fq\n:: [   INFO   ] :: Allowed server MACs: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\n:: [   INFO   ] :: Allowed client MACs: hmac-md5\n:: [   INFO   ] :: Expected connection MAC: hmac-md5\n:: [   ERROR  ] :: rlServiceStart: Starting service sshd failed\n:: [   ERROR  ] :: Status of the failed service:\n:: [   LOG    ] ::   openssh-daemon is stopped\n:: [   FAIL   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.BIGFrqS4TF >/tmp/tmp.XOYDgdbBtC' (Expected 0, got 1)\n:: [   PASS   ] :: File '/tmp/tmp.XOYDgdbBtC' should contain 'debug2: mac_setup: found hmac-md5' \n:: [   INFO   ] :: Sending /tmp/tmp.XOYDgdbBtC as tmp-tmp.XOYDgdbBtC\n:: [   INFO   ] :: Sending /tmp/tmp.BIGFrqS4TF as tmp-tmp.BIGFrqS4TF\n:: [   INFO   ] :: Allowed server MACs: hmac-md5\n:: [   INFO   ] :: Allowed client MACs: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\n:: [   INFO   ] :: Expected connection MAC: hmac-md5\n:: [   FAIL   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.yFaKPj35ya >/tmp/tmp.vAyOBvOAqQ' (Expected 0, got 1)\n:: [   PASS   ] :: File '/tmp/tmp.vAyOBvOAqQ' should contain 'debug2: mac_setup: found hmac-md5' \n:: [   INFO   ] :: Sending /tmp/tmp.vAyOBvOAqQ as tmp-tmp.vAyOBvOAqQ\n:: [   INFO   ] :: Sending /tmp/tmp.yFaKPj35ya as tmp-tmp.yFaKPj35ya\n:: [   INFO   ] :: Allowed server MACs: hmac-md5,hmac-md5\n:: [   INFO   ] :: Allowed client MACs: hmac-md5,hmac-md5\n:: [   INFO   ] :: Expected connection MAC: hmac-md5\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.1s8bMUitMT >/tmp/tmp.vikHuI0u9Q' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.vikHuI0u9Q' should contain 'debug2: mac_setup: found hmac-md5' \n:: [   INFO   ] :: Sending /tmp/tmp.vikHuI0u9Q as tmp-tmp.vikHuI0u9Q\n:: [   INFO   ] :: Sending /tmp/tmp.1s8bMUitMT as tmp-tmp.1s8bMUitMT\n:: [   INFO   ] :: Allowed server MACs: hmac-md5,hmac-md5\n:: [   INFO   ] :: Allowed client MACs: hmac-rot13\n:: [   INFO   ] :: Expected connection MAC: \n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0-255, got 0)\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh-fail.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.WJRmvEhufR >/tmp/tmp.8lA1C85oEp' (Expected 1-2, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.8lA1C85oEp as tmp-tmp.8lA1C85oEp\n:: [   INFO   ] :: Sending /tmp/tmp.WJRmvEhufR as tmp-tmp.WJRmvEhufR\n:: [   INFO   ] :: Allowed server MACs: hmac-sha1\n:: [   INFO   ] :: Allowed client MACs: hmac-sha1\n:: [   INFO   ] :: Expected connection MAC: hmac-sha1\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.O03fuMAUAY >/tmp/tmp.MjqOvpJXjk' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.MjqOvpJXjk' should contain 'debug2: mac_setup: found hmac-sha1' \n:: [   INFO   ] :: Sending /tmp/tmp.MjqOvpJXjk as tmp-tmp.MjqOvpJXjk\n:: [   INFO   ] :: Sending /tmp/tmp.O03fuMAUAY as tmp-tmp.O03fuMAUAY\n:: [   INFO   ] :: Allowed server MACs: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\n:: [   INFO   ] :: Allowed client MACs: hmac-sha1\n:: [   INFO   ] :: Expected connection MAC: hmac-sha1\n:: [   ERROR  ] :: rlServiceStart: Starting service sshd failed\n:: [   ERROR  ] :: Status of the failed service:\n:: [   LOG    ] ::   openssh-daemon is stopped\n:: [   FAIL   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.iUa1EAhjBJ >/tmp/tmp.gNV2FAZW3a' (Expected 0, got 1)\n:: [   PASS   ] :: File '/tmp/tmp.gNV2FAZW3a' should contain 'debug2: mac_setup: found hmac-sha1' \n:: [   INFO   ] :: Sending /tmp/tmp.gNV2FAZW3a as tmp-tmp.gNV2FAZW3a\n:: [   INFO   ] :: Sending /tmp/tmp.iUa1EAhjBJ as tmp-tmp.iUa1EAhjBJ\n:: [   INFO   ] :: Allowed server MACs: hmac-sha1\n:: [   INFO   ] :: Allowed client MACs: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\n:: [   INFO   ] :: Expected connection MAC: hmac-sha1\n:: [   FAIL   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.OCznfFsOO8 >/tmp/tmp.2kJ3A3Kp0L' (Expected 0, got 1)\n:: [   PASS   ] :: File '/tmp/tmp.2kJ3A3Kp0L' should contain 'debug2: mac_setup: found hmac-sha1' \n:: [   INFO   ] :: Sending /tmp/tmp.2kJ3A3Kp0L as tmp-tmp.2kJ3A3Kp0L\n:: [   INFO   ] :: Sending /tmp/tmp.OCznfFsOO8 as tmp-tmp.OCznfFsOO8\n:: [   INFO   ] :: Allowed server MACs: hmac-sha1,hmac-md5\n:: [   INFO   ] :: Allowed client MACs: hmac-md5,hmac-sha1\n:: [   INFO   ] :: Expected connection MAC: hmac-sha1\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.HTWDAR6ahL >/tmp/tmp.9bKoQKkQya' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.9bKoQKkQya' should contain 'debug2: mac_setup: found hmac-sha1' \n:: [   INFO   ] :: Sending /tmp/tmp.9bKoQKkQya as tmp-tmp.9bKoQKkQya\n:: [   INFO   ] :: Sending /tmp/tmp.HTWDAR6ahL as tmp-tmp.HTWDAR6ahL\n:: [   INFO   ] :: Allowed server MACs: hmac-sha1,hmac-md5\n:: [   INFO   ] :: Allowed client MACs: hmac-rot13\n:: [   INFO   ] :: Expected connection MAC: \n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0-255, got 0)\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh-fail.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.RalR2jR26r >/tmp/tmp.SMAzonqG2O' (Expected 1-2, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.SMAzonqG2O as tmp-tmp.SMAzonqG2O\n:: [   INFO   ] :: Sending /tmp/tmp.RalR2jR26r as tmp-tmp.RalR2jR26r\n:: [   INFO   ] :: Allowed server MACs: umac-64@openssh.com\n:: [   INFO   ] :: Allowed client MACs: umac-64@openssh.com\n:: [   INFO   ] :: Expected connection MAC: umac-64@openssh.com\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.zZHdo3IzDX >/tmp/tmp.4wUHqGrgit' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.4wUHqGrgit' should contain 'debug2: mac_setup: found umac-64@openssh.com' \n:: [   INFO   ] :: Sending /tmp/tmp.4wUHqGrgit as tmp-tmp.4wUHqGrgit\n:: [   INFO   ] :: Sending /tmp/tmp.zZHdo3IzDX as tmp-tmp.zZHdo3IzDX\n:: [   INFO   ] :: Allowed server MACs: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\n:: [   INFO   ] :: Allowed client MACs: umac-64@openssh.com\n:: [   INFO   ] :: Expected connection MAC: umac-64@openssh.com\n:: [   ERROR  ] :: rlServiceStart: Starting service sshd failed\n:: [   ERROR  ] :: Status of the failed service:\n:: [   LOG    ] ::   openssh-daemon is stopped\n:: [   FAIL   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.SLmFUJo7FF >/tmp/tmp.9xuve7CL5q' (Expected 0, got 1)\n:: [   PASS   ] :: File '/tmp/tmp.9xuve7CL5q' should contain 'debug2: mac_setup: found umac-64@openssh.com' \n:: [   INFO   ] :: Sending /tmp/tmp.9xuve7CL5q as tmp-tmp.9xuve7CL5q\n:: [   INFO   ] :: Sending /tmp/tmp.SLmFUJo7FF as tmp-tmp.SLmFUJo7FF\n:: [   INFO   ] :: Allowed server MACs: umac-64@openssh.com\n:: [   INFO   ] :: Allowed client MACs: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\n:: [   INFO   ] :: Expected connection MAC: umac-64@openssh.com\n:: [   FAIL   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.491ALMWpgL >/tmp/tmp.xyimAdcP7X' (Expected 0, got 1)\n:: [   PASS   ] :: File '/tmp/tmp.xyimAdcP7X' should contain 'debug2: mac_setup: found umac-64@openssh.com' \n:: [   INFO   ] :: Sending /tmp/tmp.xyimAdcP7X as tmp-tmp.xyimAdcP7X\n:: [   INFO   ] :: Sending /tmp/tmp.491ALMWpgL as tmp-tmp.491ALMWpgL\n:: [   INFO   ] :: Allowed server MACs: umac-64@openssh.com,hmac-md5\n:: [   INFO   ] :: Allowed client MACs: hmac-md5,umac-64@openssh.com\n:: [   INFO   ] :: Expected connection MAC: umac-64@openssh.com\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.BAbv80Jqv7 >/tmp/tmp.dKS3p9v3j9' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.dKS3p9v3j9' should contain 'debug2: mac_setup: found umac-64@openssh.com' \n:: [   INFO   ] :: Sending /tmp/tmp.dKS3p9v3j9 as tmp-tmp.dKS3p9v3j9\n:: [   INFO   ] :: Sending /tmp/tmp.BAbv80Jqv7 as tmp-tmp.BAbv80Jqv7\n:: [   INFO   ] :: Allowed server MACs: umac-64@openssh.com,hmac-md5\n:: [   INFO   ] :: Allowed client MACs: hmac-rot13\n:: [   INFO   ] :: Expected connection MAC: \n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0-255, got 0)\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh-fail.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.SgdX5hund0 >/tmp/tmp.kxTlMrktTY' (Expected 1-2, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.kxTlMrktTY as tmp-tmp.kxTlMrktTY\n:: [   INFO   ] :: Sending /tmp/tmp.SgdX5hund0 as tmp-tmp.SgdX5hund0\n:: [   INFO   ] :: Allowed server MACs: hmac-sha2-256\n:: [   INFO   ] :: Allowed client MACs: hmac-sha2-256\n:: [   INFO   ] :: Expected connection MAC: hmac-sha2-256\n:: [   ERROR  ] :: rlServiceStart: Starting service sshd failed\n:: [   ERROR  ] :: Status of the failed service:\n:: [   LOG    ] ::   openssh-daemon is stopped\n:: [   FAIL   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.6ARJhwjouS >/tmp/tmp.Gi1Ve4ydqe' (Expected 0, got 1)\n:: [   FAIL   ] :: File '/tmp/tmp.Gi1Ve4ydqe' should contain 'debug2: mac_setup: found hmac-sha2-256' \n:: [   INFO   ] :: Sending /tmp/tmp.Gi1Ve4ydqe as tmp-tmp.Gi1Ve4ydqe\n:: [   INFO   ] :: Sending /tmp/tmp.6ARJhwjouS as tmp-tmp.6ARJhwjouS\n:: [   INFO   ] :: Allowed server MACs: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\n:: [   INFO   ] :: Allowed client MACs: hmac-sha2-256\n:: [   INFO   ] :: Expected connection MAC: hmac-sha2-256\n:: [   ERROR  ] :: rlServiceStart: Starting service sshd failed\n:: [   ERROR  ] :: Status of the failed service:\n:: [   LOG    ] ::   openssh-daemon is stopped\n:: [   FAIL   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.MjVryqH7R4 >/tmp/tmp.IQRHE3ifHl' (Expected 0, got 1)\n:: [   FAIL   ] :: File '/tmp/tmp.IQRHE3ifHl' should contain 'debug2: mac_setup: found hmac-sha2-256' \n:: [   INFO   ] :: Sending /tmp/tmp.IQRHE3ifHl as tmp-tmp.IQRHE3ifHl\n:: [   INFO   ] :: Sending /tmp/tmp.MjVryqH7R4 as tmp-tmp.MjVryqH7R4\n:: [   INFO   ] :: Allowed server MACs: hmac-sha2-256\n:: [   INFO   ] :: Allowed client MACs: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\n:: [   INFO   ] :: Expected connection MAC: hmac-sha2-256\n:: [   ERROR  ] :: rlServiceStart: Starting service sshd failed\n:: [   ERROR  ] :: Status of the failed service:\n:: [   LOG    ] ::   openssh-daemon is stopped\n:: [   FAIL   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.n77dzyxxZv >/tmp/tmp.vhndYOS28G' (Expected 0, got 1)\n:: [   FAIL   ] :: File '/tmp/tmp.vhndYOS28G' should contain 'debug2: mac_setup: found hmac-sha2-256' \n:: [   INFO   ] :: Sending /tmp/tmp.vhndYOS28G as tmp-tmp.vhndYOS28G\n:: [   INFO   ] :: Sending /tmp/tmp.n77dzyxxZv as tmp-tmp.n77dzyxxZv\n:: [   INFO   ] :: Allowed server MACs: hmac-sha2-256,hmac-md5\n:: [   INFO   ] :: Allowed client MACs: hmac-md5,hmac-sha2-256\n:: [   INFO   ] :: Expected connection MAC: hmac-sha2-256\n:: [   ERROR  ] :: rlServiceStart: Starting service sshd failed\n:: [   ERROR  ] :: Status of the failed service:\n:: [   LOG    ] ::   openssh-daemon is stopped\n:: [   FAIL   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.HmuYoQxajV >/tmp/tmp.9kLbwmnuVe' (Expected 0, got 1)\n:: [   FAIL   ] :: File '/tmp/tmp.9kLbwmnuVe' should contain 'debug2: mac_setup: found hmac-sha2-256' \n:: [   INFO   ] :: Sending /tmp/tmp.9kLbwmnuVe as tmp-tmp.9kLbwmnuVe\n:: [   INFO   ] :: Sending /tmp/tmp.HmuYoQxajV as tmp-tmp.HmuYoQxajV\n:: [   INFO   ] :: Allowed server MACs: hmac-sha2-256,hmac-md5\n:: [   INFO   ] :: Allowed client MACs: hmac-rot13\n:: [   INFO   ] :: Expected connection MAC: \n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0-255, got 255)\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh-fail.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.khhAMHUqnO >/tmp/tmp.SOFnS04Ctu' (Expected 1-2, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.SOFnS04Ctu as tmp-tmp.SOFnS04Ctu\n:: [   INFO   ] :: Sending /tmp/tmp.khhAMHUqnO as tmp-tmp.khhAMHUqnO\n:: [   INFO   ] :: Allowed server MACs: hmac-sha2-512\n:: [   INFO   ] :: Allowed client MACs: hmac-sha2-512\n:: [   INFO   ] :: Expected connection MAC: hmac-sha2-512\n:: [   ERROR  ] :: rlServiceStart: Starting service sshd failed\n:: [   ERROR  ] :: Status of the failed service:\n:: [   LOG    ] ::   openssh-daemon is stopped\n:: [   FAIL   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.DsBKutRKbT >/tmp/tmp.CJTn1QOIsJ' (Expected 0, got 1)\n:: [   FAIL   ] :: File '/tmp/tmp.CJTn1QOIsJ' should contain 'debug2: mac_setup: found hmac-sha2-512' \n:: [   INFO   ] :: Sending /tmp/tmp.CJTn1QOIsJ as tmp-tmp.CJTn1QOIsJ\n:: [   INFO   ] :: Sending /tmp/tmp.DsBKutRKbT as tmp-tmp.DsBKutRKbT\n:: [   INFO   ] :: Allowed server MACs: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\n:: [   INFO   ] :: Allowed client MACs: hmac-sha2-512\n:: [   INFO   ] :: Expected connection MAC: hmac-sha2-512\n:: [   ERROR  ] :: rlServiceStart: Starting service sshd failed\n:: [   ERROR  ] :: Status of the failed service:\n:: [   LOG    ] ::   openssh-daemon is stopped\n:: [   FAIL   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.vZ63a6z1ig >/tmp/tmp.3Cy0uBu5DX' (Expected 0, got 1)\n:: [   FAIL   ] :: File '/tmp/tmp.3Cy0uBu5DX' should contain 'debug2: mac_setup: found hmac-sha2-512' \n:: [   INFO   ] :: Sending /tmp/tmp.3Cy0uBu5DX as tmp-tmp.3Cy0uBu5DX\n:: [   INFO   ] :: Sending /tmp/tmp.vZ63a6z1ig as tmp-tmp.vZ63a6z1ig\n:: [   INFO   ] :: Allowed server MACs: hmac-sha2-512\n:: [   INFO   ] :: Allowed client MACs: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\n:: [   INFO   ] :: Expected connection MAC: hmac-sha2-512\n:: [   ERROR  ] :: rlServiceStart: Starting service sshd failed\n:: [   ERROR  ] :: Status of the failed service:\n:: [   LOG    ] ::   openssh-daemon is stopped\n:: [   FAIL   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.wR9CTLPnrW >/tmp/tmp.dZQXXkHdJP' (Expected 0, got 1)\n:: [   FAIL   ] :: File '/tmp/tmp.dZQXXkHdJP' should contain 'debug2: mac_setup: found hmac-sha2-512' \n:: [   INFO   ] :: Sending /tmp/tmp.dZQXXkHdJP as tmp-tmp.dZQXXkHdJP\n:: [   INFO   ] :: Sending /tmp/tmp.wR9CTLPnrW as tmp-tmp.wR9CTLPnrW\n:: [   INFO   ] :: Allowed server MACs: hmac-sha2-512,hmac-md5\n:: [   INFO   ] :: Allowed client MACs: hmac-md5,hmac-sha2-512\n:: [   INFO   ] :: Expected connection MAC: hmac-sha2-512\n:: [   ERROR  ] :: rlServiceStart: Starting service sshd failed\n:: [   ERROR  ] :: Status of the failed service:\n:: [   LOG    ] ::   openssh-daemon is stopped\n:: [   FAIL   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.sAz3LzLezW >/tmp/tmp.BMQOHpGxK8' (Expected 0, got 1)\n:: [   FAIL   ] :: File '/tmp/tmp.BMQOHpGxK8' should contain 'debug2: mac_setup: found hmac-sha2-512' \n:: [   INFO   ] :: Sending /tmp/tmp.BMQOHpGxK8 as tmp-tmp.BMQOHpGxK8\n:: [   INFO   ] :: Sending /tmp/tmp.sAz3LzLezW as tmp-tmp.sAz3LzLezW\n:: [   INFO   ] :: Allowed server MACs: hmac-sha2-512,hmac-md5\n:: [   INFO   ] :: Allowed client MACs: hmac-rot13\n:: [   INFO   ] :: Expected connection MAC: \n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0-255, got 255)\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh-fail.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.vRpWqUK7q7 >/tmp/tmp.33ergrDqQL' (Expected 1-2, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.33ergrDqQL as tmp-tmp.33ergrDqQL\n:: [   INFO   ] :: Sending /tmp/tmp.vRpWqUK7q7 as tmp-tmp.vRpWqUK7q7\n:: [   INFO   ] :: Allowed server MACs: hmac-ripemd160\n:: [   INFO   ] :: Allowed client MACs: hmac-ripemd160\n:: [   INFO   ] :: Expected connection MAC: hmac-ripemd160\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.6vRGGYwpRR >/tmp/tmp.gBpb0AIOdS' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.gBpb0AIOdS' should contain 'debug2: mac_setup: found hmac-ripemd160' \n:: [   INFO   ] :: Sending /tmp/tmp.gBpb0AIOdS as tmp-tmp.gBpb0AIOdS\n:: [   INFO   ] :: Sending /tmp/tmp.6vRGGYwpRR as tmp-tmp.6vRGGYwpRR\n:: [   INFO   ] :: Allowed server MACs: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\n:: [   INFO   ] :: Allowed client MACs: hmac-ripemd160\n:: [   INFO   ] :: Expected connection MAC: hmac-ripemd160\n:: [   ERROR  ] :: rlServiceStart: Starting service sshd failed\n:: [   ERROR  ] :: Status of the failed service:\n:: [   LOG    ] ::   openssh-daemon is stopped\n:: [   FAIL   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.vnlxRMU1ww >/tmp/tmp.DMTddXukIg' (Expected 0, got 1)\n:: [   PASS   ] :: File '/tmp/tmp.DMTddXukIg' should contain 'debug2: mac_setup: found hmac-ripemd160' \n:: [   INFO   ] :: Sending /tmp/tmp.DMTddXukIg as tmp-tmp.DMTddXukIg\n:: [   INFO   ] :: Sending /tmp/tmp.vnlxRMU1ww as tmp-tmp.vnlxRMU1ww\n:: [   INFO   ] :: Allowed server MACs: hmac-ripemd160\n:: [   INFO   ] :: Allowed client MACs: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\n:: [   INFO   ] :: Expected connection MAC: hmac-ripemd160\n:: [   FAIL   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.g6Xu9LSMtn >/tmp/tmp.YQB52GYB7P' (Expected 0, got 1)\n:: [   FAIL   ] :: File '/tmp/tmp.YQB52GYB7P' should contain 'debug2: mac_setup: found hmac-ripemd160' \n:: [   INFO   ] :: Sending /tmp/tmp.YQB52GYB7P as tmp-tmp.YQB52GYB7P\n:: [   INFO   ] :: Sending /tmp/tmp.g6Xu9LSMtn as tmp-tmp.g6Xu9LSMtn\n:: [   INFO   ] :: Allowed server MACs: hmac-ripemd160,hmac-md5\n:: [   INFO   ] :: Allowed client MACs: hmac-md5,hmac-ripemd160\n:: [   INFO   ] :: Expected connection MAC: hmac-ripemd160\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.3BEm5biYz3 >/tmp/tmp.a8PBJ2IDpl' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.a8PBJ2IDpl' should contain 'debug2: mac_setup: found hmac-ripemd160' \n:: [   INFO   ] :: Sending /tmp/tmp.a8PBJ2IDpl as tmp-tmp.a8PBJ2IDpl\n:: [   INFO   ] :: Sending /tmp/tmp.3BEm5biYz3 as tmp-tmp.3BEm5biYz3\n:: [   INFO   ] :: Allowed server MACs: hmac-ripemd160,hmac-md5\n:: [   INFO   ] :: Allowed client MACs: hmac-rot13\n:: [   INFO   ] :: Expected connection MAC: \n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0-255, got 0)\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh-fail.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.ZpwlXoNfmx >/tmp/tmp.Y3jSYDC2xm' (Expected 1-2, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.Y3jSYDC2xm as tmp-tmp.Y3jSYDC2xm\n:: [   INFO   ] :: Sending /tmp/tmp.ZpwlXoNfmx as tmp-tmp.ZpwlXoNfmx\n:: [   INFO   ] :: Allowed server MACs: hmac-ripemd160@openssh.com\n:: [   INFO   ] :: Allowed client MACs: hmac-ripemd160@openssh.com\n:: [   INFO   ] :: Expected connection MAC: hmac-ripemd160@openssh.com\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.gN0KpqKVhI >/tmp/tmp.mmbeFkN5sm' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.mmbeFkN5sm' should contain 'debug2: mac_setup: found hmac-ripemd160@openssh.com' \n:: [   INFO   ] :: Sending /tmp/tmp.mmbeFkN5sm as tmp-tmp.mmbeFkN5sm\n:: [   INFO   ] :: Sending /tmp/tmp.gN0KpqKVhI as tmp-tmp.gN0KpqKVhI\n:: [   INFO   ] :: Allowed server MACs: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\n:: [   INFO   ] :: Allowed client MACs: hmac-ripemd160@openssh.com\n:: [   INFO   ] :: Expected connection MAC: hmac-ripemd160@openssh.com\n:: [   ERROR  ] :: rlServiceStart: Starting service sshd failed\n:: [   ERROR  ] :: Status of the failed service:\n:: [   LOG    ] ::   openssh-daemon is stopped\n:: [   FAIL   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.hTNvzAp8vr >/tmp/tmp.e72332IVWp' (Expected 0, got 1)\n:: [   PASS   ] :: File '/tmp/tmp.e72332IVWp' should contain 'debug2: mac_setup: found hmac-ripemd160@openssh.com' \n:: [   INFO   ] :: Sending /tmp/tmp.e72332IVWp as tmp-tmp.e72332IVWp\n:: [   INFO   ] :: Sending /tmp/tmp.hTNvzAp8vr as tmp-tmp.hTNvzAp8vr\n:: [   INFO   ] :: Allowed server MACs: hmac-ripemd160@openssh.com\n:: [   INFO   ] :: Allowed client MACs: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\n:: [   INFO   ] :: Expected connection MAC: hmac-ripemd160@openssh.com\n:: [   FAIL   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.QxVeoXFSMp >/tmp/tmp.SY2JdFI51J' (Expected 0, got 1)\n:: [   FAIL   ] :: File '/tmp/tmp.SY2JdFI51J' should contain 'debug2: mac_setup: found hmac-ripemd160@openssh.com' \n:: [   INFO   ] :: Sending /tmp/tmp.SY2JdFI51J as tmp-tmp.SY2JdFI51J\n:: [   INFO   ] :: Sending /tmp/tmp.QxVeoXFSMp as tmp-tmp.QxVeoXFSMp\n:: [   INFO   ] :: Allowed server MACs: hmac-ripemd160@openssh.com,hmac-md5\n:: [   INFO   ] :: Allowed client MACs: hmac-md5,hmac-ripemd160@openssh.com\n:: [   INFO   ] :: Expected connection MAC: hmac-ripemd160@openssh.com\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.i2lGStMnQ6 >/tmp/tmp.0Z461QMiQo' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.0Z461QMiQo' should contain 'debug2: mac_setup: found hmac-ripemd160@openssh.com' \n:: [   INFO   ] :: Sending /tmp/tmp.0Z461QMiQo as tmp-tmp.0Z461QMiQo\n:: [   INFO   ] :: Sending /tmp/tmp.i2lGStMnQ6 as tmp-tmp.i2lGStMnQ6\n:: [   INFO   ] :: Allowed server MACs: hmac-ripemd160@openssh.com,hmac-md5\n:: [   INFO   ] :: Allowed client MACs: hmac-rot13\n:: [   INFO   ] :: Expected connection MAC: \n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0-255, got 0)\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh-fail.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.8hTB52pdSL >/tmp/tmp.pJwMy5giJO' (Expected 1-2, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.pJwMy5giJO as tmp-tmp.pJwMy5giJO\n:: [   INFO   ] :: Sending /tmp/tmp.8hTB52pdSL as tmp-tmp.8hTB52pdSL\n:: [   INFO   ] :: Allowed server MACs: hmac-sha1-96\n:: [   INFO   ] :: Allowed client MACs: hmac-sha1-96\n:: [   INFO   ] :: Expected connection MAC: hmac-sha1-96\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.RL4hsueNrh >/tmp/tmp.Kea728VRn5' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.Kea728VRn5' should contain 'debug2: mac_setup: found hmac-sha1-96' \n:: [   INFO   ] :: Sending /tmp/tmp.Kea728VRn5 as tmp-tmp.Kea728VRn5\n:: [   INFO   ] :: Sending /tmp/tmp.RL4hsueNrh as tmp-tmp.RL4hsueNrh\n:: [   INFO   ] :: Allowed server MACs: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\n:: [   INFO   ] :: Allowed client MACs: hmac-sha1-96\n:: [   INFO   ] :: Expected connection MAC: hmac-sha1-96\n:: [   ERROR  ] :: rlServiceStart: Starting service sshd failed\n:: [   ERROR  ] :: Status of the failed service:\n:: [   LOG    ] ::   openssh-daemon is stopped\n:: [   FAIL   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.o6xv0NrOyo >/tmp/tmp.Vff8mxae3t' (Expected 0, got 1)\n:: [   PASS   ] :: File '/tmp/tmp.Vff8mxae3t' should contain 'debug2: mac_setup: found hmac-sha1-96' \n:: [   INFO   ] :: Sending /tmp/tmp.Vff8mxae3t as tmp-tmp.Vff8mxae3t\n:: [   INFO   ] :: Sending /tmp/tmp.o6xv0NrOyo as tmp-tmp.o6xv0NrOyo\n:: [   INFO   ] :: Allowed server MACs: hmac-sha1-96\n:: [   INFO   ] :: Allowed client MACs: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\n:: [   INFO   ] :: Expected connection MAC: hmac-sha1-96\n:: [   FAIL   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.vfbpOeDAbp >/tmp/tmp.3koxOIZD8n' (Expected 0, got 1)\n:: [   FAIL   ] :: File '/tmp/tmp.3koxOIZD8n' should contain 'debug2: mac_setup: found hmac-sha1-96' \n:: [   INFO   ] :: Sending /tmp/tmp.3koxOIZD8n as tmp-tmp.3koxOIZD8n\n:: [   INFO   ] :: Sending /tmp/tmp.vfbpOeDAbp as tmp-tmp.vfbpOeDAbp\n:: [   INFO   ] :: Allowed server MACs: hmac-sha1-96,hmac-md5\n:: [   INFO   ] :: Allowed client MACs: hmac-md5,hmac-sha1-96\n:: [   INFO   ] :: Expected connection MAC: hmac-sha1-96\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.dMuzsnOnAm >/tmp/tmp.v5qFaAoh0P' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.v5qFaAoh0P' should contain 'debug2: mac_setup: found hmac-sha1-96' \n:: [   INFO   ] :: Sending /tmp/tmp.v5qFaAoh0P as tmp-tmp.v5qFaAoh0P\n:: [   INFO   ] :: Sending /tmp/tmp.dMuzsnOnAm as tmp-tmp.dMuzsnOnAm\n:: [   INFO   ] :: Allowed server MACs: hmac-sha1-96,hmac-md5\n:: [   INFO   ] :: Allowed client MACs: hmac-rot13\n:: [   INFO   ] :: Expected connection MAC: \n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0-255, got 0)\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh-fail.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.9PyCK6lIO9 >/tmp/tmp.yCwcYoYdjr' (Expected 1-2, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.yCwcYoYdjr as tmp-tmp.yCwcYoYdjr\n:: [   INFO   ] :: Sending /tmp/tmp.9PyCK6lIO9 as tmp-tmp.9PyCK6lIO9\n:: [   INFO   ] :: Allowed server MACs: hmac-md5-96\n:: [   INFO   ] :: Allowed client MACs: hmac-md5-96\n:: [   INFO   ] :: Expected connection MAC: hmac-md5-96\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.FyZ5jIqpQf >/tmp/tmp.T7T80ZwX33' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.T7T80ZwX33' should contain 'debug2: mac_setup: found hmac-md5-96' \n:: [   INFO   ] :: Sending /tmp/tmp.T7T80ZwX33 as tmp-tmp.T7T80ZwX33\n:: [   INFO   ] :: Sending /tmp/tmp.FyZ5jIqpQf as tmp-tmp.FyZ5jIqpQf\n:: [   INFO   ] :: Allowed server MACs: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\n:: [   INFO   ] :: Allowed client MACs: hmac-md5-96\n:: [   INFO   ] :: Expected connection MAC: hmac-md5-96\n:: [   ERROR  ] :: rlServiceStart: Starting service sshd failed\n:: [   ERROR  ] :: Status of the failed service:\n:: [   LOG    ] ::   openssh-daemon is stopped\n:: [   FAIL   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.AkHlsctjwz >/tmp/tmp.9HhdKtY4RF' (Expected 0, got 1)\n:: [   PASS   ] :: File '/tmp/tmp.9HhdKtY4RF' should contain 'debug2: mac_setup: found hmac-md5-96' \n:: [   INFO   ] :: Sending /tmp/tmp.9HhdKtY4RF as tmp-tmp.9HhdKtY4RF\n:: [   INFO   ] :: Sending /tmp/tmp.AkHlsctjwz as tmp-tmp.AkHlsctjwz\n:: [   INFO   ] :: Allowed server MACs: hmac-md5-96\n:: [   INFO   ] :: Allowed client MACs: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\n:: [   INFO   ] :: Expected connection MAC: hmac-md5-96\n:: [   FAIL   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.8jlkKo6ysX >/tmp/tmp.5LgxRCEtKL' (Expected 0, got 1)\n:: [   FAIL   ] :: File '/tmp/tmp.5LgxRCEtKL' should contain 'debug2: mac_setup: found hmac-md5-96' \n:: [   INFO   ] :: Sending /tmp/tmp.5LgxRCEtKL as tmp-tmp.5LgxRCEtKL\n:: [   INFO   ] :: Sending /tmp/tmp.8jlkKo6ysX as tmp-tmp.8jlkKo6ysX\n:: [   INFO   ] :: Allowed server MACs: hmac-md5-96,hmac-md5\n:: [   INFO   ] :: Allowed client MACs: hmac-md5,hmac-md5-96\n:: [   INFO   ] :: Expected connection MAC: hmac-md5-96\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.J8VKimVqz4 >/tmp/tmp.ev0YK5GaHg' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.ev0YK5GaHg' should contain 'debug2: mac_setup: found hmac-md5-96' \n:: [   INFO   ] :: Sending /tmp/tmp.ev0YK5GaHg as tmp-tmp.ev0YK5GaHg\n:: [   INFO   ] :: Sending /tmp/tmp.J8VKimVqz4 as tmp-tmp.J8VKimVqz4\n:: [   INFO   ] :: Allowed server MACs: hmac-md5-96,hmac-md5\n:: [   INFO   ] :: Allowed client MACs: hmac-rot13\n:: [   INFO   ] :: Expected connection MAC: \n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0-255, got 0)\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh-fail.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.OmQJOnBvOc >/tmp/tmp.RHEkoarYmI' (Expected 1-2, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.RHEkoarYmI as tmp-tmp.RHEkoarYmI\n:: [   INFO   ] :: Sending /tmp/tmp.OmQJOnBvOc as tmp-tmp.OmQJOnBvOc\n:: [   LOG    ] :: Duration: 57s\n:: [   LOG    ] :: Assertions: 56 good, 34 bad\n:: [   FAIL   ] :: RESULT: Test\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Cleanup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'userdel -f -r bz974096' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'popd' (Expected 0, got 0)\n:: [   PASS   ] :: Removing tmp directory (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 1s\n:: [   LOG    ] :: Assertions: 3 good, 0 bad\n:: [   PASS   ] :: RESULT: Cleanup\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: /CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Phases: 2 good, 1 bad\n:: [   FAIL   ] :: RESULT: /CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: TEST PROTOCOL\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Test run ID   : 16529577\n:: [   LOG    ] :: Package       : openssh\n:: [   LOG    ] :: Installed:    : openssh-5.3p1-94.el6.x86_64 \n:: [   LOG    ] :: Test started  : 2013-10-17 12:47:21 EDT\n:: [   LOG    ] :: Test finished : 2013-10-17 12:48:28 EDT\n:: [   LOG    ] :: Test name     : /CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to\n:: [   LOG    ] :: Distro:       : Red Hat Enterprise Linux Server release 6.4 (Santiago)\n:: [   LOG    ] :: Hostname      : hp-bl460cg5-01.rhts.eng.bos.redhat.com\n:: [   LOG    ] :: Architecture  : x86_64\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test description\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\nPURPOSE of\n/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to\nDescription: Test for BZ#969565 ([RFE] Backport HMAC-SHA2 algorithm support to)\nAuthor: Lukas Novy <lnovy@redhat.com>\nBug summary: [RFE] Backport HMAC-SHA2 algorithm support to OpenSSH from upstream\nBugzilla link: https://bugzilla.redhat.com/show_bug.cgi?id=969565\n\n[RFE] Backport SHA2 HMAC algorithm support to OpenSSH from upstream\n\nPlease include the following algoritms for openssh:\nhmac-sha2-256, hmac-sha2-256-96, hmac-sha2-512, and hmac-sha2-512-96.\n\nThey would like to specify them in the MACS config line in sshd_config. \nExample:\nMACS hmac-sha2-256,hmac-sha2-256-96,hmac-sha2-512,hmac-sha2-512-96\n\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Setup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Checking for the presence of openssh rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   openssh-5.3p1-94.el6.x86_64\n:: [   PASS   ] :: Creating tmp directory (Expected 0, got 0)\n:: [   PASS   ] :: Running 'pushd /tmp/tmp.5WTfAS6duY' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'useradd bz974096' (Expected 0-255, got 0)\n:: [   PASS   ] :: Running 'echo bz974096 | passwd --stdin bz974096' (Expected 0, got 0)\n:: [   INFO   ] :: KEX MACs known: hmac-md5 hmac-sha1 umac-64@openssh.com hmac-sha2-256 hmac-sha2-512 hmac-ripemd160 hmac-ripemd160@openssh.com hmac-sha1-96 hmac-md5-96 hmac-rot13\n:: [   INFO   ] :: KEX MACs that need to work: hmac-md5 hmac-sha1 umac-64@openssh.com hmac-sha2-256 hmac-sha2-512 hmac-ripemd160 hmac-ripemd160@openssh.com hmac-sha1-96 hmac-md5-96\n:: [   INFO   ] :: KEX MACs must not work: hmac-rot13\n:: [   LOG    ] :: Duration: 2s\n:: [   LOG    ] :: Assertions: 5 good, 0 bad\n:: [   PASS   ] :: RESULT: Setup\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   INFO   ] :: Allowed server MACs: hmac-md5\n:: [   INFO   ] :: Allowed client MACs: hmac-md5\n:: [   INFO   ] :: Expected connection MAC: hmac-md5\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.my21tfdeVh >/tmp/tmp.BmtX0JrHdG' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.BmtX0JrHdG' should contain 'debug2: mac_setup: found hmac-md5' \n:: [   INFO   ] :: Sending /tmp/tmp.BmtX0JrHdG as tmp-tmp.BmtX0JrHdG\n:: [   INFO   ] :: Sending /tmp/tmp.my21tfdeVh as tmp-tmp.my21tfdeVh\n:: [   INFO   ] :: Allowed server MACs: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\n:: [   INFO   ] :: Allowed client MACs: hmac-md5\n:: [   INFO   ] :: Expected connection MAC: hmac-md5\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.VCTOf6BswE >/tmp/tmp.TsMSzbfdrU' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.TsMSzbfdrU' should contain 'debug2: mac_setup: found hmac-md5' \n:: [   INFO   ] :: Sending /tmp/tmp.TsMSzbfdrU as tmp-tmp.TsMSzbfdrU\n:: [   INFO   ] :: Sending /tmp/tmp.VCTOf6BswE as tmp-tmp.VCTOf6BswE\n:: [   INFO   ] :: Allowed server MACs: hmac-md5\n:: [   INFO   ] :: Allowed client MACs: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\n:: [   INFO   ] :: Expected connection MAC: hmac-md5\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.hvK2i9DG3S >/tmp/tmp.Yn9AzBYF98' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.Yn9AzBYF98' should contain 'debug2: mac_setup: found hmac-md5' \n:: [   INFO   ] :: Sending /tmp/tmp.Yn9AzBYF98 as tmp-tmp.Yn9AzBYF98\n:: [   INFO   ] :: Sending /tmp/tmp.hvK2i9DG3S as tmp-tmp.hvK2i9DG3S\n:: [   INFO   ] :: Allowed server MACs: hmac-md5,hmac-md5\n:: [   INFO   ] :: Allowed client MACs: hmac-md5,hmac-md5\n:: [   INFO   ] :: Expected connection MAC: hmac-md5\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.BURFNQ5hyD >/tmp/tmp.AI6Qs0IhOq' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.AI6Qs0IhOq' should contain 'debug2: mac_setup: found hmac-md5' \n:: [   INFO   ] :: Sending /tmp/tmp.AI6Qs0IhOq as tmp-tmp.AI6Qs0IhOq\n:: [   INFO   ] :: Sending /tmp/tmp.BURFNQ5hyD as tmp-tmp.BURFNQ5hyD\n:: [   INFO   ] :: Allowed server MACs: hmac-md5,hmac-md5\n:: [   INFO   ] :: Allowed client MACs: hmac-rot13\n:: [   INFO   ] :: Expected connection MAC: \n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0-255, got 0)\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh-fail.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.VKV7D80Vck >/tmp/tmp.yU5IV5r0Fd' (Expected 1-2, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.yU5IV5r0Fd as tmp-tmp.yU5IV5r0Fd\n:: [   INFO   ] :: Sending /tmp/tmp.VKV7D80Vck as tmp-tmp.VKV7D80Vck\n:: [   INFO   ] :: Allowed server MACs: hmac-sha1\n:: [   INFO   ] :: Allowed client MACs: hmac-sha1\n:: [   INFO   ] :: Expected connection MAC: hmac-sha1\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.unniN5uQ1k >/tmp/tmp.wcRjoXv6LB' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.wcRjoXv6LB' should contain 'debug2: mac_setup: found hmac-sha1' \n:: [   INFO   ] :: Sending /tmp/tmp.wcRjoXv6LB as tmp-tmp.wcRjoXv6LB\n:: [   INFO   ] :: Sending /tmp/tmp.unniN5uQ1k as tmp-tmp.unniN5uQ1k\n:: [   INFO   ] :: Allowed server MACs: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\n:: [   INFO   ] :: Allowed client MACs: hmac-sha1\n:: [   INFO   ] :: Expected connection MAC: hmac-sha1\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.rbZtNaOBJL >/tmp/tmp.o6aaWOhUpT' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.o6aaWOhUpT' should contain 'debug2: mac_setup: found hmac-sha1' \n:: [   INFO   ] :: Sending /tmp/tmp.o6aaWOhUpT as tmp-tmp.o6aaWOhUpT\n:: [   INFO   ] :: Sending /tmp/tmp.rbZtNaOBJL as tmp-tmp.rbZtNaOBJL\n:: [   INFO   ] :: Allowed server MACs: hmac-sha1\n:: [   INFO   ] :: Allowed client MACs: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\n:: [   INFO   ] :: Expected connection MAC: hmac-sha1\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.gRIYOYzK24 >/tmp/tmp.WBcvrlZecG' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.WBcvrlZecG' should contain 'debug2: mac_setup: found hmac-sha1' \n:: [   INFO   ] :: Sending /tmp/tmp.WBcvrlZecG as tmp-tmp.WBcvrlZecG\n:: [   INFO   ] :: Sending /tmp/tmp.gRIYOYzK24 as tmp-tmp.gRIYOYzK24\n:: [   INFO   ] :: Allowed server MACs: hmac-sha1,hmac-md5\n:: [   INFO   ] :: Allowed client MACs: hmac-md5,hmac-sha1\n:: [   INFO   ] :: Expected connection MAC: hmac-sha1\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.E9JWdRgAUQ >/tmp/tmp.2uvHCe2CE0' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.2uvHCe2CE0' should contain 'debug2: mac_setup: found hmac-sha1' \n:: [   INFO   ] :: Sending /tmp/tmp.2uvHCe2CE0 as tmp-tmp.2uvHCe2CE0\n:: [   INFO   ] :: Sending /tmp/tmp.E9JWdRgAUQ as tmp-tmp.E9JWdRgAUQ\n:: [   INFO   ] :: Allowed server MACs: hmac-sha1,hmac-md5\n:: [   INFO   ] :: Allowed client MACs: hmac-rot13\n:: [   INFO   ] :: Expected connection MAC: \n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0-255, got 0)\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh-fail.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.hDCbCCdi1t >/tmp/tmp.WcvILaZc27' (Expected 1-2, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.WcvILaZc27 as tmp-tmp.WcvILaZc27\n:: [   INFO   ] :: Sending /tmp/tmp.hDCbCCdi1t as tmp-tmp.hDCbCCdi1t\n:: [   INFO   ] :: Allowed server MACs: umac-64@openssh.com\n:: [   INFO   ] :: Allowed client MACs: umac-64@openssh.com\n:: [   INFO   ] :: Expected connection MAC: umac-64@openssh.com\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.3BQuqsXru5 >/tmp/tmp.KN5ADztFL3' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.KN5ADztFL3' should contain 'debug2: mac_setup: found umac-64@openssh.com' \n:: [   INFO   ] :: Sending /tmp/tmp.KN5ADztFL3 as tmp-tmp.KN5ADztFL3\n:: [   INFO   ] :: Sending /tmp/tmp.3BQuqsXru5 as tmp-tmp.3BQuqsXru5\n:: [   INFO   ] :: Allowed server MACs: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\n:: [   INFO   ] :: Allowed client MACs: umac-64@openssh.com\n:: [   INFO   ] :: Expected connection MAC: umac-64@openssh.com\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.9YCcALCZgE >/tmp/tmp.Vflk8NMyTa' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.Vflk8NMyTa' should contain 'debug2: mac_setup: found umac-64@openssh.com' \n:: [   INFO   ] :: Sending /tmp/tmp.Vflk8NMyTa as tmp-tmp.Vflk8NMyTa\n:: [   INFO   ] :: Sending /tmp/tmp.9YCcALCZgE as tmp-tmp.9YCcALCZgE\n:: [   INFO   ] :: Allowed server MACs: umac-64@openssh.com\n:: [   INFO   ] :: Allowed client MACs: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\n:: [   INFO   ] :: Expected connection MAC: umac-64@openssh.com\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.3hBN8rdMlt >/tmp/tmp.g21CjBBUTU' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.g21CjBBUTU' should contain 'debug2: mac_setup: found umac-64@openssh.com' \n:: [   INFO   ] :: Sending /tmp/tmp.g21CjBBUTU as tmp-tmp.g21CjBBUTU\n:: [   INFO   ] :: Sending /tmp/tmp.3hBN8rdMlt as tmp-tmp.3hBN8rdMlt\n:: [   INFO   ] :: Allowed server MACs: umac-64@openssh.com,hmac-md5\n:: [   INFO   ] :: Allowed client MACs: hmac-md5,umac-64@openssh.com\n:: [   INFO   ] :: Expected connection MAC: umac-64@openssh.com\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.stQA6imYm5 >/tmp/tmp.VdT3hdVBIh' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.VdT3hdVBIh' should contain 'debug2: mac_setup: found umac-64@openssh.com' \n:: [   INFO   ] :: Sending /tmp/tmp.VdT3hdVBIh as tmp-tmp.VdT3hdVBIh\n:: [   INFO   ] :: Sending /tmp/tmp.stQA6imYm5 as tmp-tmp.stQA6imYm5\n:: [   INFO   ] :: Allowed server MACs: umac-64@openssh.com,hmac-md5\n:: [   INFO   ] :: Allowed client MACs: hmac-rot13\n:: [   INFO   ] :: Expected connection MAC: \n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0-255, got 0)\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh-fail.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.FvZiJUwuWo >/tmp/tmp.X76fkqYyWR' (Expected 1-2, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.X76fkqYyWR as tmp-tmp.X76fkqYyWR\n:: [   INFO   ] :: Sending /tmp/tmp.FvZiJUwuWo as tmp-tmp.FvZiJUwuWo\n:: [   INFO   ] :: Allowed server MACs: hmac-sha2-256\n:: [   INFO   ] :: Allowed client MACs: hmac-sha2-256\n:: [   INFO   ] :: Expected connection MAC: hmac-sha2-256\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.IvmOP9n7hC >/tmp/tmp.lhz6e4zPv7' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.lhz6e4zPv7' should contain 'debug2: mac_setup: found hmac-sha2-256' \n:: [   INFO   ] :: Sending /tmp/tmp.lhz6e4zPv7 as tmp-tmp.lhz6e4zPv7\n:: [   INFO   ] :: Sending /tmp/tmp.IvmOP9n7hC as tmp-tmp.IvmOP9n7hC\n:: [   INFO   ] :: Allowed server MACs: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\n:: [   INFO   ] :: Allowed client MACs: hmac-sha2-256\n:: [   INFO   ] :: Expected connection MAC: hmac-sha2-256\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.ZTSv43ssh2 >/tmp/tmp.996GAxSq4a' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.996GAxSq4a' should contain 'debug2: mac_setup: found hmac-sha2-256' \n:: [   INFO   ] :: Sending /tmp/tmp.996GAxSq4a as tmp-tmp.996GAxSq4a\n:: [   INFO   ] :: Sending /tmp/tmp.ZTSv43ssh2 as tmp-tmp.ZTSv43ssh2\n:: [   INFO   ] :: Allowed server MACs: hmac-sha2-256\n:: [   INFO   ] :: Allowed client MACs: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\n:: [   INFO   ] :: Expected connection MAC: hmac-sha2-256\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.m8Lj7k0drQ >/tmp/tmp.RHJnSKtncn' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.RHJnSKtncn' should contain 'debug2: mac_setup: found hmac-sha2-256' \n:: [   INFO   ] :: Sending /tmp/tmp.RHJnSKtncn as tmp-tmp.RHJnSKtncn\n:: [   INFO   ] :: Sending /tmp/tmp.m8Lj7k0drQ as tmp-tmp.m8Lj7k0drQ\n:: [   INFO   ] :: Allowed server MACs: hmac-sha2-256,hmac-md5\n:: [   INFO   ] :: Allowed client MACs: hmac-md5,hmac-sha2-256\n:: [   INFO   ] :: Expected connection MAC: hmac-sha2-256\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.mvZ3fXJvay >/tmp/tmp.A5LSmQXwJh' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.A5LSmQXwJh' should contain 'debug2: mac_setup: found hmac-sha2-256' \n:: [   INFO   ] :: Sending /tmp/tmp.A5LSmQXwJh as tmp-tmp.A5LSmQXwJh\n:: [   INFO   ] :: Sending /tmp/tmp.mvZ3fXJvay as tmp-tmp.mvZ3fXJvay\n:: [   INFO   ] :: Allowed server MACs: hmac-sha2-256,hmac-md5\n:: [   INFO   ] :: Allowed client MACs: hmac-rot13\n:: [   INFO   ] :: Expected connection MAC: \n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0-255, got 0)\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh-fail.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.woqR6GrDE6 >/tmp/tmp.xWW7PRxOZD' (Expected 1-2, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.xWW7PRxOZD as tmp-tmp.xWW7PRxOZD\n:: [   INFO   ] :: Sending /tmp/tmp.woqR6GrDE6 as tmp-tmp.woqR6GrDE6\n:: [   INFO   ] :: Allowed server MACs: hmac-sha2-512\n:: [   INFO   ] :: Allowed client MACs: hmac-sha2-512\n:: [   INFO   ] :: Expected connection MAC: hmac-sha2-512\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.f1kDqlMgKu >/tmp/tmp.LOdFRCJgw3' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.LOdFRCJgw3' should contain 'debug2: mac_setup: found hmac-sha2-512' \n:: [   INFO   ] :: Sending /tmp/tmp.LOdFRCJgw3 as tmp-tmp.LOdFRCJgw3\n:: [   INFO   ] :: Sending /tmp/tmp.f1kDqlMgKu as tmp-tmp.f1kDqlMgKu\n:: [   INFO   ] :: Allowed server MACs: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\n:: [   INFO   ] :: Allowed client MACs: hmac-sha2-512\n:: [   INFO   ] :: Expected connection MAC: hmac-sha2-512\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.KwMfRtqYZD >/tmp/tmp.H5rOZIF5ZJ' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.H5rOZIF5ZJ' should contain 'debug2: mac_setup: found hmac-sha2-512' \n:: [   INFO   ] :: Sending /tmp/tmp.H5rOZIF5ZJ as tmp-tmp.H5rOZIF5ZJ\n:: [   INFO   ] :: Sending /tmp/tmp.KwMfRtqYZD as tmp-tmp.KwMfRtqYZD\n:: [   INFO   ] :: Allowed server MACs: hmac-sha2-512\n:: [   INFO   ] :: Allowed client MACs: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\n:: [   INFO   ] :: Expected connection MAC: hmac-sha2-512\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.NaIjc6mFwf >/tmp/tmp.7utW5eWaXQ' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.7utW5eWaXQ' should contain 'debug2: mac_setup: found hmac-sha2-512' \n:: [   INFO   ] :: Sending /tmp/tmp.7utW5eWaXQ as tmp-tmp.7utW5eWaXQ\n:: [   INFO   ] :: Sending /tmp/tmp.NaIjc6mFwf as tmp-tmp.NaIjc6mFwf\n:: [   INFO   ] :: Allowed server MACs: hmac-sha2-512,hmac-md5\n:: [   INFO   ] :: Allowed client MACs: hmac-md5,hmac-sha2-512\n:: [   INFO   ] :: Expected connection MAC: hmac-sha2-512\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.jLOhk9PDwC >/tmp/tmp.ak16xiywun' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.ak16xiywun' should contain 'debug2: mac_setup: found hmac-sha2-512' \n:: [   INFO   ] :: Sending /tmp/tmp.ak16xiywun as tmp-tmp.ak16xiywun\n:: [   INFO   ] :: Sending /tmp/tmp.jLOhk9PDwC as tmp-tmp.jLOhk9PDwC\n:: [   INFO   ] :: Allowed server MACs: hmac-sha2-512,hmac-md5\n:: [   INFO   ] :: Allowed client MACs: hmac-rot13\n:: [   INFO   ] :: Expected connection MAC: \n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0-255, got 0)\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh-fail.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.XtDODuD2uS >/tmp/tmp.JfoWAYcbH1' (Expected 1-2, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.JfoWAYcbH1 as tmp-tmp.JfoWAYcbH1\n:: [   INFO   ] :: Sending /tmp/tmp.XtDODuD2uS as tmp-tmp.XtDODuD2uS\n:: [   INFO   ] :: Allowed server MACs: hmac-ripemd160\n:: [   INFO   ] :: Allowed client MACs: hmac-ripemd160\n:: [   INFO   ] :: Expected connection MAC: hmac-ripemd160\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.QDydKNXB6I >/tmp/tmp.iJy4T9myGP' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.iJy4T9myGP' should contain 'debug2: mac_setup: found hmac-ripemd160' \n:: [   INFO   ] :: Sending /tmp/tmp.iJy4T9myGP as tmp-tmp.iJy4T9myGP\n:: [   INFO   ] :: Sending /tmp/tmp.QDydKNXB6I as tmp-tmp.QDydKNXB6I\n:: [   INFO   ] :: Allowed server MACs: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\n:: [   INFO   ] :: Allowed client MACs: hmac-ripemd160\n:: [   INFO   ] :: Expected connection MAC: hmac-ripemd160\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.Wxz7S99sy2 >/tmp/tmp.sROimo4MJF' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.sROimo4MJF' should contain 'debug2: mac_setup: found hmac-ripemd160' \n:: [   INFO   ] :: Sending /tmp/tmp.sROimo4MJF as tmp-tmp.sROimo4MJF\n:: [   INFO   ] :: Sending /tmp/tmp.Wxz7S99sy2 as tmp-tmp.Wxz7S99sy2\n:: [   INFO   ] :: Allowed server MACs: hmac-ripemd160\n:: [   INFO   ] :: Allowed client MACs: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\n:: [   INFO   ] :: Expected connection MAC: hmac-ripemd160\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.Uwnw2qQT9s >/tmp/tmp.Cw7GGxTsZG' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.Cw7GGxTsZG' should contain 'debug2: mac_setup: found hmac-ripemd160' \n:: [   INFO   ] :: Sending /tmp/tmp.Cw7GGxTsZG as tmp-tmp.Cw7GGxTsZG\n:: [   INFO   ] :: Sending /tmp/tmp.Uwnw2qQT9s as tmp-tmp.Uwnw2qQT9s\n:: [   INFO   ] :: Allowed server MACs: hmac-ripemd160,hmac-md5\n:: [   INFO   ] :: Allowed client MACs: hmac-md5,hmac-ripemd160\n:: [   INFO   ] :: Expected connection MAC: hmac-ripemd160\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.lWGyGJG0wt >/tmp/tmp.qAY4rYE0vN' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.qAY4rYE0vN' should contain 'debug2: mac_setup: found hmac-ripemd160' \n:: [   INFO   ] :: Sending /tmp/tmp.qAY4rYE0vN as tmp-tmp.qAY4rYE0vN\n:: [   INFO   ] :: Sending /tmp/tmp.lWGyGJG0wt as tmp-tmp.lWGyGJG0wt\n:: [   INFO   ] :: Allowed server MACs: hmac-ripemd160,hmac-md5\n:: [   INFO   ] :: Allowed client MACs: hmac-rot13\n:: [   INFO   ] :: Expected connection MAC: \n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0-255, got 0)\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh-fail.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.WQay5r9KJ3 >/tmp/tmp.ymeYBh48V8' (Expected 1-2, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.ymeYBh48V8 as tmp-tmp.ymeYBh48V8\n:: [   INFO   ] :: Sending /tmp/tmp.WQay5r9KJ3 as tmp-tmp.WQay5r9KJ3\n:: [   INFO   ] :: Allowed server MACs: hmac-ripemd160@openssh.com\n:: [   INFO   ] :: Allowed client MACs: hmac-ripemd160@openssh.com\n:: [   INFO   ] :: Expected connection MAC: hmac-ripemd160@openssh.com\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.CR2ODp1Lam >/tmp/tmp.q5tnA2Svmd' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.q5tnA2Svmd' should contain 'debug2: mac_setup: found hmac-ripemd160@openssh.com' \n:: [   INFO   ] :: Sending /tmp/tmp.q5tnA2Svmd as tmp-tmp.q5tnA2Svmd\n:: [   INFO   ] :: Sending /tmp/tmp.CR2ODp1Lam as tmp-tmp.CR2ODp1Lam\n:: [   INFO   ] :: Allowed server MACs: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\n:: [   INFO   ] :: Allowed client MACs: hmac-ripemd160@openssh.com\n:: [   INFO   ] :: Expected connection MAC: hmac-ripemd160@openssh.com\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.b9AIrI0Pr4 >/tmp/tmp.qhhp6TCmnP' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.qhhp6TCmnP' should contain 'debug2: mac_setup: found hmac-ripemd160@openssh.com' \n:: [   INFO   ] :: Sending /tmp/tmp.qhhp6TCmnP as tmp-tmp.qhhp6TCmnP\n:: [   INFO   ] :: Sending /tmp/tmp.b9AIrI0Pr4 as tmp-tmp.b9AIrI0Pr4\n:: [   INFO   ] :: Allowed server MACs: hmac-ripemd160@openssh.com\n:: [   INFO   ] :: Allowed client MACs: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\n:: [   INFO   ] :: Expected connection MAC: hmac-ripemd160@openssh.com\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.LNPXkXM7O3 >/tmp/tmp.rMElNIlPyf' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.rMElNIlPyf' should contain 'debug2: mac_setup: found hmac-ripemd160@openssh.com' \n:: [   INFO   ] :: Sending /tmp/tmp.rMElNIlPyf as tmp-tmp.rMElNIlPyf\n:: [   INFO   ] :: Sending /tmp/tmp.LNPXkXM7O3 as tmp-tmp.LNPXkXM7O3\n:: [   INFO   ] :: Allowed server MACs: hmac-ripemd160@openssh.com,hmac-md5\n:: [   INFO   ] :: Allowed client MACs: hmac-md5,hmac-ripemd160@openssh.com\n:: [   INFO   ] :: Expected connection MAC: hmac-ripemd160@openssh.com\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.TAdCV2YeHu >/tmp/tmp.f2nXwgc1MP' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.f2nXwgc1MP' should contain 'debug2: mac_setup: found hmac-ripemd160@openssh.com' \n:: [   INFO   ] :: Sending /tmp/tmp.f2nXwgc1MP as tmp-tmp.f2nXwgc1MP\n:: [   INFO   ] :: Sending /tmp/tmp.TAdCV2YeHu as tmp-tmp.TAdCV2YeHu\n:: [   INFO   ] :: Allowed server MACs: hmac-ripemd160@openssh.com,hmac-md5\n:: [   INFO   ] :: Allowed client MACs: hmac-rot13\n:: [   INFO   ] :: Expected connection MAC: \n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0-255, got 0)\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh-fail.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.5SLX5cflEA >/tmp/tmp.fH53frcexq' (Expected 1-2, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.fH53frcexq as tmp-tmp.fH53frcexq\n:: [   INFO   ] :: Sending /tmp/tmp.5SLX5cflEA as tmp-tmp.5SLX5cflEA\n:: [   INFO   ] :: Allowed server MACs: hmac-sha1-96\n:: [   INFO   ] :: Allowed client MACs: hmac-sha1-96\n:: [   INFO   ] :: Expected connection MAC: hmac-sha1-96\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.mdB8mOl5nh >/tmp/tmp.vcq34ZIZBs' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.vcq34ZIZBs' should contain 'debug2: mac_setup: found hmac-sha1-96' \n:: [   INFO   ] :: Sending /tmp/tmp.vcq34ZIZBs as tmp-tmp.vcq34ZIZBs\n:: [   INFO   ] :: Sending /tmp/tmp.mdB8mOl5nh as tmp-tmp.mdB8mOl5nh\n:: [   INFO   ] :: Allowed server MACs: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\n:: [   INFO   ] :: Allowed client MACs: hmac-sha1-96\n:: [   INFO   ] :: Expected connection MAC: hmac-sha1-96\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.EOcezQVRum >/tmp/tmp.uDPVZvrDWZ' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.uDPVZvrDWZ' should contain 'debug2: mac_setup: found hmac-sha1-96' \n:: [   INFO   ] :: Sending /tmp/tmp.uDPVZvrDWZ as tmp-tmp.uDPVZvrDWZ\n:: [   INFO   ] :: Sending /tmp/tmp.EOcezQVRum as tmp-tmp.EOcezQVRum\n:: [   INFO   ] :: Allowed server MACs: hmac-sha1-96\n:: [   INFO   ] :: Allowed client MACs: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\n:: [   INFO   ] :: Expected connection MAC: hmac-sha1-96\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.hLypJxYZSQ >/tmp/tmp.0bjG38lUeQ' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.0bjG38lUeQ' should contain 'debug2: mac_setup: found hmac-sha1-96' \n:: [   INFO   ] :: Sending /tmp/tmp.0bjG38lUeQ as tmp-tmp.0bjG38lUeQ\n:: [   INFO   ] :: Sending /tmp/tmp.hLypJxYZSQ as tmp-tmp.hLypJxYZSQ\n:: [   INFO   ] :: Allowed server MACs: hmac-sha1-96,hmac-md5\n:: [   INFO   ] :: Allowed client MACs: hmac-md5,hmac-sha1-96\n:: [   INFO   ] :: Expected connection MAC: hmac-sha1-96\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.MRj5DCERHm >/tmp/tmp.TIu419Kd4v' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.TIu419Kd4v' should contain 'debug2: mac_setup: found hmac-sha1-96' \n:: [   INFO   ] :: Sending /tmp/tmp.TIu419Kd4v as tmp-tmp.TIu419Kd4v\n:: [   INFO   ] :: Sending /tmp/tmp.MRj5DCERHm as tmp-tmp.MRj5DCERHm\n:: [   INFO   ] :: Allowed server MACs: hmac-sha1-96,hmac-md5\n:: [   INFO   ] :: Allowed client MACs: hmac-rot13\n:: [   INFO   ] :: Expected connection MAC: \n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0-255, got 0)\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh-fail.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.bUSAZCGHiy >/tmp/tmp.iqEGGDTiJZ' (Expected 1-2, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.iqEGGDTiJZ as tmp-tmp.iqEGGDTiJZ\n:: [   INFO   ] :: Sending /tmp/tmp.bUSAZCGHiy as tmp-tmp.bUSAZCGHiy\n:: [   INFO   ] :: Allowed server MACs: hmac-md5-96\n:: [   INFO   ] :: Allowed client MACs: hmac-md5-96\n:: [   INFO   ] :: Expected connection MAC: hmac-md5-96\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.cqCc1ILpx3 >/tmp/tmp.iFDMU0z2BP' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.iFDMU0z2BP' should contain 'debug2: mac_setup: found hmac-md5-96' \n:: [   INFO   ] :: Sending /tmp/tmp.iFDMU0z2BP as tmp-tmp.iFDMU0z2BP\n:: [   INFO   ] :: Sending /tmp/tmp.cqCc1ILpx3 as tmp-tmp.cqCc1ILpx3\n:: [   INFO   ] :: Allowed server MACs: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\n:: [   INFO   ] :: Allowed client MACs: hmac-md5-96\n:: [   INFO   ] :: Expected connection MAC: hmac-md5-96\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.bavWGAiDoy >/tmp/tmp.TPdVTc333d' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.TPdVTc333d' should contain 'debug2: mac_setup: found hmac-md5-96' \n:: [   INFO   ] :: Sending /tmp/tmp.TPdVTc333d as tmp-tmp.TPdVTc333d\n:: [   INFO   ] :: Sending /tmp/tmp.bavWGAiDoy as tmp-tmp.bavWGAiDoy\n:: [   INFO   ] :: Allowed server MACs: hmac-md5-96\n:: [   INFO   ] :: Allowed client MACs: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\n:: [   INFO   ] :: Expected connection MAC: hmac-md5-96\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.sTbBidx5SC >/tmp/tmp.LTEmJvBqtw' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.LTEmJvBqtw' should contain 'debug2: mac_setup: found hmac-md5-96' \n:: [   INFO   ] :: Sending /tmp/tmp.LTEmJvBqtw as tmp-tmp.LTEmJvBqtw\n:: [   INFO   ] :: Sending /tmp/tmp.sTbBidx5SC as tmp-tmp.sTbBidx5SC\n:: [   INFO   ] :: Allowed server MACs: hmac-md5-96,hmac-md5\n:: [   INFO   ] :: Allowed client MACs: hmac-md5,hmac-md5-96\n:: [   INFO   ] :: Expected connection MAC: hmac-md5-96\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.ejZgrwSoXt >/tmp/tmp.24mb1p1rtL' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.24mb1p1rtL' should contain 'debug2: mac_setup: found hmac-md5-96' \n:: [   INFO   ] :: Sending /tmp/tmp.24mb1p1rtL as tmp-tmp.24mb1p1rtL\n:: [   INFO   ] :: Sending /tmp/tmp.ejZgrwSoXt as tmp-tmp.ejZgrwSoXt\n:: [   INFO   ] :: Allowed server MACs: hmac-md5-96,hmac-md5\n:: [   INFO   ] :: Allowed client MACs: hmac-rot13\n:: [   INFO   ] :: Expected connection MAC: \n:: [   PASS   ] :: Running 'service sshd restart' (Expected 0-255, got 0)\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to/ssh-fail.exp bz974096 127.0.0.1 bz974096 2>/tmp/tmp.aeIB1xPeHK >/tmp/tmp.pTpc09tiT5' (Expected 1-2, got 1)\n:: [   INFO   ] :: Sending /tmp/tmp.pTpc09tiT5 as tmp-tmp.pTpc09tiT5\n:: [   INFO   ] :: Sending /tmp/tmp.aeIB1xPeHK as tmp-tmp.aeIB1xPeHK\n:: [   LOG    ] :: Duration: 1m 1s\n:: [   LOG    ] :: Assertions: 90 good, 0 bad\n:: [   PASS   ] :: RESULT: Test\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Cleanup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'userdel -f -r bz974096' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'popd' (Expected 0, got 0)\n:: [   PASS   ] :: Removing tmp directory (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 1s\n:: [   LOG    ] :: Assertions: 3 good, 0 bad\n:: [   PASS   ] :: RESULT: Cleanup\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: /CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Phases: 3 good, 0 bad\n:: [   PASS   ] :: RESULT: /CoreOS/openssh/Sanity/bz969565-RFE-Backport-HMAC-SHA2-algorithm-support-to",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20131018T07:27:45",
          "bug_id": "969565",
          "creator_id": "241731",
          "time": "20131018T07:27:45",
          "id": "6433434",
          "is_private": "True"
        },
        {
          "count": "31",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHSA-2013-1591.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20131121T09:46:08",
          "bug_id": "969565",
          "creator_id": "241731",
          "time": "20131121T09:46:08",
          "id": "6542268",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.5"
      ],
      "cc": [
        "ebenes@redhat.com",
        "ksrot@redhat.com",
        "lnovy@redhat.com",
        "pvrabec@redhat.com",
        "tbowling@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "837419",
        "968473"
      ],
      "qa_contact": "lnovy@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Enhancement",
      "cf_clone_of": "0",
      "groups": [
        "redhat"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "[RFE] Backport HMAC-SHA2 algorithm support to OpenSSH from upstream",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20130909T15:35:13",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20130710T13:06:13",
          "id": "1413032",
          "setter": "lnovy@redhat.com"
        },
        {
          "status": "?",
          "name": "requires_doc_text",
          "modification_date": "20131025T11:35:10",
          "type_id": "415",
          "is_active": "1",
          "creation_date": "20131025T11:35:10",
          "id": "1563653",
          "setter": "plautrba@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.5.0",
          "modification_date": "20130710T13:11:38",
          "type_id": "361",
          "is_active": "0",
          "creation_date": "20130531T19:39:39",
          "id": "1362505",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20130531T20:01:08",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20130531T19:39:39",
          "id": "1362506",
          "setter": "snagar@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20130619T11:26:09",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20130531T19:39:39",
          "id": "1362507",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20130710T13:04:53",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20130531T19:39:39",
          "id": "1362508",
          "setter": "ksrot@redhat.com"
        }
      ],
      "last_change_time": "20140218T23:56:52",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509329--CKqnL4GS9Ixu4_dYcOacIv8VfEN-mHCMn1pa8e-yE8",
      "cf_partner": [],
      "cf_last_closed": "20131121T09:46:08",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "600",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20130613T12:15:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "None",
          "ext_bz_bug_id": "308667",
          "bug_id": "974096",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "69",
          "type": {
            "must_send": "False",
            "description": "TCMS Test Case",
            "url": "https://tcms.engineering.redhat.com",
            "can_get": "False",
            "id": "69",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          },
          "id": "121549"
        }
      ],
      "id": "974096",
      "cf_release_notes": "If the /tmp directory of the target user was polyinstantiated, no credentials \r\ncache was found on the remote machine. \r\nFix:\r\nThe cache is now recreated in a new /tmp after pam session is initiated.",
      "priority": "high",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "jpazdziora@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "jpazdziora@redhat.com",
          "text": "Description of problem:\n\nIf the /tmp directory of the target user is polyinstantiated, even if\n\n  klist -f\n\nreports the ticket is forwardable and\n\n  GSSAPIDelegateCredentials yes\n  GSSAPIAuthentication yes\n\nis enabled and ssh -v will report\n\n  debug1: Authentication succeeded (gssapi-with-mic).\n\nrunning klist on the remote machine will say\n\n  klist: No credentials cache found (ticket cache FILE:/tmp/krb5cc_501_nPsAJ11386)\n\nThe issue was first observed when setting up OpenShift Enterprise with IPA.\n\nVersion-Release number of selected component (if applicable):\n\nopenssh-server-5.3p1-84.1.el6.x86_64\n\nHow reproducible:\n\nDeterministic.\n\nSteps to Reproduce:\n1. Have remote system with pam_namespace configured to polyinstantiate /tmp.\n2. Have the system accept GSSAPI authentication -- the easiest way is to ipa-client-install both the remote and local system to some IPA server.\n3. kinit and verify that you have forwardable ticket.\n4. ssh to the remote system as a user for whom /tmp gets polyinstantiated (typically not root).\n5. Run klist to see your ticket forwarded.\n\nActual results:\n\nklist: No credentials cache found (ticket cache FILE:/tmp/krb5cc_501_nPsAJ11386)\n\nExpected results:\n\nTicket cache: FILE:/tmp/krb5cc_501_ojsOB12112\nDefault principal: 51b6e6e0cd9a28d6fb000006@TESTRELM.COM\n\nValid starting     Expires            Service principal\n06/13/13 07:54:16  06/14/13 07:52:15  krbtgt/TESTRELM.COM@TESTRELM.COM\n\nAdditional info:\n\nIf you check the /tmp/krb5cc_501_nPsAJ11386 in your remote user's session, it won't exist. If you check it in remote root's session, it will actually exist.\n\nThe problem seems to stem from the fact that the Kerberos cache file gets created before the /tmp gets polyinstantiated, so in user's bash, it cannot be accessed.\n\nThis bugzilla limits the possibility of OpenShift Enterprise and Identity Management integration.",
          "author": "jpazdziora@redhat.com",
          "creation_time": "20130613T12:15:59",
          "bug_id": "974096",
          "creator_id": "62946",
          "time": "20130613T12:15:59",
          "id": "6007981",
          "is_private": "False"
        },
        {
          "count": "1",
          "attachment_id": "760670",
          "author": "plautrba@redhat.com",
          "text": "Created attachment 760670\nfixed openssh-5.3p1-gsskex.patch\n\nIt's possible to store krb5 credentials after a pam session is created. This patch changes the order. Instead of ssh_gssapi_storecreds(); ssh_selinux_setup_exec_context(); do_pam_session() it has moved ssh_gssapi_storecreds(); to the end of chain.",
          "creator": "plautrba@redhat.com",
          "creation_time": "20130613T13:00:11",
          "bug_id": "974096",
          "creator_id": "270148",
          "time": "20130613T13:00:11",
          "id": "6008158",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "mvadkert@redhat.com",
          "text": "QA_ACK+ for RHEL6.5. The repro steps are clear, openssh is an approved component. Giving qe_test_coverage+. Please create an beaker test for the issue. For questions contact mvadkert.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20130617T10:26:57",
          "bug_id": "974096",
          "creator_id": "271572",
          "time": "20130617T10:26:57",
          "id": "6016487",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "jeast@redhat.com",
          "text": "Marking with docs_scoped- as this bug should not affect any of the following guides for RHEL 6.5:\n* Developer's Guide\n* Storage Admin Guide\n* SystemTap Tapset Reference\n* SystemTap Beginner's Guide",
          "author": "jeast@redhat.com",
          "creation_time": "20130621T01:21:13",
          "bug_id": "974096",
          "creator_id": "303984",
          "time": "20130621T01:21:13",
          "id": "6031025",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "lbailey@redhat.com",
          "text": "Marking with docs_scoped- as this bug should not affect any of the following guides for RHEL 6.5:\n* Performance Tuning Guide\n* Migration Planning Guide",
          "author": "lbailey@redhat.com",
          "creation_time": "20130621T03:02:08",
          "bug_id": "974096",
          "creator_id": "278466",
          "time": "20130621T03:02:08",
          "id": "6031321",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "lnovich@redhat.com",
          "text": "Marking with docs_scoped - as this issue will not be documented in the Vritualization Administration Guide for RHEL 6.5.",
          "author": "lnovich@redhat.com",
          "creation_time": "20130622T19:49:58",
          "bug_id": "974096",
          "creator_id": "324069",
          "time": "20130622T19:49:58",
          "id": "6034864",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "mvadkert@redhat.com",
          "text": "Filling bug specs, no test case available, the testet should create an automatized test case for this bug.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20130624T10:20:19",
          "bug_id": "974096",
          "creator_id": "271572",
          "time": "20130624T10:20:19",
          "id": "6037222",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "mvadkert@redhat.com",
          "text": "Putting gradeB as the test should be reproducible also with 2 users on localhost. No multihost test should be needed.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20130624T10:27:30",
          "bug_id": "974096",
          "creator_id": "271572",
          "time": "20130624T10:27:30",
          "id": "6037258",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "trichard@redhat.com",
          "text": "Marking with docs_scoped- as this bug should not affect the following guides for RHEL 6.5:\n * V2V Guide\n * Virtualization Getting Started Guide\n * Virtualization Host Configuration and Guest Installation Guide",
          "author": "trichard@redhat.com",
          "creation_time": "20130626T00:36:20",
          "bug_id": "974096",
          "creator_id": "344053",
          "time": "20130626T00:36:20",
          "id": "6043413",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2013:15245-01\nhttp://errata.devel.redhat.com/errata/show/15245",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20130712T10:38:13",
          "bug_id": "974096",
          "creator_id": "241731",
          "time": "20130712T10:38:13",
          "id": "6103792",
          "is_private": "True"
        },
        {
          "count": "10",
          "creator": "plautrba@redhat.com",
          "text": "The current solution seems to break some pam configurations which need kerberos credentials to be stored before pam sesssion is started, see #987792. So it will need further investigation.",
          "author": "plautrba@redhat.com",
          "creation_time": "20130730T10:52:43",
          "bug_id": "974096",
          "creator_id": "270148",
          "time": "20130730T10:52:43",
          "id": "6153924",
          "is_private": "True"
        },
        {
          "count": "11",
          "creator": "jpazdziora@redhat.com",
          "text": "QE, please make sure the beaker tests catch the situation described in bug 987792.",
          "author": "jpazdziora@redhat.com",
          "creation_time": "20130730T10:54:54",
          "bug_id": "974096",
          "creator_id": "62946",
          "time": "20130730T10:54:54",
          "id": "6153936",
          "is_private": "True"
        },
        {
          "count": "12",
          "creator": "plautrba@redhat.com",
          "text": "There's a possible workaround using pam_exec which could be set to wrap up pam_namespace in the pam configuration. A script could copy the cache out of /tmp before pam_namespace is run, and copy back the cache after pam namespace set a new /tmp. Something similar to:\n\nsnip pam config:\n\nsession     optional      pam_exec.so /etc/security/namespace.d/kerberos\nsession     required      pam_namespace.so\nsession     optional      pam_exec.so /etc/security/namespace.d/kerberos 1\n\n\n# cat /etc/security/namespace.d/kerberos\n#!/bin/bash\n\nif [ -z ''$KRB5CCNAME'' ]; then\n        exit 0\nfi\n\nCCNAME=${KRB5CCNAME#FILE:}\n\nif [ ${CCNAME#/tmp} == ${CCNAME} ]; then\n        exit 0\nfi\n\nif [ $# -eq 0 ]; then\n        tar cvf /var/tmp/krbcc/${CCNAME//\\//-}.tar $CCNAME\n        rm -rf ${CCNAME}\n        exit 0\nfi\n\nif [ $# -eq 1 ]; then\n        tar -C / -x -v -p -f /var/tmp/krbcc/${CCNAME//\\//-}.tar\n        rm /var/tmp/krbcc/${CCNAME//\\//-}.tar\n        exit 0\nfi",
          "author": "plautrba@redhat.com",
          "creation_time": "20130731T15:22:31",
          "bug_id": "974096",
          "creator_id": "270148",
          "time": "20130731T15:22:31",
          "id": "6158997",
          "is_private": "False"
        },
        {
          "count": "13",
          "creator": "plautrba@redhat.com",
          "text": "An update pushed with a fix based on https://bugzilla.redhat.com/show_bug.cgi?id=987792#c6 suggestion",
          "author": "plautrba@redhat.com",
          "creation_time": "20130814T14:35:06",
          "bug_id": "974096",
          "creator_id": "270148",
          "time": "20130814T14:35:06",
          "id": "6211679",
          "is_private": "False"
        },
        {
          "count": "14",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from MODIFIED to ON_QA status by the Errata System: \nAdvisory RHBA-2013:15245-01: \nhttp://errata.devel.redhat.com/advisory/15245",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20130814T15:00:23",
          "bug_id": "974096",
          "creator_id": "241731",
          "time": "20130814T15:00:23",
          "id": "6211802",
          "is_private": "True"
        },
        {
          "count": "15",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2013:15245-01: \nChanged by: Lukas Novy (lnovy@redhat.com)\nhttp://errata.devel.redhat.com/advisory/15245\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: TEST PROTOCOL\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Package       : openssh\n:: [   LOG    ] :: Installed:    : openssh-5.3p1-84.1.el6.s390x \n:: [   LOG    ] :: Test started  : 2013-10-04 09:03:44 EDT\n:: [   LOG    ] :: Test finished : 2013-10-04 09:04:16 EDT\n:: [   LOG    ] :: Test name     : /CoreOS/openssh/Regression/bz974096-Kerberos-ticket-forwarding-does-not-work-if-tmp\n:: [   LOG    ] :: Distro:       : Red Hat Enterprise Linux Server release 6.4 (Santiago)\n:: [   LOG    ] :: Hostname      : ibm-z10-15.rhts.eng.bos.redhat.com\n:: [   LOG    ] :: Architecture  : s390x\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test description\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\nPURPOSE of\n/CoreOS/openssh/Regression/bz974096-Kerberos-ticket-forwarding-does-not-work-if-tmp\nDescription: Test for BZ#974096 (Kerberos ticket forwarding does not work if\n/tmp)\nAuthor: Lukas Novy <lnovy@redhat.com>\nBug summary: Kerberos ticket forwarding does not work if /tmp is\npolyinstantiated\nBugzilla link: https://bugzilla.redhat.com/show_bug.cgi?id=974096\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Setup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Creating tmp directory (Expected 0, got 0)\n:: [   PASS   ] :: Running 'pushd /tmp/tmp.2dxbfrljs9' (Expected 0, got 0)\n:: [   PASS   ] :: Checking for the presence of openssh rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   openssh-5.3p1-84.1.el6.s390x\n:: [   PASS   ] :: Running 'echo 'session     required      pam_namespace.so' >> /etc/pam.d/sshd' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'sed -i 's/^.*GSSAPIAuthentication.*/GSSAPIAuthentication yes/g' /etc/ssh/sshd_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'sed -i 's/^.*GSSAPICleanupCredentials.*/GSSAPICleanupCredentials yes/g' /etc/ssh/sshd_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'echo '/tmp /tmp/tmp-inst/ level root,adm' >> /etc/security/namespace.conf' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'mkdir /tmp/tmp-inst' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'chmod 0000 /tmp/tmp-inst' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'setsebool allow_polyinstantiation 1' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rm -rf /etc/krb5.*' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rm -rf /var/kerberos/krb5kdc/*' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cp /root/bz974096-Kerberos-ticket-forwarding-does-not-work-if-tmp/krb5.conf /etc' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'sed -i 's/kerberos.example.com/ibm-z10-15.rhts.eng.bos.redhat.com/g' /etc/krb5.conf' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cp /root/bz974096-Kerberos-ticket-forwarding-does-not-work-if-tmp/kadm5.acl /root/bz974096-Kerberos-ticket-forwarding-does-not-work-if-tmp/kdc.conf /var/kerberos/krb5kdc' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'restorecon -RvvF /etc/krb5.* /var/kerberos/krb5kdc' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'kdb5_util create -s -P bz974096' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'kadmin.local -q ''addprinc -randkey host/ibm-z10-15.rhts.eng.bos.redhat.com''' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'kadmin.local -q ''addprinc -pw bz974096 bz974096''' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'kadmin.local -q ''ktadd host/ibm-z10-15.rhts.eng.bos.redhat.com''' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'useradd bz974096' (Expected 0-255, got 0)\n:: [   PASS   ] :: Running 'echo bz974096 | passwd --stdin bz974096' (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 20s\n:: [   LOG    ] :: Assertions: 22 good, 0 bad\n:: [   PASS   ] :: RESULT: Setup\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'echo bz974096 | kinit -f bz974096' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'klist -f' (Expected 0, got 0)\n:: [   PASS   ] :: Running '/root/bz974096-Kerberos-ticket-forwarding-does-not-work-if-tmp/ssh.exp bz974096 ibm-z10-15.rhts.eng.bos.redhat.com > ssh.log 2>&1' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cat ssh.log' (Expected 0, got 0)\n:: [   FAIL   ] :: File 'ssh.log' should not contain 'klist: No credentials cache found' \n:: [   PASS   ] :: File 'ssh.log' should not contain 'tmp-inst' \n:: [   FAIL   ] :: File 'ssh.log' should contain 'Ticket cache' \n:: [   LOG    ] :: Duration: 7s\n:: [   LOG    ] :: Assertions: 5 good, 2 bad\n:: [   FAIL   ] :: RESULT: Test\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Cleanup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'userdel -f -r bz974096' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'setsebool allow_polyinstantiation 0' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rm -rf /tmp/tmp-inst' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'popd' (Expected 0, got 0)\n:: [   PASS   ] :: Removing tmp directory (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 4s\n:: [   LOG    ] :: Assertions: 5 good, 0 bad\n:: [   PASS   ] :: RESULT: Cleanup\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: /CoreOS/openssh/Regression/bz974096-Kerberos-ticket-forwarding-does-not-work-if-tmp\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Phases: 2 good, 1 bad\n:: [   FAIL   ] :: RESULT: /CoreOS/openssh/Regression/bz974096-Kerberos-ticket-forwarding-does-not-work-if-tmp\n\n\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: TEST PROTOCOL\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Package       : openssh\n:: [   LOG    ] :: Installed:    : openssh-5.3p1-94.el6.s390x \n:: [   LOG    ] :: Test started  : 2013-10-04 08:56:19 EDT\n:: [   LOG    ] :: Test finished : 2013-10-04 08:56:37 EDT\n:: [   LOG    ] :: Test name     : /CoreOS/openssh/Regression/bz974096-Kerberos-ticket-forwarding-does-not-work-if-tmp\n:: [   LOG    ] :: Distro:       : Red Hat Enterprise Linux Server release 6.4 (Santiago)\n:: [   LOG    ] :: Hostname      : ibm-z10-15.rhts.eng.bos.redhat.com\n:: [   LOG    ] :: Architecture  : s390x\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test description\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\nPURPOSE of\n/CoreOS/openssh/Regression/bz974096-Kerberos-ticket-forwarding-does-not-work-if-tmp\nDescription: Test for BZ#974096 (Kerberos ticket forwarding does not work if\n/tmp)\nAuthor: Lukas Novy <lnovy@redhat.com>\nBug summary: Kerberos ticket forwarding does not work if /tmp is\npolyinstantiated\nBugzilla link: https://bugzilla.redhat.com/show_bug.cgi?id=974096\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Setup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Creating tmp directory (Expected 0, got 0)\n:: [   PASS   ] :: Running 'pushd /tmp/tmp.iSovgvtK7o' (Expected 0, got 0)\n:: [   PASS   ] :: Checking for the presence of openssh rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   openssh-5.3p1-94.el6.s390x\n:: [   PASS   ] :: Running 'echo 'session     required      pam_namespace.so' >> /etc/pam.d/sshd' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'sed -i 's/^.*GSSAPIAuthentication.*/GSSAPIAuthentication yes/g' /etc/ssh/sshd_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'sed -i 's/^.*GSSAPICleanupCredentials.*/GSSAPICleanupCredentials yes/g' /etc/ssh/sshd_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'echo '/tmp /tmp/tmp-inst/ level root,adm' >> /etc/security/namespace.conf' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'mkdir /tmp/tmp-inst' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'chmod 0000 /tmp/tmp-inst' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'setsebool allow_polyinstantiation 1' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rm -rf /etc/krb5.*' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rm -rf /var/kerberos/krb5kdc/*' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cp /root/bz974096-Kerberos-ticket-forwarding-does-not-work-if-tmp/krb5.conf /etc' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'sed -i 's/kerberos.example.com/ibm-z10-15.rhts.eng.bos.redhat.com/g' /etc/krb5.conf' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cp /root/bz974096-Kerberos-ticket-forwarding-does-not-work-if-tmp/kadm5.acl /root/bz974096-Kerberos-ticket-forwarding-does-not-work-if-tmp/kdc.conf /var/kerberos/krb5kdc' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'restorecon -RvvF /etc/krb5.* /var/kerberos/krb5kdc' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'kdb5_util create -s -P bz974096' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'kadmin.local -q ''addprinc -randkey host/ibm-z10-15.rhts.eng.bos.redhat.com''' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'kadmin.local -q ''addprinc -pw bz974096 bz974096''' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'kadmin.local -q ''ktadd host/ibm-z10-15.rhts.eng.bos.redhat.com''' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'useradd bz974096' (Expected 0-255, got 0)\n:: [   PASS   ] :: Running 'echo bz974096 | passwd --stdin bz974096' (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 11s\n:: [   LOG    ] :: Assertions: 22 good, 0 bad\n:: [   PASS   ] :: RESULT: Setup\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'echo bz974096 | kinit -f bz974096' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'klist -f' (Expected 0, got 0)\n:: [   PASS   ] :: Running '/root/bz974096-Kerberos-ticket-forwarding-does-not-work-if-tmp/ssh.exp bz974096 ibm-z10-15.rhts.eng.bos.redhat.com > ssh.log 2>&1' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cat ssh.log' (Expected 0, got 0)\n:: [   PASS   ] :: File 'ssh.log' should not contain 'klist: No credentials cache found' \n:: [   PASS   ] :: File 'ssh.log' should not contain 'tmp-inst' \n:: [   PASS   ] :: File 'ssh.log' should contain 'Ticket cache' \n:: [   LOG    ] :: Duration: 3s\n:: [   LOG    ] :: Assertions: 7 good, 0 bad\n:: [   PASS   ] :: RESULT: Test\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Cleanup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'userdel -f -r bz974096' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'setsebool allow_polyinstantiation 0' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'rm -rf /tmp/tmp-inst' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'popd' (Expected 0, got 0)\n:: [   PASS   ] :: Removing tmp directory (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 2s\n:: [   LOG    ] :: Assertions: 5 good, 0 bad\n:: [   PASS   ] :: RESULT: Cleanup\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: /CoreOS/openssh/Regression/bz974096-Kerberos-ticket-forwarding-does-not-work-if-tmp\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Phases: 3 good, 0 bad\n:: [   PASS   ] :: RESULT: /CoreOS/openssh/Regression/bz974096-Kerberos-ticket-forwarding-does-not-work-if-tmp",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20131004T13:02:18",
          "bug_id": "974096",
          "creator_id": "241731",
          "time": "20131004T13:02:18",
          "id": "6378427",
          "is_private": "True"
        },
        {
          "count": "16",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHSA-2013-1591.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20131121T09:46:31",
          "bug_id": "974096",
          "creator_id": "241731",
          "time": "20131121T09:46:31",
          "id": "6542272",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.4"
      ],
      "cc": [
        "ebenes@redhat.com",
        "ksrot@redhat.com",
        "lnovich@redhat.com",
        "lnovy@redhat.com",
        "mvadkert@redhat.com",
        "pvrabec@redhat.com"
      ],
      "cf_verified": [
        "FailedQA"
      ],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "lnovy@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "Kerberos ticket forwarding does not work if /tmp is polyinstantiated",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20130617T10:26:57",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20130617T10:26:57",
          "id": "1381677",
          "setter": "mvadkert@redhat.com"
        },
        {
          "status": "?",
          "name": "requires_doc_text",
          "modification_date": "20131025T13:52:34",
          "type_id": "415",
          "is_active": "1",
          "creation_date": "20131025T13:52:34",
          "id": "1563803",
          "setter": "plautrba@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.5.0",
          "modification_date": "20130617T10:30:23",
          "type_id": "361",
          "is_active": "0",
          "creation_date": "20130613T12:15:59",
          "id": "1378779",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20130613T12:18:49",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20130613T12:15:59",
          "id": "1378781",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20130613T13:05:39",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20130613T12:15:59",
          "id": "1378782",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20130617T10:26:57",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20130613T12:15:59",
          "id": "1378783",
          "setter": "mvadkert@redhat.com"
        }
      ],
      "last_change_time": "20140218T23:56:52",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509329-OI-vvPzFGglhz9OawXGbtNElygiRmyZeJ3jcWw1HO6A",
      "cf_partner": [],
      "cf_last_closed": "20131121T09:46:31",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20130820T07:58:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "None",
          "ext_bz_bug_id": "306681",
          "bug_id": "998835",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "69",
          "type": {
            "must_send": "False",
            "description": "TCMS Test Case",
            "url": "https://tcms.engineering.redhat.com",
            "can_get": "False",
            "id": "69",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          },
          "id": "121579"
        }
      ],
      "id": "998835",
      "cf_release_notes": "",
      "priority": "high",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-89.el6",
      "creator": "honli@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "honli@redhat.com",
          "text": "Description of problem:\n\nDISTRO=RHEL6.5-20130814.2\n\n[root@rdma-qe-01 network-scripts]# ssh rdma-qe-02\nFIPS mode initialized\nSegmentation fault (core dumped)\n[root@rdma-qe-01 network-scripts]# ssh rdma-qe-02\nFIPS mode initialized\nSegmentation fault (core dumped)\n[root@rdma-qe-01 network-scripts]# dmesg \nssh[12495]: segfault at 0 ip (null) sp 00007fff1c035088 error 14 in ssh[2b8881508000+61000]\nBridge firewalling registered\nssh[12586]: segfault at 0 ip (null) sp 00007fffbcc9e418 error 14 in ssh[2b613518d000+61000]\n[root@rdma-qe-01 network-scripts]# rpm -q kernel openssh\nkernel-2.6.32-412.el6.x86_64\nopenssh-5.3p1-88.el6.x86_64\n\n\n\nVersion-Release number of selected component (if applicable):\n\n\nHow reproducible:\nalways\n\nSteps to Reproduce:\n1.\n2.\n3.\n\nActual results:\n\n\nExpected results:\nssh works\n\nAdditional info:",
          "author": "honli@redhat.com",
          "creation_time": "20130820T07:58:34",
          "bug_id": "998835",
          "creator_id": "316729",
          "time": "20130820T07:58:34",
          "id": "6227225",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "plautrba@redhat.com",
          "text": "I can't reproduce it locally.\n\nCould you please install openssh-debuginfo and send full backtrace? An output of 'ssh -vv ...' might be useful too. Is there anything special in your local  or rdma-qe-02 configurations?",
          "author": "plautrba@redhat.com",
          "creation_time": "20130820T08:49:44",
          "bug_id": "998835",
          "creator_id": "270148",
          "time": "20130820T08:49:44",
          "id": "6227476",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "plautrba@redhat.com",
          "text": "debug1: Next authentication method: publickey\ndebug1: Offering public key: /root/.ssh/id_rsa.pub\ndebug2: we sent a publickey packet, wait for reply\ndebug1: Server accepts key: pkalg ssh-rsa blen 277\ndebug2: input_userauth_pk_ok: SHA1 fp 2a:d7:37:4a:0c:0c:7c:c0:b8:e9:17:a8:01:6d:c6:4e:3b:83:c7:20\n\nProgram received signal SIGSEGV, Segmentation fault.\n\n#0  0x0000000000000000 in ?? ()\nNo symbol table info available.\n#1  0x00007ffff7fd28e5 in key_fingerprint_raw (k=0x7ffff8220810, \n    dgst_type=<value optimized out>, dgst_raw_length=0x7fffffffc3fc) at key.c:397\n        md = 0x7ffff7942140\n        ctx = {digest = 0x7ffff793a280, engine = 0x0, flags = 0, md_data = 0x0, \n          pctx = 0x0, update = 0}\n        blob = 0x7ffff822a480 ''''\n        retval = 0x7ffff822a390 ''8\\317\\345\\365\\377\\177''\n        len = <value optimized out>\n        nlen = <value optimized out>\n        elen = <value optimized out>\n        otype = <value optimized out>\n#2  0x00007ffff7fd47f5 in key_fingerprint (k=0x7ffff8220810, \n    dgst_type=<value optimized out>, dgst_rep=SSH_FP_HEX) at key.c:588\n        retval = 0x0\n        dgst_raw = <value optimized out>\n        dgst_raw_len = <value optimized out>\n#3  0x00007ffff7fb49f4 in sign_and_send_pubkey (authctxt=0x7fffffffc670, \n    id=0x7ffff8226680) at sshconnect2.c:1283\n        b = {buf = 0x7ffff822a9f0 '''', alloc = 0, offset = 277, end = 277}\n        blob = <value optimized out>\n        signature = <value optimized out>\n        bloblen = <value optimized out>\n        slen = <value optimized out>\n        skip = 0\n        ret = -1\n        fp = <value optimized out>\n#4  0x00007ffff7fb61fb in input_userauth_pk_ok (type=<value optimized out>, \n    seq=<value optimized out>, ctxt=0x7fffffffc670) at sshconnect2.c:625\n        authctxt = 0x7fffffffc670\n        key = 0x7ffff82282f0\n        id = 0x7ffff8226680\n        b = {buf = 0x7fffffffc5c4 ''\\a'', alloc = 4162846904, offset = 32767, \n          end = 4163010912}\n        pktype = <value optimized out>\n        sent = 0\n        alen = 7\n        blen = 277\n        pkalg = 0x7ffff8229430 ''ssh-rsa''\n        fp = <value optimized out>\n        pkblob = 0x7ffff822a230 ''''\n#5  0x00007ffff7fd4f23 in dispatch_run (mode=0, done=0x7fffffffc698, ctxt=0x7fffffffc670)\n    at dispatch.c:98\n        type = <value optimized out>\n        seqnr = 6\n#6  0x00007ffff7fb6c4d in ssh_userauth2 (local_user=0x7ffff8221030 ''root'', \n    server_user=0x7ffff82207b0 ''root'', host=0x7ffff8207c70 ''localhost'', \n    sensitive=0x7ffff8204d60) at sshconnect2.c:423\n        authctxt = {server_user = 0x7ffff82207b0 ''root'', \n          local_user = 0x7ffff8221030 ''root'', host = 0x7ffff8207c70 ''localhost'', \n          service = 0x7ffff7feaa5d ''ssh-connection'', method = 0x7ffff82000b8, \n          success = 0, \n          authlist = 0x7ffff8228160 ''publickey,gssapi-keyex,gssapi-with-mic,password'', \n          keys = {tqh_first = 0x7ffff8226680, tqh_last = 0x7ffff8226680}, agent = 0x0, \n          sensitive = 0x7ffff8204d60, info_req_seen = 0, methoddata = 0x0}\n        type = <value optimized out>",
          "author": "plautrba@redhat.com",
          "creation_time": "20130820T09:17:45",
          "bug_id": "998835",
          "creator_id": "270148",
          "time": "20130820T09:17:45",
          "id": "6227595",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "plautrba@redhat.com",
          "text": "A reproducer is to use publickey authentication method with rsa key.",
          "author": "plautrba@redhat.com",
          "creation_time": "20130820T09:27:45",
          "bug_id": "998835",
          "creator_id": "270148",
          "time": "20130820T09:27:45",
          "id": "6227641",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "ksrot@redhat.com",
          "text": "qa_ack+ for 6.5. \n\nPeter,\ncould you please provide devel_ack+?",
          "author": "ksrot@redhat.com",
          "creation_time": "20130820T09:33:55",
          "bug_id": "998835",
          "creator_id": "286283",
          "time": "20130820T09:33:55",
          "id": "6227664",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "honli@redhat.com",
          "text": "All rdma-qe/dev testing machines (about 25 machines) are using rsa key for passwordless ssh connection. So, mark this bug as 'Blocker?'. Please fix it ASAP. Thanks",
          "author": "honli@redhat.com",
          "creation_time": "20130820T12:07:02",
          "bug_id": "998835",
          "creator_id": "316729",
          "time": "20130820T12:07:02",
          "id": "6228263",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "plautrba@redhat.com",
          "text": "It's an issue of backported openssh-5.3p1-ssh-certificates.patch patch. This patch needs to be changed in order not to use md5 fingeprints when fips mode is enabled. I'm working on the fix.",
          "author": "plautrba@redhat.com",
          "creation_time": "20130820T12:51:31",
          "bug_id": "998835",
          "creator_id": "270148",
          "time": "20130820T12:51:31",
          "id": "6228459",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2013:15245-01\nhttp://errata.devel.redhat.com/errata/show/15245",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20130820T18:54:10",
          "bug_id": "998835",
          "creator_id": "241731",
          "time": "20130820T18:54:10",
          "id": "6229896",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2013:15245-01: \nChanged by: Lukas Novy (lnovy@redhat.com)\nhttp://errata.devel.redhat.com/advisory/15245\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: TEST PROTOCOL\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Package       : openssh\n:: [   LOG    ] :: Installed:    : openssh-5.3p1-88.el6.x86_64 \n:: [   LOG    ] :: Test started  : 2013-09-20 14:53:16 CEST\n:: [   LOG    ] :: Test finished : 2013-09-20 14:53:23 CEST\n:: [   LOG    ] :: Test name     : /CoreOS/openssh/Regression/bz998835-FIPS-mode-initialized\n:: [   LOG    ] :: Distro:       : Red Hat Enterprise Linux Server release 6.4 (Santiago)\n:: [   LOG    ] :: Hostname      : localhost.localdomain\n:: [   LOG    ] :: Architecture  : x86_64\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test description\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\nPURPOSE of /CoreOS/openssh/Regression/bz998835-FIPS-mode-initialized\nDescription: Test for BZ#998835 (FIPS mode initialized)\nAuthor: Lukas Novy <lnovy@redhat.com>\nBug summary: FIPS mode initialized\nBugzilla link: https://bugzilla.redhat.com/show_bug.cgi?id=998835\n\n\nDISTRO=RHEL6.5-20130814.2\n\n[root@rdma-qe-01 network-scripts]# ssh rdma-qe-02\nFIPS mode initialized\nSegmentation fault (core dumped)\n[root@rdma-qe-01 network-scripts]# ssh rdma-qe-02\nFIPS mode initialized\nSegmentation fault (core dumped)\n[root@rdma-qe-01 network-scripts]# dmesg \nssh[12495]: segfault at 0 ip (null) sp 00007fff1c035088 error 14 in\nssh[2b8881508000+61000]\nBridge firewalling registered\nssh[12586]: segfault at 0 ip (null) sp 00007fffbcc9e418 error 14 in\nssh[2b613518d000+61000]\n[root@rdma-qe-01 network-scripts]# rpm -q kernel openssh\nkernel-2.6.32-412.el6.x86_64\nopenssh-5.3p1-88.el6.x86_64\n\n\n\nVersion-Release number of selected component (if applicable):\n\n\nHow reproducible:\nalways\n\nSteps to Reproduce:\n1.\n2.\n3.\n\nActual results:\n\n\nExpected results:\nssh works\n\nAdditional info:\n\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Setup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Checking for the presence of openssh rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   openssh-5.3p1-88.el6.x86_64\n:: [   PASS   ] :: Creating tmp directory (Expected 0, got 0)\n:: [   PASS   ] :: Running 'pushd /tmp/tmp.vq2OYtWf2h' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'ssh-keygen -t rsa -N redhat -f id_rsa' (Expected 0, got 0)\n:: [   PASS   ] :: Running '/usr/sbin/sshd -ddd -p 22222 -o 'PidFile /tmp/tmp.SFeIBTsnnI' &> /tmp/tmp.iWuCcSspwm &' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'useradd -m bz998835 -d /home/bz998835' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'mkdir /home/bz998835/.ssh; chmod og-rwx /home/bz998835/.ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cp id_rsa.pub /home/bz998835/.ssh/authorized_keys' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'chown -R bz998835 /home/bz998835' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'restorecon /home/bz998835' (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 2s\n:: [   LOG    ] :: Assertions: 10 good, 0 bad\n:: [   PASS   ] :: RESULT: Setup\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   FAIL   ] :: Running 'OPENSSL_FORCE_FIPS_MODE=1 /mnt/tests/openssh/Regression/bz998835-FIPS-mode-initialized/ssh.exp 22222 bz998835 localhost &> /tmp/tmp.8WlVGpEhOQ' (Expected 0, got 1)\n:: [   PASS   ] :: File '/tmp/tmp.8WlVGpEhOQ' should contain 'input_userauth_pk_ok: SHA1 fp' \n:: [   FAIL   ] :: File '/tmp/tmp.8WlVGpEhOQ' should contain 'sign_and_send_pubkey: RSA ' \n:: [   LOG    ] :: Duration: 2s\n:: [   LOG    ] :: Assertions: 1 good, 2 bad\n:: [   FAIL   ] :: RESULT: Test\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Cleanup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Killing our sshd (Expected 0-255, got 1)\n:: [   LOG    ] :: Printing SSH log\n:: [   LOG    ] :: Printing SSHD log\n:: [   PASS   ] :: Running 'userdel -f -r bz998835' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'popd' (Expected 0, got 0)\n:: [   PASS   ] :: Removing tmp directory (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 2s\n:: [   LOG    ] :: Assertions: 4 good, 0 bad\n:: [   PASS   ] :: RESULT: Cleanup\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: /CoreOS/openssh/Regression/bz998835-FIPS-mode-initialized\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Phases: 2 good, 1 bad\n:: [   FAIL   ] :: RESULT: /CoreOS/openssh/Regression/bz998835-FIPS-mode-initialized\n\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: TEST PROTOCOL\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Package       : openssh\n:: [   LOG    ] :: Installed:    : openssh-5.3p1-89.el6.x86_64 \n:: [   LOG    ] :: Test started  : 2013-09-20 14:56:17 CEST\n:: [   LOG    ] :: Test finished : 2013-09-20 14:56:29 CEST\n:: [   LOG    ] :: Test name     : /CoreOS/openssh/Regression/bz998835-FIPS-mode-initialized\n:: [   LOG    ] :: Distro:       : Red Hat Enterprise Linux Server release 6.4 (Santiago)\n:: [   LOG    ] :: Hostname      : localhost.localdomain\n:: [   LOG    ] :: Architecture  : x86_64\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test description\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\nPURPOSE of /CoreOS/openssh/Regression/bz998835-FIPS-mode-initialized\nDescription: Test for BZ#998835 (FIPS mode initialized)\nAuthor: Lukas Novy <lnovy@redhat.com>\nBug summary: FIPS mode initialized\nBugzilla link: https://bugzilla.redhat.com/show_bug.cgi?id=998835\n\n\nDISTRO=RHEL6.5-20130814.2\n\n[root@rdma-qe-01 network-scripts]# ssh rdma-qe-02\nFIPS mode initialized\nSegmentation fault (core dumped)\n[root@rdma-qe-01 network-scripts]# ssh rdma-qe-02\nFIPS mode initialized\nSegmentation fault (core dumped)\n[root@rdma-qe-01 network-scripts]# dmesg \nssh[12495]: segfault at 0 ip (null) sp 00007fff1c035088 error 14 in\nssh[2b8881508000+61000]\nBridge firewalling registered\nssh[12586]: segfault at 0 ip (null) sp 00007fffbcc9e418 error 14 in\nssh[2b613518d000+61000]\n[root@rdma-qe-01 network-scripts]# rpm -q kernel openssh\nkernel-2.6.32-412.el6.x86_64\nopenssh-5.3p1-88.el6.x86_64\n\n\n\nVersion-Release number of selected component (if applicable):\n\n\nHow reproducible:\nalways\n\nSteps to Reproduce:\n1.\n2.\n3.\n\nActual results:\n\n\nExpected results:\nssh works\n\nAdditional info:\n\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Setup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Checking for the presence of openssh rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   openssh-5.3p1-89.el6.x86_64\n:: [   PASS   ] :: Creating tmp directory (Expected 0, got 0)\n:: [   PASS   ] :: Running 'pushd /tmp/tmp.fOqGxMLb6J' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'ssh-keygen -t rsa -N redhat -f id_rsa' (Expected 0, got 0)\n:: [   PASS   ] :: Running '/usr/sbin/sshd -ddd -p 22222 -o 'PidFile /tmp/tmp.VVC7PYkc2s' &> /tmp/tmp.m3dAiuudmy &' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'useradd -m bz998835 -d /home/bz998835' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'mkdir /home/bz998835/.ssh; chmod og-rwx /home/bz998835/.ssh' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cp id_rsa.pub /home/bz998835/.ssh/authorized_keys' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'chown -R bz998835 /home/bz998835' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'restorecon /home/bz998835' (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 2s\n:: [   LOG    ] :: Assertions: 10 good, 0 bad\n:: [   PASS   ] :: RESULT: Setup\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'OPENSSL_FORCE_FIPS_MODE=1 /mnt/tests/openssh/Regression/bz998835-FIPS-mode-initialized/ssh.exp 22222 bz998835 localhost &> /tmp/tmp.5ikjIPriIS' (Expected 0, got 0)\n:: [   PASS   ] :: File '/tmp/tmp.5ikjIPriIS' should contain 'input_userauth_pk_ok: SHA1 fp' \n:: [   PASS   ] :: File '/tmp/tmp.5ikjIPriIS' should contain 'sign_and_send_pubkey: RSA ' \n:: [   LOG    ] :: Duration: 7s\n:: [   LOG    ] :: Assertions: 3 good, 0 bad\n:: [   PASS   ] :: RESULT: Test\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Cleanup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Killing our sshd (Expected 0-255, got 1)\n:: [   LOG    ] :: Printing SSH log\n:: [   LOG    ] :: Printing SSHD log\n:: [   PASS   ] :: Running 'userdel -f -r bz998835' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'popd' (Expected 0, got 0)\n:: [   PASS   ] :: Removing tmp directory (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 2s\n:: [   LOG    ] :: Assertions: 4 good, 0 bad\n:: [   PASS   ] :: RESULT: Cleanup\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: /CoreOS/openssh/Regression/bz998835-FIPS-mode-initialized\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Phases: 3 good, 0 bad\n:: [   PASS   ] :: RESULT: /CoreOS/openssh/Regression/bz998835-FIPS-mode-initialized",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20130920T13:05:21",
          "bug_id": "998835",
          "creator_id": "241731",
          "time": "20130920T13:05:21",
          "id": "6328347",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHSA-2013-1591.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20131121T09:46:59",
          "bug_id": "998835",
          "creator_id": "241731",
          "time": "20131121T09:46:59",
          "id": "6542275",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.5"
      ],
      "cc": [
        "dledford@redhat.com",
        "ebenes@redhat.com",
        "honli@redhat.com",
        "lnovy@redhat.com",
        "pvrabec@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "lnovy@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "redhat"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "FIPS mode initialized",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20130909T18:47:27",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20130820T09:47:29",
          "id": "1478079",
          "setter": "lnovy@redhat.com"
        },
        {
          "status": "-",
          "name": "requires_doc_text",
          "modification_date": "20131025T11:37:12",
          "type_id": "415",
          "is_active": "1",
          "creation_date": "20131025T11:37:12",
          "id": "1563655",
          "setter": "plautrba@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.5.0",
          "modification_date": "20130820T14:12:12",
          "type_id": "361",
          "is_active": "0",
          "creation_date": "20130820T07:59:22",
          "id": "1477909",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "blocker",
          "modification_date": "20130820T14:12:12",
          "type_id": "24",
          "is_active": "1",
          "creation_date": "20130820T12:07:02",
          "id": "1478334",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20130820T08:09:22",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20130820T07:59:22",
          "id": "1477910",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20130820T14:06:15",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20130820T07:59:22",
          "id": "1477911",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20130820T09:33:55",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20130820T07:59:22",
          "id": "1477912",
          "setter": "ksrot@redhat.com"
        }
      ],
      "last_change_time": "20140218T23:57:00",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509330-xVtwXj0Hj8hh4hUk5QjHILJZQSChUCJ9su_6dDAww3c",
      "cf_partner": [],
      "cf_last_closed": "20131121T09:46:59",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "600",
      "estimated_time": "0.0",
      "depends_on": [
        "999867",
        "1004781"
      ],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20130827T10:03:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "1001565",
      "cf_release_notes": "Feature: \r\nDue to the new FIPS validation requirements the FIPS POST selftests must always run when the FIPS module is installed. If dracut-fips package is installed the OpenSSH now treats it as the condition whether the OpenSSH FIPS module is installed and complete and FIPS integrity check will be run always when the ssh client and ssh server are run.",
      "priority": "high",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-94.el6",
      "creator": "plautrba@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "plautrba@redhat.com",
          "text": "openssh needs new -clients-fips and -server-fips subpackages that would provide the openssh FIPS modules if installed.\n\nThis subpackages would contain:\n1. HMAC files for the ssh and sshd\n2. /etc/prelink.conf.d/openssh-{server,clients}-fips.conf that would contain blacklist configuration for  prelink\n3. in the %post it would explicitly undo prelinking of openssh client and server",
          "author": "plautrba@redhat.com",
          "creation_time": "20130827T10:03:30",
          "bug_id": "1001565",
          "creator_id": "270148",
          "time": "20130827T10:03:30",
          "id": "6248801",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "ksrot@redhat.com",
          "text": "qa_ack+ for 6.5",
          "author": "ksrot@redhat.com",
          "creation_time": "20130828T14:35:48",
          "bug_id": "1001565",
          "creator_id": "286283",
          "time": "20130828T14:35:48",
          "id": "6253861",
          "is_private": "True"
        },
        {
          "count": "2",
          "attachment_id": "791737",
          "author": "plautrba@redhat.com",
          "text": "Created attachment 791737\nadd -fips subpackages that contains the FIPS module files",
          "creator": "plautrba@redhat.com",
          "creation_time": "20130829T11:46:49",
          "bug_id": "1001565",
          "creator_id": "270148",
          "time": "20130829T11:46:49",
          "id": "6257010",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "plautrba@redhat.com",
          "text": "openssh-{clients,server}-fips packages will require openssl-fips",
          "author": "plautrba@redhat.com",
          "creation_time": "20130829T11:56:01",
          "bug_id": "1001565",
          "creator_id": "270148",
          "time": "20130829T11:56:01",
          "id": "6257042",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2013:15245-01\nhttps://errata.devel.redhat.com/advisory/15245",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20130903T07:47:09",
          "bug_id": "1001565",
          "creator_id": "241731",
          "time": "20130903T07:47:09",
          "id": "6268205",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "plautrba@redhat.com",
          "text": "There will be a change in fipcheck and it'll be needed to adapt openssh for this change too. So I'm moving this bug back to ASSIGNED.",
          "author": "plautrba@redhat.com",
          "creation_time": "20130910T14:24:16",
          "bug_id": "1001565",
          "creator_id": "270148",
          "time": "20130910T14:24:16",
          "id": "6292212",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "plautrba@redhat.com",
          "text": "According to the fipscheck API change, see rhbz#1004781, the content of -fips packages has been changed to:\n\n# rpm -ql openssh-clients-fips\n/etc/prelink.conf.d\n/etc/prelink.conf.d/openssh-clients-fips.conf\n/usr/bin/.ssh.5.3p1-91.hmac\n\n# rpm -ql openssh-server-fips\n/etc/prelink.conf.d\n/etc/prelink.conf.d/openssh-server-fips.conf\n/usr/sbin/.sshd.5.3p1-91.hmac",
          "author": "plautrba@redhat.com",
          "creation_time": "20130912T09:46:52",
          "bug_id": "1001565",
          "creator_id": "270148",
          "time": "20130912T09:46:52",
          "id": "6300249",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "plautrba@redhat.com",
          "text": "Note: there's a build bug in openssl-1.0.1e-10.el6.x86_64 so a testing needs to be done with updated openssh package",
          "author": "plautrba@redhat.com",
          "creation_time": "20130912T09:48:07",
          "bug_id": "1001565",
          "creator_id": "270148",
          "time": "20130912T09:48:07",
          "id": "6300257",
          "is_private": "False"
        },
        {
          "count": "8",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from MODIFIED to ON_QA status by the Errata System: \nAdvisory RHBA-2013:15245-01: \nChanged by: Tom Lavigne (tlavigne@redhat.com)\nhttp://errata.devel.redhat.com/advisory/15245",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20130912T19:03:26",
          "bug_id": "1001565",
          "creator_id": "241731",
          "time": "20130912T19:03:26",
          "id": "6302297",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2013:15245-01: \nChanged by: Lukas Novy (lnovy@redhat.com)\nhttp://errata.devel.redhat.com/advisory/15245\n\nSanityOnly verified: -fips subpackages exist in relevant channels and are included in compose.",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20130913T02:35:18",
          "bug_id": "1001565",
          "creator_id": "241731",
          "time": "20130913T02:35:18",
          "id": "6303102",
          "is_private": "True"
        },
        {
          "count": "10",
          "creator": "omoris@redhat.com",
          "text": "I am proposing qe_test_coverge+ since an existence of -fips subpackage for all modules actually will be verified automatically by fipscheck sanity test (/CoreOS/fipscheck/sanity), once the test will be ready, I will set TCMS TC external link.",
          "author": "omoris@redhat.com",
          "creation_time": "20130913T08:16:11",
          "bug_id": "1001565",
          "creator_id": "281695",
          "time": "20130913T08:16:11",
          "id": "6303891",
          "is_private": "True"
        },
        {
          "count": "11",
          "creator": "omoris@redhat.com",
          "text": "Unfortunately there is one minor issue remaining. \n\nThere should be a proper suffix within HMAC files in -fips subpackage, this suffix should contains version as well as release and dist tag. Currently there is a version and release but dist tag is missing:\n\n# rpm -ql openssh-server-fips\n...\n/usr/sbin/.sshd.5.3p1-92.hmac\n\nIt should be /usr/sbin/.sshd.5.3p1-92.el6.hmac as in the other -fips subpackages, for instance in openssl:\n\n# rpm -ql openssl-fips\n...\n/usr/lib/.libcrypto.so.1.0.1e.1.0.1e-11.el6.hmac\n/usr/lib/.libcrypto.so.10.1.0.1e-11.el6.hmac\n/usr/lib/.libssl.so.1.0.1e.1.0.1e-11.el6.hmac\n/usr/lib/.libssl.so.10.1.0.1e-11.el6.hmac\n\nCould you please fix this?\n\nNote for @QE and myself: \n\nThere is a pretty easy way to verify the integrity of libraries and binaries (see below), it is the part of fipscheck sanity test but it might come handy for re-verification of this bug.\n\nfor MODULE in openswan-fips openssl-fips openssh-server-fips openssh-clients-fips nss-softokn-freebl-fips nss-softokn-fips; do VRH=''.$(rpm -q $MODULE --qf %{V}-%{R}).hmac''; for H in $(rpm -ql $MODULE | grep hmac); do N=$(echo $H | sed ''s|/\\.|/|g'' | sed ''s|${VRH}||g''); fipscheck -s ${VRH} $N && echo ''PASS ($H)'' || echo ''FAIL ($H)''; done; done",
          "author": "omoris@redhat.com",
          "creation_time": "20130917T09:00:48",
          "bug_id": "1001565",
          "creator_id": "281695",
          "time": "20130917T09:00:48",
          "id": "6315528",
          "is_private": "True"
        },
        {
          "count": "12",
          "creator": "sforsber@redhat.com",
          "text": "We are modifying our approach to determine whether a FIPS product is installed, and we are not creating the -fips subpackages in the new scheme.\n\nFrom Steve Grubb:\nIn the next set of FIPS-140 certifications we have to define a FIPS\nproduct. Bill wanted one place that could determine this and I suggested\nthat we use the dracut-fips package for this purpose since it must be\ninstalled for FIPS operation. I run it by our certification laband they\nagreed we can define the product as when the dracut-fips package is\ninstalled + the crypto module.",
          "author": "sforsber@redhat.com",
          "creation_time": "20130926T17:13:34",
          "bug_id": "1001565",
          "creator_id": "309119",
          "time": "20130926T17:13:34",
          "id": "6349346",
          "is_private": "True"
        },
        {
          "count": "13",
          "creator": "plautrba@redhat.com",
          "text": "All -fips changes reverted and test if ''/usr/share/dracut/modules.d/01fips'' file exists added. It's waiting for release engineering to waive https://errata.devel.redhat.com/rpmdiff/show/80288?result_id=1723616. Ticket sent",
          "author": "plautrba@redhat.com",
          "creation_time": "20130930T08:04:26",
          "bug_id": "1001565",
          "creator_id": "270148",
          "time": "20130930T08:04:26",
          "id": "6357937",
          "is_private": "True"
        },
        {
          "count": "14",
          "creator": "lnovy@redhat.com",
          "text": "I've noticed the version and release suffix of hmac files ware dropped too. Is that intended?",
          "author": "lnovy@redhat.com",
          "creation_time": "20130930T08:08:48",
          "bug_id": "1001565",
          "creator_id": "344083",
          "time": "20130930T08:08:48",
          "id": "6357956",
          "is_private": "True"
        },
        {
          "count": "15",
          "creator": "plautrba@redhat.com",
          "text": "Yes, we are back at .ssh{,d}.hmac files. fipscheck errata with needed API change for release suffixes will be dropped.\n\nThe current state of FIPS checks in openssh is:\n\n- If FIPS product is installed - ''/usr/share/dracut/modules.d/01fips'' exists - selftests are run. You can see that in strace output - open and read /usr/bin/.ssh{,d}.hmac.\n\n- If FIPS mode is not enabled, selftests results are ignored.\n- If FIPS mode is enabled, selftests have to pass.",
          "author": "plautrba@redhat.com",
          "creation_time": "20130930T08:37:00",
          "bug_id": "1001565",
          "creator_id": "270148",
          "time": "20130930T08:37:00",
          "id": "6358070",
          "is_private": "True"
        },
        {
          "count": "16",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHSA-2013:15245-03: \nChanged by: Lukas Novy (lnovy@redhat.com)\nhttp://errata.devel.redhat.com/advisory/15245\n\nSanityOnly VERIFIED:\n- patch is applied and is sane\n- all scenarios works as expected and according to #c15",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20131025T14:08:21",
          "bug_id": "1001565",
          "creator_id": "241731",
          "time": "20131025T14:08:21",
          "id": "6458020",
          "is_private": "True"
        },
        {
          "count": "17",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHSA-2013-1591.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20131121T09:47:06",
          "bug_id": "1001565",
          "creator_id": "241731",
          "time": "20131121T09:47:06",
          "id": "6542276",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.4"
      ],
      "cc": [
        "ebenes@redhat.com",
        "ksrot@redhat.com",
        "lnovy@redhat.com",
        "omoris@redhat.com",
        "sforsber@redhat.com",
        "tlavigne@redhat.com",
        "tmraz@redhat.com"
      ],
      "cf_verified": [
        "FailedQA",
        "SanityOnly"
      ],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "968473"
      ],
      "qa_contact": "lnovy@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Enhancement",
      "cf_clone_of": "0",
      "groups": [
        "redhat"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "openssh needs to use dracut-fips to determine ''fips product'' status",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20130913T08:16:11",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20130828T14:37:56",
          "id": "1488621",
          "setter": "omoris@redhat.com"
        },
        {
          "status": "?",
          "name": "requires_doc_text",
          "modification_date": "20131029T09:00:43",
          "type_id": "415",
          "is_active": "1",
          "creation_date": "20131029T09:00:43",
          "id": "1565886",
          "setter": "plautrba@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.5.0",
          "modification_date": "20130828T14:45:24",
          "type_id": "361",
          "is_active": "0",
          "creation_date": "20130827T10:04:00",
          "id": "1486216",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "exception",
          "modification_date": "20130910T17:14:15",
          "type_id": "15",
          "is_active": "1",
          "creation_date": "20130910T14:23:04",
          "id": "1502198",
          "setter": "tlavigne@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20130827T10:18:51",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20130827T10:04:00",
          "id": "1486217",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20130827T11:05:01",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20130827T10:04:00",
          "id": "1486218",
          "setter": "tmraz@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20130828T14:35:48",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20130827T10:04:00",
          "id": "1486219",
          "setter": "ksrot@redhat.com"
        }
      ],
      "last_change_time": "20140218T23:57:01",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509330-4uqlymtZI1NT42ytj4BY_2dxTQjzhq2mOdANaXLkA0I",
      "cf_partner": [],
      "cf_last_closed": "20131121T09:47:06",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20100712T13:07:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "613627",
      "cf_release_notes": "",
      "priority": "high",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-19.el6",
      "creator": "jchadima@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "jchadima@redhat.com",
          "text": "Description of problem:\nthe patch enabling distribution of the aythorized keys should be updated to be compatible with the upstream version.",
          "author": "jchadima@redhat.com",
          "creation_time": "20100712T13:07:42",
          "bug_id": "613627",
          "creator_id": "276623",
          "time": "20100712T13:07:42",
          "id": "2996880",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "tmraz@redhat.com",
          "text": "The patch as is currently included in RHEL-6 openssh package has some minor security weaknessess - not vulnerabilities per se but the administrator might create insecure configurations with it.",
          "author": "tmraz@redhat.com",
          "creation_time": "20100712T13:19:45",
          "bug_id": "613627",
          "creator_id": "167996",
          "time": "20100712T13:19:45",
          "id": "2996925",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "sgrubb@redhat.com",
          "text": "Transferring the bug to Tomas since Jan is on PTO. Please correct the patch so it fits upstream or is less likely to be used wrongly.",
          "author": "sgrubb@redhat.com",
          "creation_time": "20100712T19:14:55",
          "bug_id": "613627",
          "creator_id": "168751",
          "time": "20100712T19:14:55",
          "id": "2998108",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "sgrubb@redhat.com",
          "text": "This needs to be solved before Wednesday. Thanks.",
          "author": "sgrubb@redhat.com",
          "creation_time": "20100712T19:16:23",
          "bug_id": "613627",
          "creator_id": "168751",
          "time": "20100712T19:16:23",
          "id": "2998110",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "ebenes@redhat.com",
          "text": "QA_ACK+\n\n@Devel: Please provide relevant use-cases for testing (ideally suitable for test automation) and suggest possible regression areas. Thanks",
          "author": "ebenes@redhat.com",
          "creation_time": "20100713T08:55:44",
          "bug_id": "613627",
          "creator_id": "203333",
          "time": "20100713T08:55:44",
          "id": "2999571",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "releng-rhel@redhat.com",
          "text": "Fixed in 'openssh-5.3p1-19.el6', included in compose 'RHEL6.0-20100715.0'.\nMoving to ON_QA.",
          "author": "releng-rhel@redhat.com",
          "creation_time": "20100715T16:06:06",
          "bug_id": "613627",
          "creator_id": "286012",
          "time": "20100715T16:06:06",
          "id": "3009178",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "mvadkert@redhat.com",
          "text": "VERIFIED as fixed in openssh-5.3p1-19.el6\n\nNEW PACKAGE - openssh-5.3p1-19.el6\n:: [   PASS   ] :: File '/etc/ssh/sshd_config' should contain 'AuthorizedKeysCommand'\n:: [   PASS   ] :: File '/etc/ssh/sshd_config' should contain 'AuthorizedKeysCommandRunAs'\n:: [   PASS   ] :: RESULT: Test\n\nOLD PACKAGE - openssh-5.3p1-18.el6\n:: [   FAIL   ] :: File '/etc/ssh/sshd_config' should contain 'AuthorizedKeysCommand' \n:: [   FAIL   ] :: File '/etc/ssh/sshd_config' should contain 'AuthorizedKeysCommandRunAs' \n:: [   FAIL   ] :: RESULT: Test",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100812T10:17:40",
          "bug_id": "613627",
          "creator_id": "271572",
          "time": "20100812T10:17:40",
          "id": "3075544",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "releng-rhel@redhat.com",
          "text": "Red Hat Enterprise Linux 6.0 is now available and should resolve\nthe problem described in this bug report. This report is therefore being closed\nwith a resolution of CURRENTRELEASE. You may reopen this bug report if the\nsolution does not work for you.",
          "author": "releng-rhel@redhat.com",
          "creation_time": "20101110T21:17:06",
          "bug_id": "613627",
          "creator_id": "286012",
          "time": "20101110T21:17:06",
          "id": "3297345",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.0"
      ],
      "cc": [
        "ebenes@redhat.com",
        "mvadkert@redhat.com",
        "sgrubb@redhat.com",
        "tmraz@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "mvadkert@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "Snapshot 8",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "the patch for distribution authozed keys should be updated",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.0.0",
          "modification_date": "20100713T09:02:22",
          "type_id": "62",
          "is_active": "0",
          "creation_date": "20100712T13:10:10",
          "id": "644526",
          "setter": "lsmid@redhat.com"
        },
        {
          "status": "+",
          "name": "exception",
          "modification_date": "20100713T09:02:22",
          "type_id": "15",
          "is_active": "1",
          "creation_date": "20100712T13:10:10",
          "id": "644525",
          "setter": "lsmid@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20100713T09:02:22",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20100712T13:10:10",
          "id": "644527",
          "setter": "lsmid@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20100712T19:14:55",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20100712T13:10:10",
          "id": "644528",
          "setter": "sgrubb@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20100713T08:55:44",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20100712T13:10:10",
          "id": "644529",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20101110T21:17:06",
      "assigned_to": "tmraz@redhat.com",
      "update_token": "1402509330-K2sgBTOvibffVGJDvvfTHe3thGvFwG0-r6jeMDBt84k",
      "cf_partner": [],
      "cf_last_closed": "20101110T21:17:06",
      "resolution": "CURRENTRELEASE",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20081121T05:38:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "FutureFeature",
        "Triaged"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00214202",
          "bug_id": "472493",
          "ext_description": "[RFE] 'Match' parameter sshd backport in our RHEL5 sshd",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "26438"
        }
      ],
      "id": "472493",
      "cf_release_notes": "",
      "priority": "medium",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.2p1-17.el6",
      "creator": "tao@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "tao@redhat.com",
          "text": "Escalated to Bugzilla from IssueTracker",
          "author": "tao@redhat.com",
          "creation_time": "20081121T05:38:16",
          "bug_id": "472493",
          "creator_id": "80926",
          "time": "20081121T05:38:16",
          "id": "1944674",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "tao@redhat.com",
          "text": "Description of problem:\n\nThis gives greater control of user access by allowing us to override settings on a per user basis which, for our purposes, allows us to permit ssh keys on the access interface for a given user (e.g. automation user).\n\nThe very latest revision of AIX 5.3 comes shipped with OpenSSH_4.7p1 which has this functionality, whereas RHEL 5 comes with OpenSSH_4.3p2 which does not. This means that for the time being we need to compile our own version for RHEL 5.\n\nAdditional info:\n\nCamelot is the winner of the UK National Lottery Bid. We have a big opporutiny with them this quarter (> 100KGBP).\n\n\nThis event sent from IssueTracker by jwest  [SEG - Feature Request]\n issue 239611",
          "author": "tao@redhat.com",
          "creation_time": "20081121T05:38:18",
          "bug_id": "472493",
          "creator_id": "80926",
          "time": "20081121T05:38:18",
          "id": "1944675",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "tao@redhat.com",
          "text": "Request is for \"Match\" parameter backport. Details about parameter found in\nFedora 9 \"man 5 sshd_config\":\n\n---\n     Match   Introduces a conditional block.  If all of the criteria on\nthe Match line are satisfied, the keywords on the fol-\n             lowing lines override those set in the global section of the\nconfig file, until either another Match line or the\n             end of the file.\n\n             The arguments to Match are one or more criteria-pattern\npairs.  The available criteria are User, Group, Host, and\n             Address.  The match patterns may consist of single entries or\ncomma-separated lists and may use the wildcard and\n             negation operators described in the PATTERNS section of\nssh_config(5).\n\n             The patterns in an Address criteria may additionally contain\naddresses to match in CIDR address/masklen format,\n             e.g. \u201c192.0.2.0/24\u201d or \u201c3ffe:ffff::/32\u201d.  Note that\nthe mask length provided must be consistent with the address\n             - it is an error to specify a mask length that is too long\nfor the address or one with bits set in this host por-\n             tion of the address.  For example, \u201c192.0.2.0/33\u201d and\n\u201c192.0.2.0/8\u201d respectively.\n\n             Only a subset of keywords may be used on the lines following\na Match keyword.  Available keywords are\n             AllowTcpForwarding, Banner, ChrootDirectory, ForceCommand,\nGatewayPorts, GSSAPIAuthentication,\n             HostbasedAuthentication, KbdInteractiveAuthentication,\nKerberosAuthentication, MaxAuthTries, MaxSessions,\n             PasswordAuthentication, PermitOpen, PermitRootLogin,\nRhostsRSAAuthentication, RSAAuthentication,\n             X11DisplayOffset, X11Forwarding, and X11UseLocalHost.\n---\n\nPATTERNS section from \"man 5 ssh_config\"\n\n---\nPATTERNS\n     A pattern consists of zero or more non-whitespace characters, \u2018*\u2019\n(a wildcard that matches zero or more characters), or\n     \u2018?\u2019 (a wildcard that matches exactly one character).  For\nexample, to specify a set of declarations for any host in the\n     \u201c.co.uk\u201d set of domains, the following pattern could be used:\n\n           Host *.co.uk\n\n     The following pattern would match any host in the 192.168.0.[0-9]\nnetwork range:\n\n           Host 192.168.0.?\n\n     A pattern-list is a comma-separated list of patterns.  Patterns\nwithin pattern-lists may be negated by preceding them\n     with an exclamation mark (\u2018!\u2019).  For example, to allow a key to\nbe used from anywhere within an organisation except from\n     the \u201cdialup\u201d pool, the following entry (in authorized_keys) could\nbe used:\n\n           from=\"!*.dialup.example.com,*.example.com\"\n---\n\n\nakarlsso assigned to issue for EMEA-SERVICES-TAM.\nProduct changed from 'Red Hat Enterprise Linux 5' to 'Red Hat Enterprise\nLinux'\nCategory set to: Applications\nInternal Status set to 'Waiting on Support'\nVersion set to: '5.2'\n\nThis event sent from IssueTracker by jwest  [SEG - Feature Request]\n issue 239611",
          "author": "tao@redhat.com",
          "creation_time": "20081121T05:38:19",
          "bug_id": "472493",
          "creator_id": "80926",
          "time": "20081121T05:38:19",
          "id": "1944676",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "tao@redhat.com",
          "text": "Private Note:\n http://prefetch.net/blog/index.php/category/openssh/\n\n \"With the introduction of OpenSSH 4.3p2, Darren Tucker introduced the\n\u201cMatch\u201d keyword.\"\n\nChecking if we already have this.\n\n\nThis event sent from IssueTracker by jwest  [SEG - Feature Request]\n issue 239611",
          "author": "tao@redhat.com",
          "creation_time": "20081121T05:38:21",
          "bug_id": "472493",
          "creator_id": "80926",
          "time": "20081121T05:38:21",
          "id": "1944677",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "tao@redhat.com",
          "text": "We don't. Have tested on RHEL5.2.\n\n\nThis event sent from IssueTracker by jwest  [SEG - Feature Request]\n issue 239611",
          "author": "tao@redhat.com",
          "creation_time": "20081121T05:38:23",
          "bug_id": "472493",
          "creator_id": "80926",
          "time": "20081121T05:38:23",
          "id": "1944678",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "tao@redhat.com",
          "text": "Red Hat Issue Tracker wrote:\n> **********************************\n> ***    Red Hat Confidential    ***\n> ***       Private Event        ***\n> **********************************\n> \n> Update to issue 239611 by akarlsso\n> Customer Reference: Camelot, Uk National Lottery\n> Action: We don't. Have tested on RHEL5.2.\n> \n> \n> \n> https://enterprise.redhat.com/issue-tracker/239611\n> \n> Previous Events:\n> ----------------\n> ---- PRIVATE ---\n> Posted 11-20-2008 06:12am by akarlsso\n> Private Note:\n>  http://prefetch.net/blog/index.php/category/openssh/\n> \n>  \"With the introduction of OpenSSH 4.3p2, Darren Tucker introduced the\n\u201cMatch\u201d keyword.\"\n> \n> Checking if we already have this.\n> \n> \n> \n> ---- PRIVATE ---\n> Posted 11-20-2008 06:08am by akarlsso\n> Request is for \"Match\" parameter backport. Details about parameter found\nin Fedora 9 \"man 5 sshd_config\":\n> \n> ---\n>      Match   Introduces a conditional block.  If all of the criteria on\nthe Match line are satisfied, the keywords on the fol-\n>              lowing lines override those set in the global section of\nthe config file, until either another Match line or the\n>              end of the file.\n> \n>              The arguments to Match are one or more criteria-pattern\npairs.  The available criteria are User, Group, Host, and\n>              Address.  The match patterns may consist of single entries\nor comma-separated lists and may use the wildcard and\n>              negation operators described in the PATTERNS section of\nssh_config(5).\n> \n>              The patterns in an Address criteria may additionally\ncontain addresses to match in CIDR address/masklen format,\n>              e.g. \u201c192.0.2.0/24\u201d or \u201c3ffe:ffff::/32\u201d.  Note that\nthe mask length provided must be consistent with the address\n>              - it is an error to specify a mask length that is too long\nfor the address or one with bits set in this host por-\n>              tion of the address.  For example, \u201c192.0.2.0/33\u201d and\n\u201c192.0.2.0/8\u201d respectively.\n> \n>              Only a subset of keywords may be used on the lines\nfollowing a Match keyword.  Available keywords are\n>              AllowTcpForwarding, Banner, ChrootDirectory, ForceCommand,\nGatewayPorts, GSSAPIAuthentication,\n>              HostbasedAuthentication, KbdInteractiveAuthentication,\nKerberosAuthentication, MaxAuthTries, MaxSessions,\n>              PasswordAuthentication, PermitOpen, PermitRootLogin,\nRhostsRSAAuthentication, RSAAuthentication,\n>              X11DisplayOffset, X11Forwarding, and X11UseLocalHost.\n> ---\n> \n> PATTERNS section from \"man 5 ssh_config\"\n> \n> ---\n> PATTERNS\n>      A pattern consists of zero or more non-whitespace characters,\n\u2018*\u2019 (a wildcard that matches zero or more characters), or\n>      \u2018?\u2019 (a wildcard that matches exactly one character).  For\nexample, to specify a set of declarations for any host in the\n>      \u201c.co.uk\u201d set of domains, the following pattern could be used:\n> \n>            Host *.co.uk\n> \n>      The following pattern would match any host in the 192.168.0.[0-9]\nnetwork range:\n> \n>            Host 192.168.0.?\n> \n>      A pattern-list is a comma-separated list of patterns.  Patterns\nwithin pattern-lists may be negated by preceding them\n>      with an exclamation mark (\u2018!\u2019).  For example, to allow a key to\nbe used from anywhere within an organisation except from\n>      the \u201cdialup\u201d pool, the following entry (in authorized_keys)\ncould be used:\n> \n>            from=\"!*.dialup.example.com,*.example.com\"\n> ---\n> \n> \n> akarlsso assigned to issue for EMEA-SERVICES-TAM.\n> Product changed from 'Red Hat Enterprise Linux 5' to 'Red Hat Enterprise\nLinux'\n> Category set to: Applications\n> Internal Status set to 'Waiting on Support'\n> Version set to: '5.2'\n\nThanks for the update.\n\nWe have a meeting with Camelot next week regarding an 180 K GBP deal due\nto be\nsigned before quarter end :\n\nhttps://na4.salesforce.com/0066000000BHBoH?srPos=0&srKp=006\n\nI would like to have an answer towards their request. This is impacting\nfor them\n because AIX carries the feature, and right now its RHEL that does not fit\nthe\npicture.\n\nI am not asking for the impossible, but a quick turn around instead and a\nsolid\nreason for refusal if we cannot deliver it.\n\nIf this takes too much time, is there any possibility to look at it as a\nHot Fix\n / specific delivery to the customer?\n\nCan I have a rough estimation release wise to when we could potentially be\nshipping this? Is it already too late for 5.4.\n\nRegards.\n-- \nBoris Devouge                \t\t    <boris@redhat.com>\nSenior Solution Architect, Red Hat UK&I     mobile: +44 7921 700937\nGPG FPR: 24B7 CB8F B7EC FC9B 10C3 3389 0948 952D 587A D9C1\n\n\n\n\nThis event sent from IssueTracker by jwest  [SEG - Feature Request]\n issue 239611",
          "author": "tao@redhat.com",
          "creation_time": "20081121T05:38:24",
          "bug_id": "472493",
          "creator_id": "80926",
          "time": "20081121T05:38:24",
          "id": "1944679",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "tao@redhat.com",
          "text": "Hello Friendly SEG Person,\n\nThis is a RFE being sent up, any questions, give me a shout.\n\n\n1.) Who is the customer?\n\nCamelot\n\n2.) What is the exact nature of the problem trying to be solved with this\nrequest?\n\nGreater granularity of setting specific options in sshd_config for the SSH\nserver. Like specifying different access parameters based on a specific\nuser or host, forcing a specific command to be run based on login from a\ncertain address range.\n\n3.) What, if any, business requirements are satisfied by this request?\n(What is the use case context?)\n\nSee 2.\n\n4.) List the functional requirement(s) for performing the action(s) that\nare not presently possible. Please focus on describing the problem related\nrequirements without projecting any specific solution.\n\nYou can at present do very limited set of what is required. In\nsshd_config, you can set options based on a specific host pattern, but not\nbased on User, Group or originating Address range. As Boris writes, there\nis a need to allow only a specific user to authenticate with pub-key while\nall others use different mechanism.\n\nSure, you can run multiple sshd's to cater for specific users need, but\nthat is not a very elegant solution. The Match parameter allow you a much\ngreater degree of control, in the one sshd.\n\nFor example, by default you disallow TcpForwarding, but you want to allow\na admin user that privilege. You by default disable\nHostbasedAuthentication but may want to allow it for a specific automation\nuser. You may want to disallow X11Forwarding except from a specific address\npattern.\n\nThe Match parameter allows you to solve this problem.\n\n5.) Each functional requirement must have clear acceptance criteria so Red\nHat understands what success looks like. If test cases can be provided this\nwould be even more ideal (bonus points for RHTS test cases).\n\nIf backport is successfull, test with something like:\n * add a Match statement to sshd_config to match on a user and display a\n   custom banner.\n * create the banner file referenced and the user required\n * restart sshd\n * attempt to ssh in to the system as that user\n\n - If you see the custom banner - success.\n\n Should test all criteria usable in Match; User, Group, Host and Address\n\n6.) What is the desired release vehicle to satisfy these requirements?\nMajor or Minor release?\n\nRHEL5.4 if possible, otherwise RHEL5.5.\n\n7.) Please justify with reference to the release vehicle policy described\nin the RHEL Inclusion Criteria wiki page\n\nMinor RFE, code upstream already. Target inclusion in next minor update.\n\n8.) What package(s) are affected by this RFE? (List ''new'' if new\ntechnology is likely to be required)\n\nopenssh-server\n\n9.) Who is the sales sponsor?\n\nFrauke Bonds\n\n10.) What is the Red Hat business opportunity with this customer?\n\nAbout GBP 100k this quarter.\n\n11.) What is the status and risk to the contract if this RFE is not\nsatisfied?\n\nNo risk.\n\n\nThanks!\n\n/Anders\n\n\n\nIssue escalated to Support Engineering Group by: akarlsso.\nInternal Status set to 'Waiting on SEG'\n\nThis event sent from IssueTracker by jwest  [SEG - Feature Request]\n issue 239611",
          "author": "tao@redhat.com",
          "creation_time": "20081121T05:38:26",
          "bug_id": "472493",
          "creator_id": "80926",
          "time": "20081121T05:38:26",
          "id": "1944680",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "tmraz@redhat.com",
          "text": "This is not a minor change - the patch will be touching many various parts of the OpenSSH code. Not that it is impossible to backport it but do we really want to introduce such changes in RHEL-5?",
          "author": "tmraz@redhat.com",
          "creation_time": "20081121T08:28:37",
          "bug_id": "472493",
          "creator_id": "167996",
          "time": "20081121T08:28:37",
          "id": "1944797",
          "is_private": "False"
        },
        {
          "count": "8",
          "creator": "jwest@redhat.com",
          "text": "Tomas,\n\nGreat comments, that was the feedback we were looking for on this.  I'll re-flag for rhel-6.0.",
          "author": "jwest@redhat.com",
          "creation_time": "20081121T14:10:19",
          "bug_id": "472493",
          "creator_id": "194553",
          "time": "20081121T14:10:19",
          "id": "1945115",
          "is_private": "False"
        },
        {
          "count": "9",
          "creator": "tao@redhat.com",
          "text": "Hi all,\n\n Thank you very much for the quick turn around and great communication.\nCustomer called me last night and it happens that he needs further\nfunctionality associated with the match parameter in later upstream\nrelease of OpenSSH. Particularly the match parameter was extended to\ninclude 'host', addresses and 'Permit root logins' that the customer\nrequires.\n\nI had a look at the upstream patches, and this seems to be present with\nthe 5.0p1 release (that we are shipping in fedora).\n\nCustomer indicated that seeking support for it could wait, but they will\nrequire a build package (fedora package respinned to RHEL) and GPG Red Hat\nsigned for easy integration in their Satellite and custom channels.\n\nWould it be possible to have this built (again no supported / very limited\nSLA is completely fine with customer) and distributed through this IT ? If\nnot, quite happy to built it myself, not sure how i will get around to\nsign it.\n\nThank you again for help and assistance.\n\nAdditionaly, we are in a very good light doing this, as IBM/AIX has\nrefused to ship a new package in a timely manner for their testing\n(Deadline end of next week).\n\nKind regards.\n\n\n\nVersion changed from '5.2' to 'UNKNOWN'\n\nThis event sent from IssueTracker by bdevouge \n issue 239611",
          "author": "tao@redhat.com",
          "creation_time": "20081121T14:53:47",
          "bug_id": "472493",
          "creator_id": "80926",
          "time": "20081121T14:53:47",
          "id": "1945175",
          "is_private": "True"
        },
        {
          "count": "10",
          "creator": "notting@redhat.com",
          "text": "RHEL 6 will include at least openssh-5.1, so this shouldn't be an issue. Setting to MODIFIED for verification.\n\nThe feature requested has already been accepted into the upstream code base\nplanned for the next major release of Red Hat Enterprise Linux.\n\nWhen the next milestone release of Red Hat Enterprise Linux 6 is available,\nplease verify that the feature requested is present and functioning as\ndesired.",
          "author": "notting@redhat.com",
          "creation_time": "20081124T20:03:30",
          "bug_id": "472493",
          "creator_id": "4",
          "time": "20081124T20:03:30",
          "id": "1947884",
          "is_private": "False"
        },
        {
          "count": "11",
          "creator": "releng-rhel@redhat.com",
          "text": "Fixed in 'openssh-5.2p1-17.el6', included in compose 'RHEL6.0-20091102.0'.\nMoving to ON_QA.",
          "author": "releng-rhel@redhat.com",
          "creation_time": "20091102T23:13:17",
          "bug_id": "472493",
          "creator_id": "286012",
          "time": "20091102T23:13:17",
          "id": "2434298",
          "is_private": "False"
        },
        {
          "count": "12",
          "creator": "ebenes@redhat.com",
          "text": "@jfch: Could you please provide us how-to-test instructions for this bug?",
          "author": "ebenes@redhat.com",
          "creation_time": "20100331T16:24:46",
          "bug_id": "472493",
          "creator_id": "203333",
          "time": "20100331T16:24:46",
          "id": "2752131",
          "is_private": "True"
        },
        {
          "count": "13",
          "creator": "jchadima@redhat.com",
          "text": "There is no need to test it, the Match parameter is a common feature the openssh's version used in RHEL6. \nIf you ''really'' need to test it, use man sshd_config, section match.",
          "author": "jchadima@redhat.com",
          "creation_time": "20100401T06:06:14",
          "bug_id": "472493",
          "creator_id": "276623",
          "time": "20100401T06:06:14",
          "id": "2753361",
          "is_private": "True"
        },
        {
          "count": "14",
          "creator": "mvadkert@redhat.com",
          "text": "VERIFIED as fixed in openssh-5.3p1-14.el6:\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running '/usr/sbin/sshd -t'\n:: [   PASS   ] :: Running './ssh.exp matchuser user localhost | egrep -c 'matchuser' | grep 2'\n:: [   LOG    ] :: Duration: 1s\n:: [   LOG    ] :: Assertions: 2 good, 0 bad\n:: [   PASS   ] :: RESULT: Test",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100413T09:36:36",
          "bug_id": "472493",
          "creator_id": "271572",
          "time": "20100413T09:36:36",
          "id": "2774473",
          "is_private": "False"
        },
        {
          "count": "15",
          "creator": "tao@redhat.com",
          "text": "Event posted on 05-27-2010 07:10am EDT by AutoCloser\n\nThere have been no updates to this issue in the past 28 days. This issue\nwill now be closed due to inactivity. If this is in error, please reopen\nthe issue and check to make sure that it is current and in the proper\nstatus. If the issue is something which is on a longer timeline than a\nmonth, please change the status to one of the long term selections to\navoid closure due to inactivity.\nThis event sent from IssueTracker by AutoCloser  [EMEA-Presales]\n issue 239611",
          "author": "tao@redhat.com",
          "creation_time": "20100527T11:10:34",
          "bug_id": "472493",
          "creator_id": "80926",
          "time": "20100527T11:10:34",
          "id": "2881699",
          "is_private": "True"
        },
        {
          "count": "16",
          "creator": "releng-rhel@redhat.com",
          "text": "Red Hat Enterprise Linux Beta 2 is now available and should resolve\nthe problem described in this bug report. This report is therefore being closed\nwith a resolution of CURRENTRELEASE. You may reopen this bug report if the\nsolution does not work for you.",
          "author": "releng-rhel@redhat.com",
          "creation_time": "20100702T19:39:44",
          "bug_id": "472493",
          "creator_id": "286012",
          "time": "20100702T19:39:44",
          "id": "2979619",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.0"
      ],
      "cc": [
        "ebenes@redhat.com",
        "jplans@redhat.com",
        "mvadkert@redhat.com",
        "notting@redhat.com",
        "snagar@redhat.com",
        "syeghiay@redhat.com",
        "tao@redhat.com"
      ],
      "cf_verified": [
        "PreBeta"
      ],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "mvadkert@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Enhancement",
      "cf_clone_of": "0",
      "groups": [
        "devel",
        "qa",
        "rhn",
        "support"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "[RFE] 'Match' parameter sshd backport in our RHEL5 sshd",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.0.0",
          "modification_date": "20091106T15:25:26",
          "type_id": "62",
          "is_active": "0",
          "creation_date": "20090615T20:34:35",
          "id": "469591",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20091030T20:42:49",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20081121T05:39:15",
          "id": "415714",
          "setter": "snagar@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20091014T21:12:03",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20091014T21:12:03",
          "id": "511332",
          "setter": "syeghiay@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20091106T14:56:49",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20091014T21:30:12",
          "id": "511389",
          "setter": "benl@redhat.com"
        }
      ],
      "last_change_time": "20101023T06:06:41",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509330-wBSarGZivCd6llfcq6ykszLhzV59T84qO3S-2shL6js",
      "cf_partner": [],
      "cf_last_closed": "20100702T19:39:44",
      "resolution": "CURRENTRELEASE",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20090112T15:42:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "FutureFeature",
        "Triaged"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "None",
          "ext_bz_bug_id": "00214317",
          "bug_id": "479700",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "26748"
        }
      ],
      "id": "479700",
      "cf_release_notes": "",
      "priority": "medium",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "tao@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "tao@redhat.com",
          "text": "Escalated to Bugzilla from IssueTracker",
          "author": "tao@redhat.com",
          "creation_time": "20090112T15:42:47",
          "bug_id": "479700",
          "creator_id": "80926",
          "time": "20090112T15:42:47",
          "id": "2006690",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "tao@redhat.com",
          "text": "Description of problem:\nI require SFTP to log authentications to lastlog the same as SSH does.  I have done some research on this and it appears that in many versions of the sftp-server subsystem, the arguements ''-f'' and ''-l'' are available which would grant me this option, but these do not appear to be an option with Redhat's OpenSSH.  I am using latest package for RHEL 4 (v3.9p1-11) in my testing.  This is at least the latest I have on my satellite.  If not the latest, it should be relatively close.\n\nHow reproducible:\nEasily reproducible on any RHEL 4 server I would think.\n\nSteps to Reproduce:\nsftp or scp to the server and check lastlog for evidence of the authentication.\n\nActual results:\nNo sftp authentication logging.\n\nExpected results:\nsftp authentication logging.\n\nAdditional info:\nIn the past we used an internal version of openssh, but we have since moved to Redhat's version.  The old version still exists on the server, but is not running.  In the early stages of my troubleshooting I did notice that the sftp subsystem was pointing to the sftp-server of the other openssh instance.  I have corrected this and I do not see any further issues with the configuration.  Here are the only uncommented lines in sshd_config:\n\n# grep -v ^# sshd_config | grep -v ^$\nUsePAM yes\nAllowTcpForwarding yes\nX11Forwarding yes\nSubsystem       sftp    /usr/libexec/openssh/sftp-server\nThis event sent from IssueTracker by jwest  [SEG - Feature Request]\n issue 253534",
          "author": "tao@redhat.com",
          "creation_time": "20090112T15:42:49",
          "bug_id": "479700",
          "creator_id": "80926",
          "time": "20090112T15:42:49",
          "id": "2006691",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "tao@redhat.com",
          "text": "Thanks Kent.  I just wanted to clarify that logging to lastlog is really\nwhat I am talking about.  Syslog does still send this to ''messages'', but\nwe use lastlog to obtain a list of users which have not logged in before\nor not in a long time so that they can be disabled and later deleted\nentirely.  Since ''messages'' is rotated regularly and we only do this once\na month (scripted), relying on parsing that for the users only using sftp\nor scp is not an option.\n\n\nThis event sent from IssueTracker by jwest  [SEG - Feature Request]\n issue 253534",
          "author": "tao@redhat.com",
          "creation_time": "20090112T15:42:50",
          "bug_id": "479700",
          "creator_id": "80926",
          "time": "20090112T15:42:50",
          "id": "2006692",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "tao@redhat.com",
          "text": "Christopher,\n\nWhat I have found out is that the current versions (including upstream)\nonly record interactive sessions with allocated pty to lastlog.  This is\nwhy sftp does not log.\n\nIf you would like, we can file a feature request for this.  Let me know.\n\nThanks\n\nKent\n\n\n\n\nInternal Status set to 'Waiting on Customer'\nStatus set to: Waiting on Customer\n\nThis event sent from IssueTracker by jwest  [SEG - Feature Request]\n issue 253534",
          "author": "tao@redhat.com",
          "creation_time": "20090112T15:42:52",
          "bug_id": "479700",
          "creator_id": "80926",
          "time": "20090112T15:42:52",
          "id": "2006693",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "tao@redhat.com",
          "text": "1.) Who is the customer?\n\nSavvis\n\n2.) What is the exact nature of the problem trying to be solved with this\nrequest?\n\nSFTP recoding to lastlog\n\n3.) What, if any, business requirements are satisfied by this request?\n(What is the use case context?)\n\n\n\n4.) List the functional requirement(s) for performing the action(s) that\nare not presently possible. Please focus on describing the problem related\nrequirements without projecting any specific solution.\n\nsftp does not log to lastlog, as openssh only send interactive to lastlog\n\n5.) Each functional requirement must have clear acceptance criteria so Red\nHat understands what success looks like. If test cases can be provided this\nwould be even more ideal (bonus points for RHTS test cases).\n\n1) sftp user@host\n\n2) see user in host's lastlog\n\n6.) What is the desired release vehicle to satisfy these requirements?\nminor\n\n7.) Does this request meet the RHEL Inclusion Criteria for the release\nyou're requesting?\n\nyes\n\n8.) What package(s) are affected by this RFE? (List ''new'' if new\ntechnology is likely to be required)\n\nopenssh\n\n[Red Hat Sales/Frontline] -- This section should be completed by the front\nline engineer with the assistance of the account manager/sales rep.\n9.) Who is the sales sponsor?\n\nClark Smith\n\n10.) What is the Red Hat business opportunity with this customer?\n\nContinued growing of rhel\n\n11.) What is the status and risk to the contract if this RFE is not\nsatisfied?\n\nnone \n\n\nThis event sent from IssueTracker by jwest  [SEG - Feature Request]\n issue 253534",
          "author": "tao@redhat.com",
          "creation_time": "20090112T15:42:53",
          "bug_id": "479700",
          "creator_id": "80926",
          "time": "20090112T15:42:53",
          "id": "2006694",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "tao@redhat.com",
          "text": "Christopher,\n\nYou had mentioned that there is a patch for this.  Its not upstream (at\nleast not that I can find).  Do you have the patch or its location handy? \nI'd like to take a look at it.\n\nthanks\n\nkent\n\n\n\n\nInternal Status set to 'Waiting on Customer'\nStatus set to: Waiting on Customer\n\nThis event sent from IssueTracker by jwest  [SEG - Feature Request]\n issue 253534",
          "author": "tao@redhat.com",
          "creation_time": "20090112T15:42:54",
          "bug_id": "479700",
          "creator_id": "80926",
          "time": "20090112T15:42:54",
          "id": "2006695",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "tao@redhat.com",
          "text": "Certainly.\n\nhttp://sftplogging.sourceforge.net/\n\nI should point out that I have not taken the time to test this myself\nsince I knew that it was not an option for me.  I do not know first hand\nthat this would provide the update of lastlog as I require.\n\nGood luck,\n\n-Christopher Stieben\n\n-----Original Message-----\nFrom: Red Hat Issue Tracker [mailto:tao@redhat.com] \nSent: Monday, January 12, 2009 7:47 AM\nTo: Stieben, Christopher\nSubject: (UPDATED) Issue #253534 (RFE: enable sftp reporting to\nlastlog)[Savvis]\n\n\nUpdate to issue 253534 by klamb@redhat.com\nCustomer Reference: None\nAction: Christopher,\n\nYou had mentioned that there is a patch for this.  Its not upstream (at\nleast not that I can find).  Do you have the patch or its location\nhandy?  I'd like to take a look at it.\n\nthanks\n\nkent\n\n\n\n\n\nStatus set to: Waiting on Customer\n\n\nhttps://enterprise.redhat.com/issue-tracker/253534\n\nPrevious Events:\n----------------\nPosted 01-09-2009 10:24am by klamb@redhat.com\nI'll file a feature request.\n\nAlso, the upstream versions from OpenSSH that we use (including RHEL5)\ndo not contain this functionality.  \n\nPlease note that RHEL4 will go into phase 2 of its lifecycle with the\nrelease of 4.8, which is coming in April. We will not be able to get\nfeature requests in past that point.  At that point, RHEL4 will only get\nbugfixes and hardware enablement.  For more info on the lifecycle,\nplease see: http://www.redhat.com/security/updates/errata/\n\nThis is an upstream feature request, so it is doubtful that we will see\nit in RHEL4, but I will file it against both the RHEL4 and RHEL5\nversions of OpenSSH.\n\nAs far as compiling your own version with this capability, I'll be glad\nto help w/ any issues that you may have with it, but it would be ''best\neffort''...\n\n\nThanks\n\nKent\n\n\n\n\n\n\nStatus set to: Waiting on Tech\n\n\nPosted 01-09-2009 09:47am by christopher.stieben@savvis.net\nYes please.  I do need this functionality and it is going to be a while\nbefore we move to RHEL5 (making the assumption that it works there).  I\nknow that there is a patch for this, but that would require me to\ncompile from source which would void my support for OpenSSH with you\nwhich is not acceptable.  -thx\n\n\n\n\n\nThis message contains information which may be confidential and/or\nprivileged. Unless you are the intended recipient (or authorized to\nreceive for the intended recipient), you may not read, use, copy or\ndisclose to anyone the message or any information contained in the\nmessage. If you have received the message in error, please advise the\nsender by reply e-mail and delete the message and any attachment(s)\nthereto without retaining any copies.\n\n\n\nInternal Status set to 'Waiting on Support'\nStatus set to: Waiting on Tech\n\nThis event sent from IssueTracker by jwest  [SEG - Feature Request]\n issue 253534",
          "author": "tao@redhat.com",
          "creation_time": "20090112T15:42:56",
          "bug_id": "479700",
          "creator_id": "80926",
          "time": "20090112T15:42:56",
          "id": "2006696",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "tmraz@redhat.com",
          "text": "The sftp-logging patch provides only possibility to log the sftp session to the syslog. It does not provide the write-to-lastlog functionality. This functionality is not present in the latest upstream either.",
          "author": "tmraz@redhat.com",
          "creation_time": "20090112T16:00:38",
          "bug_id": "479700",
          "creator_id": "167996",
          "time": "20090112T16:00:38",
          "id": "2006730",
          "is_private": "False"
        },
        {
          "count": "8",
          "creator": "jwest@redhat.com",
          "text": "Tomas,\n\nThanks for commenting ... yes we understand this feature isn't upstream.  Is this something that Red Hat can take the lead on upstream? (thus the reason for flagging this for RHEL6 ... give some time)\n\nThanks\nJeremy",
          "author": "jwest@redhat.com",
          "creation_time": "20090112T16:04:03",
          "bug_id": "479700",
          "creator_id": "194553",
          "time": "20090112T16:04:03",
          "id": "2006739",
          "is_private": "False"
        },
        {
          "count": "9",
          "creator": "sgrubb@redhat.com",
          "text": "This problem should be addressed in one way or another. Either pam can do the job or we can patch sftp and scp.",
          "author": "sgrubb@redhat.com",
          "creation_time": "20091008T19:32:51",
          "bug_id": "479700",
          "creator_id": "168751",
          "time": "20091008T19:32:51",
          "id": "2398565",
          "is_private": "True"
        },
        {
          "count": "10",
          "creator": "tmraz@redhat.com",
          "text": "The obvious workaround is to put 'session optional pam_lastlog.so silent nowtmp' to /etc/pam.d/sshd.\n\nThe first question is whether this could/should replace the sshd own lastlog writing code - Jan Chadima investigated that and the answer is no, it can't replace it as the entry written by the sshd is different (it contains information about the pty of the session).\n\nBut what if we keep the sshd lastlog write in? The remaining question is whether this pam_lastlog call should be done in the default configuration and the answer is again no.\n\nI've spent some time comparing sshd behaviour to rsh/rexec and vsftpd and these daemons/services do not write to lastlog/wtmp either. sshd always tried to emulate the behaviour of these ''legacy'' services in such regards.\n\nSo as easy workaround for customers exists I think this feature request should be closed.",
          "author": "tmraz@redhat.com",
          "creation_time": "20091015T12:14:40",
          "bug_id": "479700",
          "creator_id": "167996",
          "time": "20091015T12:14:40",
          "id": "2407588",
          "is_private": "False"
        },
        {
          "count": "11",
          "creator": "sgrubb@redhat.com",
          "text": "There was also the proposal to create a lastauth program and file similar to lastlog. This would meet the needs without losing the semantics of lastlog being for actual login sessions.",
          "author": "sgrubb@redhat.com",
          "creation_time": "20091015T12:58:11",
          "bug_id": "479700",
          "creator_id": "168751",
          "time": "20091015T12:58:11",
          "id": "2407639",
          "is_private": "False"
        },
        {
          "count": "12",
          "creator": "tao@redhat.com",
          "text": "Event posted on 10-15-2009 08:46am CDT by christopher.stieben@savvis.net\n\nThis seems to have worked.  Thanks.\n\nInternal Status set to 'Resolved'\nStatus set to: Closed by Client\nResolution set to: 'Closed by Client'\nTicket type changed from 'Question' to ''\n\nThis event sent from IssueTracker by christopher.stieben@savvis.net \n issue 253534",
          "author": "tao@redhat.com",
          "creation_time": "20091015T13:46:56",
          "bug_id": "479700",
          "creator_id": "80926",
          "time": "20091015T13:46:56",
          "id": "2407727",
          "is_private": "True"
        },
        {
          "count": "13",
          "creator": "tao@redhat.com",
          "text": "Event posted on 10-26-2009 08:39am CDT by christopher.stieben@savvis.net\n\nreopened in error.\n\nInternal Status set to 'Resolved'\nStatus set to: Closed by Client\nResolution set to: 'Closed by Client'\n\nThis event sent from IssueTracker by christopher.stieben@savvis.net \n issue 253534",
          "author": "tao@redhat.com",
          "creation_time": "20091026T13:39:33",
          "bug_id": "479700",
          "creator_id": "80926",
          "time": "20091026T13:39:33",
          "id": "2421660",
          "is_private": "True"
        },
        {
          "count": "14",
          "creator": "jchadima@redhat.com",
          "text": "The workarround exists and the client uses it.  The client have closed the bug.",
          "author": "jchadima@redhat.com",
          "creation_time": "20091026T14:28:34",
          "bug_id": "479700",
          "creator_id": "276623",
          "time": "20091026T14:28:34",
          "id": "2421795",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.0"
      ],
      "cc": [
        "sgrubb@redhat.com",
        "tao@redhat.com",
        "tmraz@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "bbrock@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Enhancement",
      "cf_clone_of": "0",
      "groups": [
        "devel",
        "qa",
        "rhn",
        "support"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "[RFE] enable sftp reporting to lastlog",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.0.0",
          "modification_date": "20090112T15:44:54",
          "type_id": "62",
          "is_active": "0",
          "creation_date": "20090112T15:44:54",
          "id": "424405",
          "setter": "jwest@redhat.com"
        },
        {
          "status": "?",
          "name": "pm_ack",
          "modification_date": "20090112T15:44:54",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20090112T15:44:54",
          "id": "424406",
          "setter": "jwest@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20091008T19:32:51",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20090911T17:04:53",
          "id": "499422",
          "setter": "sgrubb@redhat.com"
        },
        {
          "status": "?",
          "name": "qa_ack",
          "modification_date": "20091008T20:00:33",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20091008T20:00:33",
          "id": "508886",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20101023T06:54:29",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509330--kTkMoeWzPkaEtT3rj1EMoJujV4OHDrk4b1G1Q1lOx0",
      "cf_partner": [],
      "cf_last_closed": "20091026T14:28:34",
      "resolution": "NOTABUG",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20100329T23:07:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "FutureFeature"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "None",
          "ext_bz_bug_id": "00407835",
          "bug_id": "577998",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "35137"
        }
      ],
      "id": "577998",
      "cf_release_notes": "",
      "priority": "medium",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-33.el6",
      "creator": "ssorce@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "ssorce@redhat.com",
          "text": ".k5login allows a user to let others access his account w/o admin intervention.\n\nThere are 2 potential problems in some setups.\n\nA) Company policy that prevents account sharing\nB) Access to other users credentials using social engineering techniques to make someone log into your account and forward you his credentials\n\nFor these reasons it would be useful if there were a sshd_config option to prevent sshd from using .k5login files.",
          "author": "ssorce@redhat.com",
          "creation_time": "20100329T23:07:17",
          "bug_id": "577998",
          "creator_id": "209833",
          "time": "20100329T23:07:17",
          "id": "2746008",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20100329T23:17:49",
          "bug_id": "577998",
          "creator_id": "193983",
          "time": "20100329T23:17:49",
          "id": "2746011",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "pm-rhel@redhat.com",
          "text": "This feature request did not get resolved in time for Feature Freeze\nfor the current Red Hat Enterprise Linux release and has now been\ndenied. You may re-open your request by requesting your support\nrepresentative to propose it for the next release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20100329T23:43:44",
          "bug_id": "577998",
          "creator_id": "193983",
          "time": "20100329T23:43:44",
          "id": "2746031",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "jchadima@redhat.com",
          "text": "The .k5login file is a kerberos feature, not openssh. This functionality cannot be directly controlled from openssh.",
          "author": "jchadima@redhat.com",
          "creation_time": "20100330T09:40:36",
          "bug_id": "577998",
          "creator_id": "276623",
          "time": "20100330T09:40:36",
          "id": "2748668",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "ssorce@redhat.com",
          "text": "Jan,\nall is needed is to make the krb5_kuserok() call dependent on this option.\nIt is perfectly controllable from openssh.",
          "author": "ssorce@redhat.com",
          "creation_time": "20100330T13:34:55",
          "bug_id": "577998",
          "creator_id": "209833",
          "time": "20100330T13:34:55",
          "id": "2749300",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "jchadima@redhat.com",
          "text": "The intention is to block ssh only or better is block all kerberized services from using .k5login files?\nIf is desired to ban all services from .k5login, the SELinux rule may work better.",
          "author": "jchadima@redhat.com",
          "creation_time": "20100512T06:47:29",
          "bug_id": "577998",
          "creator_id": "276623",
          "time": "20100512T06:47:29",
          "id": "2841572",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "ssorce@redhat.com",
          "text": "The intention is to have the option of blocking it for ssh.\nSELinux could be considered as an additional measure, but we would still want to prevent ssh from even trying.",
          "author": "ssorce@redhat.com",
          "creation_time": "20100517T12:30:51",
          "bug_id": "577998",
          "creator_id": "209833",
          "time": "20100517T12:30:51",
          "id": "2851736",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "jchadima@redhat.com",
          "text": "The patch solving the problem is experimentally put into rawhide, can you test if it fits your requirements please.",
          "author": "jchadima@redhat.com",
          "creation_time": "20100608T10:23:02",
          "bug_id": "577998",
          "creator_id": "276623",
          "time": "20100608T10:23:02",
          "id": "2911042",
          "is_private": "False"
        },
        {
          "count": "8",
          "creator": "jchadima@redhat.com",
          "text": "Reporter, could you please reply to the previous question? Thank you.",
          "author": "jchadima@redhat.com",
          "creation_time": "20100914T09:02:42",
          "bug_id": "577998",
          "creator_id": "276623",
          "time": "20100914T09:02:42",
          "id": "3148291",
          "is_private": "False"
        },
        {
          "count": "9",
          "creator": "ssorce@redhat.com",
          "text": "Jan,\nsorry for the dealy I hadn't seen your request.\n\nI tested this morning with an F14 build (I see the patch is there too and sshd_config has the option commented) and the current rawhide package.\n\nUnfortunately it doesn't work. It looks like the KerberosUseKuserok option is simply ignored, I still see in the logs that a different principal (one I put in .k5login) is allowed to login in.\nThe sshd log mentions it allowing the fact because krb5_kuserok approved.\n\nLooks like the option is being ignored.",
          "author": "ssorce@redhat.com",
          "creation_time": "20100914T14:30:34",
          "bug_id": "577998",
          "creator_id": "209833",
          "time": "20100914T14:30:34",
          "id": "3149205",
          "is_private": "False"
        },
        {
          "count": "10",
          "creator": "jchadima@redhat.com",
          "text": "Simo,\nplease can you test openssh-5.6p1-7.fc15 from rawhide, I've repaired some discrepance in the patch.",
          "author": "jchadima@redhat.com",
          "creation_time": "20100915T08:46:24",
          "bug_id": "577998",
          "creator_id": "276623",
          "time": "20100915T08:46:24",
          "id": "3151389",
          "is_private": "False"
        },
        {
          "count": "11",
          "creator": "jchadima@redhat.com",
          "text": "patch successfully tested",
          "author": "jchadima@redhat.com",
          "creation_time": "20100916T12:02:10",
          "bug_id": "577998",
          "creator_id": "276623",
          "time": "20100916T12:02:10",
          "id": "3155247",
          "is_private": "False"
        },
        {
          "count": "12",
          "attachment_id": "460524",
          "author": "jchadima@redhat.com",
          "text": "Created attachment 460524\nproposed solution",
          "creator": "jchadima@redhat.com",
          "creation_time": "20101115T11:32:36",
          "bug_id": "577998",
          "creator_id": "276623",
          "time": "20101115T11:32:36",
          "id": "3308342",
          "is_private": "False"
        },
        {
          "count": "13",
          "creator": "ebenes@redhat.com",
          "text": "QA_ACK+ for 6.1.0",
          "author": "ebenes@redhat.com",
          "creation_time": "20101119T14:31:01",
          "bug_id": "577998",
          "creator_id": "203333",
          "time": "20101119T14:31:01",
          "id": "3361006",
          "is_private": "True"
        },
        {
          "count": "14",
          "creator": "mkhusid@redhat.com",
          "text": "pm_ack+ for 6.1",
          "author": "mkhusid@redhat.com",
          "creation_time": "20101124T15:18:41",
          "bug_id": "577998",
          "creator_id": "298056",
          "time": "20101124T15:18:41",
          "id": "3372420",
          "is_private": "True"
        },
        {
          "count": "15",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2011:10529-08\nhttp://errata.devel.redhat.com/errata/show/10529",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110114T12:58:56",
          "bug_id": "577998",
          "creator_id": "241731",
          "time": "20110114T12:58:56",
          "id": "3479032",
          "is_private": "True"
        },
        {
          "count": "16",
          "creator": "mvadkert@redhat.com",
          "text": "Jan as this is a FutureFeature bug, please provide which parts of openssh can\nthis bug affect (besides the feature itself). So we can concentrate on these\nparts during our testing. Thank you!",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110127T12:20:56",
          "bug_id": "577998",
          "creator_id": "271572",
          "time": "20110127T12:20:56",
          "id": "3503683",
          "is_private": "True"
        },
        {
          "count": "17",
          "creator": "jchadima@redhat.com",
          "text": "kerberos and gssapi functionality at all.",
          "author": "jchadima@redhat.com",
          "creation_time": "20110128T10:00:57",
          "bug_id": "577998",
          "creator_id": "276623",
          "time": "20110128T10:00:57",
          "id": "3505756",
          "is_private": "True"
        },
        {
          "count": "18",
          "creator": "mvadkert@redhat.com",
          "text": "gssapi-with-mic sanity test enhanced with reproducer for this bug.\n/CoreOS/openssh/Sanity/gssapi-with-mic\n\nThe test now tests if user \n1. can login with his kerberos credentials\n2. cannot login with other kerberos credentials\n3. can login if other kerberos credentials added to .krb5login\n4. cannnot login if other kerberos credentials added to .krb5login and KerberosUseKuserok is no in sshd_config",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110313T11:24:22",
          "bug_id": "577998",
          "creator_id": "271572",
          "time": "20110313T11:24:22",
          "id": "3589638",
          "is_private": "False"
        },
        {
          "count": "19",
          "creator": "mvadkert@redhat.com",
          "text": "gssapi-with-mic sanity test enhanced with reproducer for this bug.\n/CoreOS/openssh/Sanity/gssapi-with-mic\n\nThe test now tests if user \n1. can login with his kerberos credentials\n2. cannot login with other kerberos credentials\n3. can login if other kerberos credentials added to .krb5login\n4. cannnot login if other kerberos credentials added to .krb5login and KerberosUseKuserok is no in sshd_config",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110313T11:24:24",
          "bug_id": "577998",
          "creator_id": "271572",
          "time": "20110313T11:24:24",
          "id": "3589639",
          "is_private": "False"
        },
        {
          "count": "20",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2011:10529-18: \nhttp://errata.devel.redhat.com/errata/stateview/10529\n\nVERIFIED as fixed in openssh-5.3p1-46.el6\n\nNEW package openssh-5.3p1-46.el6:\n:: [   PASS   ] :: Running 'echo tester | kinit tester'\n:: [   PASS   ] :: Running 'klist'\n:: [   PASS   ] :: Running './ssh.exp tester'\n:: [   PASS   ] :: Running 'kdestroy'\n:: [   PASS   ] :: Running 'echo joozi | kinit joozi'\n:: [   PASS   ] :: Running 'klist'\n:: [   PASS   ] :: Running './ssh.exp tester'\n:: [   PASS   ] :: Running 'su -c 'echo joozi@EXAMPLE.COM > /home/tester/.k5login' tester'\n:: [   PASS   ] :: Running 'klist'\n:: [   PASS   ] :: Running './ssh.exp tester'\n:: [   PASS   ] :: Running 'echo 'KerberosUseKuserok no' >> /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running 'service sshd restart'\n:: [   PASS   ] :: Running 'klist'\n:: [   PASS   ] :: Running './ssh.exp tester'\n:: [   PASS   ] :: Running 'kdestroy'\n:: [   LOG    ] :: Duration: 4s\n:: [   LOG    ] :: Assertions: 15 good, 0 bad\n:: [   PASS   ] :: RESULT: Test\n\nOLD package openssh-5.3p1-20.el6:\n:: [   PASS   ] :: Running 'echo tester | kinit tester'\n:: [   PASS   ] :: Running 'klist'\n:: [   PASS   ] :: Running './ssh.exp tester'\n:: [   PASS   ] :: Running 'kdestroy'\n:: [   PASS   ] :: Running 'echo joozi | kinit joozi'\n:: [   PASS   ] :: Running 'klist'\n:: [   PASS   ] :: Running './ssh.exp tester'\n:: [   PASS   ] :: Running 'su -c 'echo joozi@EXAMPLE.COM > /home/tester/.k5login' tester'\n:: [   PASS   ] :: Running 'klist'\n:: [   PASS   ] :: Running './ssh.exp tester'\n:: [   PASS   ] :: Running 'echo 'KerberosUseKuserok no' >> /etc/ssh/sshd_config'\n:: [   FAIL   ] :: Running 'service sshd restart' (Expected 0, got 255)\n:: [   PASS   ] :: Running 'klist'\n:: [   PASS   ] :: Running './ssh.exp tester'\n:: [   PASS   ] :: Running 'kdestroy'\n:: [   LOG    ] :: Duration: 4s\n:: [   LOG    ] :: Assertions: 14 good, 1 bad\n:: [   FAIL   ] :: RESULT: Test\n\nNote: the new option is not recognized -> restart of openssh fails",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110313T11:31:35",
          "bug_id": "577998",
          "creator_id": "241731",
          "time": "20110313T11:31:35",
          "id": "3589643",
          "is_private": "True"
        },
        {
          "count": "21",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "An advisory has been issued which should help the problem\ndescribed in this bug report. This report is therefore being\nclosed with a resolution of ERRATA. For more information\non therefore solution and/or where to find the updated files,\nplease follow the link below. You may reopen this bug report\nif the solution does not work for you.\n\nhttp://rhn.redhat.com/errata/RHBA-2011-0598.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110519T13:30:06",
          "bug_id": "577998",
          "creator_id": "241731",
          "time": "20110519T13:30:06",
          "id": "3745793",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.1"
      ],
      "cc": [
        "dpal@redhat.com",
        "jplans@redhat.com",
        "mkhusid@redhat.com",
        "mvadkert@redhat.com",
        "sgrubb@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "655920"
      ],
      "qa_contact": "mvadkert@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Enhancement",
      "cf_clone_of": "0",
      "groups": [
        "rhel_beta"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "[RFE] provide mechanism to disable .k5login support",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.1.0",
          "modification_date": "20101124T15:24:35",
          "type_id": "202",
          "is_active": "0",
          "creation_date": "20100330T13:51:49",
          "id": "582041",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20101124T15:18:41",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20100329T23:42:02",
          "id": "581552",
          "setter": "mkhusid@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20101109T18:42:50",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20100330T13:51:49",
          "id": "582042",
          "setter": "sgrubb@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20101119T14:31:01",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20100330T13:51:49",
          "id": "582043",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20110519T13:30:06",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509330-jW2s5UYnjXQeNELmdfSOqSmqdGkYUnN_B6ODjrct-NA",
      "cf_partner": [],
      "cf_last_closed": "20110519T13:30:06",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20100601T20:06:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "Triaged"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "598671",
      "cf_release_notes": "",
      "priority": "medium",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5_3p1-18_el6",
      "creator": "dwalsh@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "dwalsh@redhat.com",
          "text": "Description of problem:\n\nX Currently listens on the abstract socket\n\n@/tmp/.X11-unix/X0\n\nAnd if this fails will try to connect to \n\n/tmp/.X11-unix/X0\n\nWhen using pam_namespace with a variable /tmp.  /tmp/.X11-unix/X0 will not exist.\n\nssh client still tries to connect to this socket rather then the abstract one.\n\nAnd the X on the remote machines fails with the following error.\n\nxterm -display $DISPLAY 2>/dev/null\nconnect /tmp/.X11-unix/X0: No such file or directory\n\nAlso broken on F12, F13, F14",
          "author": "dwalsh@redhat.com",
          "creation_time": "20100601T20:06:35",
          "bug_id": "598671",
          "creator_id": "81625",
          "time": "20100601T20:06:35",
          "id": "2892834",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20100601T20:19:02",
          "bug_id": "598671",
          "creator_id": "193983",
          "time": "20100601T20:19:02",
          "id": "2892878",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "jchadima@redhat.com",
          "text": "This issue may be solved only by moving the X socket outside of the /tmp directory. Assigning to proper component.",
          "author": "jchadima@redhat.com",
          "creation_time": "20100607T09:06:28",
          "bug_id": "598671",
          "creator_id": "276623",
          "time": "20100607T09:06:28",
          "id": "2907388",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "dwalsh@redhat.com",
          "text": "I believe libx11 is correct.",
          "author": "dwalsh@redhat.com",
          "creation_time": "20100607T14:25:24",
          "bug_id": "598671",
          "creator_id": "81625",
          "time": "20100607T14:25:24",
          "id": "2908219",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "pm-rhel@redhat.com",
          "text": "This request was evaluated by Red Hat Product Management for inclusion in a Red\nHat Enterprise Linux major release.  Product Management has requested further\nreview of this request by Red Hat Engineering, for potential inclusion in a Red\nHat Enterprise Linux Major release.  This request is not yet committed for\ninclusion.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20100607T16:01:07",
          "bug_id": "598671",
          "creator_id": "193983",
          "time": "20100607T16:01:07",
          "id": "2908678",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "ajax@redhat.com",
          "text": "Not in any way a libX11 bug...",
          "author": "ajax@redhat.com",
          "creation_time": "20100623T15:43:32",
          "bug_id": "598671",
          "creator_id": "191191",
          "time": "20100623T15:43:32",
          "id": "2948984",
          "is_private": "False"
        },
        {
          "count": "6",
          "attachment_id": "426298",
          "author": "ajax@redhat.com",
          "text": "Created attachment 426298\nopenssh-5.3p1-x11-abstract-socket.patch\n\nThis is an openssh bug.  The ssh client connects to the X server on the local machine, and only looks for the filesystem socket when it does so.  It needs to look for the abstract namespace socket first.\n\nAttached patch (not even compile-tested) probably works.",
          "creator": "ajax@redhat.com",
          "creation_time": "20100623T15:46:55",
          "bug_id": "598671",
          "creator_id": "191191",
          "time": "20100623T15:46:55",
          "id": "2948995",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "jchadima@redhat.com",
          "text": "Solved by changing _PATH_UNIX_X to a nonexistent path. Please may you test it under rawhide openssh-5_5p1-15_fc14 before I push it to the other versions.",
          "author": "jchadima@redhat.com",
          "creation_time": "20100624T07:12:51",
          "bug_id": "598671",
          "creator_id": "276623",
          "time": "20100624T07:12:51",
          "id": "2950584",
          "is_private": "False"
        },
        {
          "count": "8",
          "creator": "ajax@redhat.com",
          "text": "That's really not the right thing.  That'll break forwarding to X servers launched with -nolisten tcp, which is the default for gdm.\n\nThe patch I posted is the same technique libX11 uses: try the abstract socket first, fall back to the filesystem socket if it doesn't exist.",
          "author": "ajax@redhat.com",
          "creation_time": "20100624T17:43:54",
          "bug_id": "598671",
          "creator_id": "191191",
          "time": "20100624T17:43:54",
          "id": "2952355",
          "is_private": "False"
        },
        {
          "count": "9",
          "creator": "jchadima@redhat.com",
          "text": "Another version  openssh-5_5p1-16_fc14 released. Please test it.",
          "author": "jchadima@redhat.com",
          "creation_time": "20100625T12:27:04",
          "bug_id": "598671",
          "creator_id": "276623",
          "time": "20100625T12:27:04",
          "id": "2954080",
          "is_private": "False"
        },
        {
          "count": "10",
          "creator": "mvadkert@redhat.com",
          "text": "QA_ACK+, reproducer in description",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100630T13:18:26",
          "bug_id": "598671",
          "creator_id": "271572",
          "time": "20100630T13:18:26",
          "id": "2968418",
          "is_private": "True"
        },
        {
          "count": "11",
          "creator": "mvadkert@redhat.com",
          "text": "Flipping to assigned as Jan is working on this. Adding RHTS keyword as this could be automatized.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100630T14:27:34",
          "bug_id": "598671",
          "creator_id": "271572",
          "time": "20100630T14:27:34",
          "id": "2968709",
          "is_private": "True"
        },
        {
          "count": "12",
          "creator": "releng-rhel@redhat.com",
          "text": "Fixed in 'openssh-5_3p1-18_el6'. 'openssh-5.3p1-18.el6' included in compose 'RHEL6.0-20100701.0'.\nMoving to ON_QA.",
          "author": "releng-rhel@redhat.com",
          "creation_time": "20100701T13:20:13",
          "bug_id": "598671",
          "creator_id": "286012",
          "time": "20100701T13:20:13",
          "id": "2972978",
          "is_private": "True"
        },
        {
          "count": "13",
          "creator": "mvadkert@redhat.com",
          "text": "I'm not able to reproduce this problem. Dan can you give me some exact repro\nsteps please?",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100910T07:33:22",
          "bug_id": "598671",
          "creator_id": "271572",
          "time": "20100910T07:33:22",
          "id": "3140119",
          "is_private": "False"
        },
        {
          "count": "14",
          "creator": "dwalsh@redhat.com",
          "text": "Setup pam_namespace for your account,  On my machine I do this with this file.\n\n# cat /etc/security/namespace.d/dwalsh.conf \n# Inserted by the xguest package.\n/tmp    tmpfs   tmpfs   ~dwalsh\n\nThen if you are running with SELinux (And I am sure you are :^).\nExecute\n\nsetsebool -P allow_polyinstantiation 1\n\nLog out and log back in.  Now your /tmp should be different from roots.\n\nThe best way to see this would be to ssh into the box as root and create a file in /tmp.  Then ssh into the box as a normal dwalsh, and you do not see the file.  You should see nothing in /tmp.\n\nNow try to ssh -X -Y as the user",
          "author": "dwalsh@redhat.com",
          "creation_time": "20100910T15:12:58",
          "bug_id": "598671",
          "creator_id": "81625",
          "time": "20100910T15:12:58",
          "id": "3140852",
          "is_private": "False"
        },
        {
          "count": "15",
          "creator": "mvadkert@redhat.com",
          "text": "No RHTS test as this needs running X server",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100913T11:55:08",
          "bug_id": "598671",
          "creator_id": "271572",
          "time": "20100913T11:55:08",
          "id": "3144666",
          "is_private": "True"
        },
        {
          "count": "16",
          "creator": "mvadkert@redhat.com",
          "text": "Thanks Dan for the reproducer!\n\nVERIFIED as fixed in openssh-5.3p1-20.el6\n\nNEW package openssh-5.3p1-20.el6.x86_64\n$ xterm \nWarning: Cannot convert string ''nil2'' to type FontStruct\nxterm: cannot load font -misc-fixed-medium-r-semicondensed--13-120-75-75-c-60-iso10646-1\n[xterm launches fine]\n\nOLD package openssh-5.3p1-14.el6.x86_64\n$ xterm \nconnect /tmp/.X11-unix/X0: No such file or directory\nxterm Xt error: Can't open display: localhost:10.0",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100913T12:15:56",
          "bug_id": "598671",
          "creator_id": "271572",
          "time": "20100913T12:15:56",
          "id": "3144697",
          "is_private": "False"
        },
        {
          "count": "17",
          "creator": "fabrice@bellet.info",
          "text": "In F-14, the first connect_local_xsocket_path() added by the patch causes a systematic error message:\n\n[bellet@helix ~]$ ssh -X bonobo xload\nconnect : Connection refused\n\nHere is the related strace:\n\n3862  socket(PF_FILE, SOCK_STREAM, 0)   = 7\n3862  connect(7, {sa_family=AF_FILE, path=@''/tmp/.X11-unix/X0''}, 110) = -1 ECONNREFUSED (Connection refused)\n3862  close(7)                          = 0\n3862  write(2, ''connect : Connection refused\\r\\n'', 30) = 30\n3862  socket(PF_FILE, SOCK_STREAM, 0)   = 7\n3862  connect(7, {sa_family=AF_FILE, path=''/tmp/.X11-unix/X0''}, 110) = 0\n3862  fcntl(7, F_SETFD, FD_CLOEXEC)     = 0\n3862  ioctl(7, SNDCTL_TMR_TIMEBASE or TCGETS, 0x7fff8346ae80) = -1 EINVAL (Invalid argument)\n3862  fcntl(7, F_GETFL)                 = 0x2 (flags O_RDWR)\n3862  fcntl(7, F_SETFL, O_RDWR|O_NONBLOCK) = 0\n[...]",
          "author": "fabrice@bellet.info",
          "creation_time": "20101101T09:16:09",
          "bug_id": "598671",
          "creator_id": "47090",
          "time": "20101101T09:16:09",
          "id": "3246147",
          "is_private": "False"
        },
        {
          "count": "18",
          "creator": "zenczykowski@gmail.com",
          "text": "Agreed, seeing the same thing on an upgrade from F13 to F14.\n\nXterm on 'nike' running ssh to 'varda':\n\n---\n[maze@varda ~]$ xprop -root _NET_DESKTOP_GEOMETRYconnect : Connection refused\n\n_NET_DESKTOP_GEOMETRY(CARDINAL) = 4000, 1600\n---\n\nstrace of ssh on 'nike' gives:\n\nsocket(PF_FILE, SOCK_STREAM, 0)         = 7\nconnect(7, {sa_family=AF_FILE, path=@''/tmp/.X11-unix/X0''}, 110) = -1 ECONNREFUSED (Connection refused)\nclose(7)                                = 0\nwrite(2, ''connect : Connection refused\\r\\n'', 30) = 30\nsocket(PF_FILE, SOCK_STREAM, 0)         = 7\nconnect(7, {sa_family=AF_FILE, path=''/tmp/.X11-unix/X0''}, 110) = 0\n\n[maze@nike ~]$ ls -al /tmp/.X11-unix/X0 \nsrwxrwxrwx. 1 root root 0 Nov  7 20:10 /tmp/.X11-unix/X0\n\n'connect : Connection refused' shows up everytime you launch an X client.\n\nI'm just pointing out that this error message is very annoying.  And adding myself to the CC list for this bug.\n\n[I'm not convinced that having separate tmp's for root and myself is desirable for 'nike' which is a single-user laptop - would that even fix this? the above chatter leads be to believe that it might...]",
          "author": "zenczykowski@gmail.com",
          "creation_time": "20101108T06:40:47",
          "bug_id": "598671",
          "creator_id": "56700",
          "time": "20101108T06:40:47",
          "id": "3274167",
          "is_private": "False"
        },
        {
          "count": "19",
          "creator": "zenczykowski@gmail.com",
          "text": "[this bug is against RHEL6/openssh and marked VERIFIED, should a NEW bug be opened for F14/openssh? or should this one be reopened and/or moved to F14?]\n\nMaybe the fix would simply be to not print the error message on the first connect failure (ie. only print it if both connect to abstract and non-abstract fail?)?",
          "author": "zenczykowski@gmail.com",
          "creation_time": "20101108T06:44:03",
          "bug_id": "598671",
          "creator_id": "56700",
          "time": "20101108T06:44:03",
          "id": "3274178",
          "is_private": "False"
        },
        {
          "count": "20",
          "creator": "jchadima@redhat.com",
          "text": "The f14 is fixed in the openssh-5.5p1-23.",
          "author": "jchadima@redhat.com",
          "creation_time": "20101108T08:58:40",
          "bug_id": "598671",
          "creator_id": "276623",
          "time": "20101108T08:58:40",
          "id": "3274551",
          "is_private": "False"
        },
        {
          "count": "21",
          "creator": "fabrice@bellet.info",
          "text": "(In reply to comment #20)\n> The f14 is fixed in the openssh-5.5p1-23.\n\nACK : it works for me in F-14. thanks!",
          "author": "fabrice@bellet.info",
          "creation_time": "20101108T09:12:29",
          "bug_id": "598671",
          "creator_id": "47090",
          "time": "20101108T09:12:29",
          "id": "3274624",
          "is_private": "False"
        },
        {
          "count": "22",
          "creator": "zenczykowski@gmail.com",
          "text": "$ rpm -qa | egrep openssh\nopenssh-clients-5.5p1-22.fc14.2.x86_64\nopenssh-server-5.5p1-22.fc14.2.x86_64\nopenssh-5.5p1-22.fc14.2.x86_64\nopenssh-askpass-5.5p1-22.fc14.2.x86_64\n\nBroken.\n\n$ sudo yum --enablerepo=updates-testing update openssh\\*\n\n$ rpm -qa | egrep openssh\nopenssh-server-5.5p1-23.fc14.2.x86_64\nopenssh-5.5p1-23.fc14.2.x86_64\nopenssh-clients-5.5p1-23.fc14.2.x86_64\nopenssh-askpass-5.5p1-23.fc14.2.x86_64\n\nFixed.\n\nYay!\n\n(now if it only wasn't in testing)",
          "author": "zenczykowski@gmail.com",
          "creation_time": "20101108T09:34:27",
          "bug_id": "598671",
          "creator_id": "56700",
          "time": "20101108T09:34:27",
          "id": "3274758",
          "is_private": "False"
        },
        {
          "count": "23",
          "creator": "releng-rhel@redhat.com",
          "text": "Red Hat Enterprise Linux 6.0 is now available and should resolve\nthe problem described in this bug report. This report is therefore being closed\nwith a resolution of CURRENTRELEASE. You may reopen this bug report if the\nsolution does not work for you.",
          "author": "releng-rhel@redhat.com",
          "creation_time": "20101111T14:52:02",
          "bug_id": "598671",
          "creator_id": "286012",
          "time": "20101111T14:52:02",
          "id": "3300820",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.0"
      ],
      "cc": [
        "ajax@redhat.com",
        "fabrice@bellet.info",
        "mvadkert@redhat.com",
        "nalin@redhat.com",
        "sgrubb@redhat.com",
        "zenczykowski@gmail.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "mvadkert@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "ssh -X -Y does not work with pam namespace",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.0.0",
          "modification_date": "20100630T14:17:03",
          "type_id": "62",
          "is_active": "0",
          "creation_date": "20100607T15:51:25",
          "id": "621309",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20100607T16:01:05",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20100601T20:29:25",
          "id": "616789",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20100630T14:11:42",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20100607T16:31:43",
          "id": "621529",
          "setter": "sgrubb@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20100630T13:18:26",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20100628T10:40:33",
          "id": "633733",
          "setter": "mvadkert@redhat.com"
        }
      ],
      "last_change_time": "20101111T14:52:02",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509330-Jy4U68Liu_VwVabYy4W_g8X5XwxaNLmPNt3jduicmlA",
      "cf_partner": [],
      "cf_last_closed": "20101111T14:52:02",
      "resolution": "CURRENTRELEASE",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20100712T20:31:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "613796",
      "cf_release_notes": "",
      "priority": "medium",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "mvadkert@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "mvadkert@redhat.com",
          "text": "Description of problem:\nThis bug is opened because of the problem described in bug 609799. openssh need to integrate Consolekit registration. Seems that this is already solved in ubuntu:\n\nhttp://launchpadlibrarian.net/12603631/openssh.consolekit.patch\n\ndiscussion:\nhttps://bugs.launchpad.net/xinit/+bug/199486\n\nVersion-Release number of selected component (if applicable):\nopenssh-5.3p1-18.el6\n\nHow reproducible:\nalways\n\nSteps to Reproduce:\n1. ssh -X into RHEL6 machine\n2. launch s-c-firewall\n  \nActual results:\ns-c-firewall shows polkit error\n\nExpected results:\ns-c-firewall works\n\nAdditional info:",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100712T20:31:52",
          "bug_id": "613796",
          "creator_id": "271572",
          "time": "20100712T20:31:52",
          "id": "2998305",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20100712T20:41:01",
          "bug_id": "613796",
          "creator_id": "193983",
          "time": "20100712T20:41:01",
          "id": "2998320",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "jchadima@redhat.com",
          "text": "Have been sent this patch to upstream? Is there some upstream comments yo this patch?",
          "author": "jchadima@redhat.com",
          "creation_time": "20100729T09:59:00",
          "bug_id": "613796",
          "creator_id": "276623",
          "time": "20100729T09:59:00",
          "id": "3040283",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "mvadkert@redhat.com",
          "text": "I don't know, could you please check, I never used upstream bug tracker for openssh. Anyway I would like to see this in RHEL6.1 and have proper test cases to test if this is working.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100729T11:15:55",
          "bug_id": "613796",
          "creator_id": "271572",
          "time": "20100729T11:15:55",
          "id": "3040442",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "jchadima@redhat.com",
          "text": "From security reasons it's impossible to add some functionality to openssh until it has positive feedback from upstream.",
          "author": "jchadima@redhat.com",
          "creation_time": "20100729T12:15:28",
          "bug_id": "613796",
          "creator_id": "276623",
          "time": "20100729T12:15:28",
          "id": "3040565",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "mvadkert@redhat.com",
          "text": "Here is the upstream bug and it is 2 years old :(\nhttps://bugzilla.mindrot.org/show_bug.cgi?id=1450",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100730T08:32:42",
          "bug_id": "613796",
          "creator_id": "271572",
          "time": "20100730T08:32:42",
          "id": "3042882",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "jchadima@redhat.com",
          "text": "according to https://bugzilla.mindrot.org/show_bug.cgi?id=1450#c4 this patch should be rewritten for various reasons.",
          "author": "jchadima@redhat.com",
          "creation_time": "20100802T08:12:06",
          "bug_id": "613796",
          "creator_id": "276623",
          "time": "20100802T08:12:06",
          "id": "3049034",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "pm-rhel@redhat.com",
          "text": "Since the release flag was set to ? after the qa_ack flag was set to + (was likely set for the previous release), the qa_ack flag has been reset to ? by the bugbot (pm-rhel). This action ensures the proper review by Product Management.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20100920T12:00:46",
          "bug_id": "613796",
          "creator_id": "193983",
          "time": "20100920T12:00:46",
          "id": "3161769",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "sgrubb@redhat.com",
          "text": "I don't think its a good idea to connect dbus and openssh. However, I would suggest looking to see if a pam module could be written that registers the login with consolekit.",
          "author": "sgrubb@redhat.com",
          "creation_time": "20101122T21:05:32",
          "bug_id": "613796",
          "creator_id": "168751",
          "time": "20101122T21:05:32",
          "id": "3366839",
          "is_private": "False"
        },
        {
          "count": "9",
          "creator": "pm-rhel@redhat.com",
          "text": "Development Management has reviewed and declined this request.  You may appeal\nthis decision by reopening this request.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20101122T21:14:51",
          "bug_id": "613796",
          "creator_id": "193983",
          "time": "20101122T21:14:51",
          "id": "3366861",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.1"
      ],
      "cc": [
        "mishu@piatafinanciara.ro",
        "sgrubb@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "openssh: Add support for registering ConsoleKit sessions on login",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.1.0",
          "modification_date": "20100712T20:50:23",
          "type_id": "202",
          "is_active": "0",
          "creation_date": "20100712T20:50:23",
          "id": "645004",
          "setter": "mvadkert@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20101029T21:21:34",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20100712T20:50:23",
          "id": "645005",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "-",
          "name": "devel_ack",
          "modification_date": "20101122T21:05:32",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20100712T20:50:23",
          "id": "645006",
          "setter": "sgrubb@redhat.com"
        },
        {
          "status": "?",
          "name": "qa_ack",
          "modification_date": "20100920T12:00:44",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20100712T20:50:06",
          "id": "645003",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20101122T21:14:51",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509330-sT0nVbC4UFK7LxTgHKqq7AVdOHTZfjbmJRwYj4pj2TY",
      "cf_partner": [],
      "cf_last_closed": "20101122T21:14:51",
      "resolution": "WONTFIX",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [
        "616396"
      ],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20100908T11:55:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "631787",
      "cf_release_notes": "",
      "priority": "medium",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-33.el6",
      "creator": "mvadkert@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "mvadkert@redhat.com",
          "text": "+++ This bug was initially created as a clone of Bug #616396 +++\n\nDescription of problem:\nlastlog is not recorded with the big uid (>2147483647).\n\n\n   1569 /* open the file (using filemode) and seek to the login entry */\n   1570 static int\n   1571 lastlog_openseek(struct logininfo *li, int *fd, int filemode)\n   1572 {\n            ...\n   1600         if (type == LL_FILE) {\n   1601                 /* find this uid's offset in the lastlog file */\n   1602                 offset = (off_t) ((long)li->uid * sizeof(struct lastlog));\n   1603 \n   1604                 if (lseek(*fd, offset, SEEK_SET) != offset) {\n   1605                         logit(''%s: %s->lseek(): %s'', __func__,\n   1606                             lastlog_file, strerror(errno));\n   1607                         return (0);\n   1608                 }\n\nWhen uid is 2147483648, offset is 18446743446644326400 at line 1602.\n\nuid       = 2147483648 (0x80000000)\n(long)uid = 18446744071562067968 (0xFFFFFFFF80000000)\n\nAs a result, offset becomes so big value, lseek fails, and lastlog is not recorded. \n\n  lseek(9, 18446743446644326400, SEEK_SET) = -1 EINVAL (Invalid argument)\n\nVersion-Release number of selected component (if applicable):\nopenssh-4.3p2-41.el5\n\n\nHow reproducible:\nAlways\n\nSteps to Reproduce:\n\nOn sshd server, \n   # useradd -u 2147483648 testuser\n   # passwd testuser\n   # lastlog               <-- confirm ''**Never logged in**'' for testuser\n   # ssh -l testuser localhost\n   # lastlog               <-- confirm still ''**Never logged in**''\n  \nActual results:\nlastlog is not recorded for uid >2147483647\n\n\nExpected results:\nlastlog is recorded for uid >2147483647\n\nAdditional info:\nI'll attach the proposed patch.\n\n--- Additional comment from mmatsuya@redhat.com on 2010-07-20 07:09:58 EDT ---\n\nCreated attachment 433130\nproposed patch\n\n--- Additional comment from mmatsuya@redhat.com on 2010-07-20 07:12:37 EDT ---\n\nI confirmed that the patch fixed this problem.\n\n# lastlog -u testlast2\nUsername         Port     From             Latest\ntestlast2                                  **Never logged in**\n\n# id testlast2\nuid=4294967293(testlast2) gid=4294967293(testlast2) groups=4294967293(testlast2) context=root:system_r:unconfined_t:SystemLow-SystemHigh\n\n# lastlog -u testlast2\nUsername         Port     From             Latest\ntestlast2        pts/2    test.nrt. Tue Jul 20 07:06:06 -0400 2010\n\n--- Additional comment from ebenes@redhat.com on 2010-07-20 09:34:48 EDT ---\n\nQA_ACK+ for 5.6\n\nJan, can we get a devel ack here?\n\n--- Additional comment from errata-xmlrpc@redhat.com on 2010-07-28 04:32:21 EDT ---\n\nBug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2010:9721-04\nhttp://errata.devel.redhat.com/errata/show/9721\n\n--- Additional comment from jhradile@redhat.com on 2010-07-28 08:33:36 EDT ---\n\n\nTechnical note added. If any revisions are required, please edit the ''Technical Notes'' field\naccordingly. All revisions will be proofread by the Engineering Content Services team.\n\nNew Contents:\nDue to the limitations of the data type that was used to store user identifier (UID), the lastlog record was not created for users with UID larger than 2147483647. With this update, this data type has been changed to unsigned long integer, and the /var/log/lastlog database is now updated as expected.\n\n--- Additional comment from mmatsuya@redhat.com on 2010-07-28 21:38:39 EDT ---\n\nThe note looks good for me.\n\n--- Additional comment from errata-xmlrpc@redhat.com on 2010-09-08 07:47:25 EDT ---\n\nBug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2010:9721-06: \nhttp://errata.devel.redhat.com/errata/stateview/9721\n\nVERIFIED as fixed in openssh-4.3p2-46.el5 \n\nCreated RHTS test for this issue: \n/CoreOS/openssh/Regression/bz616396-lastlog-is-not-recorded-with-the-big-uid\n\nNEW PACKAGE openssh-4.3p2-46.el5 \n:: [   PASS   ] :: Running 'lastlog -u tester'\n:: [   PASS   ] :: Running './ssh.exp tester'\n:: [   PASS   ] :: Running 'lastlog -u tester | tee /tmp/tmp.qTAazlc393'\n:: [   PASS   ] :: File '/tmp/tmp.qTAazlc393' should not contain 'Never logged in'\n:: [   LOG    ] :: Duration: 7s\n:: [   LOG    ] :: Assertions: 4 good, 0 bad\n:: [   PASS   ] :: RESULT: Test\n\n\nOLD PACKAGE openssh-4.3p2-41.el5 \n:: [   PASS   ] :: Running 'lastlog -u tester'\n:: [   PASS   ] :: Running './ssh.exp tester'\n:: [   PASS   ] :: Running 'lastlog -u tester | tee /tmp/tmp.fjqXPYj795'\n:: [   FAIL   ] :: File '/tmp/tmp.fjqXPYj795' should not contain 'Never logged in' \n:: [   LOG    ] :: Duration: 12s\n:: [   LOG    ] :: Assertions: 3 good, 1 bad\n:: [   FAIL   ] :: RESULT: Test",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100908T11:55:40",
          "bug_id": "631787",
          "creator_id": "271572",
          "time": "20100908T11:55:40",
          "id": "3135244",
          "is_private": "True"
        },
        {
          "count": "1",
          "creator": "jchadima@redhat.com",
          "text": "confirmed",
          "author": "jchadima@redhat.com",
          "creation_time": "20100913T10:48:43",
          "bug_id": "631787",
          "creator_id": "276623",
          "time": "20100913T10:48:43",
          "id": "3144533",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "ebenes@redhat.com",
          "text": "QA_ACK+ for 6.1.0",
          "author": "ebenes@redhat.com",
          "creation_time": "20101119T14:19:02",
          "bug_id": "631787",
          "creator_id": "203333",
          "time": "20101119T14:19:02",
          "id": "3360975",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2011:10529-12\nhttp://errata.devel.redhat.com/errata/show/10529",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110114T14:10:32",
          "bug_id": "631787",
          "creator_id": "241731",
          "time": "20110114T14:10:32",
          "id": "3479349",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2011:10529-20: \nhttp://errata.devel.redhat.com/errata/stateview/10529\n\nVERIFIED as fixed in openssh-5.3p1-52.el6. Laslog is now recorded also with big uid.\n\nNEW package openssh-5.3p1-52.el6:\n:: [   PASS   ] :: Running 'lastlog -u tester'\n:: [   PASS   ] :: Running './ssh.exp tester'\n:: [   PASS   ] :: Running 'lastlog -u tester | tee /tmp/tmp.qWr9pVuxpj'\n:: [   PASS   ] :: File '/tmp/tmp.qWr9pVuxpj' should not contain 'Never logged in'\n:: [   LOG    ] :: Duration: 2s\n:: [   LOG    ] :: Assertions: 4 good, 0 bad\n:: [   PASS   ] :: RESULT: Test\n\nOLD package openssh-5.3p1-20.el6:\n:: [   PASS   ] :: Running 'lastlog -u tester'\n:: [   PASS   ] :: Running './ssh.exp tester'\n:: [   PASS   ] :: Running 'lastlog -u tester | tee /tmp/tmp.JVBLjwtyZO'\n:: [   FAIL   ] :: File '/tmp/tmp.JVBLjwtyZO' should not contain 'Never logged in' \n:: [   LOG    ] :: Duration: 1s\n:: [   LOG    ] :: Assertions: 3 good, 1 bad\n:: [   FAIL   ] :: RESULT: Test",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110420T15:01:30",
          "bug_id": "631787",
          "creator_id": "241731",
          "time": "20110420T15:01:30",
          "id": "3687483",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "An advisory has been issued which should help the problem\ndescribed in this bug report. This report is therefore being\nclosed with a resolution of ERRATA. For more information\non therefore solution and/or where to find the updated files,\nplease follow the link below. You may reopen this bug report\nif the solution does not work for you.\n\nhttp://rhn.redhat.com/errata/RHBA-2011-0598.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110519T13:30:24",
          "bug_id": "631787",
          "creator_id": "241731",
          "time": "20110519T13:30:24",
          "id": "3745795",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.0"
      ],
      "cc": [
        "mmatsuya@redhat.com",
        "mvadkert@redhat.com",
        "sgrubb@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "616396",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "lastlog is not recorded with the big uid",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.1.0",
          "modification_date": "20101119T14:23:08",
          "type_id": "202",
          "is_active": "0",
          "creation_date": "20100908T11:55:40",
          "id": "675647",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20101029T20:49:58",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20100908T11:55:40",
          "id": "675648",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20101109T18:40:23",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20100908T11:55:40",
          "id": "675649",
          "setter": "sgrubb@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20101119T14:19:02",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20100908T11:55:40",
          "id": "675650",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20110519T13:30:24",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509330-rNOtJcYNvHHRiv9eywnbiW8hKKzkZJF9tunUqItRD_Q",
      "cf_partner": [],
      "cf_last_closed": "20110519T13:30:24",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20101123T17:00:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "656415",
      "cf_release_notes": "",
      "priority": "medium",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-33.el6",
      "creator": "tmraz@redhat.com",
      "comments": [
        {
          "count": "0",
          "attachment_id": "462391",
          "author": "tmraz@redhat.com",
          "text": "Created attachment 462391\nProposed patch\n\npam_ssh_agent_auth sets euid temporarily to the user during the connect to the ssh-agent socket to avoid possible race conditions. However if the connect fails for example if the ssh-agent is not running it will fail to restore the original euid. This causes following modules in the PAM stack to fail.\n\nTesting instructions:\n\nAdd \nauth sufficient pam_ssh_agent_auth.so file=~/.ssh/authorized_keys\nto the /etc/pam.d/su.\n\nRun \n'ssh-agent -a .ssh-agent-socket'\nas user. Then kill the ssh-agent process. Verify that the stale unix socket ~/.ssh-agent-socket is still present. Try to su to root - it asks for password but it fails even if you supply correct root password.",
          "creator": "tmraz@redhat.com",
          "creation_time": "20101123T17:00:27",
          "bug_id": "656415",
          "creator_id": "167996",
          "time": "20101123T17:00:27",
          "id": "3369590",
          "is_private": "False"
        },
        {
          "count": "1",
          "attachment_id": "462392",
          "author": "tmraz@redhat.com",
          "text": "Created attachment 462392\nBetter patch adds also missing close(sock) if seteuid fails",
          "creator": "tmraz@redhat.com",
          "creation_time": "20101123T17:04:42",
          "bug_id": "656415",
          "creator_id": "167996",
          "time": "20101123T17:04:42",
          "id": "3369600",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "ebenes@redhat.com",
          "text": "QA_ACK+ for 6.1",
          "author": "ebenes@redhat.com",
          "creation_time": "20101124T13:07:35",
          "bug_id": "656415",
          "creator_id": "203333",
          "time": "20101124T13:07:35",
          "id": "3372016",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2011:10529-10\nhttp://errata.devel.redhat.com/errata/show/10529",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110114T13:33:28",
          "bug_id": "656415",
          "creator_id": "241731",
          "time": "20110114T13:33:28",
          "id": "3479152",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2011:10529-20: \nhttp://errata.devel.redhat.com/errata/stateview/10529\n\nVERIFIED as fixed in openssh-5.3p1-52.el6\nThe euid is now properly restored and root login passes with new version.\nCreate Beaker test for this issue:\n/CoreOS/openssh/Regression/bz656415-pam_ssh_agent_auth-does-not-properly-restore-euid-if-connect-to-the-ssh-agent-socket-fails\n\nNEW package openssh-5.3p1-52.el6:\n---------------------------------\nAgent pid 4436\ndeclare -x SSH_AGENT_PID=''4436''\ndeclare -x SSH_ASKPASS=''/usr/libexec/openssh/gnome-ssh-askpass''\ndeclare -x SSH_AUTH_SOCK=''/home/pamssh/.ssh-agent-socket''\nspawn su - root\nPassword: \n[root@dell-pe1950-04 ~]# exit\nlogout\n:: [   PASS   ] :: Running 'su - -c 'eval `ssh-agent -a ~/.ssh-agent-socket`;killall -9 ssh-agent;export | grep SSH; ./su.exp 656415' pamssh'\n\nOLD package openssh-5.3p1-20.el6:\n---------------------------------\nAgent pid 3891\ndeclare -x SSH_AGENT_PID=''3891''\ndeclare -x SSH_ASKPASS=''/usr/libexec/openssh/gnome-ssh-askpass''\ndeclare -x SSH_AUTH_SOCK=''/home/pamssh/.ssh-agent-socket''\nspawn su - root\nPassword: \nsu: incorrect password\n:: [   FAIL   ] :: Running 'su - -c 'eval `ssh-agent -a ~/.ssh-agent-socket`;killall -9 ssh-agent;export | grep SSH; ./su.exp 656415' pamssh' (Expected 0, got 1)",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110422T07:15:12",
          "bug_id": "656415",
          "creator_id": "241731",
          "time": "20110422T07:15:12",
          "id": "3692663",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "An advisory has been issued which should help the problem\ndescribed in this bug report. This report is therefore being\nclosed with a resolution of ERRATA. For more information\non therefore solution and/or where to find the updated files,\nplease follow the link below. You may reopen this bug report\nif the solution does not work for you.\n\nhttp://rhn.redhat.com/errata/RHBA-2011-0598.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110519T13:30:46",
          "bug_id": "656415",
          "creator_id": "241731",
          "time": "20110519T13:30:46",
          "id": "3745803",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.0"
      ],
      "cc": [
        "mvadkert@redhat.com",
        "sgrubb@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "pam_ssh_agent_auth does not properly restore euid if connect to the ssh-agent socket fails",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.1.0",
          "modification_date": "20101124T13:16:12",
          "type_id": "202",
          "is_active": "0",
          "creation_date": "20101123T17:00:43",
          "id": "727074",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20101123T17:07:31",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20101123T17:05:53",
          "id": "727081",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20101123T18:04:16",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20101123T17:25:22",
          "id": "727092",
          "setter": "sgrubb@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20101124T13:07:35",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20101123T18:06:05",
          "id": "727145",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20110519T13:30:46",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509331-Yf9OyDfLGwz1dB2g9BUcu6hXwSEYzLHo7XHqh3cvvLo",
      "cf_partner": [],
      "cf_last_closed": "20110519T13:30:46",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [
        "627332"
      ],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20101124T09:56:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "656844",
      "cf_release_notes": "",
      "priority": "medium",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-33.el6",
      "creator": "jchadima@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "jchadima@redhat.com",
          "text": "+++ This bug was initially created as a clone of Bug #627332 +++\n\nabrt version: 1.1.13\narchitecture: x86_64\nAttached file: backtrace\ncmdline: ssh -D 9999 -n -N ck\ncomponent: openssh\ncrash_function: client_input_channel_req\nexecutable: /usr/bin/ssh\nkernel: 2.6.33.8-149.fc13.x86_64\npackage: openssh-clients-5.4p1-3.fc13\nrating: 4\nreason: Process /usr/bin/ssh was killed by signal 11 (SIGSEGV)\nrelease: Fedora release 13 (Goddard)\nHow to reproduce: Just using ssh -D 9999 -n -N ck for web navigation\ntime: 1282754451\nuid: 500\n\n--- Additional comment from clodoaldo.pinto.neto@gmail.com on 2010-08-25 13:23:42 EDT ---\n\nCreated an attachment (id=441005)\nFile: backtrace\n\n--- Additional comment from clodoaldo.pinto.neto@gmail.com on 2010-08-30 15:23:28 EDT ---\n\nPackage: openssh-clients-5.4p1-3.fc13\nArchitecture: x86_64\nOS Release: Fedora release 13 (Goddard)\n\n\nHow to reproduce\n-----\nJust using ssh -D 9999 -n -N ck for web navigation\n\n--- Additional comment from jchadima@redhat.com on 2010-11-08 02:45:20 EST ---\n\ncan you tell me which site are you browsing, when the crash occurs?\n\n--- Additional comment from clodoaldo.pinto.neto@gmail.com on 2010-11-08 05:10:08 EST ---\n\nI didn't notice an specific site. It looks like it is random. I will try to take note when it happens. The tunnel is only used for non ssl connections:\n\nfunction FindProxyForURL(url, host) {\n   if (url.substring(0, 6) == ''https:'') {\n      return ''DIRECT'';\n   }\n\n   if (shExpMatch(host, ''*.dkt'')) {\n      return ''SOCKS5 localhost:9998'';\n   }\n\n   return ''SOCKS5 localhost:9999'';\n}\n\n\nWhat I think is worth mentioning is that it is over a bad 3G connection.\n\n--- Additional comment from clodoaldo.pinto.neto@gmail.com on 2010-11-09 12:08:47 EST ---\n\nJust crashed in a forum I last visited many months ago. Gmail was also open (as always) and it does ajax requests in the background.\n\n--- Additional comment from jchadima@redhat.com on 2010-11-24 02:05:25 EST ---\n\n*** Bug 655853 has been marked as a duplicate of this bug. ***\n\n--- Additional comment from updates@fedoraproject.org on 2010-11-24 04:53:24 EST ---\n\nopenssh-5.4p1-5.fc13 has been submitted as an update for Fedora 13.\nhttps://admin.fedoraproject.org/updates/openssh-5.4p1-5.fc13\n\n--- Additional comment from updates@fedoraproject.org on 2010-11-24 04:54:15 EST ---\n\nopenssh-5.5p1-24.fc14.2 has been submitted as an update for Fedora 14.\nhttps://admin.fedoraproject.org/updates/openssh-5.5p1-24.fc14.2",
          "author": "jchadima@redhat.com",
          "creation_time": "20101124T09:56:29",
          "bug_id": "656844",
          "creator_id": "276623",
          "time": "20101124T09:56:29",
          "id": "3371646",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "jchadima@redhat.com",
          "text": "Upstream solve this problem by releasing the patch.",
          "author": "jchadima@redhat.com",
          "creation_time": "20101124T09:58:15",
          "bug_id": "656844",
          "creator_id": "276623",
          "time": "20101124T09:58:15",
          "id": "3371648",
          "is_private": "False"
        },
        {
          "count": "2",
          "attachment_id": "462583",
          "author": "jchadima@redhat.com",
          "text": "Created attachment 462583\nproposed solution",
          "creator": "jchadima@redhat.com",
          "creation_time": "20101124T09:59:58",
          "bug_id": "656844",
          "creator_id": "276623",
          "time": "20101124T09:59:58",
          "id": "3371657",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "ebenes@redhat.com",
          "text": "QA_ACK+ for 6.1",
          "author": "ebenes@redhat.com",
          "creation_time": "20101124T13:09:49",
          "bug_id": "656844",
          "creator_id": "203333",
          "time": "20101124T13:09:49",
          "id": "3372025",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2011:10529-01\nhttp://errata.devel.redhat.com/errata/show/10529",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110114T12:07:28",
          "bug_id": "656844",
          "creator_id": "241731",
          "time": "20110114T12:07:28",
          "id": "3478827",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "mvadkert@redhat.com",
          "text": "Jan do we have a reliable reproducer for this. Were you able to reproduce the problem on your machine please?",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110126T12:26:48",
          "bug_id": "656844",
          "creator_id": "271572",
          "time": "20110126T12:26:48",
          "id": "3501282",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "jchadima@redhat.com",
          "text": "no, sorry, race while web browsing via socks5 proxy ....",
          "author": "jchadima@redhat.com",
          "creation_time": "20110126T13:48:35",
          "bug_id": "656844",
          "creator_id": "276623",
          "time": "20110126T13:48:35",
          "id": "3501439",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to ASSIGNED status by the Errata System: \nAdvisory RHBA-2011:10529-20: \nhttp://errata.devel.redhat.com/errata/stateview/10529\n\nPatch is not applied in current sources:\nhttps://bugzilla.redhat.com/attachment.cgi?id=462583&action=diff\n\nI see in clientloop.c.clientloop:\n    if (reply) {\n        packet_start(success ?\n            SSH2_MSG_CHANNEL_SUCCESS : SSH2_MSG_CHANNEL_FAILURE);\n        packet_put_int(c->remote_id);\n        packet_send();\n    }\n\n\nMoving back to assigned",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110422T08:01:51",
          "bug_id": "656844",
          "creator_id": "241731",
          "time": "20110422T08:01:51",
          "id": "3692714",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ASSIGNED to ON_QA status by the Errata System: \nAdvisory RHBA-2011:10529-20: \nhttp://errata.devel.redhat.com/errata/stateview/10529\n\nArgh, I was looking at the old sources, moving back to ON_QA",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110422T12:33:27",
          "bug_id": "656844",
          "creator_id": "241731",
          "time": "20110422T12:33:27",
          "id": "3693149",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2011:10529-20: \nhttp://errata.devel.redhat.com/errata/stateview/10529\n\nVERIFIED as fixed in openssh-5.3p1-52.el6\nI wasn't able to crash openssh via dynamic port forwarding and surfing the web for a quite long time.\n\nThe patch is applied in the current sources\n# cat /root/rpmbuild/SOURCES/openssh-5.3p1-clientloop.patch\ndiff -up openssh-5.6p1/clientloop.c.clientloop openssh-5.6p1/clientloop.c\n--- openssh-5.6p1/clientloop.c.clientloop\t2010-11-24 08:18:10.000000000 +0100\n+++ openssh-5.6p1/clientloop.c\t2010-11-24 08:18:11.000000000 +0100\n@@ -1944,7 +1944,7 @@ client_input_channel_req(int type, u_int\n \t\t}\n \t\tpacket_check_eom();\n \t}\n-\tif (reply) {\n+\tif (reply && c != NULL) {\n \t\tpacket_start(success ?\n \t\t    SSH2_MSG_CHANNEL_SUCCESS : SSH2_MSG_CHANNEL_FAILURE);\n \t\tpacket_put_int(c->remote_id);",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110422T12:35:06",
          "bug_id": "656844",
          "creator_id": "241731",
          "time": "20110422T12:35:06",
          "id": "3693152",
          "is_private": "True"
        },
        {
          "count": "10",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "An advisory has been issued which should help the problem\ndescribed in this bug report. This report is therefore being\nclosed with a resolution of ERRATA. For more information\non therefore solution and/or where to find the updated files,\nplease follow the link below. You may reopen this bug report\nif the solution does not work for you.\n\nhttp://rhn.redhat.com/errata/RHBA-2011-0598.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110519T13:30:47",
          "bug_id": "656844",
          "creator_id": "241731",
          "time": "20110519T13:30:47",
          "id": "3745805",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.1"
      ],
      "cc": [
        "clodoaldo.pinto.neto@gmail.com",
        "jchadima@redhat.com",
        "mgrepl@redhat.com",
        "mvadkert@redhat.com",
        "sgrubb@redhat.com",
        "tmraz@redhat.com"
      ],
      "cf_verified": [
        "FailedQA"
      ],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "627332",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "abrt_hash:b212c2473d299fa34c0591c5263d0d06046b78eb",
      "cf_crm": "",
      "summary": "[abrt] openssh-clients-5.4p1-3.fc13: client_input_channel_req: Process /usr/bin/ssh was killed by signal 11 (SIGSEGV)",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.1.0",
          "modification_date": "20101130T01:50:25",
          "type_id": "202",
          "is_active": "0",
          "creation_date": "20101124T09:58:57",
          "id": "727583",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20101124T10:08:20",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20101124T09:58:57",
          "id": "727584",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20101130T01:44:31",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20101124T09:58:57",
          "id": "727585",
          "setter": "sgrubb@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20101124T13:09:22",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20101124T09:58:57",
          "id": "727586",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20110519T13:30:47",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509331-ur-5dNrAUooZBTq5-LR6EC5q-_Qx7MSyInHCtliDWZc",
      "cf_partner": [],
      "cf_last_closed": "20110519T13:30:47",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [
        "729648"
      ],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20110315T07:55:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00523490",
          "bug_id": "685060",
          "ext_description": "Unable to chroot SFTP account and use SELINUX",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "45600"
        },
        {
          "ext_status": "None",
          "ext_bz_bug_id": "44979",
          "bug_id": "685060",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "38",
          "type": {
            "must_send": "False",
            "description": "Red Hat Knowledge Base (Legacy)",
            "url": "http://kbase.redhat.com/faq",
            "can_get": "False",
            "id": "38",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "http://kbase.redhat.com/faq/docs/DOC-%id%"
          },
          "id": "45732"
        },
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00401822",
          "bug_id": "685060",
          "ext_description": "Selinux",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "37048"
        }
      ],
      "id": "685060",
      "cf_release_notes": "",
      "priority": "medium",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-59.el6",
      "creator": "jkalliya@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "jkalliya@redhat.com",
          "text": "Description of problem:\nIn a chrooted sftp environment, selinux is preventing the users from uploading new files to their home directories.\n\nIssue in detail :\n\nWhen chrooted users trying upload files to their home directory, selinux deny it with the following logs :\n\ntype=AVC msg=audit(1299680139.405:61165): avc:  denied  { write } for  pid=3906 comm=''sshd'' name=''outbound'' dev=dm-2 ino=12845071 scontext=unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 tcontext=unconfined_u:object_r:user_home_t:s0 tclass=dir\n\n\nVersion-Release number of selected component (if applicable):\nRHEL6\nselinux-policy-3.7.19-54.el6\n\n\nHow reproducible:\n\nSteps to Reproduce:\n1. setup chrooted sftp:\n\nsshd_config :\n\nChrootDirectory /home/%u\nSubsystem sftp  internal-sftp\n2. Try to upload a new file to user's home directory.\n\n  \nActual results:\nselinux deny it.\n\nExpected results:\nselinux should't deny it (?).\n\nAdditional info:\n\nRHEL6 (even rhel5) selinux policy doesn't allow sshd_t to write to a directory which has the context user_home_t.So the above denial is expected.\n\nallow sshd_t user_home_t : dir { ioctl read getattr lock search open } ;\n\nAlso there is no SELinux booleans which allow this access. \n\nNote:\n\n-On RHEL5, this is not an issue since in RHEL5 we allow the sshd to be unconfined so it can transition to the unconfined_t domain. \n-on RHEL6, sshd run in  sshd_t which is not unconfined and thus we see the issue here.\n-on RHEL6, issue is not seen when the default subsystem is used, ie /usr/libexec/openssh/sftp-server. This subsystem runs in in 'unconfined_t' context which has access to almost all objects. So the transfer should work fine. but this can't be used for chrooting.\n\nQuestion: \n\n- Apart from writing a custom policy, What the best way to deal this situation ?. \n- This could be treated as bug ?. If allowing such access is considered as security risk, we may need a boolean to allow this ?. Most of the users doesn't like to keep their own policy files.",
          "author": "jkalliya@redhat.com",
          "creation_time": "20110315T07:55:30",
          "bug_id": "685060",
          "creator_id": "212458",
          "time": "20110315T07:55:30",
          "id": "3593363",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20110315T08:13:12",
          "bug_id": "685060",
          "creator_id": "193983",
          "time": "20110315T08:13:12",
          "id": "3593398",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "dwalsh@redhat.com",
          "text": "Miroslav I thought we had some fixes for chroot and sshd?",
          "author": "dwalsh@redhat.com",
          "creation_time": "20110315T12:27:41",
          "bug_id": "685060",
          "creator_id": "81625",
          "time": "20110315T12:27:41",
          "id": "3593874",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "mgrepl@redhat.com",
          "text": "Unfortunately ... the same issue as #561881.",
          "author": "mgrepl@redhat.com",
          "creation_time": "20110315T12:59:46",
          "bug_id": "685060",
          "creator_id": "269625",
          "time": "20110315T12:59:46",
          "id": "3593957",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "jkalliya@redhat.com",
          "text": "Yes. Issue looks to be same as #561881.\n\nIntenal sftp runs in sshd_t instead of sftpd_t\n\nunconfined_u:system_r:sshd_t:s0-s0:c0.c1023 k1 17983 0.0  0.0 97444 1604 ?     Ss   06:00   0:00 sshd: user@internal-sftp\n\n--Jijesh Kalliyat",
          "author": "jkalliya@redhat.com",
          "creation_time": "20110315T13:39:33",
          "bug_id": "685060",
          "creator_id": "212458",
          "time": "20110315T13:39:33",
          "id": "3595024",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "dwalsh@redhat.com",
          "text": "Well I guess for RHEL6 we need to add a boolean to allow sshd_t to write to user_home_t.  Miroslav will this conflict with the rule creating ssh_home_t in directories labeled user_home_dir_t?",
          "author": "dwalsh@redhat.com",
          "creation_time": "20110315T14:04:57",
          "bug_id": "685060",
          "creator_id": "81625",
          "time": "20110315T14:04:57",
          "id": "3598079",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "mgrepl@redhat.com",
          "text": "(In reply to comment #5)\n> Well I guess for RHEL6 we need to add a boolean to allow sshd_t to write to\n> user_home_t.  Miroslav will this conflict with the rule creating ssh_home_t in\n> directories labeled user_home_dir_t?\n\nWell, this is a problem. New dirs will be created with ssh_home_t context in directories labeled user_home_dir_t.",
          "author": "mgrepl@redhat.com",
          "creation_time": "20110315T14:56:14",
          "bug_id": "685060",
          "creator_id": "269625",
          "time": "20110315T14:56:14",
          "id": "3604447",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "dwalsh@redhat.com",
          "text": "Right, I thought you had worked out a way of doing setcon() within sshd to handle this problem.  Did that patch ever get in?",
          "author": "dwalsh@redhat.com",
          "creation_time": "20110315T15:10:55",
          "bug_id": "685060",
          "creator_id": "81625",
          "time": "20110315T15:10:55",
          "id": "3606053",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "mgrepl@redhat.com",
          "text": "(In reply to comment #7)\n> Right, I thought you had worked out a way of doing setcon() within sshd to\n> handle this problem.  Did that patch ever get in?\n\nAFAIK sshd contains setcon().",
          "author": "mgrepl@redhat.com",
          "creation_time": "20110315T18:20:52",
          "bug_id": "685060",
          "creator_id": "269625",
          "time": "20110315T18:20:52",
          "id": "3607975",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "jwest@redhat.com",
          "text": "Reporter: The status or priority of this bug is in an unspecified state.  Please review the SEV/PRIO of this bug and mark it appropriately.",
          "author": "jwest@redhat.com",
          "creation_time": "20110316T17:47:36",
          "bug_id": "685060",
          "creator_id": "194553",
          "time": "20110316T17:47:36",
          "id": "3610571",
          "is_private": "True"
        },
        {
          "count": "10",
          "creator": "mgrepl@redhat.com",
          "text": "(In reply to comment #8)\n> (In reply to comment #7)\n> > Right, I thought you had worked out a way of doing setcon() within sshd to\n> > handle this problem.  Did that patch ever get in?\n> \n> AFAIK sshd contains setcon().\n\nJan,\ndid you look at this bug in F13?\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=561881",
          "author": "mgrepl@redhat.com",
          "creation_time": "20110316T18:08:03",
          "bug_id": "685060",
          "creator_id": "269625",
          "time": "20110316T18:08:03",
          "id": "3610640",
          "is_private": "True"
        },
        {
          "count": "11",
          "creator": "jchadima@redhat.com",
          "text": "I think that the problem is that setcon() does not work correctly in chrooted environment without the /proc filesystem",
          "author": "jchadima@redhat.com",
          "creation_time": "20110316T18:47:04",
          "bug_id": "685060",
          "creator_id": "276623",
          "time": "20110316T18:47:04",
          "id": "3610703",
          "is_private": "True"
        },
        {
          "count": "12",
          "creator": "mgrepl@redhat.com",
          "text": "(In reply to comment #11)\n> I think that the problem is that setcon() does not work correctly in chrooted\n> environment without the /proc filesystem\n\nYes actually, how Dan mentioned in the bug.",
          "author": "mgrepl@redhat.com",
          "creation_time": "20110316T19:07:44",
          "bug_id": "685060",
          "creator_id": "269625",
          "time": "20110316T19:07:44",
          "id": "3610751",
          "is_private": "True"
        },
        {
          "count": "13",
          "creator": "dwalsh@redhat.com",
          "text": "Can you do the secon before the chroot?",
          "author": "dwalsh@redhat.com",
          "creation_time": "20110316T19:25:39",
          "bug_id": "685060",
          "creator_id": "81625",
          "time": "20110316T19:25:39",
          "id": "3610791",
          "is_private": "True"
        },
        {
          "count": "14",
          "creator": "jchadima@redhat.com",
          "text": "please try it in rawhide (https://bugzilla.redhat.com/show_bug.cgi?id=561881)",
          "author": "jchadima@redhat.com",
          "creation_time": "20110317T08:02:36",
          "bug_id": "685060",
          "creator_id": "276623",
          "time": "20110317T08:02:36",
          "id": "3611758",
          "is_private": "True"
        },
        {
          "count": "15",
          "creator": "mgrepl@redhat.com",
          "text": "(In reply to comment #14)\n> please try it in rawhide (https://bugzilla.redhat.com/show_bug.cgi?id=561881)\n\nUnfortunately, it still does not work.\n\n# rpm -q openssh\nopenssh-5.8p1-18.fc16.1.x86_64",
          "author": "mgrepl@redhat.com",
          "creation_time": "20110317T16:37:25",
          "bug_id": "685060",
          "creator_id": "269625",
          "time": "20110317T16:37:25",
          "id": "3613063",
          "is_private": "True"
        },
        {
          "count": "16",
          "creator": "jchadima@redhat.com",
          "text": "so there must be another problem here ... the setcon is now done before chroot\nI'll try to investigate it deeper",
          "author": "jchadima@redhat.com",
          "creation_time": "20110317T21:14:02",
          "bug_id": "685060",
          "creator_id": "276623",
          "time": "20110317T21:14:02",
          "id": "3613653",
          "is_private": "True"
        },
        {
          "count": "17",
          "creator": "pm-rhel@redhat.com",
          "text": "Since RHEL 6.1 External Beta has begun, and this bug remains\nunresolved, it has been rejected as it is not proposed as\nexception or blocker.\n\nRed Hat invites you to ask your support representative to\npropose this request, if appropriate and relevant, in the\nnext release of Red Hat Enterprise Linux.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20110404T02:00:47",
          "bug_id": "685060",
          "creator_id": "193983",
          "time": "20110404T02:00:47",
          "id": "3648661",
          "is_private": "False"
        },
        {
          "count": "18",
          "creator": "jwest@redhat.com",
          "text": "GSS is reflagging this bug to be reviewed for inclusion in the next update for Red Hat Enterprise Linux 6",
          "author": "jwest@redhat.com",
          "creation_time": "20110513T22:00:46",
          "bug_id": "685060",
          "creator_id": "194553",
          "time": "20110513T22:00:46",
          "id": "3733841",
          "is_private": "True"
        },
        {
          "count": "19",
          "creator": "jchadima@redhat.com",
          "text": "*** Bug 715338 has been marked as a duplicate of this bug. ***",
          "author": "jchadima@redhat.com",
          "creation_time": "20110623T14:08:09",
          "bug_id": "685060",
          "creator_id": "276623",
          "time": "20110623T14:08:09",
          "id": "3833330",
          "is_private": "False"
        },
        {
          "count": "20",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2011:11301-01\nhttp://errata.devel.redhat.com/errata/show/11301",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110623T16:08:17",
          "bug_id": "685060",
          "creator_id": "241731",
          "time": "20110623T16:08:17",
          "id": "3836654",
          "is_private": "True"
        },
        {
          "count": "21",
          "creator": "mvadkert@redhat.com",
          "text": "Looks like patch for this issue is now causing the upstream test suite to fail (see below). The test is running ssh daemon in unconfined_t domain but with permissive SELinux. We need to be able to run the upstream test suite as it covers a lot of functionality. The test failure is consistent on x86_64 and ppc64 archs (other not tested yet). On the same machine the previous openssh-5.3p1-52.el6_1.2 package passes so this is clearly a problem in the new package.\n\nrun test connect.sh ...\nssh_selinux_change_context: setcon failed with Invalid argument\nssh_selinux_change_context: setcon failed with Invalid argument\nok simple connect\nrun test proxy-connect.sh ...\nssh_selinux_change_context: setcon failed with Invalid argument\nssh_selinux_change_context: setcon failed with Invalid argument\nssh_selinux_change_context: setcon failed with Invalid argument\nssh_selinux_change_context: setcon failed with Invalid argument\nok proxy connect\nrun test connect-privsep.sh ...\nssh_selinux_change_context: setcon failed with Invalid argument\nssh_selinux_change_context: setcon failed with Invalid argument\nok proxy connect with privsep\nrun test proto-version.sh ...\nok sshd version with different protocol combinations\nrun test proto-mismatch.sh ...\nok protocol version mismatch\nrun test exit-status.sh ...\ntest remote exit status: proto 1 status 0\nssh_selinux_change_context: setcon failed with Invalid argument\nssh_selinux_change_context: setcon failed with Invalid argument\ntest remote exit status: proto 1 status 1\nssh_selinux_change_context: setcon failed with Invalid argument\nssh_selinux_change_context: setcon failed with Invalid argument\ntest remote exit status: proto 1 status 4\nssh_selinux_change_context: setcon failed with Invalid argument\nssh_selinux_change_context: setcon failed with Invalid argument\ntest remote exit status: proto 1 status 5\nssh_selinux_change_context: setcon failed with Invalid argument\nssh_selinux_change_context: setcon failed with Invalid argument\ntest remote exit status: proto 1 status 44\nssh_selinux_change_context: setcon failed with Invalid argument\nssh_selinux_change_context: setcon failed with Invalid argument\ntest remote exit status: proto 2 status 0\nssh_selinux_change_context: setcon failed with Invalid argument\nssh_selinux_change_context: setcon failed with Invalid argument\ntest remote exit status: proto 2 status 1\nssh_selinux_change_context: setcon failed with Invalid argument\nssh_selinux_change_context: setcon failed with Invalid argument\ntest remote exit status: proto 2 status 4\nssh_selinux_change_context: setcon failed with Invalid argument\nssh_selinux_change_context: setcon failed with Invalid argument\ntest remote exit status: proto 2 status 5\nssh_selinux_change_context: setcon failed with Invalid argument\nssh_selinux_change_context: setcon failed with Invalid argument\ntest remote exit status: proto 2 status 44\nssh_selinux_change_context: setcon failed with Invalid argument\nssh_selinux_change_context: setcon failed with Invalid argument\nok remote exit status\nrun test envpass.sh ...\ntest environment passing: pass env, don't accept\nssh_selinux_change_context: setcon failed with Invalid argument\ntest environment passing: don't pass env, accept\nssh_selinux_change_context: setcon failed with Invalid argument\ntest environment passing: pass single env, accept single env\nssh_selinux_change_context: setcon failed with Invalid argument\ntest environment passing: pass multiple env, accept multiple env\nssh_selinux_change_context: setcon failed with Invalid argument\nok environment passing\nrun test transfer.sh ...\ntransfer data: proto 1\nssh_selinux_change_context: setcon failed with Invalid argument\nssh_selinux_change_context: setcon failed with Invalid argument\nssh_selinux_change_context: setcon failed with Invalid argument\nssh_selinux_change_context: setcon failed with Invalid argument\nssh_selinux_change_context: setcon failed with Invalid argument\nssh_selinux_change_context: setcon failed with Invalid argument\nssh_selinux_change_context: setcon failed with Invalid argument\nssh_selinux_change_context: setcon failed with Invalid argument\ntransfer data: proto 2\nssh_selinux_change_context: setcon failed with Invalid argument\nssh_selinux_change_context: setcon failed with Invalid argument\nssh_selinux_change_context: setcon failed with Invalid argument\nssh_selinux_change_context: setcon failed with Invalid argument\nssh_selinux_change_context: setcon failed with Invalid argument\nssh_selinux_change_context: setcon failed with Invalid argument\nssh_selinux_change_context: setcon failed with Invalid argument\nssh_selinux_change_context: setcon failed with Invalid argument\nok transfer data\nrun test banner.sh ...\ntest banner: missing banner file\ncmp: EOF on /root/rpmbuild/BUILD/openssh-5.3p1/regress/empty.in\nmissing banner file\ntest banner: size 0\ncmp: EOF on /root/rpmbuild/BUILD/openssh-5.3p1/regress/banner.in\nbanner size 0 mismatch\ntest banner: size 10\ncmp: EOF on /root/rpmbuild/BUILD/openssh-5.3p1/regress/banner.in\nbanner size 10 mismatch\ntest banner: size 100\ncmp: EOF on /root/rpmbuild/BUILD/openssh-5.3p1/regress/banner.in\nbanner size 100 mismatch\ntest banner: size 1000\ncmp: EOF on /root/rpmbuild/BUILD/openssh-5.3p1/regress/banner.in\nbanner size 1000 mismatch\ntest banner: size 10000\ncmp: EOF on /root/rpmbuild/BUILD/openssh-5.3p1/regress/banner.in\nbanner size 10000 mismatch\ntest banner: size 100000\ncmp: EOF on /root/rpmbuild/BUILD/openssh-5.3p1/regress/banner.in\nbanner size 100000 mismatch\ntest banner: suppress banner (-q)\ncmp: EOF on /root/rpmbuild/BUILD/openssh-5.3p1/regress/empty.in\nsuppress banner (-q)\nfailed banner",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110718T19:40:08",
          "bug_id": "685060",
          "creator_id": "271572",
          "time": "20110718T19:40:08",
          "id": "3894555",
          "is_private": "True"
        },
        {
          "count": "22",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to ASSIGNED status by the Errata System: \nAdvisory RHBA-2011:11301-02: \nhttp://errata.devel.redhat.com/errata/stateview/11301\n\nSee previous comment in bugzilla. The upstream test suite with this fix seems to be failing now. This needs to be fixed. Moving to ASSIGNED",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110718T19:41:41",
          "bug_id": "685060",
          "creator_id": "241731",
          "time": "20110718T19:41:41",
          "id": "3894561",
          "is_private": "True"
        },
        {
          "count": "23",
          "creator": "jchadima@redhat.com",
          "text": "(In reply to comment #21)\n> Looks like patch for this issue is now causing the upstream test suite to fail\n> (see below). The test is running ssh daemon in unconfined_t domain but with\n> permissive SELinux. We need to be able to run the upstream test suite as it\n> covers a lot of functionality. The test failure is consistent on x86_64 and\n> ppc64 archs (other not tested yet). On the same machine the previous\n> openssh-5.3p1-52.el6_1.2 package passes so this is clearly a problem in the new\n> package.\n... snip\n> banner size 100 mismatch\n> test banner: size 1000\n> cmp: EOF on /root/rpmbuild/BUILD/openssh-5.3p1/regress/banner.in\n> banner size 1000 mismatch\n> test banner: size 10000\n> cmp: EOF on /root/rpmbuild/BUILD/openssh-5.3p1/regress/banner.in\n> banner size 10000 mismatch\n> test banner: size 100000\n> cmp: EOF on /root/rpmbuild/BUILD/openssh-5.3p1/regress/banner.in\n> banner size 100000 mismatch\n> test banner: suppress banner (-q)\n> cmp: EOF on /root/rpmbuild/BUILD/openssh-5.3p1/regress/empty.in\n> suppress banner (-q)\n> failed banner\n\nI cannot reproduce it. On my RHEL6 machine regress tests passes.",
          "author": "jchadima@redhat.com",
          "creation_time": "20110719T05:59:22",
          "bug_id": "685060",
          "creator_id": "276623",
          "time": "20110719T05:59:22",
          "id": "3895316",
          "is_private": "True"
        },
        {
          "count": "24",
          "creator": "jchadima@redhat.com",
          "text": "yus tested the regression test work is not affected in this patch .... you have to label the just created binaries correctly and switch selinux to permissive.",
          "author": "jchadima@redhat.com",
          "creation_time": "20110719T09:32:48",
          "bug_id": "685060",
          "creator_id": "276623",
          "time": "20110719T09:32:48",
          "id": "3895751",
          "is_private": "True"
        },
        {
          "count": "25",
          "creator": "mvadkert@redhat.com",
          "text": "How do you label them please? Before the update only disabling selinux was enough to run the test suite.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110719T12:50:07",
          "bug_id": "685060",
          "creator_id": "271572",
          "time": "20110719T12:50:07",
          "id": "3896158",
          "is_private": "True"
        },
        {
          "count": "26",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ASSIGNED to VERIFIED status by the Errata System: \nAdvisory RHBA-2011:11301-02: \nhttp://errata.devel.redhat.com/errata/stateview/11301\n\nThe test suite can be run under non root user without issues. Test \n/CoreOS/openssh/Sanity/selftest\nhas been fixed",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110719T13:25:04",
          "bug_id": "685060",
          "creator_id": "241731",
          "time": "20110719T13:25:04",
          "id": "3896233",
          "is_private": "True"
        },
        {
          "count": "27",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from VERIFIED to ON_QA status by the Errata System: \nAdvisory RHBA-2011:11301-02: \nhttp://errata.devel.redhat.com/errata/stateview/11301\n\nWrong state, the bug has not been verified yet, moving back to ON_QA",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110719T13:26:44",
          "bug_id": "685060",
          "creator_id": "241731",
          "time": "20110719T13:26:44",
          "id": "3896242",
          "is_private": "True"
        },
        {
          "count": "28",
          "creator": "mvadkert@redhat.com",
          "text": "Hi I wrote a reproducer, though I still cannot write to user_home_dir_t directory with the latest openssh package:\n\ntime->Wed Aug  3 12:01:14 2011\ntype=SYSCALL msg=audit(1312387274.711:142887): arch=c000003e syscall=2 success=no exit=-13 a0=7f36ec2b6470 a1=241 a2=180 a3=13 items=0 ppid=29037 pid=29038 auid=511 uid=511 gid=512 euid=511 suid=511 fsuid=511 egid=512 sgid=512 fsgid=512 tty=(none) ses=12429 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 key=(null)\ntype=AVC msg=audit(1312387274.711:142887): avc:  denied  { create } for  pid=29038 comm=''sshd'' name=''test'' scontext=unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 tcontext=unconfined_u:object_r:user_home_dir_t:s0 tclass=file\n# rpm -q openssh\nopenssh-5.3p1-63.el6.x86_64\n\nSeems to me that sshd is still not running internal-sftp with correct context. Mirek pls did you test the latest fix?",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110803T16:03:30",
          "bug_id": "685060",
          "creator_id": "271572",
          "time": "20110803T16:03:30",
          "id": "3933616",
          "is_private": "False"
        },
        {
          "count": "29",
          "creator": "dwalsh@redhat.com",
          "text": "Why would sshd be creating a file test in the users homedir?",
          "author": "dwalsh@redhat.com",
          "creation_time": "20110803T17:28:59",
          "bug_id": "685060",
          "creator_id": "81625",
          "time": "20110803T17:28:59",
          "id": "3933758",
          "is_private": "False"
        },
        {
          "count": "30",
          "creator": "jchadima@redhat.com",
          "text": "Internal sftp is still sshd, but wit another context. It should have the r/w permissions to the homedir.",
          "author": "jchadima@redhat.com",
          "creation_time": "20110803T19:00:10",
          "bug_id": "685060",
          "creator_id": "276623",
          "time": "20110803T19:00:10",
          "id": "3933909",
          "is_private": "False"
        },
        {
          "count": "31",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to ASSIGNED status by the Errata System: \nAdvisory RHBA-2011:11301-03: \nhttp://errata.devel.redhat.com/errata/stateview/11301\n\nMoving back to assigned as the internal-sftp is still not running in the correct context.\n\nTest scenario:\n1. set subsystem sftp to internal-sftp\n2. try to login via sftp\n3. check context of sshd: user@internal-sftp via ps\n\nps axZ | grep internal-sftp shows:\nunconfined_u:system_r:sshd_t:s0-s0:c0.c1023 12126 ? Ss   0:00 sshd: test@internal-sftp\n\nsecure log shows this error\nAug  4 03:56:22 dell-pe1950-04 sshd[12125]: ssh_selinux_change_context: setcon failed with Invalid argument",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110804T07:56:59",
          "bug_id": "685060",
          "creator_id": "241731",
          "time": "20110804T07:56:59",
          "id": "3934985",
          "is_private": "True"
        },
        {
          "count": "32",
          "creator": "mvadkert@redhat.com",
          "text": "Tested package:\nopenssh-5.3p1-63.el6",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110804T08:03:29",
          "bug_id": "685060",
          "creator_id": "271572",
          "time": "20110804T08:03:29",
          "id": "3934996",
          "is_private": "True"
        },
        {
          "count": "33",
          "creator": "mgrepl@redhat.com",
          "text": "I see the same issue, this works in Fedora.",
          "author": "mgrepl@redhat.com",
          "creation_time": "20110804T08:12:16",
          "bug_id": "685060",
          "creator_id": "269625",
          "time": "20110804T08:12:16",
          "id": "3935013",
          "is_private": "False"
        },
        {
          "count": "34",
          "creator": "jchadima@redhat.com",
          "text": "I see this error:\nssh_selinux_change_context: setcon unconfined_u:system_r:sshd_sftpd_t:s0-s0:c0.c1023 from unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 failed with Invalid argument\n\nCan someone from selinux explain why is this prohibited?",
          "author": "jchadima@redhat.com",
          "creation_time": "20110804T10:35:35",
          "bug_id": "685060",
          "creator_id": "276623",
          "time": "20110804T10:35:35",
          "id": "3935333",
          "is_private": "False"
        },
        {
          "count": "35",
          "creator": "mgrepl@redhat.com",
          "text": "''sshd_sftpd_t'' does not exist.\n\nMiroslav V. has a test policy which we created.",
          "author": "mgrepl@redhat.com",
          "creation_time": "20110804T14:14:47",
          "bug_id": "685060",
          "creator_id": "269625",
          "time": "20110804T14:14:47",
          "id": "3935833",
          "is_private": "False"
        },
        {
          "count": "36",
          "creator": "jchadima@redhat.com",
          "text": "The test policy is insufficient. It even breaks regular login.",
          "author": "jchadima@redhat.com",
          "creation_time": "20110804T15:16:36",
          "bug_id": "685060",
          "creator_id": "276623",
          "time": "20110804T15:16:36",
          "id": "3935999",
          "is_private": "False"
        },
        {
          "count": "37",
          "creator": "mvadkert@redhat.com",
          "text": "When I try to login via ssh I get these AVC's, should I add them to the policy module? Why we have sshd_sftpd_t denials when I'm not connecting via sftp? \n\ntype=AVC msg=audit(1312471372.239:144551): avc:  denied  { search } for  pid=27258 comm=''sshd'' name=''root'' dev=dm-0 ino=3014657 scontext=unconfined_u:system_r:sshd_sftpd_t:s0-s0:c0.c1023 tcontext=system_u:object_r:admin_home_t:s0 tclass=dir\ntype=SYSCALL msg=audit(1312471372.239:144551): arch=c000003e syscall=4 success=no exit=-13 a0=7fffb9b35f80 a1=7fffb9b35ef0 a2=7fffb9b35ef0 a3=fffffffb items=0 ppid=27253 pid=27258 auid=0 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=pts1 ses=12614 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=unconfined_u:system_r:sshd_sftpd_t:s0-s0:c0.c1023 key=(null)\ntype=AVC msg=audit(1312471372.240:144552): avc:  denied  { search } for  pid=27258 comm=''sshd'' name=''root'' dev=dm-0 ino=3014657 scontext=unconfined_u:system_r:sshd_sftpd_t:s0-s0:c0.c1023 tcontext=system_u:object_r:admin_home_t:s0 tclass=dir\ntype=SYSCALL msg=audit(1312471372.240:144552): arch=c000003e syscall=80 success=no exit=-13 a0=7f2b07a06660 a1=7f2b06c298b8 a2=9 a3=0 items=0 ppid=27253 pid=27258 auid=0 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=pts1 ses=12614 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=unconfined_u:system_r:sshd_sftpd_t:s0-s0:c0.c1023 key=(null)\ntype=AVC msg=audit(1312471372.240:144553): avc:  denied  { write } for  pid=27258 comm=''sshd'' path=''/dev/pts/1'' dev=devpts ino=4 scontext=unconfined_u:system_r:sshd_sftpd_t:s0-s0:c0.c1023 tcontext=unconfined_u:object_r:user_devpts_t:s0 tclass=chr_file\ntype=SYSCALL msg=audit(1312471372.240:144553): arch=c000003e syscall=1 success=no exit=-13 a0=2 a1=7fffb9b337a0 a2=3b a3=ffffffff items=0 ppid=27253 pid=27258 auid=0 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=pts1 ses=12614 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=unconfined_u:system_r:sshd_sftpd_t:s0-s0:c0.c1023 key=(null)\ntype=AVC msg=audit(1312471372.241:144554): avc:  denied  { execute } for  pid=27258 comm=''sshd'' name=''bash'' dev=dm-0 ino=524336 scontext=unconfined_u:system_r:sshd_sftpd_t:s0-s0:c0.c1023 tcontext=system_u:object_r:shell_exec_t:s0 tclass=file\ntype=SYSCALL msg=audit(1312471372.241:144554): arch=c000003e syscall=59 success=no exit=-13 a0=7f2b07a06680 a1=7fffb9b361a0 a2=7f2b079fce70 a3=0 items=0 ppid=27253 pid=27258 auid=0 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=pts1 ses=12614 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=unconfined_u:system_r:sshd_sftpd_t:s0-s0:c0.c1023 key=(null)\ntype=AVC msg=audit(1312471372.241:144555): avc:  denied  { write } for  pid=27258 comm=''sshd'' path=''/dev/pts/1'' dev=devpts ino=4 scontext=unconfined_u:system_r:sshd_sftpd_t:s0-s0:c0.c1023 tcontext=unconfined_u:object_r:user_devpts_t:s0 tclass=chr_file\ntype=SYSCALL msg=audit(1312471372.241:144555): arch=c000003e syscall=1 success=no exit=-13 a0=2 a1=7fffb9b33370 a2=1d a3=ffffffef items=0 ppid=27253 pid=27258 auid=0 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=pts1 ses=12614 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=unconfined_u:system_r:sshd_sftpd_t:s0-s0:c0.c1023 key=(null)\ntype=AVC msg=audit(1312471372.243:144556): avc:  denied  { sigchld } for  pid=27253 comm=''sshd'' scontext=unconfined_u:system_r:sshd_sftpd_t:s0-s0:c0.c1023 tcontext=unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 tclass=process\ntype=SYSCALL msg=audit(1312471372.243:144556): arch=c000003e syscall=61 success=no exit=-13 a0=ffffffffffffffff a1=7fffb9b3671c a2=1 a3=0 items=0 ppid=27226 pid=27253 auid=0 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=(none) ses=12614 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 key=(null)",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110804T15:25:00",
          "bug_id": "685060",
          "creator_id": "271572",
          "time": "20110804T15:25:00",
          "id": "3936018",
          "is_private": "False"
        },
        {
          "count": "38",
          "creator": "jchadima@redhat.com",
          "text": "Yes add it.\nThe sshd_sftp_t is a context compatibnle with both partially sshd and sftp.\nIt is used as intermediate (pty alocation) in sshd in case of ssh.\nIt is used as sftpd in case of sftp.",
          "author": "jchadima@redhat.com",
          "creation_time": "20110804T17:03:32",
          "bug_id": "685060",
          "creator_id": "276623",
          "time": "20110804T17:03:32",
          "id": "3936241",
          "is_private": "False"
        },
        {
          "count": "39",
          "creator": "mgrepl@redhat.com",
          "text": "Well, but the problem is you end up in sshd_t domain if you only use \n\nSubsystem internal-sftp\n\ndefinition. But you should end up in sftpd_t domain. \n\nMiroslav, \ndoes it work in permissive mode?",
          "author": "mgrepl@redhat.com",
          "creation_time": "20110804T21:09:07",
          "bug_id": "685060",
          "creator_id": "269625",
          "time": "20110804T21:09:07",
          "id": "3936714",
          "is_private": "False"
        },
        {
          "count": "40",
          "creator": "jchadima@redhat.com",
          "text": "This is technically impossible. The decision ssh/sftp is much more later than the last ability to change context.\n\nThe server does not know if client will ask for ssh or sftp (and theoretically may ask both in different channels) in the time of context change,\n\nThe context sshd_sftp_t should allow pty allocation as well full home access.",
          "author": "jchadima@redhat.com",
          "creation_time": "20110808T03:12:23",
          "bug_id": "685060",
          "creator_id": "276623",
          "time": "20110808T03:12:23",
          "id": "3940180",
          "is_private": "False"
        },
        {
          "count": "41",
          "creator": "mgrepl@redhat.com",
          "text": "Jan,\ncould you ping me?",
          "author": "mgrepl@redhat.com",
          "creation_time": "20110808T06:13:33",
          "bug_id": "685060",
          "creator_id": "269625",
          "time": "20110808T06:13:33",
          "id": "3940298",
          "is_private": "True"
        },
        {
          "count": "42",
          "creator": "mvadkert@redhat.com",
          "text": "Hey guys, please update the bugzilla after you agree on a solution for this issue.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110808T08:28:56",
          "bug_id": "685060",
          "creator_id": "271572",
          "time": "20110808T08:28:56",
          "id": "3940538",
          "is_private": "True"
        },
        {
          "count": "43",
          "creator": "jchadima@redhat.com",
          "text": "Problem was probably in the selinux part.",
          "author": "jchadima@redhat.com",
          "creation_time": "20110810T09:30:49",
          "bug_id": "685060",
          "creator_id": "276623",
          "time": "20110810T09:30:49",
          "id": "3945904",
          "is_private": "True"
        },
        {
          "count": "44",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from MODIFIED to ON_QA status by the Errata System: \nAdvisory RHBA-2011:11301-04: \nhttp://errata.devel.redhat.com/errata/stateview/11301",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110811T20:14:13",
          "bug_id": "685060",
          "creator_id": "241731",
          "time": "20110811T20:14:13",
          "id": "3950447",
          "is_private": "True"
        },
        {
          "count": "45",
          "creator": "mvadkert@redhat.com",
          "text": "I think ON_QA state of this bug is misleading. We still don't know what the fix will be here exactly",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110815T14:46:17",
          "bug_id": "685060",
          "creator_id": "271572",
          "time": "20110815T14:46:17",
          "id": "3955577",
          "is_private": "False"
        },
        {
          "count": "46",
          "creator": "mvadkert@redhat.com",
          "text": "Moving to ASSIGNED. This bug will need more discussion between the developers to find a proper solution. The current solution doesn't pass testing, thus ON_QA state is clearly wrong.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110816T08:17:27",
          "bug_id": "685060",
          "creator_id": "271572",
          "time": "20110816T08:17:27",
          "id": "3957612",
          "is_private": "False"
        },
        {
          "count": "47",
          "creator": "jchadima@redhat.com",
          "text": "Code changed according to Dan Walsh's proposal.",
          "author": "jchadima@redhat.com",
          "creation_time": "20110825T21:32:02",
          "bug_id": "685060",
          "creator_id": "276623",
          "time": "20110825T21:32:02",
          "id": "3978912",
          "is_private": "False"
        },
        {
          "count": "48",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from MODIFIED to ON_QA status by the Errata System: \nAdvisory RHBA-2011:11301-05: \nhttp://errata.devel.redhat.com/errata/stateview/11301",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110826T18:05:06",
          "bug_id": "685060",
          "creator_id": "241731",
          "time": "20110826T18:05:06",
          "id": "3981412",
          "is_private": "True"
        },
        {
          "count": "49",
          "creator": "kmaiti@redhat.com",
          "text": "This is waiting for QA_ACK. Can we expect an confirmation from QA side? One of our seg1 cu is waiting for this patch.\n\nWarm regards,\n/kamal",
          "author": "kmaiti@redhat.com",
          "creation_time": "20110907T09:27:30",
          "bug_id": "685060",
          "creator_id": "308033",
          "time": "20110907T09:27:30",
          "id": "4001195",
          "is_private": "True"
        },
        {
          "count": "50",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2011:11301-05: \nhttp://errata.devel.redhat.com/errata/stateview/11301\n\nVERIFIED as fixed in openssh-5.3p1-70.el6\nUploading and downloading files in chrooted ssh enviroment with internal-sftp submodule is now possible:\n\nNEW PACKAGE openssh-5.3p1-70.el6:\n:: [   PASS   ] :: Running 'echo 131234344 > test'\n:: [   PASS   ] :: Running 'chmod 600 test'\n:: [   PASS   ] :: Running 'sftpTest test'\n:: [   PASS   ] :: Running 'stat -c '%a' test.down | grep 600'\n:: [   PASS   ] :: Running 'diff test test.down'\n:: [   LOG    ] :: Duration: 2s\n:: [   LOG    ] :: Assertions: 5 good, 0 bad\n:: [   PASS   ] :: RESULT: Test\n\nOLD PACKAGE openssh-5.3p1-52.el6:\n:: [   PASS   ] :: Running 'echo 131234344 > test'\n:: [   PASS   ] :: Running 'chmod 600 test'\n:: [   PASS   ] :: Running 'sftpTest test'\n:: [   FAIL   ] :: Running 'stat -c '%a' test.down | grep 600' (Expected 0, got 1)\n:: [   FAIL   ] :: Running 'diff test test.down' (Expected 0, got 2)\n:: [   LOG    ] :: Duration: 4s\n:: [   LOG    ] :: Assertions: 3 good, 2 bad\n:: [   FAIL   ] :: RESULT: Test",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110916T09:18:14",
          "bug_id": "685060",
          "creator_id": "241731",
          "time": "20110916T09:18:14",
          "id": "4022444",
          "is_private": "True"
        },
        {
          "count": "51",
          "creator": "mvadkert@redhat.com",
          "text": "Just for note you need to use the latest selinux-policy which fixed second part of this bug:\nselinux-policy-3.7.19-110.el6",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110916T09:20:40",
          "bug_id": "685060",
          "creator_id": "271572",
          "time": "20110916T09:20:40",
          "id": "4022452",
          "is_private": "True"
        },
        {
          "count": "52",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHBA-2011-1551.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20111206T09:55:56",
          "bug_id": "685060",
          "creator_id": "241731",
          "time": "20111206T09:55:56",
          "id": "4193538",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.0"
      ],
      "cc": [
        "clober@jewels.com",
        "dwalsh@redhat.com",
        "jchadima@redhat.com",
        "kmaiti@redhat.com",
        "mgrepl@redhat.com",
        "mvadkert@redhat.com",
        "pvrabec@redhat.com",
        "rdassen@redhat.com"
      ],
      "cf_verified": [
        "FailedQA"
      ],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "In a chrooted sftp environment, selinux is preventing the users from uploading new files to their home directories.",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "-",
          "name": "rhel-6.1.0",
          "modification_date": "20110404T02:00:43",
          "type_id": "202",
          "is_active": "0",
          "creation_date": "20110315T08:13:08",
          "id": "780510",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.2.0",
          "modification_date": "20110602T10:07:13",
          "type_id": "249",
          "is_active": "0",
          "creation_date": "20110513T22:00:41",
          "id": "817958",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20110513T22:50:09",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20110513T22:07:56",
          "id": "818004",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20110531T09:22:54",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20110513T23:33:35",
          "id": "818186",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20110602T10:00:59",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20110531T09:25:45",
          "id": "829112",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20111206T09:55:56",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509331-Y2NqCfuzp-dfoermTs4f9qOizDSE08IW0DRBbY1TAhc",
      "cf_partner": [],
      "cf_last_closed": "20111206T09:55:56",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20110324T07:40:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "6.1"
      ],
      "external_bugs": [
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00441516",
          "bug_id": "690391",
          "ext_description": "sshd dies if SIGHUP is received in quick succession.",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "37432"
        }
      ],
      "id": "690391",
      "cf_release_notes": "",
      "priority": "medium",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-51.el6",
      "creator": "bhubbard@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "bhubbard@redhat.com",
          "text": "Description of problem:\nWhen you send two SIGHUP signals to sshd in quick succession (to reload it configuration), sshd dies.\n\nVersion-Release number of selected component (if applicable):\n\n\nHow reproducible:\nAt will.\n\nSteps to Reproduce:\n1. killall -s SIGHUP sshd && killall -s SIGHUP sshd\n2. service sshd status\n3.\n  \nActual results:\nopenssh-daemon dead but pid file exists\n\nExpected results:\nopenssh-daemon (pid  2522) is running...\n\nAdditional info:",
          "author": "bhubbard@redhat.com",
          "creation_time": "20110324T07:40:43",
          "bug_id": "690391",
          "creator_id": "301274",
          "time": "20110324T07:40:43",
          "id": "3626214",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "bhubbard@redhat.com",
          "text": "This issue is discussed in depth here https://bugs.launchpad.net/ubuntu/+source/openssh/+bug/497781",
          "author": "bhubbard@redhat.com",
          "creation_time": "20110324T23:46:00",
          "bug_id": "690391",
          "creator_id": "301274",
          "time": "20110324T23:46:00",
          "id": "3628037",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "ebenes@redhat.com",
          "text": "qa_ack+",
          "author": "ebenes@redhat.com",
          "creation_time": "20110328T13:20:51",
          "bug_id": "690391",
          "creator_id": "203333",
          "time": "20110328T13:20:51",
          "id": "3633500",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "syeghiay@redhat.com",
          "text": "From Mar 29 RHEL meeting:\n\nREPORTER: jrieden\nSTATUS:   Testing patch now.\nDECISION: Approved exception for Snapshot 2.\n          Please rebuild build in advisory by Mar 30 noon Eastern.",
          "author": "syeghiay@redhat.com",
          "creation_time": "20110329T19:28:49",
          "bug_id": "690391",
          "creator_id": "193262",
          "time": "20110329T19:28:49",
          "id": "3637731",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "jchadima@redhat.com",
          "text": "added to openssh-5.3p1-51",
          "author": "jchadima@redhat.com",
          "creation_time": "20110330T14:19:33",
          "bug_id": "690391",
          "creator_id": "276623",
          "time": "20110330T14:19:33",
          "id": "3639896",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2011:10529-19\nhttp://errata.devel.redhat.com/errata/show/10529",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110330T14:29:08",
          "bug_id": "690391",
          "creator_id": "241731",
          "time": "20110330T14:29:08",
          "id": "3639972",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2011:10529-20: \nhttp://errata.devel.redhat.com/errata/stateview/10529\n\nVERIFIED as fixed in openssh-5.3p1-52.el6. With the new package ssh doesn't die anymore if you send more SIGHUP signals in quick succession.\n\nNEW package openssh-5.3p1-52.el6\n# service sshd restart\nStopping sshd: [FAILED]\nStarting sshd: [  OK  ]\n# for i in seq (1 100); do killall -s SIGHUP sshd && killall -s SIGHUP sshd; done\n# ps ax | grep ssh\n9438 ?        Ss     0:00 /usr/sbin/sshd\n9440 ttyS1    S+     0:00 grep ssh\n\nOLD package openssh-5.3p1-50.el6:\n# service sshd restart\nStopping sshd: [FAILED]\nStarting sshd: [  OK  ]\n# killall -s SIGHUP sshd && killall -s SIGHUP sshd\n# killall -s SIGHUP sshd && killall -s SIGHUP sshd\nsshd: no process killed\n# ssh root@localhost\nssh: connect to host localhost port 22: Connection refused\n# ps ax | grep ssh\n 9171 ttyS1    S+     0:00 grep ssh",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110420T14:51:23",
          "bug_id": "690391",
          "creator_id": "241731",
          "time": "20110420T14:51:23",
          "id": "3687452",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "An advisory has been issued which should help the problem\ndescribed in this bug report. This report is therefore being\nclosed with a resolution of ERRATA. For more information\non therefore solution and/or where to find the updated files,\nplease follow the link below. You may reopen this bug report\nif the solution does not work for you.\n\nhttp://rhn.redhat.com/errata/RHBA-2011-0598.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110519T13:31:05",
          "bug_id": "690391",
          "creator_id": "241731",
          "time": "20110519T13:31:05",
          "id": "3745814",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.0"
      ],
      "cc": [
        "bhubbard@redhat.com",
        "cmedeiro@redhat.com",
        "mvadkert@redhat.com",
        "sgrubb@redhat.com",
        "syeghiay@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "682670"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "Snapshot 2",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "When you send two SIGHUP signals to sshd in quick succession (to reload it configuration), sshd dies.",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.1.0",
          "modification_date": "20110328T16:32:34",
          "type_id": "202",
          "is_active": "0",
          "creation_date": "20110324T07:42:50",
          "id": "786105",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "exception",
          "modification_date": "20110329T19:28:49",
          "type_id": "15",
          "is_active": "1",
          "creation_date": "20110328T19:34:38",
          "id": "788157",
          "setter": "syeghiay@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20110324T07:47:01",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20110324T07:42:50",
          "id": "786106",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20110328T16:28:36",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20110324T08:05:28",
          "id": "786126",
          "setter": "sgrubb@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20110328T13:20:51",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20110328T13:20:51",
          "id": "787825",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20110519T13:31:05",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509331-UL38W8XnAkKQU7aPKe77q7KfAAqep5l2GtrCPhAnZEY",
      "cf_partner": [],
      "cf_last_closed": "20110519T13:31:05",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20110412T16:55:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "Documentation",
        "FutureFeature",
        "Triaged"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00432730",
          "bug_id": "695781",
          "ext_description": "[RFE] Clarify IPv6 usage in ssh, scp, sftp man pages",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "38471"
        }
      ],
      "id": "695781",
      "cf_release_notes": "",
      "priority": "medium",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-60.el6",
      "creator": "rdassen@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "rdassen@redhat.com",
          "text": "> What is the nature and description of the request?\nMan page clarification. In the ssh utilities, IPv6 addresses need to be\nenclosed in square brackets ''[]''. The man page specifies this in descriptions\nof port forwarding options, but there is no other indication of this\nrequirement.\n\n> Why does the customer need this? (List the business requirements here)\nClarification of this requirement in the man pages makes usage either.\nInitially the customer thought IPv6 was not working at all since this detail\nwas not specified.\n\n> How would the customer like to achieve this? (List the functional\n> requirements here)\nA simple ''IPv6 note'' in all the ssh man pages. A note could also be added for\nthe ''-6'' switch description, however that option is only to force IPv6, so the\nsquare bracket necessity can apply to other cases as well.\n\n> For each functional requirement listed in question 4, specify how Red Hat and\n> the customer can test to confirm the requirement is successfully implemented.\nN/A\n\n> Is there already an existing RFE upstream or in Red Hat bugzilla?\nNot that I can find.\n\n> How quickly does this need resolved? (desired target release)\nNo hard deadline but this is very minor documentation.\n\n> List the affected packages\nopenssh",
          "author": "rdassen@redhat.com",
          "creation_time": "20110412T16:55:05",
          "bug_id": "695781",
          "creator_id": "275277",
          "time": "20110412T16:55:05",
          "id": "3669104",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "rdassen@redhat.com",
          "text": ">Customer Name\nAT&T\n(TAM customer)",
          "author": "rdassen@redhat.com",
          "creation_time": "20110412T16:55:45",
          "bug_id": "695781",
          "creator_id": "275277",
          "time": "20110412T16:55:45",
          "id": "3669105",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "ebenes@redhat.com",
          "text": "qa_ack+ for 6.2",
          "author": "ebenes@redhat.com",
          "creation_time": "20110527T11:58:10",
          "bug_id": "695781",
          "creator_id": "203333",
          "time": "20110527T11:58:10",
          "id": "3764415",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to ASSIGNED status by the Errata System: \nAdvisory RHBA-2011:11301-05: \nhttp://errata.devel.redhat.com/errata/stateview/11301\n\nJan, I like the IPv6 note in the ssh and sshd man pages. Though I think we should add this note also to scp and sftp man pages. Could you please respin the package to include the notes also here pls?",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110906T20:13:30",
          "bug_id": "695781",
          "creator_id": "241731",
          "time": "20110906T20:13:30",
          "id": "4000047",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from MODIFIED to ON_QA status by the Errata System: \nAdvisory RHBA-2011:11301-05: \nhttp://errata.devel.redhat.com/errata/stateview/11301\n\nBug is ready for testing after respin, moving to ON_QA",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110907T10:56:10",
          "bug_id": "695781",
          "creator_id": "241731",
          "time": "20110907T10:56:10",
          "id": "4001420",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2011:11301-05: \nhttp://errata.devel.redhat.com/errata/stateview/11301\n\nVERIFIED as fixed in openssh-5.3p1-70.el6\n\nMan pages of openssh main binaries (ssh, sshd, sftp and scp) now contain IPv6 section in their man page with a correct note:\n\nIPv6 address can be used everywhere where IPv4 address. In all entries must be the IPv6 address enclosed in square brackets. Note: The square brackets are metacharacters for the shell and must be escaped in shell.",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110907T14:35:23",
          "bug_id": "695781",
          "creator_id": "241731",
          "time": "20110907T14:35:23",
          "id": "4001939",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHBA-2011-1551.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20111206T09:56:01",
          "bug_id": "695781",
          "creator_id": "241731",
          "time": "20111206T09:56:01",
          "id": "4193539",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.1"
      ],
      "cc": [
        "jkodak@redhat.com",
        "mvadkert@redhat.com",
        "pvrabec@redhat.com",
        "rbinkhor@redhat.com"
      ],
      "cf_verified": [
        "FailedQA"
      ],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "607248",
        "695783",
        "703208"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Enhancement",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "[RFE] Clarify IPv6 usage in ssh, scp, sftp man pages",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.2.0",
          "modification_date": "20110527T12:02:52",
          "type_id": "249",
          "is_active": "0",
          "creation_date": "20110412T16:55:05",
          "id": "798425",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20110526T12:12:30",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20110412T16:55:05",
          "id": "798426",
          "setter": "snagar@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20110527T09:23:59",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20110412T16:55:05",
          "id": "798427",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20110527T11:58:10",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20110527T09:25:44",
          "id": "825781",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20130703T04:13:07",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509331-UrpePlYp6HmHpHV54P1zbwL83dGWZHVNb9iWy0f4VMk",
      "cf_partner": [],
      "cf_last_closed": "20111206T09:56:01",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20110517T15:19:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "705397",
      "cf_release_notes": "",
      "priority": "medium",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-54.el6",
      "creator": "thoger@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "thoger@redhat.com",
          "text": "Description of problem:\nManual pages in newly introduced openssh-ldap subpackage contain formatting errors that cause man to report errors / warnings when viewing them.  No problems are reported by EL6 man, but F14 man reports the following:\n\n$ man ./ssh-ldap-helper.8.gz > /dev/null\nmdoc warning: Empty input line #69\nmdoc warning: A .Bl directive has no matching .El (#70)\n\n$ man ./ssh-ldap.conf.5.gz > /dev/null\nmdoc error: .It without preceding .Bl (#44)\nmdoc error: .It without preceding .Bl (#66)\nmdoc error: .It without preceding .Bl (#70)\nmdoc error: .It without preceding .Bl (#74)\nmdoc error: .It without preceding .Bl (#78)\nmdoc error: .It without preceding .Bl (#80)\nmdoc error: .It without preceding .Bl (#91)\nmdoc error: .It without preceding .Bl (#98)\nmdoc error: .It without preceding .Bl (#119)\nmdoc error: .It without preceding .Bl (#145)\nmdoc error: .It without preceding .Bl (#152)\nmdoc error: .It without preceding .Bl (#155)\nmdoc error: .It without preceding .Bl (#159)\nmdoc error: .It without preceding .Bl (#162)\nmdoc error: .It without preceding .Bl (#165)\nmdoc error: .It without preceding .Bl (#168)\nmdoc error: .It without preceding .Bl (#189)\nmdoc error: .It without preceding .Bl (#192)\n<standard input>:211: warning: macro `Dqstart_tls' not defined (possibly missing space after `Dq')\nmdoc error: .It without preceding .Bl (#222)\nmdoc error: .It without preceding .Bl (#240)\nmdoc error: .It without preceding .Bl (#257)\nmdoc error: .It without preceding .Bl (#305)\nmdoc error: .It without preceding .Bl (#308)\nmdoc error: .It without preceding .Bl (#312)\nmdoc error: .It without preceding .Bl (#315)\nmdoc error: .It without preceding .Bl (#323)\nmdoc error: .It without preceding .Bl (#330)\nmdoc error: .It without preceding .Bl (#333)\nmdoc error: .It without preceding .Bl (#336)\nmdoc error: .It without preceding .Bl (#339)\nmdoc error: .It without preceding .Bl (#346)\nmdoc error: .It without preceding .Bl (#351)\nmdoc error: .It without preceding .Bl (#354)\nmdoc error: .It without preceding .Bl (#357)\nmdoc warning: A .Bl directive has no matching .El (#365)\n\nThe ssh-ldap.conf.5 errors make that manual page rather unusable, as no configuration keywords are displayed and the man page displays as e.g.:\n\n  Specifies the default base Distinguished Name (DN) to use when performing\n  ldap operations.  The base must be specified as a DN in LDAP format.  There\n  is no default.\n  Specifies the default BIND DN to use when connecting to the ldap server.\n  The bind DN must be specified as a Distinguished Name in LDAP format.\n  There is no default.\n  Specifies the default password to use when connecting to the ldap server\n  via BindDN.  There is no default.\n  Intentionaly does nothing. Recognized for compatibility reasons.\n\nVersion-Release number of selected component (if applicable):\nopenssh-ldap-5.3p1-52.el6",
          "author": "thoger@redhat.com",
          "creation_time": "20110517T15:19:12",
          "bug_id": "705397",
          "creator_id": "215839",
          "time": "20110517T15:19:12",
          "id": "3738949",
          "is_private": "False"
        },
        {
          "count": "1",
          "attachment_id": "500663",
          "author": "jchadima@redhat.com",
          "text": "Created attachment 500663\nPrepared opatch solving the problem\n\nAdding the patch solving the problem",
          "creator": "jchadima@redhat.com",
          "creation_time": "20110524T17:19:45",
          "bug_id": "705397",
          "creator_id": "276623",
          "time": "20110524T17:19:45",
          "id": "3756504",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "ebenes@redhat.com",
          "text": "qa_ack+ for 6.2",
          "author": "ebenes@redhat.com",
          "creation_time": "20110527T11:58:52",
          "bug_id": "705397",
          "creator_id": "203333",
          "time": "20110527T11:58:52",
          "id": "3764418",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "mvadkert@redhat.com",
          "text": "Just for note the above errors are printed by the groff package when run with -m mdoc paramteter.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110803T12:22:25",
          "bug_id": "705397",
          "creator_id": "271572",
          "time": "20110803T12:22:25",
          "id": "3933091",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to ASSIGNED status by the Errata System: \nAdvisory RHBA-2011:11301-03: \nhttp://errata.devel.redhat.com/errata/stateview/11301\n\nUnfortunately there are some other issues also with other man pages, could these be fixed also pls?\n\n1. slogin\n:: [   PASS   ] :: Running 'cat /usr/share/man/man1/slogin.1.gz | gunzip | groff -m mdoc > /dev/null 2> /tmp/tmp.HX7Z3AyUif'\nmdoc error: .It without preceding .Bl (#1255)\n:: [   FAIL   ] :: File '/tmp/tmp.HX7Z3AyUif' should not contain '.*' \n\n2. ssh-agent\n:: [   PASS   ] :: Running 'cat /usr/share/man/man1/ssh-agent.1.gz | gunzip | groff -m mdoc > /dev/null 2> /tmp/tmp.HX7Z3AyUif'\nmdoc warning: list open at EOF!  A .Bl directive has no matching .El\n:: [   FAIL   ] :: File '/tmp/tmp.HX7Z3AyUif' should not contain '.*' \n\n3. ssh-copy-id\n:: [   PASS   ] :: Running 'cat /usr/share/man/man1/ssh-copy-id.1.gz | gunzip | groff -m mdoc > /dev/null 2> /tmp/tmp.HX7Z3AyUif'\nNot a \\-mdoc command: .SH (#20)\nNot a \\-mdoc command: .SH (#22)\nNot a \\-mdoc command: .SH (#26)\nNot a \\-mdoc command: .PP (#31)\nNot a \\-mdoc command: .PP (#41)\nNot a \\-mdoc command: .PP (#49)\nNot a \\-mdoc command: .PP (#51)\nNot a \\-mdoc command: .PP (#53)\nmdoc warning: Empty input line #63\nNot a \\-mdoc command: .SH (#64)\n:: [   FAIL   ] :: File '/tmp/tmp.HX7Z3AyUif' should not contain '.*' \n\n4. ssh\n:: [   PASS   ] :: Running 'cat /usr/share/man/man1/ssh.1.gz | gunzip | groff -m mdoc > /dev/null 2> /tmp/tmp.HX7Z3AyUif'\nmdoc error: .It without preceding .Bl (#1255)\n:: [   FAIL   ] :: File '/tmp/tmp.HX7Z3AyUif' should not contain '.*' \n\n5. ssh-keygen\n:: [   PASS   ] :: Running 'cat /usr/share/man/man1/ssh-keygen.1.gz | gunzip | groff -m mdoc > /dev/null 2> /tmp/tmp.HX7Z3AyUif'\nmdoc warning: list open at EOF!  A .Bl directive has no matching .El\n:: [   FAIL   ] :: File '/tmp/tmp.HX7Z3AyUif' should not contain '.*' \n\n6. ssh-keysign\n:: [   PASS   ] :: Running 'cat /usr/share/man/man8/ssh-keysign.8.gz | gunzip | groff -m mdoc > /dev/null 2> /tmp/tmp.HX7Z3AyUif'\nmdoc warning: list open at EOF!  A .Bl directive has no matching .El\n:: [   FAIL   ] :: File '/tmp/tmp.HX7Z3AyUif' should not contain '.*' \n\n7. sshd\n:: [   PASS   ] :: Running 'cat /usr/share/man/man8/sshd.8.gz | gunzip | groff -m mdoc > /dev/null 2> /tmp/tmp.HX7Z3AyUif'\nmdoc warning: list open at EOF!  A .Bl directive has no matching .El\n:: [   FAIL   ] :: File '/tmp/tmp.HX7Z3AyUif' should not contain '.*'",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110803T12:27:27",
          "bug_id": "705397",
          "creator_id": "241731",
          "time": "20110803T12:27:27",
          "id": "3933099",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ASSIGNED to ON_QA status by the Errata System: \nAdvisory RHBA-2011:11301-03: \nhttp://errata.devel.redhat.com/errata/stateview/11301\n\nMoving to ON_QA. Other man pages problems will be fixed in Bug 728459",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110805T08:23:48",
          "bug_id": "705397",
          "creator_id": "241731",
          "time": "20110805T08:23:48",
          "id": "3937505",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2011:11301-05: \nhttp://errata.devel.redhat.com/errata/stateview/11301\n\nVERIFIED as fixed in openssh-5.3p1-70.el6.\n\nExcept the ssh-copy-id package all man pages are without errors. As this is not a regression I filed a new BZ on this - see bug 738976\n\n:: [   PASS   ] :: Running 'cat /usr/share/man/man1/scp.1.gz | gunzip | groff -m mdoc > /dev/null 2> /tmp/tmp.1jV9Y2hu7S'\n:: [   PASS   ] :: File '/tmp/tmp.1jV9Y2hu7S' should not contain '.*'\n:: [   PASS   ] :: Running 'cat /usr/share/man/man1/sftp.1.gz | gunzip | groff -m mdoc > /dev/null 2> /tmp/tmp.1jV9Y2hu7S'\n:: [   PASS   ] :: File '/tmp/tmp.1jV9Y2hu7S' should not contain '.*'\n:: [   PASS   ] :: Running 'cat /usr/share/man/man1/slogin.1.gz | gunzip | groff -m mdoc > /dev/null 2> /tmp/tmp.1jV9Y2hu7S'\n:: [   PASS   ] :: File '/tmp/tmp.1jV9Y2hu7S' should not contain '.*'\n:: [   PASS   ] :: Running 'cat /usr/share/man/man1/ssh-add.1.gz | gunzip | groff -m mdoc > /dev/null 2> /tmp/tmp.1jV9Y2hu7S'\n:: [   PASS   ] :: File '/tmp/tmp.1jV9Y2hu7S' should not contain '.*'\n:: [   PASS   ] :: Running 'cat /usr/share/man/man1/ssh-agent.1.gz | gunzip | groff -m mdoc > /dev/null 2> /tmp/tmp.1jV9Y2hu7S'\n:: [   PASS   ] :: File '/tmp/tmp.1jV9Y2hu7S' should not contain '.*'\n:: [   PASS   ] :: Running 'cat /usr/share/man/man1/ssh-copy-id.1.gz | gunzip | groff -m mdoc > /dev/null 2> /tmp/tmp.1jV9Y2hu7S'\n:: [   FAIL   ] :: File '/tmp/tmp.1jV9Y2hu7S' should not contain '.*' \n:: [   PASS   ] :: Running 'cat /usr/share/man/man1/ssh-keyscan.1.gz | gunzip | groff -m mdoc > /dev/null 2> /tmp/tmp.1jV9Y2hu7S'\n:: [   PASS   ] :: File '/tmp/tmp.1jV9Y2hu7S' should not contain '.*'\n:: [   PASS   ] :: Running 'cat /usr/share/man/man1/ssh.1.gz | gunzip | groff -m mdoc > /dev/null 2> /tmp/tmp.1jV9Y2hu7S'\n:: [   PASS   ] :: File '/tmp/tmp.1jV9Y2hu7S' should not contain '.*'\n:: [   PASS   ] :: Running 'cat /usr/share/man/man5/ssh_config.5.gz | gunzip | groff -m mdoc > /dev/null 2> /tmp/tmp.1jV9Y2hu7S'\n:: [   PASS   ] :: File '/tmp/tmp.1jV9Y2hu7S' should not contain '.*'\n:: [   PASS   ] :: Running 'cat /usr/share/man/man5/moduli.5.gz | gunzip | groff -m mdoc > /dev/null 2> /tmp/tmp.1jV9Y2hu7S'\n:: [   PASS   ] :: File '/tmp/tmp.1jV9Y2hu7S' should not contain '.*'\n:: [   PASS   ] :: Running 'cat /usr/share/man/man5/sshd_config.5.gz | gunzip | groff -m mdoc > /dev/null 2> /tmp/tmp.1jV9Y2hu7S'\n:: [   PASS   ] :: File '/tmp/tmp.1jV9Y2hu7S' should not contain '.*'\n:: [   PASS   ] :: Running 'cat /usr/share/man/man8/sftp-server.8.gz | gunzip | groff -m mdoc > /dev/null 2> /tmp/tmp.1jV9Y2hu7S'\n:: [   PASS   ] :: File '/tmp/tmp.1jV9Y2hu7S' should not contain '.*'\n:: [   PASS   ] :: Running 'cat /usr/share/man/man8/sshd.8.gz | gunzip | groff -m mdoc > /dev/null 2> /tmp/tmp.1jV9Y2hu7S'\n:: [   PASS   ] :: File '/tmp/tmp.1jV9Y2hu7S' should not contain '.*'\n:: [   PASS   ] :: Running 'cat /usr/share/man/man1/ssh-keygen.1.gz | gunzip | groff -m mdoc > /dev/null 2> /tmp/tmp.1jV9Y2hu7S'\n:: [   PASS   ] :: File '/tmp/tmp.1jV9Y2hu7S' should not contain '.*'\n:: [   PASS   ] :: Running 'cat /usr/share/man/man8/ssh-keysign.8.gz | gunzip | groff -m mdoc > /dev/null 2> /tmp/tmp.1jV9Y2hu7S'\n:: [   PASS   ] :: File '/tmp/tmp.1jV9Y2hu7S' should not contain '.*'\n:: [   PASS   ] :: Running 'cat /usr/share/man/man5/ssh-ldap.conf.5.gz | gunzip | groff -m mdoc > /dev/null 2> /tmp/tmp.1jV9Y2hu7S'\n:: [   PASS   ] :: File '/tmp/tmp.1jV9Y2hu7S' should not contain '.*'\n:: [   PASS   ] :: Running 'cat /usr/share/man/man8/ssh-ldap-helper.8.gz | gunzip | groff -m mdoc > /dev/null 2> /tmp/tmp.1jV9Y2hu7S'\n:: [   PASS   ] :: File '/tmp/tmp.1jV9Y2hu7S' should not contain '.*'",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110916T09:09:35",
          "bug_id": "705397",
          "creator_id": "241731",
          "time": "20110916T09:09:35",
          "id": "4022399",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHBA-2011-1551.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20111206T09:56:05",
          "bug_id": "705397",
          "creator_id": "241731",
          "time": "20111206T09:56:05",
          "id": "4193540",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.1"
      ],
      "cc": [
        "mvadkert@redhat.com",
        "pvrabec@redhat.com"
      ],
      "cf_verified": [
        "FailedQA"
      ],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "openssh: formatting errors in openssh-ldap manpages",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.2.0",
          "modification_date": "20110527T12:02:47",
          "type_id": "249",
          "is_active": "0",
          "creation_date": "20110517T15:19:12",
          "id": "819466",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20110517T15:38:57",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20110517T15:37:45",
          "id": "819495",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20110527T09:26:38",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20110517T15:55:31",
          "id": "819518",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20110527T11:58:52",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20110527T09:45:34",
          "id": "825784",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20111206T09:56:05",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509331-wteLuPxhPPR8M4O51aXL4qH6s9AOvlBdxxWXm7x79M0",
      "cf_partner": [],
      "cf_last_closed": "20111206T09:56:05",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20110720T10:28:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "None",
          "ext_bz_bug_id": "00508885",
          "bug_id": "723477",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "43052"
        },
        {
          "ext_status": "None",
          "ext_bz_bug_id": "00512090",
          "bug_id": "723477",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "44177"
        }
      ],
      "id": "723477",
      "cf_release_notes": "",
      "priority": "medium",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "case-diagnostics@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "case-diagnostics@redhat.com",
          "text": "This description generated by Andreas from an ABRT report\narchitecture: x86_64\ncmdline: 'sshd: root@notty' ''\ncomment: \ncomponent: openssh\nexecutable: /usr/sbin/sshd\nkernel: 2.6.32-131.4.1.el6.x86_64\npackage: openssh-server-5.3p1-52.el6_1.2\nreason: Process /usr/sbin/sshd was killed by signal 11 (SIGSEGV)\nrelease: Red Hat Enterprise Linux Server release 6.1 (Santiago)\nreproduce: 1. \n2. \n3. \n\ntime: 1311108113\nuid: 0\nbacktrace: [New Thread 28393]\n[Thread debugging using libthread_db enabled]\nCore was generated by `sshd: root@notty '.\nProgram terminated with signal 11, Segmentation fault.\n#0  0x0000000000000038 in ?? ()\n\nThread 1 (Thread 0x7fa986fb07c0 (LWP 28393)):\n#0  0x0000000000000038 in ?? ()\nNo symbol table info available.\n#1  0x00007fa9846b17e8 in fork_handler_pool () from /lib64/libc.so.6\nNo symbol table info available.\n#2  0x00007fffe724fd60 in ?? ()\nNo symbol table info available.\n#3  0x00007fa98702c512 in ?? ()\nNo symbol table info available.\n#4  0x00007fa900000001 in ?? ()\nNo symbol table info available.\n#5  0x00007fa9846b07c0 in save_arena () from /lib64/libc.so.6\nNo symbol table info available.\n#6  0x0000000000000000 in ?? ()\nNo symbol table info available.\nFrom                To                  Syms Read   Shared Object Library\n0x00007fa986ba7b20  0x00007fa986ba7f38  Yes (*)     /lib64/libfipscheck.so.1\n0x00007fa98699fee0  0x00007fa9869a3a88  Yes (*)     /lib64/libwrap.so.0\n0x00007fa986788500  0x00007fa98678dc58  Yes (*)     /lib64/libaudit.so.1\n0x00007fa98657b3a0  0x00007fa986582158  Yes (*)     /lib64/libpam.so.0\n0x00007fa986375de0  0x00007fa986376998  Yes (*)     /lib64/libdl.so.2\n0x00007fa98615b820  0x00007fa98616bc08  Yes (*)     /lib64/libselinux.so.1\n0x00007fa985e1c980  0x00007fa985ee0e18  Yes (*)     /usr/lib64/libcrypto.so.10\n0x00007fa985bbde10  0x00007fa985bbe688  Yes (*)     /lib64/libutil.so.1\n0x00007fa9859a9ef0  0x00007fa9859b51a8  Yes (*)     /lib64/libz.so.1\n0x00007fa985792ff0  0x00007fa9857a0788  Yes (*)     /lib64/libnsl.so.1\n0x00007fa985558c00  0x00007fa98555d9a8  Yes (*)     /lib64/libcrypt.so.1\n0x00007fa9853418c0  0x00007fa985350558  Yes (*)     /lib64/libresolv.so.2\n0x00007fa985106d40  0x00007fa9851336b8  Yes (*)     /lib64/libgssapi_krb5.so.2\n0x00007fa984e38550  0x00007fa984ead5e8  Yes (*)     /lib64/libkrb5.so.3\n0x00007fa984bf6780  0x00007fa984c10428  Yes (*)     /lib64/libk5crypto.so.3\n0x00007fa9849f03b0  0x00007fa9849f0f88  Yes (*)     /lib64/libcom_err.so.2\n0x00007fa9846cc630  0x00007fa9847b1178  Yes (*)     /usr/lib64/libnss3.so\n0x00007fa9843419e0  0x00007fa984460370  Yes (*)     /lib64/libc.so.6\n0x00007fa986da9b00  0x00007fa986dc284b  Yes (*)     /lib64/ld-linux-x86-64.so.2\n0x00007fa9840c4270  0x00007fa984103928  Yes (*)     /lib64/libfreebl3.so\n0x00007fa983eb97a0  0x00007fa983ebe898  Yes (*)     /lib64/libkrb5support.so.0\n0x00007fa983cb5bc0  0x00007fa983cb61a8  Yes (*)     /lib64/libkeyutils.so.1\n0x00007fa983a9d640  0x00007fa983aa8f28  Yes (*)     /lib64/libpthread.so.0\n0x00007fa983881560  0x00007fa98388c7e8  Yes (*)     /usr/lib64/libnssutil3.so\n0x00007fa9836763d0  0x00007fa983677b08  Yes (*)     /lib64/libplc4.so\n0x00007fa983472ea0  0x00007fa983473d58  Yes (*)     /lib64/libplds4.so\n0x00007fa983241f90  0x00007fa983261758  Yes (*)     /lib64/libnspr4.so\n0x00007fa98302a110  0x00007fa9830320b8  Yes (*)     /lib64/libnss_files.so.2\n0x00007fa982e25ed0  0x00007fa982e26bf8  Yes (*)     /lib64/security/pam_sepermit.so\n0x00007fa982c21d80  0x00007fa982c23798  Yes (*)     /lib64/security/pam_env.so\n0x00007fa982a0b600  0x00007fa982a12c48  Yes (*)     /lib64/security/pam_unix.so\n0x00007fa982806ba0  0x00007fa982807b68  Yes (*)     /lib64/security/pam_succeed_if.so\n0x00007fa9826054f0  0x00007fa982605658  Yes (*)     /lib64/security/pam_deny.so\n0x00007fa9824037c0  0x00007fa982403c18  Yes (*)     /lib64/security/pam_nologin.so\n0x00007fa982201810  0x00007fa982201bf8  Yes (*)     /lib64/security/pam_localuser.so\n0x00007fa9820005c0  0x00007fa982000778  Yes (*)     /lib64/security/pam_permit.so\n0x00007fa981dfdbc0  0x00007fa981dff008  Yes (*)     /lib64/security/pam_cracklib.so\n0x00007fa981bf3870  0x00007fa981bf61b8  Yes (*)     /usr/lib64/libcrack.so.2\n0x00007fa9819ed2d0  0x00007fa9819ef168  Yes (*)     /lib64/security/pam_selinux.so\n0x00007fa9817ea950  0x00007fa9817eae08  Yes (*)     /lib64/security/pam_loginuid.so\n0x00007fa9815e8830  0x00007fa9815e8f98  Yes (*)     /lib64/security/pam_keyinit.so\n0x00007fa9813e5030  0x00007fa9813e6b98  Yes (*)     /lib64/security/pam_limits.so\n(*): Shared library is missing debugging information.\n$1 = 0x0\nNo symbol table is loaded.  Use the ''file'' command.\nrax            0x6f17\t28439\nrbx            0x7fffe724fd40\t140737071349056\nrcx            0x38\t56\nrdx            0x246\t582\nrsi            0x7fa986fb0a90\t140366090799760\nrdi            0x0\t0\nrbp            0x7fffe724fda0\t0x7fffe724fda0\nrsp            0x7fffe724fd40\t0x7fffe724fd40\nr8             0x0\t0\nr9             0x7fffe724fd60\t140737071349088\nr10            0x0\t0\nr11            0x7fffe724ffd4\t140737071349716\nr12            0x0\t0\nr13            0x7fffe724fd60\t140737071349088\nr14            0x0\t0\nr15            0x7fffe724ffd4\t140737071349716\nrip            0x38\t0x38\neflags         0x257fd6\t[ PF AF ZF SF TF IF DF OF #12 #13 NT RF AC ID ]\ncs             0x33\t51\nss             0x2b\t43\nds             0x0\t0\nes             0x0\t0\nfs             0x0\t0\ngs             0x0\t0\nNo function contains program counter for selected frame.",
          "author": "case-diagnostics@redhat.com",
          "creation_time": "20110720T10:28:36",
          "bug_id": "723477",
          "creator_id": "305478",
          "time": "20110720T10:28:36",
          "id": "3898116",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "case-diagnostics@redhat.com",
          "text": "A new case 00508885 has been added to the bug:\n [abrt] openssh-server-5.3p1-52.el6_1.2: Process /usr/sbin/sshd was killed by signal 11 (SIGSEGV)",
          "author": "case-diagnostics@redhat.com",
          "creation_time": "20110720T10:29:00",
          "bug_id": "723477",
          "creator_id": "305478",
          "time": "20110720T10:29:00",
          "id": "3898120",
          "is_private": "True"
        },
        {
          "count": "2",
          "attachment_id": "513970",
          "author": "case-diagnostics@redhat.com",
          "text": "Created attachment 513970\nFile: backtrace",
          "creator": "case-diagnostics@redhat.com",
          "creation_time": "20110720T10:29:14",
          "bug_id": "723477",
          "creator_id": "305478",
          "time": "20110720T10:29:14",
          "id": "3898121",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "case-diagnostics@redhat.com",
          "text": "A new attachment to case 00508885 matches the hash in the whiteboard of this bug.\nAttachment URL: https://api.access.redhat.com/rs/cases/00508885/attachments/f0cfb565-af51-36bd-9353-0dc77cb56960\nHash value: abrt_hash:7dc5574f1ebabc498b4e35af49b1335eb0ad66b2",
          "author": "case-diagnostics@redhat.com",
          "creation_time": "20110720T10:29:23",
          "bug_id": "723477",
          "creator_id": "305478",
          "time": "20110720T10:29:23",
          "id": "3898122",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20110720T10:42:31",
          "bug_id": "723477",
          "creator_id": "193983",
          "time": "20110720T10:42:31",
          "id": "3898148",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "jchadima@redhat.com",
          "text": "Please have you additional info? the dump is almost worthless in this case.\nJump to NULL from somewhere from glibc. Is possible to reproduce the crash? Is available better (longer) dump?",
          "author": "jchadima@redhat.com",
          "creation_time": "20110720T14:45:17",
          "bug_id": "723477",
          "creator_id": "276623",
          "time": "20110720T14:45:17",
          "id": "3898915",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "jchadima@redhat.com",
          "text": "*** Bug 725534 has been marked as a duplicate of this bug. ***",
          "author": "jchadima@redhat.com",
          "creation_time": "20110727T11:44:07",
          "bug_id": "723477",
          "creator_id": "276623",
          "time": "20110727T11:44:07",
          "id": "3918775",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "case-diagnostics@redhat.com",
          "text": "A new case 00512090 has been added to the bug:\n [abrt] openssh-server-5.3p1-52.el6_1.2: Process /usr/sbin/sshd was killed by signal 11 (SIGSEGV)",
          "author": "case-diagnostics@redhat.com",
          "creation_time": "20110728T12:44:10",
          "bug_id": "723477",
          "creator_id": "305478",
          "time": "20110728T12:44:10",
          "id": "3921425",
          "is_private": "True"
        },
        {
          "count": "8",
          "attachment_id": "515714",
          "author": "case-diagnostics@redhat.com",
          "text": "Created attachment 515714\nFile: backtrace",
          "creator": "case-diagnostics@redhat.com",
          "creation_time": "20110728T12:44:29",
          "bug_id": "723477",
          "creator_id": "305478",
          "time": "20110728T12:44:29",
          "id": "3921426",
          "is_private": "False"
        },
        {
          "count": "9",
          "creator": "case-diagnostics@redhat.com",
          "text": "A new attachment to case 00512090 matches the hash in the whiteboard of this bug.\nAttachment URL: https://api.access.redhat.com/rs/cases/00512090/attachments/6c53d9bd-0daf-3225-8617-d03a0afeefc9\nHash value: abrt_hash:7dc5574f1ebabc498b4e35af49b1335eb0ad66b2",
          "author": "case-diagnostics@redhat.com",
          "creation_time": "20110728T12:44:44",
          "bug_id": "723477",
          "creator_id": "305478",
          "time": "20110728T12:44:44",
          "id": "3921427",
          "is_private": "True"
        },
        {
          "count": "10",
          "creator": "jchadima@redhat.com",
          "text": "This is still the same dump, have you any other data?",
          "author": "jchadima@redhat.com",
          "creation_time": "20110801T09:22:41",
          "bug_id": "723477",
          "creator_id": "276623",
          "time": "20110801T09:22:41",
          "id": "3926602",
          "is_private": "True"
        },
        {
          "count": "11",
          "creator": "pingale@redhat.com",
          "text": "\n\nFor this perticularal customer getting  a invalid coredump for his all cases.And we are investigating this thing.\nstill we do not get a valid coredump and this issue is not  a reproducable.\nAs soon as I will  get any information i will update you.",
          "author": "pingale@redhat.com",
          "creation_time": "20110801T13:50:24",
          "bug_id": "723477",
          "creator_id": "308693",
          "time": "20110801T13:50:24",
          "id": "3927111",
          "is_private": "True"
        },
        {
          "count": "12",
          "creator": "jchadima@redhat.com",
          "text": "Maybe the corredump is correct, in that case it means that the program counter jumped to NULL pointer somewhere from glibc. How often this customer have this issue? It is only one customer with this issue? On how many servers it is reproducible? Get any data about this case.",
          "author": "jchadima@redhat.com",
          "creation_time": "20110801T14:40:26",
          "bug_id": "723477",
          "creator_id": "276623",
          "time": "20110801T14:40:26",
          "id": "3927236",
          "is_private": "True"
        },
        {
          "count": "13",
          "attachment_id": "516165",
          "author": "pingale@redhat.com",
          "text": "Created attachment 516165\nsosreport",
          "creator": "pingale@redhat.com",
          "creation_time": "20110801T15:03:11",
          "bug_id": "723477",
          "creator_id": "308693",
          "time": "20110801T15:03:11",
          "id": "3927316",
          "is_private": "True"
        },
        {
          "count": "14",
          "creator": "pingale@redhat.com",
          "text": "I have attached a sosreport.This is a only one customer who is facing this problem  We have a 2 more cases other than openssh from same customer.\nAnd every backtrace we are getting a same frame i.e \n#0  0x0000000000000038 in ?? ()",
          "author": "pingale@redhat.com",
          "creation_time": "20110801T15:06:46",
          "bug_id": "723477",
          "creator_id": "308693",
          "time": "20110801T15:06:46",
          "id": "3927327",
          "is_private": "True"
        },
        {
          "count": "15",
          "creator": "jchadima@redhat.com",
          "text": "On this computer is low on memory (and swap). \nIt is very likely that malloc (3) sometimes returns NULL. Unfortunately this is not always properly treated. \n\nI recommend to add memory (for the current state it needs at least 4 times more memory (RAM))",
          "author": "jchadima@redhat.com",
          "creation_time": "20110802T06:37:22",
          "bug_id": "723477",
          "creator_id": "276623",
          "time": "20110802T06:37:22",
          "id": "3929744",
          "is_private": "True"
        },
        {
          "count": "16",
          "creator": "jchadima@redhat.com",
          "text": "Any progress?",
          "author": "jchadima@redhat.com",
          "creation_time": "20110822T09:37:38",
          "bug_id": "723477",
          "creator_id": "276623",
          "time": "20110822T09:37:38",
          "id": "3969660",
          "is_private": "True"
        },
        {
          "count": "17",
          "creator": "pingale@redhat.com",
          "text": "case is still waiting on customer..",
          "author": "pingale@redhat.com",
          "creation_time": "20110912T08:43:49",
          "bug_id": "723477",
          "creator_id": "308693",
          "time": "20110912T08:43:49",
          "id": "4009380",
          "is_private": "True"
        },
        {
          "count": "18",
          "creator": "jwest@redhat.com",
          "text": "Closing this bug, since the associated customer case has closed.  Please feel free to re-open this if new information becomes available.",
          "author": "jwest@redhat.com",
          "creation_time": "20111005T22:36:19",
          "bug_id": "723477",
          "creator_id": "194553",
          "time": "20111005T22:36:19",
          "id": "4062024",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "x86_64",
      "version": [
        "6.0"
      ],
      "cc": [
        "jwest@redhat.com",
        "pingale@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "abrt_hash:7dc5574f1ebabc498b4e35af49b1335eb0ad66b2",
      "cf_crm": "",
      "summary": "[abrt] openssh-server-5.3p1-52.el6_1.2: Process /usr/sbin/sshd was killed by signal 11 (SIGSEGV)",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.2.0",
          "modification_date": "20110720T10:42:15",
          "type_id": "249",
          "is_active": "0",
          "creation_date": "20110720T10:42:15",
          "id": "862727",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20110720T10:57:27",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20110720T10:55:55",
          "id": "862736",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20110720T11:15:29",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20110720T11:15:29",
          "id": "862750",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20111005T22:36:19",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509331-FbZb8RZV3Je5OWByRWEi-mUUY5kD3GZOIzTXZ1ss48Q",
      "cf_partner": [],
      "cf_last_closed": "20111005T22:36:19",
      "resolution": "INSUFFICIENT_DATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20110722T12:23:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "Reopened"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "724954",
      "cf_release_notes": "",
      "priority": "medium",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "mnowak@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "mnowak@redhat.com",
          "text": "Description of problem:\n\nStart sshd service and then stop it:\n\n[newman@dhcp-25-35 ~]$ sudo service sshd start\nStarting sshd:                                             [  OK  ]\n[newman@dhcp-25-35 ~]$ sudo service sshd stop\nStopping sshd: Stopping sshd:                              [FAILED]\n\nReturn code == 1.\n\nI verified sshd process was running after start() and is not running after stop().\n\nVersion-Release number of selected component (if applicable):\n\nopenssh-5.3p1-62.el6.x86_64\n\nHow reproducible:\n\nalways\n\nI'd expect stop() to return 1 when it actually terminates sshd process.",
          "author": "mnowak@redhat.com",
          "creation_time": "20110722T12:23:45",
          "bug_id": "724954",
          "creator_id": "215112",
          "time": "20110722T12:23:45",
          "id": "3909731",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20110722T12:42:37",
          "bug_id": "724954",
          "creator_id": "193983",
          "time": "20110722T12:42:37",
          "id": "3909777",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "mnowak@redhat.com",
          "text": "Well, I wanted this bug to be fixed in RHEL6 because it makes my test to fail. Can you be more verbose on why this bug should by closed from your point of view?",
          "author": "mnowak@redhat.com",
          "creation_time": "20110725T10:00:24",
          "bug_id": "724954",
          "creator_id": "215112",
          "time": "20110725T10:00:24",
          "id": "3913082",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "jchadima@redhat.com",
          "text": "sorry",
          "author": "jchadima@redhat.com",
          "creation_time": "20110725T10:50:56",
          "bug_id": "724954",
          "creator_id": "276623",
          "time": "20110725T10:50:56",
          "id": "3913175",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "mvadkert@redhat.com",
          "text": "This bug may be caused by the fix of\nhttps://bugzilla.redhat.com/show_bug.cgi?id=698777\nwhich is not a bug really and will be removed from the next build. \nIf this test case passes with latest released\nopenssh-5.3p1-52.el6_1.2 package this request should be closed as not a bug or something like that. Of course we can wait for next build and retest.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110726T14:39:10",
          "bug_id": "724954",
          "creator_id": "271572",
          "time": "20110726T14:39:10",
          "id": "3916663",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "mvadkert@redhat.com",
          "text": "According to the reporter this bug is not reproducable with openssh-5.3p1-52.el6_1.2. We will retest with the latest openssh when it gets build to be sure though.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110726T15:20:29",
          "bug_id": "724954",
          "creator_id": "271572",
          "time": "20110726T15:20:29",
          "id": "3916791",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "jchadima@redhat.com",
          "text": "This bug is repaired by unrolling the init script change.",
          "author": "jchadima@redhat.com",
          "creation_time": "20110727T12:42:18",
          "bug_id": "724954",
          "creator_id": "276623",
          "time": "20110727T12:42:18",
          "id": "3918934",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.2"
      ],
      "cc": [
        "mvadkert@redhat.com",
        "ohudlick@redhat.com",
        "pvrabec@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "stop target from init script misbehaves",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.2.0",
          "modification_date": "20110726T09:32:51",
          "type_id": "249",
          "is_active": "0",
          "creation_date": "20110722T12:42:35",
          "id": "864032",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20110722T12:57:38",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20110722T12:56:05",
          "id": "864036",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20110726T07:53:06",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20110722T13:15:36",
          "id": "864042",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20110726T09:27:45",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20110726T07:53:06",
          "id": "865407",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20130308T02:12:09",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509331-xYwmiYxyYU6CIzszR-Q4bkHiI5DHeQQjx-oVShCaJTs",
      "cf_partner": [],
      "cf_last_closed": "20110727T12:42:18",
      "resolution": "NEXTRELEASE",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "classification": "Red Hat",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_story_points": "---",
      "cf_conditional_nak": [],
      "creation_time": "20110725T19:22:00",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "summary": "[abrt] openssh-server-5.3p1-52.el6_1.2: Process /usr/sbin/sshd was killed by signal 11 (SIGSEGV)",
      "external_bugs": [
        {
          "ext_status": "None",
          "ext_bz_bug_id": "00510732",
          "bug_id": "725534",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "44035"
        }
      ],
      "id": "725534",
      "cf_release_notes": "",
      "priority": "medium",
      "cf_internal_whiteboard": "",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "case-diagnostics@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "case-diagnostics@redhat.com",
          "text": "This description generated by Andreas from an ABRT report\narchitecture: x86_64\ncmdline: 'sshd: root@notty' ''\ncomment: \ncomponent: openssh\nexecutable: /usr/sbin/sshd\nkernel: 2.6.32-131.4.1.el6.x86_64\npackage: openssh-server-5.3p1-52.el6_1.2\nreason: Process /usr/sbin/sshd was killed by signal 11 (SIGSEGV)\nrelease: Red Hat Enterprise Linux Server release 6.1 (Santiago)\nreproduce: 1. \n2. \n3. \n\ntime: 1311612202\nuid: 0\nbacktrace: BFD: Warning: /var/spool/abrt/ccpp-1311612202-9290/coredump is truncated: expected core file size >= 3796992, found: 61440.\n[New Thread 9290]\nFailed to read a valid object file image from memory.\nCore was generated by `sshd: root@notty '.\nProgram terminated with signal 11, Segmentation fault.\n#0  0x0000000000000038 in ?? ()\n\nThread 1 (Thread 9290):\n#0  0x0000000000000038 in ?? ()\nNo symbol table info available.\nCannot access memory at address 0x7fffe9f07060\nFrom                To                  Syms Read   Shared Object Library\n0x00007f6d276cdb00  0x00007f6d276e684b  Yes (*)     /lib64/ld-linux-x86-64.so.2\n(*): Shared library is missing debugging information.\nNo symbol table is loaded.  Use the ''file'' command.\nNo symbol table is loaded.  Use the ''file'' command.\nrax            0x2483\t9347\nrbx            0x7fffe9f07060\t140737118236768\nrcx            0x38\t56\nrdx            0x246\t582\nrsi            0x7f6d278d4a90\t140106791733904\nrdi            0x0\t0\nrbp            0x7fffe9f070c0\t0x7fffe9f070c0\nrsp            0x7fffe9f07060\t0x7fffe9f07060\nr8             0x0\t0\nr9             0x7fffe9f07080\t140737118236800\nr10            0x0\t0\nr11            0x7fffe9f072f4\t140737118237428\nr12            0x0\t0\nr13            0x7fffe9f07080\t140737118236800\nr14            0x0\t0\nr15            0x7fffe9f072f4\t140737118237428\nrip            0x38\t0x38\neflags         0x3172d6\t[ PF AF ZF SF IF #12 #13 NT RF VIP ID ]\ncs             0x33\t51\nss             0x2b\t43\nds             0x0\t0\nes             0x0\t0\nfs             0x0\t0\ngs             0x0\t0\nNo function contains program counter for selected frame.",
          "author": "case-diagnostics@redhat.com",
          "creation_time": "20110725T19:22:29",
          "bug_id": "725534",
          "creator_id": "305478",
          "time": "20110725T19:22:29",
          "id": "3914622",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "case-diagnostics@redhat.com",
          "text": "A new case 00510732 has been added to the bug:\n [abrt] openssh-server-5.3p1-52.el6_1.2: Process /usr/sbin/sshd was killed by signal 11 (SIGSEGV)",
          "author": "case-diagnostics@redhat.com",
          "creation_time": "20110725T19:22:51",
          "bug_id": "725534",
          "creator_id": "305478",
          "time": "20110725T19:22:51",
          "id": "3914623",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20110725T19:22:53",
          "bug_id": "725534",
          "creator_id": "193983",
          "time": "20110725T19:22:53",
          "id": "3914624",
          "is_private": "True"
        },
        {
          "count": "3",
          "attachment_id": "515128",
          "author": "case-diagnostics@redhat.com",
          "text": "Created attachment 515128\nFile: backtrace",
          "creator": "case-diagnostics@redhat.com",
          "creation_time": "20110725T19:23:04",
          "bug_id": "725534",
          "creator_id": "305478",
          "time": "20110725T19:23:04",
          "id": "3914625",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "case-diagnostics@redhat.com",
          "text": "A new attachment to case 00510732 matches the hash in the whiteboard of this bug.\nAttachment URL: https://api.access.redhat.com/rs/cases/00510732/attachments/132090fb-416b-314f-ad48-3a4e6e5bb29d\nHash value: abrt_hash:e703cee1038c7e0188b97ced3e4414e4c5a0d8c0",
          "author": "case-diagnostics@redhat.com",
          "creation_time": "20110725T19:23:13",
          "bug_id": "725534",
          "creator_id": "305478",
          "time": "20110725T19:23:13",
          "id": "3914629",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "jchadima@redhat.com",
          "text": "\n\n*** This bug has been marked as a duplicate of bug 723477 ***",
          "author": "jchadima@redhat.com",
          "creation_time": "20110727T11:44:06",
          "bug_id": "725534",
          "creator_id": "276623",
          "time": "20110727T11:44:06",
          "id": "3918774",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "x86_64",
      "version": [
        "6.0"
      ],
      "cc": [],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_regression_status": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "product": "Red Hat Enterprise Linux 6",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "target_release": [
        "---"
      ],
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "sub_components": {},
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "abrt_hash:e703cee1038c7e0188b97ced3e4414e4c5a0d8c0",
      "cf_crm": "",
      "op_sys": "Unspecified",
      "alias": [],
      "dupe_of": "723477",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.2.0",
          "modification_date": "20110725T19:22:44",
          "type_id": "249",
          "is_active": "0",
          "creation_date": "20110725T19:22:44",
          "id": "865129",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20110725T19:37:30",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20110725T19:35:58",
          "id": "865140",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20110725T19:55:31",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20110725T19:55:31",
          "id": "865163",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20110727T11:44:06",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509331-k7X8FUh7rj2Z0bMs_WpLBLXvq1iNJ39d_CkfFMNafmM",
      "cf_partner": [],
      "cf_last_closed": "20110727T11:44:06",
      "resolution": "DUPLICATE",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20110805T08:21:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "728459",
      "cf_release_notes": "",
      "priority": "medium",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "mvadkert@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "mvadkert@redhat.com",
          "text": "Description of problem:\nVarious Manual pages contain formatting errors:\n\n1. slogin\n:: [   PASS   ] :: Running 'cat /usr/share/man/man1/slogin.1.gz | gunzip | groff -m mdoc > /dev/null 2> /tmp/tmp.HX7Z3AyUif'\nmdoc error: .It without preceding .Bl (#1255)\n:: [   FAIL   ] :: File '/tmp/tmp.HX7Z3AyUif' should not contain '.*' \n\n2. ssh-agent\n:: [   PASS   ] :: Running 'cat /usr/share/man/man1/ssh-agent.1.gz | gunzip | groff -m mdoc > /dev/null 2> /tmp/tmp.HX7Z3AyUif'\nmdoc warning: list open at EOF!  A .Bl directive has no matching .El\n:: [   FAIL   ] :: File '/tmp/tmp.HX7Z3AyUif' should not contain '.*' \n\n3. ssh-copy-id\n:: [   PASS   ] :: Running 'cat /usr/share/man/man1/ssh-copy-id.1.gz | gunzip | groff -m mdoc > /dev/null 2> /tmp/tmp.HX7Z3AyUif'\nNot a \\-mdoc command: .SH (#20)\nNot a \\-mdoc command: .SH (#22)\nNot a \\-mdoc command: .SH (#26)\nNot a \\-mdoc command: .PP (#31)\nNot a \\-mdoc command: .PP (#41)\nNot a \\-mdoc command: .PP (#49)\nNot a \\-mdoc command: .PP (#51)\nNot a \\-mdoc command: .PP (#53)\nmdoc warning: Empty input line #63\nNot a \\-mdoc command: .SH (#64)\n:: [   FAIL   ] :: File '/tmp/tmp.HX7Z3AyUif' should not contain '.*' \n\n4. ssh\n:: [   PASS   ] :: Running 'cat /usr/share/man/man1/ssh.1.gz | gunzip | groff -m mdoc > /dev/null 2> /tmp/tmp.HX7Z3AyUif'\nmdoc error: .It without preceding .Bl (#1255)\n:: [   FAIL   ] :: File '/tmp/tmp.HX7Z3AyUif' should not contain '.*' \n\n5. ssh-keygen\n:: [   PASS   ] :: Running 'cat /usr/share/man/man1/ssh-keygen.1.gz | gunzip | groff -m mdoc > /dev/null 2> /tmp/tmp.HX7Z3AyUif'\nmdoc warning: list open at EOF!  A .Bl directive has no matching .El\n:: [   FAIL   ] :: File '/tmp/tmp.HX7Z3AyUif' should not contain '.*' \n\n6. ssh-keysign\n:: [   PASS   ] :: Running 'cat /usr/share/man/man8/ssh-keysign.8.gz | gunzip | groff -m mdoc > /dev/null 2> /tmp/tmp.HX7Z3AyUif'\nmdoc warning: list open at EOF!  A .Bl directive has no matching .El\n:: [   FAIL   ] :: File '/tmp/tmp.HX7Z3AyUif' should not contain '.*' \n\n7. sshd\n:: [   PASS   ] :: Running 'cat /usr/share/man/man8/sshd.8.gz | gunzip | groff -m mdoc > /dev/null 2> /tmp/tmp.HX7Z3AyUif'\nmdoc warning: list open at EOF!  A .Bl directive has no matching .El\n:: [   FAIL   ] :: File '/tmp/tmp.HX7Z3AyUif' should not contain '.*'\n\nRepro steps:\n1. Use groff -m mdoc to chech ungzipped man page files\n\nActual:\nThere are errors and warnings\n\nExpected:\nNo errors and warnings",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110805T08:21:05",
          "bug_id": "728459",
          "creator_id": "271572",
          "time": "20110805T08:21:05",
          "id": "3937495",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "mvadkert@redhat.com",
          "text": "This is an easy fix and developer is willing to fix it",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110805T08:21:38",
          "bug_id": "728459",
          "creator_id": "271572",
          "time": "20110805T08:21:38",
          "id": "3937498",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2011:11301-03\nhttp://errata.devel.redhat.com/errata/show/11301",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110808T06:18:17",
          "bug_id": "728459",
          "creator_id": "241731",
          "time": "20110808T06:18:17",
          "id": "3940302",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2011:11301-05: \nhttp://errata.devel.redhat.com/errata/stateview/11301\n\nVERIFIED as fixed in openssh-5.3p1-70.el6.\n\nExcept the ssh-copy-id package all man pages are without errors. As this is not\na regression I filed a new BZ on this - see bug 738976\n\n:: [   PASS   ] :: Running 'cat /usr/share/man/man1/scp.1.gz | gunzip | groff\n-m mdoc > /dev/null 2> /tmp/tmp.1jV9Y2hu7S'\n:: [   PASS   ] :: File '/tmp/tmp.1jV9Y2hu7S' should not contain '.*'\n:: [   PASS   ] :: Running 'cat /usr/share/man/man1/sftp.1.gz | gunzip | groff\n-m mdoc > /dev/null 2> /tmp/tmp.1jV9Y2hu7S'\n:: [   PASS   ] :: File '/tmp/tmp.1jV9Y2hu7S' should not contain '.*'\n:: [   PASS   ] :: Running 'cat /usr/share/man/man1/slogin.1.gz | gunzip |\ngroff -m mdoc > /dev/null 2> /tmp/tmp.1jV9Y2hu7S'\n:: [   PASS   ] :: File '/tmp/tmp.1jV9Y2hu7S' should not contain '.*'\n:: [   PASS   ] :: Running 'cat /usr/share/man/man1/ssh-add.1.gz | gunzip |\ngroff -m mdoc > /dev/null 2> /tmp/tmp.1jV9Y2hu7S'\n:: [   PASS   ] :: File '/tmp/tmp.1jV9Y2hu7S' should not contain '.*'\n:: [   PASS   ] :: Running 'cat /usr/share/man/man1/ssh-agent.1.gz | gunzip |\ngroff -m mdoc > /dev/null 2> /tmp/tmp.1jV9Y2hu7S'\n:: [   PASS   ] :: File '/tmp/tmp.1jV9Y2hu7S' should not contain '.*'\n:: [   PASS   ] :: Running 'cat /usr/share/man/man1/ssh-copy-id.1.gz | gunzip |\ngroff -m mdoc > /dev/null 2> /tmp/tmp.1jV9Y2hu7S'\n:: [   FAIL   ] :: File '/tmp/tmp.1jV9Y2hu7S' should not contain '.*' \n:: [   PASS   ] :: Running 'cat /usr/share/man/man1/ssh-keyscan.1.gz | gunzip |\ngroff -m mdoc > /dev/null 2> /tmp/tmp.1jV9Y2hu7S'\n:: [   PASS   ] :: File '/tmp/tmp.1jV9Y2hu7S' should not contain '.*'\n:: [   PASS   ] :: Running 'cat /usr/share/man/man1/ssh.1.gz | gunzip | groff\n-m mdoc > /dev/null 2> /tmp/tmp.1jV9Y2hu7S'\n:: [   PASS   ] :: File '/tmp/tmp.1jV9Y2hu7S' should not contain '.*'\n:: [   PASS   ] :: Running 'cat /usr/share/man/man5/ssh_config.5.gz | gunzip |\ngroff -m mdoc > /dev/null 2> /tmp/tmp.1jV9Y2hu7S'\n:: [   PASS   ] :: File '/tmp/tmp.1jV9Y2hu7S' should not contain '.*'\n:: [   PASS   ] :: Running 'cat /usr/share/man/man5/moduli.5.gz | gunzip |\ngroff -m mdoc > /dev/null 2> /tmp/tmp.1jV9Y2hu7S'\n:: [   PASS   ] :: File '/tmp/tmp.1jV9Y2hu7S' should not contain '.*'\n:: [   PASS   ] :: Running 'cat /usr/share/man/man5/sshd_config.5.gz | gunzip |\ngroff -m mdoc > /dev/null 2> /tmp/tmp.1jV9Y2hu7S'\n:: [   PASS   ] :: File '/tmp/tmp.1jV9Y2hu7S' should not contain '.*'\n:: [   PASS   ] :: Running 'cat /usr/share/man/man8/sftp-server.8.gz | gunzip |\ngroff -m mdoc > /dev/null 2> /tmp/tmp.1jV9Y2hu7S'\n:: [   PASS   ] :: File '/tmp/tmp.1jV9Y2hu7S' should not contain '.*'\n:: [   PASS   ] :: Running 'cat /usr/share/man/man8/sshd.8.gz | gunzip | groff\n-m mdoc > /dev/null 2> /tmp/tmp.1jV9Y2hu7S'\n:: [   PASS   ] :: File '/tmp/tmp.1jV9Y2hu7S' should not contain '.*'\n:: [   PASS   ] :: Running 'cat /usr/share/man/man1/ssh-keygen.1.gz | gunzip |\ngroff -m mdoc > /dev/null 2> /tmp/tmp.1jV9Y2hu7S'\n:: [   PASS   ] :: File '/tmp/tmp.1jV9Y2hu7S' should not contain '.*'\n:: [   PASS   ] :: Running 'cat /usr/share/man/man8/ssh-keysign.8.gz | gunzip |\ngroff -m mdoc > /dev/null 2> /tmp/tmp.1jV9Y2hu7S'\n:: [   PASS   ] :: File '/tmp/tmp.1jV9Y2hu7S' should not contain '.*'\n:: [   PASS   ] :: Running 'cat /usr/share/man/man5/ssh-ldap.conf.5.gz | gunzip\n| groff -m mdoc > /dev/null 2> /tmp/tmp.1jV9Y2hu7S'\n:: [   PASS   ] :: File '/tmp/tmp.1jV9Y2hu7S' should not contain '.*'\n:: [   PASS   ] :: Running 'cat /usr/share/man/man8/ssh-ldap-helper.8.gz |\ngunzip | groff -m mdoc > /dev/null 2> /tmp/tmp.1jV9Y2hu7S'\n:: [   PASS   ] :: File '/tmp/tmp.1jV9Y2hu7S' should not contain '.*'",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110916T10:39:49",
          "bug_id": "728459",
          "creator_id": "241731",
          "time": "20110916T10:39:49",
          "id": "4022846",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHBA-2011-1551.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20111206T09:56:18",
          "bug_id": "728459",
          "creator_id": "241731",
          "time": "20111206T09:56:18",
          "id": "4193544",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.1"
      ],
      "cc": [
        "pvrabec@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "openssh: formatting errors in various manpages",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.2.0",
          "modification_date": "20110805T08:46:29",
          "type_id": "249",
          "is_active": "0",
          "creation_date": "20110805T08:21:05",
          "id": "871805",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20110805T08:27:12",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20110805T08:21:05",
          "id": "871806",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20110805T08:24:36",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20110805T08:21:05",
          "id": "871807",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20110805T08:41:54",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20110805T08:21:05",
          "id": "871808",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20111206T09:56:18",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509331-kghslICJsLq6suCVEP9hyoCSPE4o9vp1lPJxhEn279E",
      "cf_partner": [],
      "cf_last_closed": "20111206T09:56:18",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20110819T07:48:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "731939",
      "cf_release_notes": "",
      "priority": "medium",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "mvadkert@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "mvadkert@redhat.com",
          "text": "Description:\nLastlog doesn't show last login of user with big uid. This happens only on 32bit architectures. \n\nSteps to reproduce:\n# TESTER=''tester${RANDOM}''\n# useradd -u 4147483648 $TESTER\n# echo test | passwd --stdin $TESTER\n# ssh $TESTER@localhost\n(login and logout)\n# lastlog -u $TESTER\n\nPackages:\nopenssh-5.3p1-65.el6.i686\nshadow-utils-4.1.4.2-13.el6.i686\n\nAdditional information:\nThis might be lastlog issue also. Subscribing wrabco.\n\nWhen I downgrade to shadow-utils-4.1.4.2-9.el6.i686 I get different behaviour:\n# useradd -u 4147483648 $TESTER\n# echo test | passwd --stdin $TESTER\n# lastlog -u $TESTER\nUsername         Port     From             Latest\ntester884        pts/8    localhost        Fri Aug 19 03:44:35 -0400 2011\n# ssh $TESTER@localhost\n#  lastlog -u $TESTER\nUsername         Port     From             Latest\ntester884        pts/8    localhost        Fri Aug 19 03:45:34 -0400 2011\n\nAs you can see the lastlog is now recorded OK but after adding the user with useradd lastlog shows that user has been already logged in what is wrong.\n\nMarking this as regression though this may be on discussion because shadow-utils-4.1.4.2-9.el6.i686 show also some incorrect behviour.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110819T07:48:48",
          "bug_id": "731939",
          "creator_id": "271572",
          "time": "20110819T07:48:48",
          "id": "3966245",
          "is_private": "True"
        },
        {
          "count": "1",
          "creator": "pvrabec@redhat.com",
          "text": "I suppose there is no record in /var/log/lastlog for the user, with id 4147483648, on 32bit architectures.\n\n32bit:\n$ dd if=/var/log/lastlog of=foo ibs=1 skip=1211065225216 count=292\n$ strings foo\n$\n\n64bit:\n$ dd if=/var/log/lastlog of=foo ibs=1 skip=1211065225216 count=292\n$ strings foo\n$ ONNpts/3\n$ localhost.localdomain\n\nSince there is no record on 32bit arch, the lastlog behaviour is correct.\n\n\nWho is supposed to write this record into /var/log/lastlog? This bug should be reassigned.",
          "author": "pvrabec@redhat.com",
          "creation_time": "20110819T12:16:29",
          "bug_id": "731939",
          "creator_id": "167999",
          "time": "20110819T12:16:29",
          "id": "3966645",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "mvadkert@redhat.com",
          "text": "Looks like openssh bug then. Jan any ideas why this does not work on 32bit archs?",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110820T10:50:05",
          "bug_id": "731939",
          "creator_id": "271572",
          "time": "20110820T10:50:05",
          "id": "3968299",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "mvadkert@redhat.com",
          "text": "QA_ACK+, for reproducing run on a 32buit architecture this test\n/CoreOS/openssh/Regression/bz616396-lastlog-is-not-recorded-with-the-big-uid\nThis bug is gradeA.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110822T11:16:33",
          "bug_id": "731939",
          "creator_id": "271572",
          "time": "20110822T11:16:33",
          "id": "3969830",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2011:11301-04\nhttp://errata.devel.redhat.com/errata/show/11301",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110825T21:41:30",
          "bug_id": "731939",
          "creator_id": "241731",
          "time": "20110825T21:41:30",
          "id": "3978922",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2011:11301-05: \nhttp://errata.devel.redhat.com/errata/stateview/11301\n\nVERIFIED as fixed in openssh-5.3p1-70.el6\n\nThe lastlog is now correctly recorded with the big uid also on i686 architecture\n\nNEW PACKAGE openssh-5.3p1-70.el6:\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'lastlog -u tester13348 | tee /tmp/tmp.Po17LMkFoR'\n:: [   PASS   ] :: File '/tmp/tmp.Po17LMkFoR' should contain 'Never logged in'\n:: [   PASS   ] :: Running './ssh.exp tester13348'\n:: [   PASS   ] :: Running 'lastlog -u tester13348 | tee /tmp/tmp.Po17LMkFoR'\n:: [   PASS   ] :: File '/tmp/tmp.Po17LMkFoR' should not contain 'Never logged in'\n:: [   LOG    ] :: Duration: 2s\n:: [   LOG    ] :: Assertions: 5 good, 0 bad\n:: [   PASS   ] :: RESULT: Test\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'useradd -u 4147483648 tester21906'\n:: [   PASS   ] :: Running 'echo tester21906 | passwd --stdin tester21906'\n:: [   PASS   ] :: Running 'lastlog -u tester21906 | tee /tmp/tmp.Po17LMkFoR'\n:: [   PASS   ] :: File '/tmp/tmp.Po17LMkFoR' should contain 'Never logged in'\n:: [   PASS   ] :: Running './ssh.exp tester21906'\n:: [   PASS   ] :: Running 'lastlog -u tester21906 | tee /tmp/tmp.Po17LMkFoR'\n:: [   PASS   ] :: File '/tmp/tmp.Po17LMkFoR' should not contain 'Never logged in'\n:: [   LOG    ] :: Duration: 3s\n:: [   LOG    ] :: Assertions: 7 good, 0 bad\n:: [   PASS   ] :: RESULT: Test\n\nOLD PACKAGE openssh-5.3p1-52.el6:\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\nUsername         Port     From             Latest\ntester19616                                **Never logged in**\n:: [   PASS   ] :: Running 'lastlog -u tester19616 | tee /tmp/tmp.YuKiMin8tS'\n:: [   PASS   ] :: File '/tmp/tmp.YuKiMin8tS' should contain 'Never logged in'\ntester19616@localhost's password: \nLast login: Fri Sep 16 07:47:50 2011 from freedom.brq.redhat.com\n[tester19616@freelab ~]$ exit\nlogout\nConnection to localhost closed.\n:: [   PASS   ] :: Running './ssh.exp tester19616'\nUsername         Port     From             Latest\ntester19616                                **Never logged in**\n:: [   PASS   ] :: Running 'lastlog -u tester19616 | tee /tmp/tmp.YuKiMin8tS'\nUsername         Port     From             Latest\ntester19616                                **Never logged in**\n:: [   FAIL   ] :: File '/tmp/tmp.YuKiMin8tS' should not contain 'Never logged in' \n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'useradd -u 4147483648 tester22126'\nChanging password for user tester22126.\npasswd: all authentication tokens updated successfully.\n:: [   PASS   ] :: Running 'echo tester22126 | passwd --stdin tester22126'\nUsername         Port     From             Latest\ntester22126                                **Never logged in**\n:: [   PASS   ] :: Running 'lastlog -u tester22126 | tee /tmp/tmp.YuKiMin8tS'\n:: [   PASS   ] :: File '/tmp/tmp.YuKiMin8tS' should contain 'Never logged in'\ntester22126@localhost's password: \n[tester22126@freelab ~]$ exit\nlogout\nConnection to localhost closed.\n:: [   PASS   ] :: Running './ssh.exp tester22126'\nUsername         Port     From             Latest\ntester22126                                **Never logged in**\n:: [   PASS   ] :: Running 'lastlog -u tester22126 | tee /tmp/tmp.YuKiMin8tS'\nUsername         Port     From             Latest\ntester22126                                **Never logged in**\n:: [   FAIL   ] :: File '/tmp/tmp.YuKiMin8tS' should not contain 'Never logged in'",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110916T10:37:17",
          "bug_id": "731939",
          "creator_id": "241731",
          "time": "20110916T10:37:17",
          "id": "4022832",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHBA-2011-1551.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20111206T09:56:24",
          "bug_id": "731939",
          "creator_id": "241731",
          "time": "20111206T09:56:24",
          "id": "4193546",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "i386",
      "version": [
        "6.1"
      ],
      "cc": [
        "jchadima@redhat.com",
        "pvrabec@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "Regression",
      "cf_crm": "",
      "summary": "lastlog is not recorded with the big uid on i686 architecture",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.2.0",
          "modification_date": "20110822T11:16:42",
          "type_id": "249",
          "is_active": "0",
          "creation_date": "20110819T07:48:48",
          "id": "880515",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20110819T08:07:29",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20110819T07:48:48",
          "id": "880516",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20110822T11:07:12",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20110819T07:48:48",
          "id": "880517",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20110822T11:14:59",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20110819T07:48:48",
          "id": "880518",
          "setter": "mvadkert@redhat.com"
        }
      ],
      "last_change_time": "20111206T09:56:24",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509331-bZINzGQ9_d_PS_T3bchAwe8IzkkXdIOb3sz-rf9w_bo",
      "cf_partner": [],
      "cf_last_closed": "20111206T09:56:24",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "1500",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [
        "Upstream"
      ],
      "creation_time": "20110809T17:37:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "FutureFeature",
        "Triaged"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00481125",
          "bug_id": "729376",
          "ext_description": "[RFE] Would like a way to set the maximum ssh-agent key lifetime in ssh_config.",
          "ext_priority": "4 (Low)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "44599"
        }
      ],
      "id": "729376",
      "cf_release_notes": "",
      "priority": "medium",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "cww@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "cww@redhat.com",
          "text": "0. Proposed title of this feature request\nRemove user's active key from ssh keyring\n\n1. Who is the customer behind the request?\nTrevor Vaughn\n\n2. Account name:\nMPO - NSA\n\n3. Customer segment:\n1\n\n4. TAM/SRM customer yes/no:\nyes\n\n5. VHT score:\n4\n\n6. What is the nature and description of the request?\nWould like to be able to do the equivalent of ssh-add -t <time> from /etc/ssh/ssh_config for the entire site. This is to prevent users from leaving an active key in their keyring at all times.\n\n7. Why does the customer need this? (List the business requirements here)\nSecurity Reasons\n\n8. How would the customer like to achieve this? (List the functional requirements here)\nAdd 'ssh-add -t' functionality to /etc/ssh/ssh_config\n\n10. For each functional requirement listed in question 4, specify how Red Hat and the customer can test to confirm the requirement is \nsuccessfully implemented.\nAdd code to perform like functionality and have customer test on test system\n\n11. Is there already an existing RFE upstream or in Red Hat bugzilla?\nNo\n\n12. How quickly does this need resolved? (desired target release)\nRHEL 6.2\n\n13. Does this request meet the RHEL Bug and Feature Inclusion Criteria (please review)\nYes\n\n14. List the affected packages\nsshd\n\n15. Would the customer be able to assist in testing this functionality if implemented?\nYes",
          "author": "cww@redhat.com",
          "creation_time": "20110809T17:37:57",
          "bug_id": "729376",
          "creator_id": "162157",
          "time": "20110809T17:37:57",
          "id": "3944567",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "plautrba@redhat.com",
          "text": "Is sounds like good feature but neither current ssh-add nor ssh-agent read config files in general. \n\nIf ssh-add read <time> option from /etc/ssh/ssh_config as ssh client does then user would be still able to overwrite that with command line option or option set in ~/.ssh/config.\n\nFor now I would propose to drop file into /etc/X11/xinit/xinitrc.d/ with something similar to bellow to have at least restricted simple 'ssh-add' calls:\n\n# cat /etc/X11/xinit/xinitrc.d/ssh-agent\neval `ssh-agent -t 100`",
          "author": "plautrba@redhat.com",
          "creation_time": "20120104T16:53:15",
          "bug_id": "729376",
          "creator_id": "270148",
          "time": "20120104T16:53:15",
          "id": "4286387",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "pvrabec@redhat.com",
          "text": "Is proposed solution acceptable by the customer?",
          "author": "pvrabec@redhat.com",
          "creation_time": "20120105T12:58:53",
          "bug_id": "729376",
          "creator_id": "167999",
          "time": "20120105T12:58:53",
          "id": "4288455",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "jduncan@redhat.com",
          "text": "Hi Peter and Petr,\n\nI just got a response back from the customer.\n\nIs there an alternative for a box running at runlevel 3, as well?",
          "author": "jduncan@redhat.com",
          "creation_time": "20120208T22:37:56",
          "bug_id": "729376",
          "creator_id": "324793",
          "time": "20120208T22:37:56",
          "id": "4415511",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "plautrba@redhat.com",
          "text": "AFAIK there is no default running ssh-agent for login sessions in runlevel 3 so users need to start ssh-agent manually. Global alias could work well:\n\necho 'alias ssh-agent=''ssh-agent -t 120''' >> /etc/bashrc",
          "author": "plautrba@redhat.com",
          "creation_time": "20120209T11:57:13",
          "bug_id": "729376",
          "creator_id": "270148",
          "time": "20120209T11:57:13",
          "id": "4416791",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "jduncan@redhat.com",
          "text": "Thanks.\n\nComment from requester:\n\nThat could work. It would still be nice to be able to set this via a\nconfig file though so that it would affect all instances of ssh-agent.\n\nYou might also want to be able to set the '-a' option which could\nallow for something like:\n\nBIND_ADDRESS=$HOME/.ssh-XXXXXXXXXX/agent.<ppid>\n\nFor now, the global alias should work.\n\nThis is OK to shut down.\n\nThanks.",
          "author": "jduncan@redhat.com",
          "creation_time": "20120214T13:40:13",
          "bug_id": "729376",
          "creator_id": "324793",
          "time": "20120214T13:40:13",
          "id": "4427532",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "jkodak@redhat.com",
          "text": "This enhancement request was evaluated by Red Hat Product Management for inclusion a Red Hat Enterprise Linux maintenance release.\n\nRed Hat does not currently plan to provide this enhanced functionality in a Red Hat Enterprise Linux update for currently deployed products.\n\nWith the goal of minimizing risk of change for deployed systems, and in response to customer and partner requirements, Red Hat takes a conservative approach when evaluating enhancements for inclusion in maintenance updates for currently deployed products. The primary objectives of update releases are to enable new hardware platform support and to resolve critical defects.\n\nFor more information on Red Hat Enterprise Linux maintenance policies, please consult: https://access.redhat.com/support/policy/updates/errata/\n\nA viable workaround has already been deployed for this request.Red Hat values your feedback and will take this enhancement request into consideration for future major releases of Red Hat Enterprise Linux.",
          "author": "jkodak@redhat.com",
          "creation_time": "20120420T15:19:32",
          "bug_id": "729376",
          "creator_id": "312464",
          "time": "20120420T15:19:32",
          "id": "4610025",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.0"
      ],
      "cc": [
        "jduncan@redhat.com",
        "jkodak@redhat.com",
        "mvadkert@redhat.com",
        "plautrba@redhat.com",
        "pvrabec@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "750571",
        "756082"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Enhancement",
      "cf_clone_of": "0",
      "groups": [
        "devel",
        "support"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "[RFE] Remove user's active key from ssh keyring",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.3.0",
          "modification_date": "20110809T17:37:57",
          "type_id": "276",
          "is_active": "0",
          "creation_date": "20110809T17:37:57",
          "id": "873930",
          "setter": "cww@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20111214T18:24:43",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20110809T17:37:57",
          "id": "873931",
          "setter": "snagar@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20111208T12:59:01",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20111208T12:59:01",
          "id": "940966",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "?",
          "name": "qa_ack",
          "modification_date": "20111208T12:59:01",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20111208T12:59:01",
          "id": "940967",
          "setter": "pvrabec@redhat.com"
        }
      ],
      "last_change_time": "20120420T15:19:32",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509332-ytAXBxB9C4OkJynbWntiZq_RSOH6oGXLuVmRSA_MG0c",
      "cf_partner": [],
      "cf_last_closed": "20120420T07:13:52",
      "resolution": "WONTFIX",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "200",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20110824T09:46:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "None",
          "ext_bz_bug_id": "138500",
          "bug_id": "732955",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "69",
          "type": {
            "must_send": "False",
            "description": "TCMS Test Case",
            "url": "https://tcms.engineering.redhat.com",
            "can_get": "False",
            "id": "69",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          },
          "id": "66962"
        }
      ],
      "id": "732955",
      "cf_release_notes": "Cause: ssh X11 forwarding was failing, if IPv6 was enabled and X11UseLocalhost=no\r\nConsequence: users couldn't set X forwarding\r\nFix: sshd and ssh was fixed to correctly bind port for IPv6 protocol",
      "priority": "medium",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-79.el6",
      "creator": "albert.fluegel@freenet.de",
      "comments": [
        {
          "count": "0",
          "creator": "albert.fluegel@freenet.de",
          "text": "Description of problem:\nWith X11Forwarding=yes and X11UseLocalhost=no\nto allow other hosts to tunnel X11 connections through the host\nrunning sshd as gateway the X11 forwarding completely fails.\n\nIn the strace one can see, that sshd tries to bind both an IPv4\nand IPv6 socket. The second one fails for obvious reasons and\nsshd gives up X11 forwarding completely.\n\nVersion-Release number of selected component (if applicable):\nopenssh-5.3p1-52.el6_1.2\n\nHow reproducible:\n\nSteps to Reproduce:\n1. Configure in /etc/ssh/sshd_config:\n     X11Forwarding yes\n     X11UseLocalhost no\n2. Restart sshd\n3. Make a ssh connection from a remote host\n4. enter: echo $DISPLAY\n  \nActual results:\nError message: DISPLAY: Undefined variable.\n(with (t)csh. (ba)sh prints out nothing)\nX11 forwarding does not work.\n\nExpected results:\noutput sth like:\nlocalhost:10.0\nand i can start X11 programs displaying remotely through ssh TCP tunneling\n\nAdditional info:\nstrace snippet:\n6246  socket(PF_INET6, SOCK_DGRAM, IPPROTO_IP) = 8\n6246  connect(8, {sa_family=AF_INET6, sin6_port=htons(6010), inet_pton(AF_INET6, ''::'', &sin6_addr), sin6_flowinfo=0, sin6_scope_id=0}, 28) = 0\n6246  getsockname(8, {sa_family=AF_INET6, sin6_port=htons(49537), inet_pton(AF_INET6, ''::1'', &sin6_addr), sin6_flowinfo=0, sin6_scope_id=0}, [28]) = 0\n6246  connect(8, {sa_family=AF_UNSPEC, sa_data=''\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0''}, 16) = 0\n6246  connect(8, {sa_family=AF_INET, sin_port=htons(6010), sin_addr=inet_addr(''0.0.0.0'')}, 16) = 0\n6246  getsockname(8, {sa_family=AF_INET6, sin6_port=htons(49255), inet_pton(AF_INET6, ''::ffff:127.0.0.1'', &sin6_addr), sin6_flowinfo=0, sin6_scope_id=0}, [28]) = 0\n6246  close(8)                          = 0\n6246  socket(PF_INET, SOCK_STREAM, IPPROTO_TCP) = 8\n6246  bind(8, {sa_family=AF_INET, sin_port=htons(6010), sin_addr=inet_addr(''0.0.0.0'')}, 16) = 0\n6246  socket(PF_INET6, SOCK_STREAM, IPPROTO_TCP) = 9\n6246  bind(9, {sa_family=AF_INET6, sin6_port=htons(6010), inet_pton(AF_INET6, ''::'', &sin6_addr), sin6_flowinfo=0, sin6_scope_id=0}, 28) = -1 EADDRINUSE (Address already in use)\n6246  close(9)                          = 0\n6246  close(8)                          = 0\n\nProbably for the same reason ssh -g -L ... without -4 and IPv6 enabled on the system always brings the error message:\nbind: Address already in use\nIn the strace the same algorithm can be seen like above. Probably the same function is use within openssh.",
          "author": "albert.fluegel@freenet.de",
          "creation_time": "20110824T09:46:18",
          "bug_id": "732955",
          "creator_id": "272056",
          "time": "20110824T09:46:18",
          "id": "3974585",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20110824T09:52:27",
          "bug_id": "732955",
          "creator_id": "193983",
          "time": "20110824T09:52:27",
          "id": "3974592",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "jchadima@redhat.com",
          "text": "please can you check what rules you have in ipv6 firewall or temporarily switch off it (service ip6tabless stop)",
          "author": "jchadima@redhat.com",
          "creation_time": "20110824T11:26:57",
          "bug_id": "732955",
          "creator_id": "276623",
          "time": "20110824T11:26:57",
          "id": "3974795",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "albert.fluegel@freenet.de",
          "text": "No ip6 firewall rules are set.\nFor ip4 only the default restrictions for the FORWARD table coming with the distro are set:\nACCEPT     all  --  anywhere             192.168.122.0/24    state RELATED,ESTABLISHED \nACCEPT     all  --  192.168.122.0/24     anywhere            \n\nEverything else is ACCEPTed",
          "author": "albert.fluegel@freenet.de",
          "creation_time": "20110824T11:33:05",
          "bug_id": "732955",
          "creator_id": "272056",
          "time": "20110824T11:33:05",
          "id": "3974808",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "jchadima@redhat.com",
          "text": "If you have REALLY IPv6 firewall switched of try test the IPv6 routing. Try ping to my IPv6 interface (the same as X server is bound in)",
          "author": "jchadima@redhat.com",
          "creation_time": "20110825T21:38:34",
          "bug_id": "732955",
          "creator_id": "276623",
          "time": "20110825T21:38:34",
          "id": "3978917",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "albert.fluegel@freenet.de",
          "text": "I'm really confused now.\n\nFirst of all: IP6 interface works, whether i start the service ip6tables or not,\nwith IPv6 address or hostname:\n\nprompt# ping6 bol001b\nPING bol001b(bol001b.vih.infineon.com) 56 data bytes\n64 bytes from bol001b.vih.infineon.com: icmp_seq=1 ttl=64 time=0.027 ms\n64 bytes from bol001b.vih.infineon.com: icmp_seq=2 ttl=64 time=0.034 ms\n64 bytes from bol001b.vih.infineon.com: icmp_seq=3 ttl=64 time=0.038 ms\n^C\n--- bol001b ping statistics ---\n3 packets transmitted, 3 received, 0% packet loss, time 2276ms\nrtt min/avg/max/mdev = 0.027/0.033/0.038/0.004 ms\n\nprompt# ping6 fec0::250:56ff:fe8f:178\nPING fec0::250:56ff:fe8f:178(fec0::250:56ff:fe8f:178) 56 data bytes\n64 bytes from fec0::250:56ff:fe8f:178: icmp_seq=1 ttl=64 time=0.023 ms\n64 bytes from fec0::250:56ff:fe8f:178: icmp_seq=2 ttl=64 time=0.037 ms\n64 bytes from fec0::250:56ff:fe8f:178: icmp_seq=3 ttl=64 time=0.034 ms\n^C\n--- fec0::250:56ff:fe8f:178 ping statistics ---\n3 packets transmitted, 3 received, 0% packet loss, time 2307ms\nrtt min/avg/max/mdev = 0.023/0.031/0.037/0.007 ms\n\n\nsshd is bound to both IPv4 and IPv6 address:\n[root@bol001b]# ps -ef|grep sshd\nroot     24650     1  0 11:29 ?        00:00:00 /usr/sbin/sshd\nroot     25522 20142  0 11:36 pts/2    00:00:00 grep sshd\n[root@bol001b]# lsof -p 24650\n...\nsshd    24650 root    0u   CHR    1,3      0t0   3593 /dev/null\nsshd    24650 root    1u   CHR    1,3      0t0   3593 /dev/null\nsshd    24650 root    2u   CHR    1,3      0t0   3593 /dev/null\nsshd    24650 root    3u  IPv6 126271      0t0    TCP *:ssh (LISTEN)\nsshd    24650 root    4u  IPv4 126273      0t0    TCP *:ssh (LISTEN)\n\nWhen logging in via ssh i see what i already posted in the strace.\nAnother try:\n...\n25364 socket(PF_INET6, SOCK_DGRAM, IPPROTO_IP) = 8\n25364 connect(8, {sa_family=AF_INET6, sin6_port=htons(6010), inet_pton(AF_INET6, ''::'', &sin6_addr), sin6_flowinfo=0, sin6_scope_id=0}, 28) = 0\n25364 getsockname(8, {sa_family=AF_INET6, sin6_port=htons(50799), inet_pton(AF_INET6, ''::1'', &sin6_addr), sin6_flowinfo=0, sin6_scope_id=0}, [28]) = 0\n25364 connect(8, {sa_family=AF_UNSPEC, sa_data=''\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0''}, 16) = 0\n25364 connect(8, {sa_family=AF_INET, sin_port=htons(6010), sin_addr=inet_addr(''0.0.0.0'')}, 16) = 0\n25364 getsockname(8, {sa_family=AF_INET6, sin6_port=htons(45001), inet_pton(AF_INET6, ''::ffff:127.0.0.1'', &sin6_addr), sin6_flowinfo=0, sin6_scope_id=0}, [28]) = 0\n25364 close(8)                          = 0\n25364 socket(PF_INET, SOCK_STREAM, IPPROTO_TCP) = 8\n25364 bind(8, {sa_family=AF_INET, sin_port=htons(6010), sin_addr=inet_addr(''0.0.0.0'')}, 16) = 0\n25364 socket(PF_INET6, SOCK_STREAM, IPPROTO_TCP) = 9\n25364 bind(9, {sa_family=AF_INET6, sin6_port=htons(6010), inet_pton(AF_INET6, ''::'', &sin6_addr), sin6_flowinfo=0, sin6_scope_id=0}, 28) = -1 EADDRINUSE (Address already in use)\n25364 close(9)                          = 0\n25364 close(8)                          = 0\n...\n\nAm i doing anything incorrect ? sth missing ?",
          "author": "albert.fluegel@freenet.de",
          "creation_time": "20110826T09:41:06",
          "bug_id": "732955",
          "creator_id": "272056",
          "time": "20110826T09:41:06",
          "id": "3979624",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "jchadima@redhat.com",
          "text": "please provide output of netstat -lnpt\nand content of the environment variable DISPLAY",
          "author": "jchadima@redhat.com",
          "creation_time": "20110826T12:06:47",
          "bug_id": "732955",
          "creator_id": "276623",
          "time": "20110826T12:06:47",
          "id": "3979939",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "albert.fluegel@freenet.de",
          "text": "Attached files:\nnetstat-lnpt-local : netstat -lnpt , where my display is residing (VNC on a RHEL5) and where i start ssh to the remote host\nnetstat-lnpt-after-ssh : netstat -nlpt , on the remote host, where sshd is running, after login (RHEL6.1)\n\nWhere i start ssh ... the DISPLAY is set to shk.site.domain.com (have to\nanonymize the names).\nI can set the DISPLAY to localhost:1 or to ::1:1 or to shk6.site.domain.com:1 (the\nname with the IPv6 address) or to fec0::20d:56ff:fec0:12ef:1 (the IPv6 address\nof the host, wher my X server aka VNC server is running) and nothing changes\ncompared to the above.\nLocally i can start X11 programs normally, but:\nAfter ssh on the remote host, DISPLAY is not set (because of the problem of this bug).\n\nPlease note: Everything works, when i\n* start sshd with -4 on the remote host where sshd is running\n* set X11UseLocalhost to yes in sshd_config\nAll the hostname resolving etc. is working correctly.\n\nIMO the sshd should not do the double bind, but only an IPv6 bind (if -4\nis not given). When an IPv4 connection comes in, the sshd will get a mapping\naddress of type ::FFFF:<ip-v4-address> when calling peername or whatever.\nSo an additional IPv4 bind is not necessary.\nIf code for converting the IPv6-v4 mapping addressess is needes, please see here:\nhttp://www.muc.de/~af/sw/#samba\nparticularly the sourcecode for libgetaddr_allipv.so in samba-rx",
          "author": "albert.fluegel@freenet.de",
          "creation_time": "20110826T12:44:56",
          "bug_id": "732955",
          "creator_id": "272056",
          "time": "20110826T12:44:56",
          "id": "3980637",
          "is_private": "False"
        },
        {
          "count": "8",
          "attachment_id": "520079",
          "author": "albert.fluegel@freenet.de",
          "text": "Created attachment 520079\nnetstat -lnpt output on the machine, where my X server is running",
          "creator": "albert.fluegel@freenet.de",
          "creation_time": "20110826T12:46:01",
          "bug_id": "732955",
          "creator_id": "272056",
          "time": "20110826T12:46:01",
          "id": "3980655",
          "is_private": "False"
        },
        {
          "count": "9",
          "attachment_id": "520080",
          "author": "albert.fluegel@freenet.de",
          "text": "Created attachment 520080\nnetstat -lnpt output on the machine i ssh to i.e. where sshd is running",
          "creator": "albert.fluegel@freenet.de",
          "creation_time": "20110826T12:46:42",
          "bug_id": "732955",
          "creator_id": "272056",
          "time": "20110826T12:46:42",
          "id": "3980666",
          "is_private": "False"
        },
        {
          "count": "10",
          "creator": "jchadima@redhat.com",
          "text": "(In reply to comment #7)\n> \n> Where i start ssh ... the DISPLAY is set to shk.site.domain.com (have to\n> anonymize the names).\n\nwhich node are you speaking about? the ssh or sshd side?\n\n\n> I can set the DISPLAY to localhost:1 or to ::1:1 or to shk6.site.domain.com:1\n> (the\n> name with the IPv6 address) or to fec0::20d:56ff:fec0:12ef:1 (the IPv6 address\n> of the host, wher my X server aka VNC server is running) and nothing changes\n> compared to the above.\n> Locally i can start X11 programs normally, but:\n> After ssh on the remote host, DISPLAY is not set (because of the problem of\n> this bug).\n\ndo the X applications work after the change the DISPLAY?\n\n> \n> Please note: Everything works, when i\n> * start sshd with -4 on the remote host where sshd is running\n> * set X11UseLocalhost to yes in sshd_config\n\nthere is ''and'' or ''or'' between the lines above?\n\n> All the hostname resolving etc. is working correctly.\n> \n> IMO the sshd should not do the double bind, but only an IPv6 bind (if -4\n> is not given). When an IPv4 connection comes in, the sshd will get a mapping\n> address of type ::FFFF:<ip-v4-address> when calling peername or whatever.\n> So an additional IPv4 bind is not necessary.\n\nthis is not generally true, in most configurations it does NOT work\n\n> If code for converting the IPv6-v4 mapping addressess is needes, please see\n> here:\n> http://www.muc.de/~af/sw/#samba\n> particularly the sourcecode for libgetaddr_allipv.so in samba-rx\n\ncan you provide output of iptables6 -L v?",
          "author": "jchadima@redhat.com",
          "creation_time": "20110907T06:11:47",
          "bug_id": "732955",
          "creator_id": "276623",
          "time": "20110907T06:11:47",
          "id": "4000840",
          "is_private": "False"
        },
        {
          "count": "11",
          "creator": "albert.fluegel@freenet.de",
          "text": "Repeating and extending the respective sections:\n\nWhere i start ssh ... the DISPLAY is set to shk.site.domain.com (have to\nanonymize the names). When i say: i start ssh , i mean: i start ssh i.e.\nrun the command ssh and not sshd or whatever. What i want so say here, is:\non the host, where my vnc X server is running, DISPLAY is set to\nshk.site.domain.com:1 and then i run the ssh command to logon to the other host.\nOn the remote host DISPLAY is unset after successful ssh login (without\nany error message), when both IPv4 and IPv6 listen addresses are configured\nand sshd is started without -4 and without -6.\n\n> > I can set the DISPLAY to localhost:1 or to ::1:1 or to shk6.site.domain.com:1\n> > (the\n> > name with the IPv6 address) or to fec0::20d:56ff:fec0:12ef:1 (the IPv6 address\n> > of the host, wher my X server aka VNC server is running) and nothing changes\n> > compared to the above.\n> > Locally i can start X11 programs normally, but:\n> > After ssh on the remote host, DISPLAY is not set (because of the problem of\n> > this bug).\n\n> do the X applications work after the change the DISPLAY?\n\nX without ssh-tunneling works (with xauth entries set appropriately manually)\nover IPv4 and IPv6. Works with names (different logical hostname for IPv4 and 6)\nand IP-Addresses in DISPLAY. Works locally and over the network between the\ntwo hosts. Works, too, with localhost, localhost6 (logical name for ::1) and\nIP-addresses 127.0.0.1 and ::1 set in DISPLAY.\nAll this (bare X11 over TCP and both IPv4 and IPv6) works.\n\n> > Please note: Everything works, when i\n> > * start sshd with -4 on the remote host where sshd is running\n> > * set X11UseLocalhost to yes in sshd_config\n> there is ''and'' or ''or'' between the lines above?\nor. Either start with -4 or set X11UseLocalhost to yes. Or do both.\n\n> can you provide output of iptables6 -L v?\nI guess the 'v' is a typo. Furthermore i assume you mean ip6tables\n(searched the entire distribution and did not find any iptables6 in\nany RPM). So the incredibly complex output is on both hosts:\nChain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nWhat i found in the meantime (for further info):\nOn the sshd side when configuring\nListenAddress ::\nand not configuring\nListenAddress 0.0.0.0\n(i.e. this last line is NOT in the sshd_config)\nand starting with -6 and without -4, logging on via IPv6,\nthen X11 forwarding works !!! (over an IPv4 address (!?!?!))\nWith the same configuration, but starting without -6 and without -4,\nit does not work.\n\nWith both IPv4 and IPv6 listen address configured and starting without -4 and\nwithout -6 i still see:\n19312 socket(PF_INET6, SOCK_DGRAM, IPPROTO_IP) = 8\n19312 connect(8, {sa_family=AF_INET6, sin6_port=htons(6010), inet_pton(AF_INET6, ''::'', &sin6_addr), sin6_flowinfo=0, sin6_scope_id=0}, 28) = 0\n19312 getsockname(8, {sa_family=AF_INET6, sin6_port=htons(52836), inet_pton(AF_INET6, ''::1'', &sin6_addr), sin6_flowinfo=0, sin6_scope_id=0}, [28]) = 0\n19312 connect(8, {sa_family=AF_UNSPEC, sa_data=''\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0''}, 16) = 0\n19312 connect(8, {sa_family=AF_INET, sin_port=htons(6010), sin_addr=inet_addr(''0.0.0.0'')}, 16) = 0\n19312 getsockname(8, {sa_family=AF_INET6, sin6_port=htons(38180), inet_pton(AF_INET6, ''::ffff:127.0.0.1'', &sin6_addr), sin6_flowinfo=0, sin6_scope_id=0}, [28]) = 0\n19312 close(8)                          = 0\n19312 socket(PF_INET, SOCK_STREAM, IPPROTO_TCP) = 8\n19312 bind(8, {sa_family=AF_INET, sin_port=htons(6010), sin_addr=inet_addr(''0.0.0.0'')}, 16) = 0\n19312 socket(PF_INET6, SOCK_STREAM, IPPROTO_TCP) = 9\n19312 bind(9, {sa_family=AF_INET6, sin6_port=htons(6010), inet_pton(AF_INET6, ''::'', &sin6_addr), sin6_flowinfo=0, sin6_scope_id=0}, 28) = -1 EADDRINUSE (Address already in use)\n19312 close(9)                          = 0\n19312 close(8)                          = 0\n\nWith only IPv6 listen address configured and starting without -4 and without -6\ni see the same.\n\nWith only IPv6 listen address configured and starting without -4 and with -6\ni see this:\n22215 socket(PF_INET6, SOCK_STREAM, IPPROTO_TCP) = 8\n22215 bind(8, {sa_family=AF_INET6, sin6_port=htons(6010), inet_pton(AF_INET6, ''::'', &sin6_addr), sin6_flowinfo=0, sin6_scope_id=0}, 28) = 0\n22215 listen(8, 128)                    = 0\nEspecially here no previous ''connect'' call is visible.\n\nI really suggest you try yourself. Particularly configured on the sshd side:\nProtocol 2,1\nListenAddress 0.0.0.0\nListenAddress ::\nGatewayPorts yes\nX11Forwarding yes\nX11DisplayOffset 10\nX11UseLocalhost no\nTCPKeepAlive yes\n(don't know, whether the Protocol and KeepAlive settings do matter, though)",
          "author": "albert.fluegel@freenet.de",
          "creation_time": "20111007T12:14:34",
          "bug_id": "732955",
          "creator_id": "272056",
          "time": "20111007T12:14:34",
          "id": "4065512",
          "is_private": "False"
        },
        {
          "count": "12",
          "creator": "pm-rhel@redhat.com",
          "text": "Since RHEL 6.2 External Beta has begun, and this bug remains\nunresolved, it has been rejected as it is not proposed as\nexception or blocker.\n\nRed Hat invites you to ask your support representative to\npropose this request, if appropriate and relevant, in the\nnext release of Red Hat Enterprise Linux.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20111007T16:02:37",
          "bug_id": "732955",
          "creator_id": "193983",
          "time": "20111007T16:02:37",
          "id": "4066653",
          "is_private": "False"
        },
        {
          "count": "13",
          "creator": "pm-rhel@redhat.com",
          "text": "Since the release flag was set to ? after the pm_ack flag was set to + (was likely set for the previous release), the pm_ack flag has been reset to ? by the bugbot (pm-rhel). This action ensures the proper review by Product Management.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20111102T19:25:45",
          "bug_id": "732955",
          "creator_id": "193983",
          "time": "20111102T19:25:45",
          "id": "4124429",
          "is_private": "True"
        },
        {
          "count": "14",
          "creator": "plautrba@redhat.com",
          "text": "I'm able to reproduce it. The IPv6 socket is not set IPV6_V6ONLY due to openssh-4.3p2-no-v6only.patch. The IPv6 socket then supports IPv4-compatible mode and IPv4 socket is already engaged and cannot be bind.\n\nReverting mentioned patch fixes this problem.",
          "author": "plautrba@redhat.com",
          "creation_time": "20120210T14:43:20",
          "bug_id": "732955",
          "creator_id": "270148",
          "time": "20120210T14:43:20",
          "id": "4419767",
          "is_private": "False"
        },
        {
          "count": "15",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this bug report now has devel_ack+, the Devel\nConditional NAK state is no longer valid and has\nbeen cleared.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120213T09:41:20",
          "bug_id": "732955",
          "creator_id": "193983",
          "time": "20120213T09:41:20",
          "id": "4423447",
          "is_private": "True"
        },
        {
          "count": "16",
          "creator": "ksrot@redhat.com",
          "text": "Hi,\nwouldn't reverting of the patch introduce a regression? What bug was supposed to be fixed with that patch?",
          "author": "ksrot@redhat.com",
          "creation_time": "20120213T12:19:07",
          "bug_id": "732955",
          "creator_id": "286283",
          "time": "20120213T12:19:07",
          "id": "4423878",
          "is_private": "True"
        },
        {
          "count": "17",
          "creator": "plautrba@redhat.com",
          "text": "The patch was added as fix for #201594, but I believe that this is not correct solution. RHEL-5 and 6 openssh versions contain another upstream fix for this so openssh-4.3p2-no-v6only.patch is no more needed, on the contrary, it brings this issue into RHEL-6.",
          "author": "plautrba@redhat.com",
          "creation_time": "20120213T15:13:10",
          "bug_id": "732955",
          "creator_id": "270148",
          "time": "20120213T15:13:10",
          "id": "4424392",
          "is_private": "True"
        },
        {
          "count": "18",
          "creator": "ksrot@redhat.com",
          "text": "qa_ack+ for 6.3.\n\n@QE: Please check that X11 forwarding works both for IPv4 and IPv6.",
          "author": "ksrot@redhat.com",
          "creation_time": "20120213T15:28:21",
          "bug_id": "732955",
          "creator_id": "286283",
          "time": "20120213T15:28:21",
          "id": "4424439",
          "is_private": "True"
        },
        {
          "count": "19",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2012:12754-01\nhttp://errata.devel.redhat.com/errata/show/12754",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120229T10:24:11",
          "bug_id": "732955",
          "creator_id": "241731",
          "time": "20120229T10:24:11",
          "id": "4483226",
          "is_private": "True"
        },
        {
          "count": "20",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2012:12754-01: \nhttp://errata.devel.redhat.com/errata/stateview/12754\n\nVERIFIED as fixed in NEW package openssh-5.3p1-78.el6\nX11 forwarding works well with IPv4 and IPv6 also with X11UseLocalhost=no option\n\nNEW package openssh-5.3p1-78.el6:\n:: [   PASS   ] :: Running 'ssh_copy_id tester8142'\n:: [   PASS   ] :: Running 'ssh -X tester8142@localhost echo 0:0 | tee /tmp/tmp.69u7gTxCeQ'\n:: [   PASS   ] :: File '/tmp/tmp.69u7gTxCeQ' should contain '[0-9]+:[0-9]+'\n:: [   PASS   ] :: Running 'ssh -o 'StrictHostKeyChecking no' -X tester8142@127.0.0.1 echo $DISPLAY | tee /tmp/tmp.69u7gTxCeQ'\n:: [   PASS   ] :: File '/tmp/tmp.69u7gTxCeQ' should contain '[0-9]+:[0-9]+'\n:: [   PASS   ] :: Running 'ssh -o 'StrictHostKeyChecking no' -X tester8142@::1 echo $DISPLAY | tee /tmp/tmp.69u7gTxCeQ'\n:: [   PASS   ] :: File '/tmp/tmp.69u7gTxCeQ' should contain '[0-9]+:[0-9]+'",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120425T17:09:29",
          "bug_id": "732955",
          "creator_id": "241731",
          "time": "20120425T17:09:29",
          "id": "4628260",
          "is_private": "True"
        },
        {
          "count": "21",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from VERIFIED to ASSIGNED status by the Errata System: \nAdvisory RHBA-2012:12754-01: \nhttp://errata.devel.redhat.com/errata/stateview/12754\n\nI just found out the same issue is also in client (which was originally not reported) but should be easy to fix. You can reproduce it using:\n\nssh -g -L 2222:localhost:222 localhost\n\nAnd you get:\nbind: Address already in use",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120425T17:34:43",
          "bug_id": "732955",
          "creator_id": "241731",
          "time": "20120425T17:34:43",
          "id": "4628318",
          "is_private": "True"
        },
        {
          "count": "22",
          "creator": "plautrba@redhat.com",
          "text": "\n    Technical note added. If any revisions are required, please edit the ''Technical Notes'' field\n    accordingly. All revisions will be proofread by the Engineering Content Services team.\n    \n    New Contents:\nCause: ssh X11 forwarding was failing, if IPv6 was enabled and X11UseLocalhost=no\nConsequence: users couldn't set X forwarding\nFix: sshd and ssh was fixed to correctly bind port for IPv6 protocol",
          "author": "plautrba@redhat.com",
          "creation_time": "20120427T13:00:55",
          "bug_id": "732955",
          "creator_id": "270148",
          "time": "20120427T13:00:55",
          "id": "4633812",
          "is_private": "False"
        },
        {
          "count": "23",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from MODIFIED to ON_QA status by the Errata System: \nAdvisory RHBA-2012:12754-01: \nhttp://errata.devel.redhat.com/errata/stateview/12754",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120427T18:43:09",
          "bug_id": "732955",
          "creator_id": "241731",
          "time": "20120427T18:43:09",
          "id": "4634805",
          "is_private": "True"
        },
        {
          "count": "24",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2012:12754-01: \nhttp://errata.devel.redhat.com/errata/stateview/12754\n\nVERIFIED as fixed in openssh-5.3p1-79.el6\nX forwarding now works well in the latest package:\n \nNEW PACKAGE openssh-5.3p1-79.el6:\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: X forwarding\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'ssh_copy_id tester593'\n:: [   PASS   ] :: Running 'ssh -X tester593@localhost echo 0:0 | tee /tmp/tmp.EO5A5IwCer'\n:: [   PASS   ] :: File '/tmp/tmp.EO5A5IwCer' should contain '[0-9]+:[0-9]+'\n:: [   PASS   ] :: Running 'ssh -o 'StrictHostKeyChecking no' -X tester593@127.0.0.1 echo $DISPLAY | tee /tmp/tmp.EO5A5IwCer'\n:: [   PASS   ] :: File '/tmp/tmp.EO5A5IwCer' should contain '[0-9]+:[0-9]+'\n:: [   PASS   ] :: Running 'ssh -o 'StrictHostKeyChecking no' -X tester593@::1 echo $DISPLAY | tee /tmp/tmp.EO5A5IwCer'\n:: [   PASS   ] :: File '/tmp/tmp.EO5A5IwCer' should contain '[0-9]+:[0-9]+'\n:: [   LOG    ] :: Duration: 3s\n:: [   LOG    ] :: Assertions: 7 good, 0 bad\n:: [   PASS   ] :: RESULT: X forwarding\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Local port forwarding\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'ssh -o 'StrictHostKeyChecking no' -g -L 2222:localhost:222 tester593@localhost exit 2>&1 | tee /tmp/tmp.EO5A5IwCer'\n:: [   PASS   ] :: File '/tmp/tmp.EO5A5IwCer' should not contain 'already'\n:: [   LOG    ] :: Duration: 0s\n:: [   LOG    ] :: Assertions: 2 good, 0 bad\n:: [   PASS   ] :: RESULT: Local port forwarding\n\nOLD PACKAGE openssh-5.3p1-70.el6:\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: X forwarding\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'ssh_copy_id tester1873'\n:: [   PASS   ] :: Running 'ssh -X tester1873@localhost echo 0:0 | tee /tmp/tmp.ewJ24vovnl'\n:: [   PASS   ] :: File '/tmp/tmp.ewJ24vovnl' should contain '[0-9]+:[0-9]+'\n:: [   PASS   ] :: Running 'ssh -o 'StrictHostKeyChecking no' -X tester1873@127.0.0.1 echo $DISPLAY | tee /tmp/tmp.ewJ24vovnl'\n:: [   PASS   ] :: File '/tmp/tmp.ewJ24vovnl' should contain '[0-9]+:[0-9]+'\n:: [   PASS   ] :: Running 'ssh -o 'StrictHostKeyChecking no' -X tester1873@::1 echo $DISPLAY | tee /tmp/tmp.ewJ24vovnl'\n:: [   PASS   ] :: File '/tmp/tmp.ewJ24vovnl' should contain '[0-9]+:[0-9]+'\n:: [   LOG    ] :: Duration: 3s\n:: [   LOG    ] :: Assertions: 7 good, 0 bad\n:: [   PASS   ] :: RESULT: X forwarding\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Local port forwarding\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'ssh -o 'StrictHostKeyChecking no' -g -L 2222:localhost:222 tester1873@localhost exit 2>&1 | tee /tmp/tmp.ewJ24vovnl'\n:: [   FAIL   ] :: File '/tmp/tmp.ewJ24vovnl' should not contain 'already' \n:: [   LOG    ] :: Duration: 0s\n:: [   LOG    ] :: Assertions: 1 good, 1 bad\n:: [   FAIL   ] :: RESULT: Local port forwarding",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120510T10:42:41",
          "bug_id": "732955",
          "creator_id": "241731",
          "time": "20120510T10:42:41",
          "id": "4664032",
          "is_private": "True"
        },
        {
          "count": "25",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHSA-2012-0884.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120620T07:17:11",
          "bug_id": "732955",
          "creator_id": "241731",
          "time": "20120620T07:17:11",
          "id": "4841687",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "x86_64",
      "version": [
        "6.1"
      ],
      "cc": [
        "ksrot@redhat.com",
        "mvadkert@redhat.com",
        "pvrabec@redhat.com"
      ],
      "cf_verified": [
        "FailedQA"
      ],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "mvadkert@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "Snapshot 2",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "X11 forwarding fails, if IPv6 is enabled and X11UseLocalhost=no",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20120221T18:19:52",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20120213T15:33:18",
          "id": "981119",
          "setter": "mvadkert@redhat.com"
        },
        {
          "status": "-",
          "name": "rhel-6.2.0",
          "modification_date": "20111007T16:02:33",
          "type_id": "249",
          "is_active": "0",
          "creation_date": "20110824T09:52:25",
          "id": "882789",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.3.0",
          "modification_date": "20120213T15:31:51",
          "type_id": "276",
          "is_active": "0",
          "creation_date": "20111102T18:10:36",
          "id": "923803",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "exception",
          "modification_date": "20120426T11:01:11",
          "type_id": "15",
          "is_active": "1",
          "creation_date": "20120426T07:49:35",
          "id": "1036633",
          "setter": "lsmid@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20111213T04:12:16",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20110824T10:06:03",
          "id": "882805",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20120213T09:33:43",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20110824T10:25:37",
          "id": "882811",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20120213T15:28:21",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20111208T12:59:28",
          "id": "940968",
          "setter": "ksrot@redhat.com"
        }
      ],
      "last_change_time": "20120620T07:17:11",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509332-CLCL34KlITzgjzIC9rte91gN-zz1mcxeVStDlbw3RsE",
      "cf_partner": [],
      "cf_last_closed": "20120620T07:17:11",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20110916T08:42:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "6.3"
      ],
      "external_bugs": [
        {
          "ext_status": "None",
          "ext_bz_bug_id": "105804",
          "bug_id": "738976",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "69",
          "type": {
            "must_send": "False",
            "description": "TCMS Test Case",
            "url": "https://tcms.engineering.redhat.com",
            "can_get": "False",
            "id": "69",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          },
          "id": "82793"
        }
      ],
      "id": "738976",
      "cf_release_notes": "",
      "priority": "medium",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "mvadkert@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "mvadkert@redhat.com",
          "text": "Description of problem:\n:: [   PASS   ] :: Running 'cat /usr/share/man/man1/ssh-copy-id.1.gz | gunzip | groff -m mdoc > /dev/null 2> /tmp/tmp.1jV9Y2hu7S'\nNot a \\-mdoc command: .SH (#20)\nNot a \\-mdoc command: .SH (#22)\nNot a \\-mdoc command: .SH (#26)\nNot a \\-mdoc command: .SH (#63)\n:: [   FAIL   ] :: File '/tmp/tmp.1jV9Y2hu7S' should not contain '.*' \n\n\nVersion-Release number of selected component (if applicable):\nopenssh-5.3p1-70.el6\n\nHow reproducible:\n100%\n\nSteps to Reproduce:\n1. cat /usr/share/man/man1/ssh-copy-id.1.gz | gunzip | groff -m mdoc > /dev/null\n  \nActual results:\nErrors\n\nExpected results:\nNo errors\n\nAdditional info:",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110916T08:42:09",
          "bug_id": "738976",
          "creator_id": "271572",
          "time": "20110916T08:42:09",
          "id": "4022221",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "ksrot@redhat.com",
          "text": "qa_ack+ for 6.3",
          "author": "ksrot@redhat.com",
          "creation_time": "20111221T15:14:43",
          "bug_id": "738976",
          "creator_id": "286283",
          "time": "20111221T15:14:43",
          "id": "4271893",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "plautrba@redhat.com",
          "text": "This man page is original upstream source and it's in ''man'' format:\n\n$ cat /usr/share/man/man1/ssh-copy-id.1.gz | gunzip | groff -m man > /dev/null             \n\n$ echo $?\n0",
          "author": "plautrba@redhat.com",
          "creation_time": "20120208T09:55:27",
          "bug_id": "738976",
          "creator_id": "270148",
          "time": "20120208T09:55:27",
          "id": "4412735",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "mvadkert@redhat.com",
          "text": "Test fixed, thanks Petr.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20120208T11:36:24",
          "bug_id": "738976",
          "creator_id": "271572",
          "time": "20120208T11:36:24",
          "id": "4412930",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.2"
      ],
      "cc": [
        "dapospis@redhat.com",
        "pvrabec@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "devel",
        "qa",
        "redhat"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "ssh-copy-id manual page contains errors",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20121105T15:37:18",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20111222T16:58:54",
          "id": "951188",
          "setter": "dapospis@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.3.0",
          "modification_date": "20111221T15:17:31",
          "type_id": "276",
          "is_active": "0",
          "creation_date": "20110916T08:42:09",
          "id": "896091",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20111213T04:12:14",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20110916T08:42:09",
          "id": "896092",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20111209T09:39:38",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20110916T08:42:09",
          "id": "896093",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20111221T15:14:43",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20110916T08:42:09",
          "id": "896094",
          "setter": "ksrot@redhat.com"
        }
      ],
      "last_change_time": "20121105T15:37:18",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509332-44hB2LQXX-LSf-XR1kiI2jRPTzI5mQ4uWggO0kdrUtg",
      "cf_partner": [],
      "cf_last_closed": "20120208T09:55:27",
      "resolution": "NOTABUG",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20111024T11:09:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "FutureFeature"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "748402",
      "cf_release_notes": "",
      "priority": "medium",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "myllynen@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "myllynen@redhat.com",
          "text": "Description of problem:\nWhen joining an AD domain with ''net ads join'' a keytab /etc/krb5.keytab is being created and a valid Kerberos host principal in the file is HOSTNAME$@REALM (i.e., for host client-123.ad.example.com the principal would be CLIENT-123$@AD.EXAMPLE.COM). SSSD can be configured to use this principal with\n\nldap_sasl_mech = GSSAPI\nldap_sasl_authid = HOSTNAME$@REALM\n\nThus local logins using AD for id/auth work fine with SSSD but remote logins won't work since it is not possible to configure the host principal name with sshd.\n\nIt should be possible to configure the host principal name with sshd to make it possible to use the Samba provided Kerberos host principal from the host keytab.\n\nVersion-Release number of selected component (if applicable):\nRHEL 6.2",
          "author": "myllynen@redhat.com",
          "creation_time": "20111024T11:09:32",
          "bug_id": "748402",
          "creator_id": "272732",
          "time": "20111024T11:09:32",
          "id": "4102276",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20111024T11:13:07",
          "bug_id": "748402",
          "creator_id": "193983",
          "time": "20111024T11:13:07",
          "id": "4102296",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "myllynen@redhat.com",
          "text": "Samba/net bug for invalid principals in the keytab is https://bugzilla.redhat.com/show_bug.cgi?id=749142.",
          "author": "myllynen@redhat.com",
          "creation_time": "20111026T14:09:43",
          "bug_id": "748402",
          "creator_id": "272732",
          "time": "20111026T14:09:43",
          "id": "4108721",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "pm-rhel@redhat.com",
          "text": "Since RHEL 6.2 External Beta has begun, and this bug remains\nunresolved, it has been rejected as it is not proposed as\nexception or blocker.\n\nRed Hat invites you to ask your support representative to\npropose this request, if appropriate and relevant, in the\nnext release of Red Hat Enterprise Linux.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20111030T05:47:21",
          "bug_id": "748402",
          "creator_id": "193983",
          "time": "20111030T05:47:21",
          "id": "4115459",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "myllynen@redhat.com",
          "text": "It was discussed over IRC that this might not needed after all, it'd be better to fix the issue with Samba generating such a keytab described in bug 749142.\n\nHowever, it should be noted that it was suggested in bug 748757 about this same issue with mount.cifs that it would make sense to try the AD style principal of HOSTNAME$@REALM if the host/fqdn@REALM principal does not work.\n\nI'll leave it up to your judgement whether it would make sense to do anything with sshd.",
          "author": "myllynen@redhat.com",
          "creation_time": "20111101T12:26:53",
          "bug_id": "748402",
          "creator_id": "272732",
          "time": "20111101T12:26:53",
          "id": "4119297",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "pm-rhel@redhat.com",
          "text": "Since the release flag was set to ? after the pm_ack flag was set to + (was likely set for the previous release), the pm_ack flag has been reset to ? by the bugbot (pm-rhel). This action ensures the proper review by Product Management.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20111108T09:11:41",
          "bug_id": "748402",
          "creator_id": "193983",
          "time": "20111108T09:11:41",
          "id": "4133614",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "pm-rhel@redhat.com",
          "text": "Development Management has reviewed and declined this request.  You may appeal\nthis decision by reopening this request.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20111209T10:05:08",
          "bug_id": "748402",
          "creator_id": "193983",
          "time": "20111209T10:05:08",
          "id": "4240342",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.2"
      ],
      "cc": [
        "pvrabec@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Enhancement",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "RFE: Allow specifying principal name with sshd",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "-",
          "name": "rhel-6.2.0",
          "modification_date": "20111030T05:47:19",
          "type_id": "249",
          "is_active": "0",
          "creation_date": "20111024T11:13:05",
          "id": "918343",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "rhel-6.3.0",
          "modification_date": "20111102T18:47:13",
          "type_id": "276",
          "is_active": "0",
          "creation_date": "20111102T18:47:13",
          "id": "923848",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "?",
          "name": "pm_ack",
          "modification_date": "20111108T09:11:39",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20111024T11:26:14",
          "id": "918350",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "-",
          "name": "devel_ack",
          "modification_date": "20111209T09:52:34",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20111024T11:45:43",
          "id": "918354",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "?",
          "name": "qa_ack",
          "modification_date": "20111208T13:03:06",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20111208T13:03:06",
          "id": "940972",
          "setter": "pvrabec@redhat.com"
        }
      ],
      "last_change_time": "20111209T10:05:08",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509332-1z5iIKQSMmMMF0XYxX8y3Vt-8W3Ow0RANUsXaEvsN5c",
      "cf_partner": [],
      "cf_last_closed": "20111209T10:05:08",
      "resolution": "WONTFIX",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [
        "Third-Party"
      ],
      "cf_story_points": "---",
      "cf_pm_score": "1600",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20120222T20:54:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "FutureFeature",
        "Reopened"
      ],
      "target_release": [
        "6.3"
      ],
      "external_bugs": [
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00600449",
          "bug_id": "796425",
          "ext_description": "RFE: Incorporate freeBSD large bandwidth-delay product optimizations into openSSH",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "64774"
        }
      ],
      "id": "796425",
      "cf_release_notes": "",
      "priority": "medium",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "dsulliva@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "dsulliva@redhat.com",
          "text": "Description of problem:\n\nMake openssh performant on trans-atlantic/pacific links\n\nAdd support for dynamically adjusted buffers to allow the full use of\nthe bandwidth of long fat pipes (i.e. 100Mbps+ trans-oceanic or\ntrans-continental links).  Bandwidth-delay products up to 64MB are\nsupported.\n\nhttp://svnweb.freebsd.org/base?view=revision&revision=224638",
          "author": "dsulliva@redhat.com",
          "creation_time": "20120222T20:54:23",
          "bug_id": "796425",
          "creator_id": "254481",
          "time": "20120222T20:54:23",
          "id": "4468633",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "dsulliva@redhat.com",
          "text": "TAM Customer Chicago Mercantile is interested in this.",
          "author": "dsulliva@redhat.com",
          "creation_time": "20120222T20:55:54",
          "bug_id": "796425",
          "creator_id": "254481",
          "time": "20120222T20:55:54",
          "id": "4468638",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "dsulliva@redhat.com",
          "text": "More information can be found here\n\nhttp://www.psc.edu/networking/projects/hpn-ssh/",
          "author": "dsulliva@redhat.com",
          "creation_time": "20120222T21:00:57",
          "bug_id": "796425",
          "creator_id": "254481",
          "time": "20120222T21:00:57",
          "id": "4468643",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120222T21:12:05",
          "bug_id": "796425",
          "creator_id": "193983",
          "time": "20120222T21:12:05",
          "id": "4468660",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "mvadkert@redhat.com",
          "text": "Marking this as gradeC for now as this feature would require a lot of testing. As I understand HPN-SSH was never accepted upstream and other distros are dealing with this that they provide an alterantive openssh client/server that has the HPN-SSH patches applied.\n\nThere seem to be also some stability issues:\nhttps://bugs.launchpad.net/ubuntu/+source/openssh/+bug/162253/comments/22",
          "author": "mvadkert@redhat.com",
          "creation_time": "20120425T13:22:19",
          "bug_id": "796425",
          "creator_id": "271572",
          "time": "20120425T13:22:19",
          "id": "4627324",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "plautrba@redhat.com",
          "text": "Given that this is not accepted upstream this is high regression risk. There is problematic crypto change in perspectice of certification. So I would be against adding this feature to RHEL.\n\nftps or https can be used instead.",
          "author": "plautrba@redhat.com",
          "creation_time": "20120427T12:09:57",
          "bug_id": "796425",
          "creator_id": "270148",
          "time": "20120427T12:09:57",
          "id": "4633686",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "jkodak@redhat.com",
          "text": "Thank you for submitting this issue for consideration in Red Hat Enterprise Linux. After consideration, Red Hat does not plan to incorporate the suggested capability in a future release of Red Hat Enterprise Linux. If you would like Red Hat to re-consider your feature request, please re-open the request via appropriate support channels and provide additional supporting details about the importance of this issue.",
          "author": "jkodak@redhat.com",
          "creation_time": "20120525T19:43:45",
          "bug_id": "796425",
          "creator_id": "312464",
          "time": "20120525T19:43:45",
          "id": "4699193",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "dsulliva@redhat.com",
          "text": "Subject: Re: Incorporate freeBSD large bandwidth-delay product optimizations into openSSH\nFrom: Petr Lautrbach <plautrba@redhat.com>\nDate: Fri, 20 Jul 2012 09:34:19 +0200\nTo: Dave Sullivan <dsulliva@redhat.com>\n\nOn 07/19/2012 07:58 PM, Dave Sullivan wrote:\n> Awesome, I'll get the customer to test this out.\n>\n\nI had fixed some issues and values and made another build. All  files can be found\nat http://file.brq.redhat.com/~plautrba/openssh-hpn\n\nPetr\n\n>\n> On 07/18/2012 11:53 AM, Petr Lautrbach wrote:\n>> On 07/17/2012 09:37 PM, Dave Sullivan wrote:\n>>> Hi Petr,\n>>>\n>>> Any word on this, I need to know what I can do from my end, see last comments below.\n>>>\n>>\n>> Dave,\n>>\n>> I've prepared scratch unofficial build [1] which should be ready for testing on RHEL-6.3. There is included an openssh-5.3p1-hpn.patch [2] patch which\n>> is based on a 'Dynamic Windows and None Cipher'[3] patch but with several changes - it's without\n>> none cipher, only dynamic window part is included and hpn functionality is disabled by default.\n>>\n>> There is a new option 'HPNDisabled' for sshd and ssh/scp which needs to be set to 'no' to enable this functionality, e.g:\n>>\n>> # grep HPN /etc/ssh/sshd_config\n>> HPNDisabled no\n>>\n>> # scp -o 'HPNDisabled no' file host:/directory\n>>\n>>\n>> [1] https://brewweb.devel.redhat.com/taskinfo?taskID=4618389\n>> [2] http://file.brq.redhat.com/~plautrba/openssh-5.3p1-81.el6.1/openssh-5.3p1-hpn.patch\n>> [3] http://www.psc.edu/index.php/component/remository/HPN-SSH/OpenSSH-5.9-patches/OpenSSH-5.9-Dynamic-Windows-and-None-Cipher-patch/\n>>\n>> Regards,\n>>\n>> Petr\n>>\n>>>\n>>> On 07/09/2012 07:05 PM, Dave Sullivan wrote:\n>>>> Thanks for the feedback.\n>>>>\n>>>> So it sounds like we might have a chance for this with being able to to bypass some of the cipher related issues.\n>>>>\n>>>> Agree Software Collection is an option too.\n>>>>\n>>>> I'm guessing my customer would help with testing as well. Just trying to figure out what I kind of expectations I need to set with the customer on this.\n>>>>\n>>>> 1) Do we think it might have a chance now?\n>>>> 2) Do I need to create a new BZ/RFE since the one below was switched to won't fix?\n>>>> 3) Would you want the customer to help test, I'm sure they would be willing to?\n>>>> 4) How soon might we have something to test?\n>>>>\n>>>> Thanks again,\n>>>>\n>>>>\n>>>> -Dave\n>>>>\n>>>>\n>>>> On 07/03/2012 11:12 AM, Petr Lautrbach wrote:\n>>>>> On 07/03/2012 04:51 PM, Dave Sullivan wrote:\n>>>>>> Hi Denise,\n>>>>>>\n>>>>>> Thanks for adding Siddharth, because I have another question and this is a good example. In order for Red Hat to stay competitive with other Linux vendors I would assume that we would sometimes want to support customer requirements such as this one but still maintain upstream compatibility.\n>>>>>>\n>>>>>> So this request is a perfect example of how we can do both.\n>>>>>>\n>>>>>> 1) Leave the normal openssh package set alone\n>>>>>> -maintaining upstream compatibility and removing regression risks for our typical customer base\n>>>>>> 2) Provide a different openssh package set that includes this functionality (maybe as part of EPEL, or Supplementary Channel)\n>>>>>> -keeps our strategic customers happy knowing we're going the extra mile to support their needs\n>>>>>> -removes the upstream maintenance risk\n>>>>>> -if the code is deemed unstable it will only be used by a small percent of users and they will be made aware of this risk, their usage might even help in stabilizing the code set\n>>>>>\n>>>>> Maybe as part of Software Collection?\n>>>>>\n>>>>>\n>>>>>> I don't have an answer for the crypto certification/export control license portion.\n>>>>>>\n>>>>>> Here's the BZ, but it was more aligned to adjusting the existing openssh package set, which I agree is probably not the best strategy due the comments already made by Petr and Miroslav noted below.\n>>>>>>\n>>>>>> https://bugzilla.redhat.com/show_bug.cgi?id=796425\n>>>>>\n>>>>>\n>>>>> There's an option we talked about with Tomas Mraz. I can try to backport only ''Dynamic Windows'' part without ''None cipher'' and ''Threaded CTR cipher mode''.\n>>>>> So it won't change any crypto and won't add None cipher. There will still be possible regresion on non-standart lines\n>>>>>\n>>>>> I did some work on it but my local tests haven't shown any improvements. I'm going to send scratch build soon for broader testing to Miroslav.\n>>>>>\n>>>>>\n>>>>> Regards,\n>>>>>\n>>>>> Petr\n>>>>>\n>>>>>>\n>>>>>> Thanks,\n>>>>>>\n>>>>>> Dave\n>>>>>>\n>>>>>> On 07/03/2012 09:13 AM, Denise Dumas wrote:\n>>>>>>> Hi Dave,\n>>>>>>>\n>>>>>>> Including Siddharth, RHEL product management. What's the bugzilla for this request? If the code is unstable (a risk for all of our customers), not accepted upstream (a maintenance risk for us), and involves a change to our crypto certification (very expensive!) and thus our export control license, chances are not good for this one but I'll review the details.\n>>>>>>>\n>>>>>>> Regards,\n>>>>>>> Denise\n>>>>>>>\n>>>>>>>\n>>>>>>> On 07/03/2012 09:00 AM, Dave Sullivan wrote:\n>>>>>>>> Hi All,\n>>>>>>>>\n>>>>>>>> I haven't gotten any responses on this yet. Any thoughts. See below.\n>>>>>>>>\n>>>>>>>> Thanks,\n>>>>>>>>\n>>>>>>>> Dave\n>>>>>>>>\n>>>>>>>> On 06/28/2012 10:04 AM, Dave Sullivan wrote:\n>>>>>>>>> Hi All,\n>>>>>>>>>\n>>>>>>>>> I have a strategic customer that is interested in the following:\n>>>>>>>>>\n>>>>>>>>> <customer_interest>\n>>>>>>>>> Incorporate freeBSD large bandwidth-delay product optimizations into openSSH\n>>>>>>>>>\n>>>>>>>>> FreeBSD 9 incorporates the HPN-SSH projects patches to make openSSH actually performant on trans-atlantic/pacific links. We'd like to see these patches arrive in RHEL as well in the future. Turns out enterprises actually have these kind of links! ;-)\n>>>>>>>>>\n>>>>>>>>> http://svnweb.freebsd.org/base?view=revision&revision=224638\n>>>>>>>>>\n>>>>>>>>> This does not appear to be in the upsteam openSSH codebase yet to my knowledge.\n>>>>>>>>> </customer_interest>\n>>>>>>>>>\n>>>>>>>>> Petr has sort of shot this down based on the following:\n>>>>>>>>>\n>>>>>>>>> <Petr>\n>>>>>>>>> Given that this is not accepted upstream this is high regression risk. There is problematic crypto change in perspectice of certification. So I would be against adding this feature to RHEL.\n>>>>>>>>>\n>>>>>>>>> ftps or https can be used instead.\n>>>>>>>>> </Petr>\n>>>>>>>>>\n>>>>>>>>> Miroslav mentioned the following:\n>>>>>>>>>\n>>>>>>>>> <Miroslav>\n>>>>>>>>> Marking this as gradeC for now as this feature would require a lot of testing. As I understand HPN-SSH was never accepted upstream and other distros are dealing with this that they provide an alterantive openssh client/server that has the HPN-SSH patches applied.\n>>>>>>>>>\n>>>>>>>>> There seem to be also some stability issues:\n>>>>>>>>> https://bugs.launchpad.net/ubuntu/+source/openssh/+bug/162253/comments/22\n>>>>>>>>> </Miroslav>\n>>>>>>>>>\n>>>>>>>>> So my customer doesn't want to go the https/ftps route. Would it be possible to do something similar to what Miroslav suggested in terms of providing and alternative openssh with the HPN-SSH patches? This would make this customer happy and remove the regression risks of messing with the standard openssh package.\n>>>>>>>>>\n>>>>>>>>> I've opened this up to a wider audience to get more exposure and perspectives around the subject. Please add on any other folks that you know that might have interest or an opinion.\n>>>>>>>>>\n>>>>>>>>> Thanks,\n>>>>>>>>>\n>>>>>>>>> Dave\n>>>>>>>>>\n>>>>>>>>>\n>>>>>>>>\n>>>>>>>\n>>>>>>\n>>>>>\n>>>>\n>>>\n>>\n>",
          "author": "dsulliva@redhat.com",
          "creation_time": "20121205T16:39:50",
          "bug_id": "796425",
          "creator_id": "254481",
          "time": "20121205T16:39:50",
          "id": "5260794",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "plautrba@redhat.com",
          "text": "QA needs this bug to be open.",
          "author": "plautrba@redhat.com",
          "creation_time": "20121212T10:10:40",
          "bug_id": "796425",
          "creator_id": "270148",
          "time": "20121212T10:10:40",
          "id": "5280761",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "jwest@redhat.com",
          "text": "Re-flagging this for 6.5 since 6.4 is almost complete at this point. \u00a0We will be unable to address this bug in 6.4. \u00a0Please note that \"aging\" is taken into account with the pm_score and this bug will subsequently be score higher and thus priroitized higher for the next release.\n\nFor GSS associates monitoring this bug, please continue to ensure that the bug is updated with all that engineering and QE needs to solve and test this bug. \u00a0If an accelerated fix is needed (prior to 6.5), then please discuss that with the SBR contacts handling accelerated fixes. \u00a0\n\nThanks\nJeremy West",
          "author": "jwest@redhat.com",
          "creation_time": "20130111T20:51:35",
          "bug_id": "796425",
          "creator_id": "194553",
          "time": "20130111T20:51:35",
          "id": "5357105",
          "is_private": "True"
        },
        {
          "count": "10",
          "creator": "dsulliva@redhat.com",
          "text": "Petr,\n\nChecking in on this as I know we starting 6.5 alignment and I have a customer who can test whatever we come up with.\n\nJust trying to keep it on the radar, I'll be following up with SEG/PM as well.\n\nThanks,\n\nDave",
          "author": "dsulliva@redhat.com",
          "creation_time": "20130325T15:12:44",
          "bug_id": "796425",
          "creator_id": "254481",
          "time": "20130325T15:12:44",
          "id": "5631231",
          "is_private": "True"
        },
        {
          "count": "11",
          "creator": "ksrot@redhat.com",
          "text": "Hi Petr,\nsince this bug has already devel_ack+ are the concerns from #c4 and #c5 still valid? The patch seems very intrusive. Has it been accepted upstream already? Are you aware of any issues? What are your proposals regarding the testing?",
          "author": "ksrot@redhat.com",
          "creation_time": "20130520T15:46:12",
          "bug_id": "796425",
          "creator_id": "286283",
          "time": "20130520T15:46:12",
          "id": "5932154",
          "is_private": "True"
        },
        {
          "count": "12",
          "creator": "plautrba@redhat.com",
          "text": "Upstream will probably never accept it. I prepared a patch with only valid parts of the HPN patch and Jiri did some testing with some results. Jiri?\n\nThe patch I prepared is not so much extrusive as the original patch and shouldn't even affect the default behaviour since it's opt-in based on a configuration.",
          "author": "plautrba@redhat.com",
          "creation_time": "20130520T16:05:10",
          "bug_id": "796425",
          "creator_id": "270148",
          "time": "20130520T16:05:10",
          "id": "5932201",
          "is_private": "True"
        },
        {
          "count": "13",
          "creator": "jjaburek@redhat.com",
          "text": "The small scale testing showed that the ''valid parts'' version performance is the same as the ''full HPN patch'' performance (ignoring small measurement deviations). Due to various hardware/software limitations, the testing was done on just 100Mbit line, but - with increased latency (200 to 800 milliseconds) - the difference against a stock openssh was indeed measurable.\n\nApproximate transfer speeds in Mbit/s:\n\n| added latency | original | dynwindow |  hpn  |\n+---------------+----------+-----------+-------+\n|             0 |     88.6 |      88.6 |  88.6 |\n|            50 |     87.6 |      87.6 |  87.6 |\n|           100 |     86.2 |      86.2 |  87.1 |\n|           200 |     55.9 |      84.9 |  84.5 |\n|           400 |     28.6 |      48.9 |  48.9 |\n|           800 |     14.5 |      24.8 |  24.8 |\n+---------------+----------+-----------+-------+\n\nFull testing report available on request.\n\nIn conclusion, the non-intrusive smaller variant seems to offer the same benefits as the full HPN patch, throughput-wise.",
          "author": "jjaburek@redhat.com",
          "creation_time": "20130520T16:18:25",
          "bug_id": "796425",
          "creator_id": "327802",
          "time": "20130520T16:18:25",
          "id": "5932244",
          "is_private": "True"
        },
        {
          "count": "14",
          "creator": "jjaburek@redhat.com",
          "text": "Please note that the results in comment #13 are based purely on TCP window scaling, ie. no multithread version of AES-CTR was used.\nSince the ''full HPN patch'' variant had some issues with the default AES-CTR ciphers, I had to use\n\n  -o 'Ciphers arcfour256,arcfour128,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour'\n\nto make it work. For consistency, I also used this option for the ''dynwindow'' column.\n\nThe ''dynwindow'' and ''hpn'' columns were generated with\n\n  HPNDisabled no\n  HPNBufferSize 65536\n  TcpRcvBufPoll yes\n\nin sshd_config (server) and\n\n  -o 'HPNDisabled no' -o 'Ciphers arcfour256,arcfour128,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour' -o 'TcpRcvBufPoll yes' -o 'TcpRcvBuf 65536'\n\non scp command line (client).\n\n\n\nTrying the setup again with just -o 'Ciphers arcfour' on a single machine via loopback (with added 250ms RTT latency via netem) shows some interesting results. When doing (stock) scp without that added latency, I get about ~170MB/s, with a single CPU core saturated.\nWith the added latency, stock openssh, with tcp_rmem/tcp_wmem tuning of the ''max'' value slightly above the calculated BDP gives me about 8MiB/s.\nThe ''dynamic window'' patch reaches approximately 70MiB/s with 'TcpRcvBufPoll yes' and 'HPNDisabled no' in sshd_config (server) and on the command line (client). The client reports ''Final hpn_buffer_size = 2097152'', no idea how this value is calculated. Setting HPNBufferSize (in KiBs) to a higher value doesn't do anything, the ''final'' value stays the same.\nThe full ''HPN'' patch behaves like the ''dynamic window'' one, except that HPNBufferSize option is either specified in bytes or printed in KiB.\n\nI found out that in order to increase the HPN buffer size, one apparently needs to use TcpRcvBuf (in KiB). I presume (based on several sources on the Web) that this sets SO_RCVBUF socket option, disabling receive window size autodetection found in newer 2.6 kernels, ie. ignoring tcp_rmem/tcp_wmem max settings. Increasing net.core.rmem_max and wmem_max above BDP and setting TcpRcvBuf to BDP (converted to KiB) makes the client print ''Final hpn_buffer_size = 89128960'' and the throughput peak rises to about 75-80MiB/s. Doubling net.core.rmem_max / wmem_max and TcpRcvBuf value brought final hpn_buffer_size up as well, resulting in peak throughput around 100MiB/s.\nOnce again, the full ''HPN'' patch performance is the same.\n\nI wrote ''peaks'' because of some quite regular speed drops (every ~8 seconds), so with ie. the 100MiB peak, the average throughput over, say, one hour, would be about 70-80MiB/s. No idea what causes those drops on something as stable as loopback, no CPU core was really saturated.\n\n\nI have therefore NOT TESTED differences between the full HPN patch and the ''dynamic window only'' other than receive-window-based optimizations. For example I was unable to measure full HPN patch performance with MT-AES-CTR as AES-CTR was unavailable to me altogether.\n\nIn conclusion, the ''dynamic window only'' version still provides significant improvement when used over long distances and although it has a measurable performance hit when used with low latency links, this disadvantage is only present with HPNDisabled set to ''no''. With the option set to ''yes'', no performance hit occurs.\n\nUsed RPMs from http://file.brq.redhat.com/~plautrba/openssh-hpn/ .",
          "author": "jjaburek@redhat.com",
          "creation_time": "20130522T16:39:55",
          "bug_id": "796425",
          "creator_id": "327802",
          "time": "20130522T16:39:55",
          "id": "5940369",
          "is_private": "True"
        },
        {
          "count": "15",
          "creator": "ksrot@redhat.com",
          "text": "Since the proposed patch is different from the original request I would prefer to have a customer confirmation that we are really addressing the problem in his environment.\nCan we provide the customer with the test package?",
          "author": "ksrot@redhat.com",
          "creation_time": "20130524T07:36:52",
          "bug_id": "796425",
          "creator_id": "286283",
          "time": "20130524T07:36:52",
          "id": "5946636",
          "is_private": "True"
        },
        {
          "count": "16",
          "creator": "dsulliva@redhat.com",
          "text": "Hi Karel,\n\nSure, let me grab the RPMs listed above and get the customer to run some tests.\n\nThanks all for your effort so far on this.\n\nWe may come back with some questions.\n\nThanks,\n\nDave",
          "author": "dsulliva@redhat.com",
          "creation_time": "20130524T15:50:52",
          "bug_id": "796425",
          "creator_id": "254481",
          "time": "20130524T15:50:52",
          "id": "5948100",
          "is_private": "True"
        },
        {
          "count": "17",
          "creator": "ksrot@redhat.com",
          "text": "Adding qe_cond_NAK Third-party for now until we have the customer feedback. Thank you for understanding.",
          "author": "ksrot@redhat.com",
          "creation_time": "20130527T16:03:47",
          "bug_id": "796425",
          "creator_id": "286283",
          "time": "20130527T16:03:47",
          "id": "5952859",
          "is_private": "True"
        },
        {
          "count": "18",
          "creator": "ebenes@redhat.com",
          "text": "Petr or Ann Marie, could you please provide some details on what's the impact of this bug on RHEL 6.5 FIPS 140-2 validation? Thanks",
          "author": "ebenes@redhat.com",
          "creation_time": "20130530T17:27:44",
          "bug_id": "796425",
          "creator_id": "203333",
          "time": "20130530T17:27:44",
          "id": "5964244",
          "is_private": "True"
        },
        {
          "count": "19",
          "creator": "plautrba@redhat.com",
          "text": "The patch itself doesn't change any crypto but changes files buffer.{c,h} kex.c packet.c and since these files contain crypto algorithm implementations they are on the rhel6fips140watch-list [1].\n\n[1] https://home.corp.redhat.com/wiki/rhel6fips140watch-list",
          "author": "plautrba@redhat.com",
          "creation_time": "20130531T08:47:12",
          "bug_id": "796425",
          "creator_id": "270148",
          "time": "20130531T08:47:12",
          "id": "5966148",
          "is_private": "True"
        },
        {
          "count": "20",
          "creator": "ebenes@redhat.com",
          "text": "(In reply to Petr Lautrbach from comment #19)\n> The patch itself doesn't change any crypto but changes files buffer.{c,h}\n> kex.c packet.c and since these files contain crypto algorithm\n> implementations they are on the rhel6fips140watch-list [1].\n> \n> [1] https://home.corp.redhat.com/wiki/rhel6fips140watch-list\n\nPetr, I'm confused now. In comment #5 [1] you're mentioning ''problematic crypto change in perspectice of certification''. What has changed over the time and why it doesn't contain any crypto changes any more? Thanks\n\n1. https://bugzilla.redhat.com/show_bug.cgi?id=796425#c5",
          "author": "ebenes@redhat.com",
          "creation_time": "20130531T09:05:52",
          "bug_id": "796425",
          "creator_id": "203333",
          "time": "20130531T09:05:52",
          "id": "5966181",
          "is_private": "True"
        },
        {
          "count": "21",
          "creator": "omoris@redhat.com",
          "text": "Just a side note regarding the impact of the bug on FIPS 140-2. As Petr [c#19] pointed out, even thought the patch does not touch any cryptographic functionality it makes changes in cryptographic boundary of the certified module. As far as I know [1], these kind of changes should be reviewed by third party to ensure that no crypto is affected. Therefore, it is perfectly fine to have this bug on the FIPS tracker. At the same time, please notice (or correct me if I am wrong) that if is not needed to have this fixed to pass RHEL 6.5 certificate re-validation.",
          "author": "omoris@redhat.com",
          "creation_time": "20130531T09:23:40",
          "bug_id": "796425",
          "creator_id": "281695",
          "time": "20130531T09:23:40",
          "id": "5966239",
          "is_private": "True"
        },
        {
          "count": "22",
          "creator": "omoris@redhat.com",
          "text": "[1] http://wiki.brq.redhat.com/SecurityTechnologies/FIPS?highlight=%28fips%29#head-5ae0c164910af18744fbb63b977939fc39b092ef",
          "author": "omoris@redhat.com",
          "creation_time": "20130531T09:24:16",
          "bug_id": "796425",
          "creator_id": "281695",
          "time": "20130531T09:24:16",
          "id": "5966240",
          "is_private": "True"
        },
        {
          "count": "23",
          "creator": "plautrba@redhat.com",
          "text": "(In reply to Eduard Benes from comment #20)\n> Petr, I'm confused now. In comment #5 [1] you're mentioning ''problematic\n> crypto change in perspectice of certification''. What has changed over the\n> time and why it doesn't contain any crypto changes any more? Thanks\n> \n\n#c5 is related to the full HPN patch [1]. But during investigation we found out that it would be possible to use only part of it [2]. Jiri Jaburek performed several tests and confirmed that there's a significant improvement using the patch without the multi thread implementation of AES-CTR.\n\n[1] http://www.psc.edu/networking/projects/hpn-ssh/\n[2] http://file.brq.redhat.com/~plautrba/openssh-hpn/dynamic-window-only/openssh-5.3p1-hpn.patch",
          "author": "plautrba@redhat.com",
          "creation_time": "20130531T11:38:24",
          "bug_id": "796425",
          "creator_id": "270148",
          "time": "20130531T11:38:24",
          "id": "5966574",
          "is_private": "True"
        },
        {
          "count": "24",
          "creator": "ksrot@redhat.com",
          "text": "Hello Dave,\nis there any update from the customer?",
          "author": "ksrot@redhat.com",
          "creation_time": "20130806T12:28:19",
          "bug_id": "796425",
          "creator_id": "286283",
          "time": "20130806T12:28:19",
          "id": "6185467",
          "is_private": "True"
        },
        {
          "count": "25",
          "creator": "dsulliva@redhat.com",
          "text": "Hi Karel,\n\nAs of last week they had been unable to test what I had sent them.\n\nLet me push it.  They are pretty receptive to moving things forwad when things are stuck on their side.\n\nThanks,\n\nDave",
          "author": "dsulliva@redhat.com",
          "creation_time": "20130806T13:11:09",
          "bug_id": "796425",
          "creator_id": "254481",
          "time": "20130806T13:11:09",
          "id": "6185705",
          "is_private": "True"
        },
        {
          "count": "26",
          "creator": "dsulliva@redhat.com",
          "text": "Jiri, can I get the full report.\n\nCustomer had come back already not seeing improvement.  But I'm not sure if they tested an environment where the latency is increased as Jiri did.\n\nI'm working with the customer on this now, he's going to retest.\n\nThanks,\n\nDave",
          "author": "dsulliva@redhat.com",
          "creation_time": "20130807T20:23:59",
          "bug_id": "796425",
          "creator_id": "254481",
          "time": "20130807T20:23:59",
          "id": "6192010",
          "is_private": "True"
        },
        {
          "count": "27",
          "creator": "ksrot@redhat.com",
          "text": "(In reply to Dave Sullivan from comment #26)\n> Jiri, can I get the full report.\n> \n> Customer had come back already not seeing improvement.  But I'm not sure if\n> they tested an environment where the latency is increased as Jiri did.\n\nHi Dave,\nJiri did that just to be able to measure transfer speeds with various latency. This was just a ''hack'' for testing purposes, it is not expected that the customer would be doing this.\nPlease, make sure that they configured the sshd server and client properly (as mentioned in #c14. \n\nJiri or Petr,\ncould you please confirm the sshd/ssh configuration necessary for changes to take effect? Thank you.",
          "author": "ksrot@redhat.com",
          "creation_time": "20130808T06:03:06",
          "bug_id": "796425",
          "creator_id": "286283",
          "time": "20130808T06:03:06",
          "id": "6193114",
          "is_private": "True"
        },
        {
          "count": "28",
          "creator": "ksrot@redhat.com",
          "text": "Hi Petr,\ncan we get an update on this? The customer didn't see any improvement. Could you please confirm the required setup? Thank you.",
          "author": "ksrot@redhat.com",
          "creation_time": "20130910T05:33:56",
          "bug_id": "796425",
          "creator_id": "286283",
          "time": "20130910T05:33:56",
          "id": "6289892",
          "is_private": "True"
        },
        {
          "count": "29",
          "creator": "jjaburek@redhat.com",
          "text": "(In reply to Karel Srot from comment #27)\n> Please, make sure that they configured the sshd server and client properly\n> (as mentioned in #c14. \n> \n> Jiri or Petr,\n> could you please confirm the sshd/ssh configuration necessary for changes to\n> take effect? Thank you.\n\nKarel,\nthe necessary steps should be described in comment #14. This presumably differs from BSD, where the feature works out of the box, AFAIK.\n\nPetr would be probably more qualified to answer how exactly do the machines need to be set up. Any docs I found are more or less BSD-specific and applying the documented behaviour itself doesn't yield performance improvement (based on my observations).",
          "author": "jjaburek@redhat.com",
          "creation_time": "20130910T15:27:17",
          "bug_id": "796425",
          "creator_id": "327802",
          "time": "20130910T15:27:17",
          "id": "6292545",
          "is_private": "True"
        },
        {
          "count": "30",
          "creator": "plautrba@redhat.com",
          "text": "I confirm that Jiri is correct and I can't provide more information then Jiri in comment #14",
          "author": "plautrba@redhat.com",
          "creation_time": "20130910T15:39:20",
          "bug_id": "796425",
          "creator_id": "270148",
          "time": "20130910T15:39:20",
          "id": "6292600",
          "is_private": "True"
        },
        {
          "count": "31",
          "creator": "ksrot@redhat.com",
          "text": "OK. If I understand it properly then the minimal set up is follows:\n\non server side in sshd_config:\n  HPNDisabled no\n  HPNBufferSize 65536\n  TcpRcvBufPoll yes\n\non client side in ssh_config:\n  HPNDisabled no\n  Ciphers arcfour256,arcfour128,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour\n  TcpRcvBufPoll yes\n  TcpRcvBuf 65536\n\nThe customer should notice a performance increase when transferring a file from client to the server. If not, the set up is either wrong or the feature is not properly implemented. \n\nDave,\ncould you please confirm with the customer that this setup was used during the testing? If the customer doesn't notice any speed up then the proposed patch is obviously not worth of releasing.",
          "author": "ksrot@redhat.com",
          "creation_time": "20130910T16:22:12",
          "bug_id": "796425",
          "creator_id": "286283",
          "time": "20130910T16:22:12",
          "id": "6292889",
          "is_private": "True"
        },
        {
          "count": "32",
          "creator": "jjaburek@redhat.com",
          "text": "(In reply to Karel Srot from comment #31)\n> OK. If I understand it properly then the minimal set up is follows:\n> \n> on server side in sshd_config:\n>   HPNDisabled no\n>   HPNBufferSize 65536\n>   TcpRcvBufPoll yes\n> \n> on client side in ssh_config:\n>   HPNDisabled no\n>   Ciphers\n> arcfour256,arcfour128,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-\n> cbc,aes256-cbc,arcfour\n>   TcpRcvBufPoll yes\n>   TcpRcvBuf 65536\n> \n\nLooking at the options again, the TcpRcvBuf probably shouldn't be in ssh_config at all, with window scaling enabled, this should be scaled by the kernel.\n\nAlso, the options expect the system to be configured correctly for large latency performance, especially when it comes to receive/send window size:\n\nBDP (bandwidth-delay product) for 1Gbit/s and 250ms latency would be 250000000 bits or 31250000 bytes, AFAIK. So for an unoptimized system with enough RAM, this should help:\n\necho ''4096 1048576 31250000'' > /proc/sys/net/ipv4/tcp_rmem\necho ''4096 1048576 31250000'' > /proc/sys/net/ipv4/tcp_wmem\n\nFor larger throughput or different latency, a new value needs to be calculated.",
          "author": "jjaburek@redhat.com",
          "creation_time": "20130911T09:55:09",
          "bug_id": "796425",
          "creator_id": "327802",
          "time": "20130911T09:55:09",
          "id": "6296170",
          "is_private": "True"
        },
        {
          "count": "33",
          "creator": "dsulliva@redhat.com",
          "text": "Hi All, \n\nSorry for the delay this customer got focused on some other issues.\n\nI've put in a new request with them for the following:\n\n<recheck>\nIf you can recheck on this per the following:\n\non server side in sshd_config:\n  HPNDisabled no\n  HPNBufferSize 65536\n  TcpRcvBufPoll yes\n\non client side in ssh_config:\n  HPNDisabled no\n  Ciphers arcfour256,arcfour128,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour\n  TcpRcvBufPoll yes\n\nAlso, the options expect the system to be configured correctly for large latency performance, especially when it comes to receive/send window size:\n\nBDP (bandwidth-delay product) for 1Gbit/s and 250ms latency would be 250000000 bits or 31250000 bytes, AFAIK. So for an unoptimized system with enough RAM, this should help:\n\necho ''4096 1048576 31250000'' > /proc/sys/net/ipv4/tcp_rmem\necho ''4096 1048576 31250000'' > /proc/sys/net/ipv4/tcp_wmem\n\nFor larger throughput or different latency, a new value needs to be calculated.\n\n</recheck>\n\nThere test may have shown as not showing improvement because they have fast links.\n\nBut let's see what they come back with.",
          "author": "dsulliva@redhat.com",
          "creation_time": "20131107T19:11:34",
          "bug_id": "796425",
          "creator_id": "254481",
          "time": "20131107T19:11:34",
          "id": "6498714",
          "is_private": "True"
        },
        {
          "count": "34",
          "creator": "plautrba@redhat.com",
          "text": "The support case is already closed and also the performance effect is arguable if any.",
          "author": "plautrba@redhat.com",
          "creation_time": "20140214T15:34:50",
          "bug_id": "796425",
          "creator_id": "270148",
          "time": "20140214T15:34:50",
          "id": "6820808",
          "is_private": "True"
        },
        {
          "count": "35",
          "creator": "dsulliva@redhat.com",
          "text": "Just for history customer closed the support case with.\n\nGoing to close this - from kicking this around a bit on my own, doesn't seem to provide that much benefit.  Was hoping for better ... I think we can spend our resources on more important things :-)",
          "author": "dsulliva@redhat.com",
          "creation_time": "20140214T16:40:02",
          "bug_id": "796425",
          "creator_id": "254481",
          "time": "20140214T16:40:02",
          "id": "6821080",
          "is_private": "True"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.2"
      ],
      "cc": [
        "arubin@redhat.com",
        "dsulliva@redhat.com",
        "jjaburek@redhat.com",
        "jwest@redhat.com",
        "klepikho@redhat.com",
        "ksrot@redhat.com",
        "mvadkert@redhat.com",
        "omoris@redhat.com",
        "plautrba@redhat.com",
        "pvrabec@redhat.com",
        "sdenham@redhat.com",
        "sgrubb@redhat.com",
        "tmraz@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "960054"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Enhancement",
      "cf_clone_of": "0",
      "groups": [
        "redhat"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "RFE give openssh full use of bandwidth capability of long fat pipes",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.5.0",
          "modification_date": "20130111T20:51:35",
          "type_id": "361",
          "is_active": "0",
          "creation_date": "20130111T20:51:35",
          "id": "1236401",
          "setter": "jwest@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20130509T15:56:06",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20120222T21:26:00",
          "id": "987908",
          "setter": "snagar@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20130517T13:34:22",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20121212T10:17:13",
          "id": "1213206",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "?",
          "name": "qa_ack",
          "modification_date": "20121212T10:17:40",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20121212T10:17:40",
          "id": "1213210",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20140214T16:40:02",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509332-avBikuRsUhA4hzNbXri7zImxz_uUhm3nTOrJIsTa0Kk",
      "cf_partner": [],
      "cf_last_closed": "20140214T15:34:50",
      "resolution": "WONTFIX",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "100",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20120225T12:59:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "None",
          "ext_bz_bug_id": "138338",
          "bug_id": "797384",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "69",
          "type": {
            "must_send": "False",
            "description": "TCMS Test Case",
            "url": "https://tcms.engineering.redhat.com",
            "can_get": "False",
            "id": "69",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          },
          "id": "66965"
        }
      ],
      "id": "797384",
      "cf_release_notes": "No Documentation needed",
      "priority": "medium",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-73.el6",
      "creator": "swsnyder@snydernet.net",
      "comments": [
        {
          "count": "0",
          "creator": "swsnyder@snydernet.net",
          "text": "Description of problem:\n\nThe sshd init script attempts to read from missing file /proc/sys/crypto/fips_enabled/\n\nVersion-Release number of selected component (if applicable):\n\n# rpm -q openssh-server\nopenssh-server-5.3p1-70.el6_2.2.x86_64\n\nHow reproducible:\n\nAlways\n\nSteps to Reproduce:\n1. # service sshd restart\n2.\n3.\n  \nActual results:\n\n# service sshd restart\nStopping sshd:\ncat: /proc/sys/crypto/fips_enabled: No such file or directory\n/etc/init.d/sshd: line 50: [: too many arguments\nStarting sshd:\n\n\nExpected results:\n\nShould test for existence of file before attempting to read it.\n\nAdditional info:\n\nSeen with a fully-updated RHEL 6.2/x86_64 installation in an OpenVZ container.  OpenVZ kernel: 2.6.18-274.7.1.el5.028stab095.1\n\n# ll /proc/sys/crypto/\nls: cannot access /proc/sys/crypto/: No such file or directory\n\n# ll /proc/sys/\ntotal 0\ndr-xr-xr-x 2 root root 0 Feb 25 14:58 debug\ndr-xr-xr-x 2 root root 0 Feb 25 14:58 dev\ndr-xr-xr-x 5 root root 0 Feb 24 15:47 fs\ndr-xr-xr-x 4 root root 0 Feb 25 14:58 kernel\ndr-xr-xr-x 7 root root 0 Feb 25 14:58 net\ndr-xr-xr-x 2 root root 0 Feb 25 14:58 vm",
          "author": "swsnyder@snydernet.net",
          "creation_time": "20120225T12:59:52",
          "bug_id": "797384",
          "creator_id": "42910",
          "time": "20120225T12:59:52",
          "id": "4475298",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120225T13:11:41",
          "bug_id": "797384",
          "creator_id": "193983",
          "time": "20120225T13:11:41",
          "id": "4475301",
          "is_private": "True"
        },
        {
          "count": "2",
          "attachment_id": "566133",
          "author": "plautrba@redhat.com",
          "text": "Created attachment 566133\nfixed sshd init script",
          "creator": "plautrba@redhat.com",
          "creation_time": "20120227T20:15:16",
          "bug_id": "797384",
          "creator_id": "270148",
          "time": "20120227T20:15:16",
          "id": "4478711",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "mvadkert@redhat.com",
          "text": "For reproducing this issue use:\n\n# mkdir /chroot; mount --bind / /chroot; chroot /chroot\n# service sshd restart\nStopping sshd:                                             [FAILED]\ncat: /proc/sys/crypto/fips_enabled: No such file or directory\n/etc/init.d/sshd: line 50: [: too many arguments\nStarting sshd: cannot read from /dev/urandom, No such file or directory\n                                                           [FAILED]\n\nThe fips enabled error should not be there in the fixed version.\n\nQA_ACK+ for RHEL6.3",
          "author": "mvadkert@redhat.com",
          "creation_time": "20120228T15:26:41",
          "bug_id": "797384",
          "creator_id": "271572",
          "time": "20120228T15:26:41",
          "id": "4480777",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2012:12754-01\nhttp://errata.devel.redhat.com/errata/show/12754",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120229T10:24:27",
          "bug_id": "797384",
          "creator_id": "241731",
          "time": "20120229T10:24:27",
          "id": "4483229",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "plautrba@redhat.com",
          "text": "*** Bug 801100 has been marked as a duplicate of this bug. ***",
          "author": "plautrba@redhat.com",
          "creation_time": "20120308T09:45:01",
          "bug_id": "797384",
          "creator_id": "270148",
          "time": "20120308T09:45:01",
          "id": "4503093",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2012:12754-01: \nhttp://errata.devel.redhat.com/errata/stateview/12754\n\nVERIFIED as fixed in NEW package openssh-5.3p1-78.el6\nNo error reading /proc/sys/crypto/fips_enabled anymore\n\nNEW package openssh-5.3p1-78.el6:\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: BZ#797384 - Init scripts tries to read missing file\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'mkdir /chroot22797; mount --bind / /chroot22797; chroot /chroot22797 service sshd restart 2>&1 | grep fips_enabled'\n:: [   PASS   ] :: Running 'umount /chroot22797'\n:: [   PASS   ] :: Running 'rmdir /chroot22797'\n:: [   LOG    ] :: Duration: 0s\n:: [   LOG    ] :: Assertions: 3 good, 0 bad\n:: [   PASS   ] :: RESULT: BZ#797384 - Init scripts tries to read missing file\n\n\nOLD package openssh-5.3p1-70.el6:\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: BZ#797384 - Init scripts tries to read missing file\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\ncat: /proc/sys/crypto/fips_enabled: No such file or directory\n:: [   FAIL   ] :: Running 'mkdir /chroot15298; mount --bind / /chroot15298; chroot /chroot15298 service sshd restart 2>&1 | grep fips_enabled' (Expected 1, got 0)\n:: [   PASS   ] :: Running 'umount /chroot15298'\n:: [   PASS   ] :: Running 'rmdir /chroot15298'",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120426T08:38:03",
          "bug_id": "797384",
          "creator_id": "241731",
          "time": "20120426T08:38:03",
          "id": "4630041",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "plautrba@redhat.com",
          "text": "\n    Technical note added. If any revisions are required, please edit the ''Technical Notes'' field\n    accordingly. All revisions will be proofread by the Engineering Content Services team.\n    \n    New Contents:\nNo Documentation needed",
          "author": "plautrba@redhat.com",
          "creation_time": "20120427T13:12:40",
          "bug_id": "797384",
          "creator_id": "270148",
          "time": "20120427T13:12:40",
          "id": "4633838",
          "is_private": "False"
        },
        {
          "count": "8",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHSA-2012-0884.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120620T07:17:28",
          "bug_id": "797384",
          "creator_id": "241731",
          "time": "20120620T07:17:28",
          "id": "4841690",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.2"
      ],
      "cc": [
        "dapospis@redhat.com",
        "frank.arnold@amd.com",
        "mvadkert@redhat.com",
        "pvrabec@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "Init scripts tries to read missing file",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20121105T15:40:44",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20120228T15:34:00",
          "id": "992441",
          "setter": "dapospis@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.3.0",
          "modification_date": "20120228T15:32:34",
          "type_id": "276",
          "is_active": "0",
          "creation_date": "20120225T13:11:39",
          "id": "990579",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20120225T13:27:23",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20120225T13:25:58",
          "id": "990582",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20120228T14:59:03",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20120225T13:45:20",
          "id": "990583",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20120228T15:26:41",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20120228T14:59:03",
          "id": "992393",
          "setter": "mvadkert@redhat.com"
        }
      ],
      "last_change_time": "20121105T15:40:44",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509332-2vdReBs9XHviYz7B8nGLpfwTyPpoCY1ns2DStslJADs",
      "cf_partner": [],
      "cf_last_closed": "20120620T07:17:28",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [
        "781634"
      ],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20120228T12:04:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "None",
          "ext_bz_bug_id": "144237",
          "bug_id": "798241",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "69",
          "type": {
            "must_send": "False",
            "description": "TCMS Test Case",
            "url": "https://tcms.engineering.redhat.com",
            "can_get": "False",
            "id": "69",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          },
          "id": "66966"
        }
      ],
      "id": "798241",
      "cf_release_notes": "privsep parent process is now run as the users context instead of sshd_t context.",
      "priority": "medium",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-73.el6",
      "creator": "mgrepl@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "mgrepl@redhat.com",
          "text": "+++ This bug was initially created as a clone of Bug #781634 +++\n\nCreated attachment 555153\nThis patch fixes the problem by setting the process context to the setexeccon context.\n\nThis would cause code like port forwarding to be able to be controlled by SELinux also.\n\nThis could be a problem for MLS, and could potentially be considered a vulnerability.\n\n--- Additional comment from mgrepl@redhat.com on 2012-01-16 03:04:59 EST ---\n\nI will test it with Petr. (AFAIK jchadima tried something similar but without success)\n\n--- Additional comment from dwalsh@redhat.com on 2012-01-16 11:58:21 EST ---\n\nWell I built it on my machine and it seemed to work.\n\n--- Additional comment from dwalsh@redhat.com on 2012-01-19 13:06:57 EST ---\n\nPeter any movement on this?\n\n--- Additional comment from plautrba@redhat.com on 2012-01-20 09:54:41 EST ---\n\nIt seems that this patch brakes confined user, e.g. staff_u:\n\ntime->Fri Jan 20 15:50:27 2012\ntype=SYSCALL msg=audit(1327071027.167:987): arch=c000003e syscall=51 success=no exit=-13 a0=3 a1=7fffe4fc82a0 a2=7fffe4fc829c a3=7fd0ca2caad0 items=0 ppid=950 pid=9146 auid=1002 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=pts1 ses=34 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=staff_u:staff_r:staff_t:s0 key=(null)\ntype=AVC msg=audit(1327071027.167:987): avc:  denied  { getattr } for  pid=9146 comm=''sshd'' laddr=192.168.122.52 lport=22 faddr=192.168.122.1 fport=57153 scontext=staff_u:staff_r:staff_t:s0 tcontext=system_u:system_r:sshd_t:s0-s0:c0.c1023 tclass=tcp_socket\n----\ntime->Fri Jan 20 15:50:27 2012\ntype=SYSCALL msg=audit(1327071027.169:988): arch=c000003e syscall=51 success=no exit=-13 a0=3 a1=7fffe4fc7e90 a2=7fffe4fc7e8c a3=64206e6f69737369 items=0 ppid=950 pid=9146 auid=1002 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=pts1 ses=34 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=staff_u:staff_r:staff_t:s0 key=(null)\ntype=AVC msg=audit(1327071027.169:988): avc:  denied  { getattr } for  pid=9146 comm=''sshd'' laddr=192.168.122.52 lport=22 faddr=192.168.122.1 fport=57153 scontext=staff_u:staff_r:staff_t:s0 tcontext=system_u:system_r:sshd_t:s0-s0:c0.c1023 tclass=tcp_socket\n----\ntime->Fri Jan 20 15:50:27 2012\ntype=SYSCALL msg=audit(1327071027.182:993): arch=c000003e syscall=117 success=no exit=-1 a0=3ea a1=3ea a2=3ea a3=0 items=0 ppid=9146 pid=9150 auid=1002 uid=0 gid=1002 euid=0 suid=0 fsuid=0 egid=1002 sgid=1002 fsgid=1002 tty=pts1 ses=34 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=staff_u:staff_r:staff_t:s0 key=(null)\ntype=AVC msg=audit(1327071027.182:993): avc:  denied  { setuid } for  pid=9150 comm=''sshd'' capability=7  scontext=staff_u:staff_r:staff_t:s0 tcontext=staff_u:staff_r:staff_t:s0 tclass=capability\n----\ntime->Fri Jan 20 15:50:27 2012\ntype=SYSCALL msg=audit(1327071027.188:994): arch=c000003e syscall=117 success=no exit=-1 a0=ffffffff a1=3ea a2=0 a3=0 items=0 ppid=950 pid=9146 auid=1002 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=1002 sgid=1002 fsgid=1002 tty=pts1 ses=34 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=staff_u:staff_r:staff_t:s0 key=(null)\ntype=AVC msg=audit(1327071027.188:994): avc:  denied  { setuid } for  pid=9146 comm=''sshd'' capability=7  scontext=staff_u:staff_r:staff_t:s0 tcontext=staff_u:staff_r:staff_t:s0 tclass=capability\n\n--- Additional comment from mgrepl@redhat.com on 2012-01-20 10:25:45 EST ---\n\nCould you also attach AVC msgs from permissive mode?\n\n--- Additional comment from plautrba@redhat.com on 2012-01-20 10:28:13 EST ---\n\ntime->Fri Jan 20 16:26:56 2012\ntype=SYSCALL msg=audit(1327073216.809:1126): arch=c000003e syscall=51 success=yes exit=0 a0=3 a1=7fff23fe8460 a2=7fff23fe845c a3=7fc6061d7ad0 items=0 ppid=950 pid=9232 auid=1002 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=pts1 ses=39 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=staff_u:staff_r:staff_t:s0 key=(null)\ntype=AVC msg=audit(1327073216.809:1126): avc:  denied  { getattr } for  pid=9232 comm=''sshd'' laddr=192.168.122.52 lport=22 faddr=192.168.122.1 fport=57244 scontext=staff_u:staff_r:staff_t:s0 tcontext=system_u:system_r:sshd_t:s0-s0:c0.c1023 tclass=tcp_socket\n----\ntime->Fri Jan 20 16:26:56 2012\ntype=SYSCALL msg=audit(1327073216.819:1131): arch=c000003e syscall=117 success=yes exit=0 a0=3ea a1=3ea a2=3ea a3=0 items=0 ppid=9232 pid=9236 auid=1002 uid=1002 gid=1002 euid=1002 suid=1002 fsuid=1002 egid=1002 sgid=1002 fsgid=1002 tty=pts1 ses=39 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=staff_u:staff_r:staff_t:s0 key=(null)\ntype=AVC msg=audit(1327073216.819:1131): avc:  denied  { setuid } for  pid=9236 comm=''sshd'' capability=7  scontext=staff_u:staff_r:staff_t:s0 tcontext=staff_u:staff_r:staff_t:s0 tclass=capability\n----\ntime->Fri Jan 20 16:26:56 2012\ntype=SYSCALL msg=audit(1327073216.824:1132): arch=c000003e syscall=49 success=yes exit=0 a0=9 a1=7fc606b509e0 a2=1c a3=696e657473696c20 items=0 ppid=9232 pid=9236 auid=1002 uid=1002 gid=1002 euid=1002 suid=1002 fsuid=1002 egid=1002 sgid=1002 fsgid=1002 tty=pts1 ses=39 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=staff_u:staff_r:staff_t:s0 key=(null)\ntype=AVC msg=audit(1327073216.824:1132): avc:  denied  { name_bind } for  pid=9236 comm=''sshd'' src=2222 scontext=staff_u:staff_r:staff_t:s0 tcontext=system_u:object_r:unreserved_port_t:s0 tclass=tcp_socket\n----\ntime->Fri Jan 20 16:26:56 2012\ntype=SYSCALL msg=audit(1327073216.870:1133): arch=c000003e syscall=188 success=yes exit=0 a0=7fc606b6322c a1=7fc60559056b a2=7fc606b63960 a3=22 items=0 ppid=950 pid=9232 auid=1002 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=pts1 ses=39 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=staff_u:staff_r:staff_t:s0 key=(null)\ntype=AVC msg=audit(1327073216.870:1133): avc:  denied  { relabelto } for  pid=9232 comm=''sshd'' name=''2'' dev=devpts ino=5 scontext=staff_u:staff_r:staff_t:s0 tcontext=staff_u:object_r:user_devpts_t:s0 tclass=chr_file\ntype=AVC msg=audit(1327073216.870:1133): avc:  denied  { relabelfrom } for  pid=9232 comm=''sshd'' name=''2'' dev=devpts ino=5 scontext=staff_u:staff_r:staff_t:s0 tcontext=staff_u:object_r:user_devpts_t:s0 tclass=chr_file\n----\ntime->Fri Jan 20 16:26:56 2012\ntype=SYSCALL msg=audit(1327073216.887:1136): arch=c000003e syscall=55 success=yes exit=0 a0=3 a1=6 a2=1 a3=7fff23fe8280 items=0 ppid=9232 pid=9236 auid=1002 uid=1002 gid=1002 euid=1002 suid=1002 fsuid=1002 egid=1002 sgid=1002 fsgid=1002 tty=pts1 ses=39 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=staff_u:staff_r:staff_t:s0 key=(null)\ntype=AVC msg=audit(1327073216.887:1136): avc:  denied  { getopt } for  pid=9236 comm=''sshd'' laddr=192.168.122.52 lport=22 faddr=192.168.122.1 fport=57244 scontext=staff_u:staff_r:staff_t:s0 tcontext=system_u:system_r:sshd_t:s0-s0:c0.c1023 tclass=tcp_socket\n----\ntime->Fri Jan 20 16:26:56 2012\ntype=SYSCALL msg=audit(1327073216.887:1137): arch=c000003e syscall=54 success=yes exit=0 a0=3 a1=6 a2=1 a3=7fff23fe8280 items=0 ppid=9232 pid=9236 auid=1002 uid=1002 gid=1002 euid=1002 suid=1002 fsuid=1002 egid=1002 sgid=1002 fsgid=1002 tty=pts1 ses=39 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=staff_u:staff_r:staff_t:s0 key=(null)\ntype=AVC msg=audit(1327073216.887:1137): avc:  denied  { setopt } for  pid=9236 comm=''sshd'' laddr=192.168.122.52 lport=22 faddr=192.168.122.1 fport=57244 scontext=staff_u:staff_r:staff_t:s0 tcontext=system_u:system_r:sshd_t:s0-s0:c0.c1023 tclass=tcp_socket\n\n--- Additional comment from plautrba@redhat.com on 2012-01-20 10:32:16 EST ---\n\nThere are some AVCs generated by port forwarding in previous comment which is ok.\n\ntime->Fri Jan 20 16:29:27 2012\ntype=SYSCALL msg=audit(1327073367.286:1162): arch=c000003e syscall=51 success=yes exit=0 a0=3 a1=7fffd3b4f900 a2=7fffd3b4f8fc a3=7fab32d0fad0 items=0 ppid=950 pid=9258 auid=1002 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=pts1 ses=40 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=staff_u:staff_r:staff_t:s0 key=(null)\ntype=AVC msg=audit(1327073367.286:1162): avc:  denied  { getattr } for  pid=9258 comm=''sshd'' laddr=192.168.122.52 lport=22 faddr=192.168.122.1 fport=57248 scontext=staff_u:staff_r:staff_t:s0 tcontext=system_u:system_r:sshd_t:s0-s0:c0.c1023 tclass=tcp_socket\n----\ntime->Fri Jan 20 16:29:27 2012\ntype=SYSCALL msg=audit(1327073367.301:1167): arch=c000003e syscall=117 success=yes exit=0 a0=3ea a1=3ea a2=3ea a3=0 items=0 ppid=9258 pid=9263 auid=1002 uid=1002 gid=1002 euid=1002 suid=1002 fsuid=1002 egid=1002 sgid=1002 fsgid=1002 tty=pts1 ses=40 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=staff_u:staff_r:staff_t:s0 key=(null)\ntype=AVC msg=audit(1327073367.301:1167): avc:  denied  { setuid } for  pid=9263 comm=''sshd'' capability=7  scontext=staff_u:staff_r:staff_t:s0 tcontext=staff_u:staff_r:staff_t:s0 tclass=capability\n----\ntime->Fri Jan 20 16:29:27 2012\ntype=SYSCALL msg=audit(1327073367.313:1168): arch=c000003e syscall=188 success=yes exit=0 a0=7fab3316622c a1=7fab320c856b a2=7fab33166960 a3=22 items=0 ppid=950 pid=9258 auid=1002 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=pts1 ses=40 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=staff_u:staff_r:staff_t:s0 key=(null)\ntype=AVC msg=audit(1327073367.313:1168): avc:  denied  { relabelto } for  pid=9258 comm=''sshd'' name=''2'' dev=devpts ino=5 scontext=staff_u:staff_r:staff_t:s0 tcontext=staff_u:object_r:user_devpts_t:s0 tclass=chr_file\ntype=AVC msg=audit(1327073367.313:1168): avc:  denied  { relabelfrom } for  pid=9258 comm=''sshd'' name=''2'' dev=devpts ino=5 scontext=staff_u:staff_r:staff_t:s0 tcontext=staff_u:object_r:user_devpts_t:s0 tclass=chr_file\n----\ntime->Fri Jan 20 16:29:27 2012\ntype=SYSCALL msg=audit(1327073367.314:1169): arch=c000003e syscall=2 success=yes exit=9 a0=7fffd3b4ec10 a1=0 a2=180 a3=0 items=0 ppid=950 pid=9258 auid=1002 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=pts1 ses=40 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=staff_u:staff_r:staff_t:s0 key=(null)\ntype=AVC msg=audit(1327073367.314:1169): avc:  denied  { open } for  pid=9258 comm=''sshd'' name=''lastlog'' dev=vda3 ino=258836 scontext=staff_u:staff_r:staff_t:s0 tcontext=system_u:object_r:lastlog_t:s0 tclass=file\ntype=AVC msg=audit(1327073367.314:1169): avc:  denied  { read } for  pid=9258 comm=''sshd'' name=''lastlog'' dev=vda3 ino=258836 scontext=staff_u:staff_r:staff_t:s0 tcontext=system_u:object_r:lastlog_t:s0 tclass=file\n----\ntime->Fri Jan 20 16:29:27 2012\ntype=SYSCALL msg=audit(1327073367.315:1170): arch=c000003e syscall=2 success=yes exit=9 a0=7fffd3b4f2f0 a1=42 a2=180 a3=8 items=0 ppid=950 pid=9258 auid=1002 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=pts1 ses=40 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=staff_u:staff_r:staff_t:s0 key=(null)\ntype=AVC msg=audit(1327073367.315:1170): avc:  denied  { write } for  pid=9258 comm=''sshd'' name=''lastlog'' dev=vda3 ino=258836 scontext=staff_u:staff_r:staff_t:s0 tcontext=system_u:object_r:lastlog_t:s0 tclass=file\n----\ntime->Fri Jan 20 16:29:27 2012\ntype=SYSCALL msg=audit(1327073367.330:1173): arch=c000003e syscall=55 success=yes exit=0 a0=3 a1=6 a2=1 a3=7fffd3b4f720 items=0 ppid=9258 pid=9263 auid=1002 uid=1002 gid=1002 euid=1002 suid=1002 fsuid=1002 egid=1002 sgid=1002 fsgid=1002 tty=pts1 ses=40 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=staff_u:staff_r:staff_t:s0 key=(null)\ntype=AVC msg=audit(1327073367.330:1173): avc:  denied  { getopt } for  pid=9263 comm=''sshd'' laddr=192.168.122.52 lport=22 faddr=192.168.122.1 fport=57248 scontext=staff_u:staff_r:staff_t:s0 tcontext=system_u:system_r:sshd_t:s0-s0:c0.c1023 tclass=tcp_socket\n----\ntime->Fri Jan 20 16:29:27 2012\ntype=SYSCALL msg=audit(1327073367.331:1174): arch=c000003e syscall=54 success=yes exit=0 a0=3 a1=6 a2=1 a3=7fffd3b4f720 items=0 ppid=9258 pid=9263 auid=1002 uid=1002 gid=1002 euid=1002 suid=1002 fsuid=1002 egid=1002 sgid=1002 fsgid=1002 tty=pts1 ses=40 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=staff_u:staff_r:staff_t:s0 key=(null)\ntype=AVC msg=audit(1327073367.331:1174): avc:  denied  { setopt } for  pid=9263 comm=''sshd'' laddr=192.168.122.52 lport=22 faddr=192.168.122.1 fport=57248 scontext=staff_u:staff_r:staff_t:s0 tcontext=system_u:system_r:sshd_t:s0-s0:c0.c1023 tclass=tcp_socket\n\n--- Additional comment from mgrepl@redhat.com on 2012-01-20 10:38:34 EST ---\n\nThis is not ideal.\n\n--- Additional comment from plautrba@redhat.com on 2012-01-23 11:10:05 EST ---\n\nCreated attachment 557004\nchange SELinux context for unprivileged sshd process too\n\nThis is working patch. It may not be perfect right now but it seems to work as expected. There is only needed little policy change due to slave unprivileged process in privilege separation has to have rights to communicate with client via opened socket on port 22. \n\nSpecifically for staff I had to add this rule:\nallow staff_t sshd_t:tcp_socket { getopt getattr setopt read write};\n\nWith this patch my unprivileged sshd process is running with user context.\n\nBefore:\nsystem_u:system_r:sshd_t:s0-s0:c0.c1023 root 2430 /usr/sbin/sshd -D\nsystem_u:system_r:sshd_t:s0-s0:c0.c1023 root 2432 \\_ sshd: staff [priv]\nsystem_u:system_r:sshd_t:s0-s0:c0.c1023 staff 2436  \\_ sshd: staff@pts/2\nstaff_u:staff_r:staff_t:s0      staff     2437        \\_ -bash\n\nAfter:\nsystem_u:system_r:sshd_t:s0-s0:c0.c1023 root 2317 /usr/sbin/sshd -D\nsystem_u:system_r:sshd_t:s0-s0:c0.c1023 root 2361 \\_ sshd: staff [priv]\nstaff_u:staff_r:staff_t:s0      staff     2365      \\_ sshd: staff@pts/2\nstaff_u:staff_r:staff_t:s0      staff     2366        \\_ -bash\n\n--- Additional comment from dwalsh@redhat.com on 2012-01-25 15:29:37 EST ---\n\nCreated attachment 557520\nThis was my latest patch.\n\nNot sure how different this is then yours.  My first patch was too early and caused lots of AVC's as you have seen.\n\n--- Additional comment from dwalsh@redhat.com on 2012-01-25 15:32:25 EST ---\n\nThese are the access I needed to add to make work with a libra user.\n\nallow sshd_t libra_domain:process { transition dyntransition };\nlibra_search_lib(sshd_t)\ndontaudit sshd_t self:capability sys_admin;\nallow libra_domain sshd_t:process sigchld;\nallow libra_domain sshd_t:unix_stream_socket connectto;\nallow sshd_t libra_domain:process { rlimitinh signal };\nmanage_dirs_pattern(sshd_t, libra_tmp_t, libra_tmp_t)\nmanage_sock_files_pattern(sshd_t, libra_tmp_t, libra_tmp_t)\nallow sshd_t libra_tmp_t:dir mounton;\n\nallow libra_t ptmx_t:chr_file { read write };\nallow libra_t sshd_devpts_t:chr_file { read write ioctl open getattr };\nallow libra_t sshd_t:tcp_socket { read write getattr setopt getopt };\nallow libra_t sshd_t:unix_stream_socket { write read };\n\n--- Additional comment from dwalsh@redhat.com on 2012-01-25 15:38:21 EST ---\n\nIt looks like users get all of the access other then the tcp_socket.\n\nNot sure why libra needs \n\nallow libra_t sshd_devpts_t:chr_file { read write ioctl open getattr };\n\nBut the user account does not.\n\n--- Additional comment from mgrepl@redhat.com on 2012-01-26 02:47:47 EST ---\n\nAre you saying to allow tcp_socket AVC msgs?\n\n--- Additional comment from mgrepl@redhat.com on 2012-01-26 07:29:46 EST ---\n\n(In reply to comment #13)\n> Are you saying to allow tcp_socket AVC msgs?\n\nI missed 566d36067b87b6a118fc8ee433968a51501c2454 commit.\n\n--- Additional comment from plautrba@redhat.com on 2012-01-26 11:07:41 EST ---\n\nCreated attachment 557700\ndo not call do_setusercontext() twice\n\nThe latest patch looks good but I get non-fatal AVC:\n\ntype=SYSCALL msg=audit(1327588018.854:570): arch=c000003e syscall=1 success=no exit=-13 a0=4 a1=7f9e2e0be890 a2=1b a3=6e65727275632f72 items=0 ppid=8950 pid=8951 auid=1002 uid=1002 gid=1002 euid=1002 suid=1002 fsuid=1002 egid=1002 sgid=1002 fsgid=1002 tty=(none) ses=22 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=staff_u:staff_r:staff_t:s0 key=(null)\ntype=AVC msg=audit(1327588018.854:570): avc:  denied  { setcurrent } for  pid=8951 comm=''sshd'' scontext=staff_u:staff_r:staff_t:s0 tcontext=staff_u:staff_r:staff_t:s0 tclass=process\n\nThere are 2 do_setusercontext() calls if use_privsep is set. First in  privsep_postauth() in sshd.c and second in do_child() in session.c.\n\nI think that we should avoid calling do_setusercontext() in do_child() if we have already separated privileges.\n\n--- Additional comment from dwalsh@redhat.com on 2012-01-26 13:19:28 EST ---\n\nI agree, This should only be called once.  I would like to get this out to Rawhide to make sure we don't break anything before we go into RHEL6.\n\nI want to see if this works with X Forwarding as well as port forwarding.\n\n--- Additional comment from dwalsh@redhat.com on 2012-01-26 18:05:09 EST ---\n\nPetr could you get a build of this for RHEL6 so the libra guys can use it.  We can debate when to push it to RHEl6 but they need this now. and we can see how well it runs in Rawhide.\n\n--- Additional comment from mgrepl@redhat.com on 2012-01-27 01:28:27 EST ---\n\nPetr is out these days.\n\n--- Additional comment from plautrba@redhat.com on 2012-01-31 09:04:52 EST ---\n\nIt's built in Rawhide now. \n\nSince this version, SELinux sshd_forward_ports boolean has no effect and ssh port forwarding is confined with SELinux users rights.\n\n--- Additional comment from dwalsh@redhat.com on 2012-01-31 09:51:24 EST ---\n\nExcellent, we will remove the boolean.",
          "author": "mgrepl@redhat.com",
          "creation_time": "20120228T12:04:45",
          "bug_id": "798241",
          "creator_id": "269625",
          "time": "20120228T12:04:45",
          "id": "4480294",
          "is_private": "True"
        },
        {
          "count": "1",
          "creator": "mvadkert@redhat.com",
          "text": "Could you please provide testing instructions for this bug?",
          "author": "mvadkert@redhat.com",
          "creation_time": "20120228T12:19:52",
          "bug_id": "798241",
          "creator_id": "271572",
          "time": "20120228T12:19:52",
          "id": "4480314",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "plautrba@redhat.com",
          "text": "This will change behaviour of sshd port forwarding for confined SELinux users in RHEL-6. \nThere is no sshd_forward_ports boolean in the current version and SELinux allows all users to forward ports. But with this change, confined users will be restricted by default.\n\nAlso selinux-policy seems not to be ready for this change:\n\n\ntime->Tue Feb 28 14:46:14 2012\ntype=SYSCALL msg=audit(1330436774.288:392): arch=c000003e syscall=0 success=yes exit=128 a0=3 a1=7fffd66f4610 a2=4000 a3=8 items=0 ppid=8479 pid=8483 auid=501 uid=501 gid=501 euid=501 suid=501 fsuid=501 egid=501 sgid=501 fsgid=501 tty=(none) ses=15 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=staff_u:staff_r:staff_t:s0 key=(null)\ntype=AVC msg=audit(1330436774.288:392): avc:  denied  { read } for  pid=8483 comm=''sshd'' path=''socket:[59795]'' dev=sockfs ino=59795 scontext=staff_u:staff_r:staff_t:s0 tcontext=unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 tclass=tcp_socket\n----\ntime->Tue Feb 28 14:46:14 2012\ntype=SYSCALL msg=audit(1330436774.290:393): arch=c000003e syscall=1 success=yes exit=48 a0=3 a1=7f0f0f1f97c0 a2=30 a3=8 items=0 ppid=8479 pid=8483 auid=501 uid=501 gid=501 euid=501 suid=501 fsuid=501 egid=501 sgid=501 fsgid=501 tty=(none) ses=15 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=staff_u:staff_r:staff_t:s0 key=(null)\ntype=AVC msg=audit(1330436774.290:393): avc:  denied  { write } for  pid=8483 comm=''sshd'' path=''socket:[59795]'' dev=sockfs ino=59795 scontext=staff_u:staff_r:staff_t:s0 tcontext=unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 tclass=tcp_socket\n----\ntime->Tue Feb 28 14:46:14 2012\ntype=SYSCALL msg=audit(1330436774.315:394): arch=c000003e syscall=49 success=yes exit=0 a0=7 a1=7f0f0f1f5d90 a2=10 a3=40 items=0 ppid=8479 pid=8483 auid=501 uid=501 gid=501 euid=501 suid=501 fsuid=501 egid=501 sgid=501 fsgid=501 tty=(none) ses=15 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=staff_u:staff_r:staff_t:s0 key=(null)\ntype=AVC msg=audit(1330436774.315:394): avc:  denied  { name_bind } for  pid=8483 comm=''sshd'' src=6514 scontext=staff_u:staff_r:staff_t:s0 tcontext=system_u:object_r:syslogd_port_t:s0 tclass=tcp_socket\n----\ntime->Tue Feb 28 14:46:14 2012\ntype=SYSCALL msg=audit(1330436774.338:397): arch=c000003e syscall=55 success=yes exit=0 a0=3 a1=6 a2=1 a3=7fffd66f83f4 items=0 ppid=8479 pid=8483 auid=501 uid=501 gid=501 euid=501 suid=501 fsuid=501 egid=501 sgid=501 fsgid=501 tty=(none) ses=15 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=staff_u:staff_r:staff_t:s0 key=(null)\ntype=AVC msg=audit(1330436774.338:397): avc:  denied  { getopt } for  pid=8483 comm=''sshd'' laddr=192.168.122.23 lport=22 faddr=192.168.122.1 fport=42361 scontext=staff_u:staff_r:staff_t:s0 tcontext=unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 tclass=tcp_socket\n----\ntime->Tue Feb 28 14:46:14 2012\ntype=SYSCALL msg=audit(1330436774.338:398): arch=c000003e syscall=54 success=yes exit=0 a0=3 a1=6 a2=1 a3=7fffd66f83f4 items=0 ppid=8479 pid=8483 auid=501 uid=501 gid=501 euid=501 suid=501 fsuid=501 egid=501 sgid=501 fsgid=501 tty=(none) ses=15 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=staff_u:staff_r:staff_t:s0 key=(null)\ntype=AVC msg=audit(1330436774.338:398): avc:  denied  { setopt } for  pid=8483 comm=''sshd'' laddr=192.168.122.23 lport=22 faddr=192.168.122.1 fport=42361 scontext=staff_u:staff_r:staff_t:s0 tcontext=unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 tclass=tcp_socket\n----\ntime->Tue Feb 28 14:46:14 2012\ntype=SYSCALL msg=audit(1330436774.338:399): arch=c000003e syscall=51 success=yes exit=0 a0=3 a1=7fffd66f8380 a2=7fffd66f837c a3=7fffd66f83f4 items=0 ppid=8479 pid=8483 auid=501 uid=501 gid=501 euid=501 suid=501 fsuid=501 egid=501 sgid=501 fsgid=501 tty=(none) ses=15 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=staff_u:staff_r:staff_t:s0 key=(null)\ntype=AVC msg=audit(1330436774.338:399): avc:  denied  { getattr } for  pid=8483 comm=''sshd'' laddr=192.168.122.23 lport=22 faddr=192.168.122.1 fport=42361 scontext=staff_u:staff_r:staff_t:s0 tcontext=unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 tclass=tcp_socket",
          "author": "plautrba@redhat.com",
          "creation_time": "20120228T13:50:56",
          "bug_id": "798241",
          "creator_id": "270148",
          "time": "20120228T13:50:56",
          "id": "4480468",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "mgrepl@redhat.com",
          "text": "Ok, I need to backport some Fedora policy fixes.\n\nBasically the problem is we allow it by default in RHEL6 which I believe is a bug. A user will need to turn on a boolean to make this working with this patch.",
          "author": "mgrepl@redhat.com",
          "creation_time": "20120228T18:27:11",
          "bug_id": "798241",
          "creator_id": "269625",
          "time": "20120228T18:27:11",
          "id": "4481634",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "dwalsh@redhat.com",
          "text": "As long as we do not change the default behaviour for unconfined_t, I am fine with the change.",
          "author": "dwalsh@redhat.com",
          "creation_time": "20120228T19:32:25",
          "bug_id": "798241",
          "creator_id": "81625",
          "time": "20120228T19:32:25",
          "id": "4481810",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "mvadkert@redhat.com",
          "text": "For testing this bug run all available regression tests and check if the child processes now run in context of user:\n\nWith this patch my unprivileged sshd process is running with user context.\n\nBefore:\nsystem_u:system_r:sshd_t:s0-s0:c0.c1023 root 2430 /usr/sbin/sshd -D\nsystem_u:system_r:sshd_t:s0-s0:c0.c1023 root 2432 \\_ sshd: staff [priv]\nsystem_u:system_r:sshd_t:s0-s0:c0.c1023 staff 2436  \\_ sshd: staff@pts/2\nstaff_u:staff_r:staff_t:s0      staff     2437        \\_ -bash\n\nAfter:\nsystem_u:system_r:sshd_t:s0-s0:c0.c1023 root 2317 /usr/sbin/sshd -D\nsystem_u:system_r:sshd_t:s0-s0:c0.c1023 root 2361 \\_ sshd: staff [priv]\nstaff_u:staff_r:staff_t:s0      staff     2365      \\_ sshd: staff@pts/2\nstaff_u:staff_r:staff_t:s0      staff     2366        \\_ -bash\n\nQA_ACK+ for 6.3.\n\nPlease note that this bug depends on SELinux policy fix also - Bug 798534",
          "author": "mvadkert@redhat.com",
          "creation_time": "20120229T08:15:55",
          "bug_id": "798241",
          "creator_id": "271572",
          "time": "20120229T08:15:55",
          "id": "4482913",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "plautrba@redhat.com",
          "text": "Also please test if x11 and port forwarding works for unconfined_t and doesn't work for confined users unless user_tcp_server SELinux boolean is on.",
          "author": "plautrba@redhat.com",
          "creation_time": "20120229T08:44:07",
          "bug_id": "798241",
          "creator_id": "270148",
          "time": "20120229T08:44:07",
          "id": "4482959",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "plautrba@redhat.com",
          "text": "X11 forward and also tcp ports 6000-6150 port forward will work for confined users regardless of user_tcp_server boolean. Ports 6000 - 6150 are labelled as xserver_port_t and users are allowed name_bind on this label",
          "author": "plautrba@redhat.com",
          "creation_time": "20120229T09:55:26",
          "bug_id": "798241",
          "creator_id": "270148",
          "time": "20120229T09:55:26",
          "id": "4483130",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2012:12754-01\nhttp://errata.devel.redhat.com/errata/show/12754",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120229T10:24:31",
          "bug_id": "798241",
          "creator_id": "241731",
          "time": "20120229T10:24:31",
          "id": "4483230",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "plautrba@redhat.com",
          "text": "\n    Technical note added. If any revisions are required, please edit the ''Technical Notes'' field\n    accordingly. All revisions will be proofread by the Engineering Content Services team.\n    \n    New Contents:\nprivsep parent process is now run as the users context instead of sshd_t context.",
          "author": "plautrba@redhat.com",
          "creation_time": "20120427T13:18:20",
          "bug_id": "798241",
          "creator_id": "270148",
          "time": "20120427T13:18:20",
          "id": "4633853",
          "is_private": "False"
        },
        {
          "count": "10",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2012:12754-01: \nhttp://errata.devel.redhat.com/errata/stateview/12754\n\nVERIFIED as fixed openssh-5.3p1-79.el6\nChange aged password now works well with the new package\n\nNEW PACKAGE openssh-5.3p1-79.el6:\n(very long test - only a part is show here)\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Connect user_u -> staff_u and test if can connect, X11 and port forwarding works (except guest_u)\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'useradd -Z user_u sshtest17667'\n:: [   PASS   ] :: Running 'useradd -Z staff_u sshtest31020'\nChanging password for user sshtest17667.\npasswd: all authentication tokens updated successfully.\n:: [   PASS   ] :: Running 'echo sshtest17667 | passwd --stdin sshtest17667'\nChanging password for user sshtest31020.\npasswd: all authentication tokens updated successfully.\n:: [   PASS   ] :: Running 'echo sshtest31020 | passwd --stdin sshtest31020'\nspawn ssh-copy-id sshtest17667@localhost\nsshtest17667@localhost's password: \nNow try logging into the machine, with ''ssh 'sshtest17667@localhost''', and check in:\n\n  .ssh/authorized_keys\n\nto make sure we haven't added extra keys that you weren't expecting.\n\n:: [   PASS   ] :: Running 'ssh_copy_id sshtest17667'\nspawn ssh sshtest17667@localhost\n[sshtest17667@crude ~]$ ssh sshtest31020@localhost\nThe authenticity of host 'localhost (127.0.0.1)' can't be established.\nRSA key fingerprint is da:13:10:ba:9b:9a:cd:ad:2c:bf:dd:c8:29:f4:5b:84.\nAre you sure you want to continue connecting (yes/no)? yes\nWarning: Permanently added 'localhost' (RSA) to the list of known hosts.\nsshtest31020@localhost's password: \n[sshtest31020@crude ~]$ echo CONOK\nCONOK\n[sshtest31020@crude ~]$ exit\nlogout\nConnection to localhost closed.\n[sshtest17667@crude ~]$ exit\nlogout\nConnection to localhost closed.\n:: [14:28:06] :: [ INFO    ] :: rlRun: command = 'ssh_cmd_fromto sshtest17667 sshtest31020 'echo CONOK''; exitcode = 0; expected = 0\n:: [   PASS   ] :: Running 'ssh_cmd_fromto sshtest17667 sshtest31020 'echo CONOK''\nCONOK\n:: [   PASS   ] :: File '/tmp/tmp.1ita3gVB5r' should contain '^CONOK'\n:: [   PASS   ] :: Running 'rm -f /tmp/tmp.1ita3gVB5r'\nspawn ssh sshtest17667@localhost\nLast login: Thu May 10 14:28:06 2012 from localhost\n[sshtest17667@crude ~]$ export DISPLAY=0:0\n[sshtest17667@crude ~]$ ssh -X sshtest31020@localhost\nsshtest31020@localhost's password: \nWarning: No xauth data; using fake authentication data for X11 forwarding.\nLast login: Thu May 10 14:28:06 2012 from localhost\n/usr/bin/xauth:  creating new authority file /home/sshtest31020/.Xauthority\n[sshtest31020@crude ~]$ echo $DISPLAY\nlocalhost:10.0\n[sshtest31020@crude ~]$ exit\nlogout\nConnection to localhost closed.\n[sshtest17667@crude ~]$ exit\nlogout\nConnection to localhost closed.\n:: [14:28:09] :: [ INFO    ] :: rlRun: command = 'ssh_cmd_fromto_x11 sshtest17667 sshtest31020 'echo \\$DISPLAY''; exitcode = 0; expected = 0\n:: [   PASS   ] :: Running 'ssh_cmd_fromto_x11 sshtest17667 sshtest31020 'echo \\$DISPLAY''\nlocalhost:10.0\n:: [   PASS   ] :: File '/tmp/tmp.27WggTa1gj' should contain '^localhost:[0-9]+\\.[0-9]+'\n:: [   PASS   ] :: Running 'rm -f /tmp/tmp.27WggTa1gj'\nspawn ssh sshtest17667@localhost\nLast login: Thu May 10 14:28:09 2012 from localhost\n[sshtest17667@crude ~]$ ssh -L 2242:localhost:80 sshtest31020@localhost\nsshtest31020@localhost's password: \nLast login: Thu May 10 14:28:09 2012 from localhost\n[sshtest31020@crude ~]$ echo HITHERE\nHITHERE\n[sshtest31020@crude ~]$ exit\nlogout\nConnection to localhost closed.\n[sshtest17667@crude ~]$ exit\nlogout\nConnection to localhost closed.\n:: [14:28:12] :: [ INFO    ] :: rlRun: command = 'ssh_forward_fromto sshtest17667 -L sshtest31020 'echo HITHERE''; exitcode = 0; expected = 0\n:: [   PASS   ] :: Running 'ssh_forward_fromto sshtest17667 -L sshtest31020 'echo HITHERE''\nHITHERE\n:: [   PASS   ] :: File '/tmp/tmp.pWN1Gx52WS' should contain '^HITHERE'\n:: [   PASS   ] :: File '/tmp/tmp.pWN1Gx52WS' should not contain '(port forwarding failed|Could not request local forwarding)'\n:: [   PASS   ] :: Running 'rm -f /tmp/tmp.pWN1Gx52WS'\nspawn ssh sshtest17667@localhost\nLast login: Thu May 10 14:28:12 2012 from localhost\n[sshtest17667@crude ~]$ ssh -R 2242:localhost:80 sshtest31020@localhost\nsshtest31020@localhost's password: \nLast login: Thu May 10 14:28:12 2012 from localhost\n[sshtest31020@crude ~]$ echo HITHERE\nHITHERE\n[sshtest31020@crude ~]$ exit\nlogout\nConnection to localhost closed.\n[sshtest17667@crude ~]$ exit\nlogout\nConnection to localhost closed.\n:: [14:28:17] :: [ INFO    ] :: rlRun: command = 'ssh_forward_fromto sshtest17667 -R sshtest31020 'echo HITHERE''; exitcode = 0; expected = 0\n:: [   PASS   ] :: Running 'ssh_forward_fromto sshtest17667 -R sshtest31020 'echo HITHERE''\nHITHERE\n:: [   PASS   ] :: File '/tmp/tmp.Nra9HNQWZb' should contain '^HITHERE'\n:: [   PASS   ] :: File '/tmp/tmp.Nra9HNQWZb' should not contain '(port forwarding failed|Could not request local forwarding)'\n:: [   PASS   ] :: Running 'rm -f /tmp/tmp.Nra9HNQWZb'\n:: [   PASS   ] :: Running 'userdel -rZ sshtest17667'\n:: [   PASS   ] :: Running 'userdel -rZ sshtest31020'\n\n\nOLD PACKAGE openssh-5.3p1-70.el6:\n-> a lot of failures (suppressed)",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120510T12:32:33",
          "bug_id": "798241",
          "creator_id": "241731",
          "time": "20120510T12:32:33",
          "id": "4664402",
          "is_private": "True"
        },
        {
          "count": "11",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHSA-2012-0884.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120620T07:17:31",
          "bug_id": "798241",
          "creator_id": "241731",
          "time": "20120620T07:17:31",
          "id": "4841691",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.3"
      ],
      "cc": [
        "dwalsh@redhat.com",
        "eparis@redhat.com",
        "mgrepl@redhat.com",
        "mmcgrath@redhat.com",
        "mvadkert@redhat.com",
        "plautrba@redhat.com",
        "pvrabec@redhat.com",
        "tmraz@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "798534"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "781634",
      "groups": [
        "devel",
        "qa",
        "redhat",
        "support"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "We are currently running the privsep parent process as sshd_t, I believe we should run this as the users context.",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20120402T09:09:27",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20120229T08:33:34",
          "id": "993145",
          "setter": "mvadkert@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.3.0",
          "modification_date": "20120229T08:21:31",
          "type_id": "276",
          "is_active": "0",
          "creation_date": "20120228T12:08:09",
          "id": "992244",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20120228T12:08:40",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20120228T12:08:09",
          "id": "992245",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20120228T12:21:31",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20120228T12:08:09",
          "id": "992246",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20120229T08:15:55",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20120228T12:08:09",
          "id": "992247",
          "setter": "mvadkert@redhat.com"
        }
      ],
      "last_change_time": "20120620T07:17:31",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509332-WdsofpRscbmfwkvyC4GWCp6gN5tlQmawZ0Wo7a4wA80",
      "cf_partner": [],
      "cf_last_closed": "20120620T07:17:31",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20120403T20:12:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "Patch"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "None",
          "ext_bz_bug_id": "138338",
          "bug_id": "809619",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "69",
          "type": {
            "must_send": "False",
            "description": "TCMS Test Case",
            "url": "https://tcms.engineering.redhat.com",
            "can_get": "False",
            "id": "69",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          },
          "id": "67389"
        },
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00617292",
          "bug_id": "809619",
          "ext_description": "SSH client garbles /etc/issue.net",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "67171"
        }
      ],
      "id": "809619",
      "cf_release_notes": "Cause:  If the ssh server is configured with a banner that contains a \\ (backslash),\r\nthen the client will escape it with another \\, so it prints double backslashes.\r\n\r\nResult: ssh banner is correctly displayed now",
      "priority": "medium",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-76.el6",
      "creator": "jbastian@redhat.com",
      "comments": [
        {
          "count": "0",
          "attachment_id": "574956",
          "author": "jbastian@redhat.com",
          "text": "Created attachment 574956\npatch to fix backslash in ssh banner\n\nDescription of problem:\nIf the ssh server is configured with a banner that contains a \\ (backslash), then the client will escape it with another \\, so it prints double backslashes.\n\nFor example:\n\n[user@localhost ~]$ cat /etc/ssh-banner\nSlash test / \\  EOL\n\n[user@localhost ~]$ ssh localhost\nSlash test / \\\\  EOL\nuser@localhost's password: \n...\n\n\nVersion-Release number of selected component (if applicable):\nopenssh-clients-5.3p1-75.el6\n\nHow reproducible:\nevery time\n\nSteps to Reproduce:\n1. Create /etc/ssh-banner with a backslash in the contents, e.g.\nSlash test / \\  EOL\n\n2. Enable the Banner in /etc/ssh/sshd_config\nBanner /etc/ssh-banner\n\n3. Restart ssh\nservice sshd restart\n\n4. ssh into the system\nssh localhost\n  \nActual results:\ndouble backslashes in banner: Slash test / \\\\  EOL\n\nExpected results:\nsingle backslash in banner: Slash test / \\  EOL\n\nAdditional info:\nFixed upstream with\nhttp://www.openbsd.org/cgi-bin/cvsweb/src/usr.bin/ssh/sshconnect2.c.diff?r1=1.176;r2=1.177",
          "creator": "jbastian@redhat.com",
          "creation_time": "20120403T20:12:45",
          "bug_id": "809619",
          "creator_id": "224771",
          "time": "20120403T20:12:45",
          "id": "4571837",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "jbastian@redhat.com",
          "text": "Test packages with patch from comment 0:\nhttp://download.devel.redhat.com/brewroot/packages/openssh/5.3p1/75.el6.sf00617292/",
          "author": "jbastian@redhat.com",
          "creation_time": "20120403T20:14:45",
          "bug_id": "809619",
          "creator_id": "224771",
          "time": "20120403T20:14:45",
          "id": "4571847",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "mvadkert@redhat.com",
          "text": "QA_ACK for RHEL6.3, test should be very simple, see description for details. This bug is gradeA and should be added to Sanity/various-tests most likely.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20120404T11:30:15",
          "bug_id": "809619",
          "creator_id": "271572",
          "time": "20120404T11:30:15",
          "id": "4572909",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "jbastian@redhat.com",
          "text": "Also, the upstream bug report:\nhttps://bugzilla.mindrot.org/show_bug.cgi?id=1533",
          "author": "jbastian@redhat.com",
          "creation_time": "20120404T12:39:58",
          "bug_id": "809619",
          "creator_id": "224771",
          "time": "20120404T12:39:58",
          "id": "4573066",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2012:12754-01\nhttp://errata.devel.redhat.com/errata/show/12754",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120404T15:21:55",
          "bug_id": "809619",
          "creator_id": "241731",
          "time": "20120404T15:21:55",
          "id": "4573607",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "pbandark@redhat.com",
          "text": "=== In Red Hat Customer Portal Case 00617292 ===\n--- Comment by Bandarkar, Pratik on 4/5/2012 10:33 PM ---\n\nInternal comment:\n---\n\nTest packages works for the customer.\n\n-Pratik.",
          "author": "pbandark@redhat.com",
          "creation_time": "20120405T17:03:23",
          "bug_id": "809619",
          "creator_id": "314131",
          "time": "20120405T17:03:23",
          "id": "4576746",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2012:12754-01: \nhttp://errata.devel.redhat.com/errata/stateview/12754\n\nVERIFIED as fixed in openssh-5.3p1-76.el6\nBanner now correctly displays also backslashes\n\nNEW PACKAGE openssh-5.3p1-76.el6:\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: BZ#809619 - ssh client escapes backslashes in banner\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'echo 'Banner Slash test / \\ !@#$%^&*()_+= EOL' > /etc/ssh_banner'\n:: [   PASS   ] :: Running 'echo 'Banner /etc/ssh_banner' >> /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running 'service sshd restart'\n:: [   PASS   ] :: Running 'ssh_cmd sshtest17831 sshtest17831 exit &> /tmp/tmp.O80sgCoR5K'\n:: [   PASS   ] :: Running 'cat /tmp/tmp.O80sgCoR5K'\n:: [   PASS   ] :: File '/tmp/tmp.O80sgCoR5K' should contain 'Banner Slash test / \\\\ !@#$%^&\\*()_+= EOL'\n:: [   PASS   ] :: Running 'service sshd restart'\n:: [   LOG    ] :: Duration: 2s\n:: [   LOG    ] :: Assertions: 7 good, 0 bad\n:: [   PASS   ] :: RESULT: BZ#809619 - ssh client escapes backslashes in banner\n\n\nOLD PACKAGE openssh-5.3p1-70.el6_2.2:\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: BZ#809619 - ssh client escapes backslashes in banner\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'echo 'Banner Slash test / \\ !@#$%^&*()_+= EOL' > /etc/ssh_banner'\n:: [   PASS   ] :: Running 'echo 'Banner /etc/ssh_banner' >> /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running 'service sshd restart'\n:: [   PASS   ] :: Running 'ssh_cmd sshtest2055 sshtest2055 exit &> /tmp/tmp.fijOIgZAjf'\n:: [   PASS   ] :: Running 'cat /tmp/tmp.fijOIgZAjf'\n:: [   FAIL   ] :: File '/tmp/tmp.fijOIgZAjf' should contain 'Banner Slash test / \\\\ !@#$%^&\\*()_+= EOL' \n:: [   PASS   ] :: Running 'service sshd restart'\n:: [   LOG    ] :: Duration: 2s\n:: [   LOG    ] :: Assertions: 6 good, 1 bad\n:: [   FAIL   ] :: RESULT: BZ#809619 - ssh client escapes backslashes in banner",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120406T11:07:08",
          "bug_id": "809619",
          "creator_id": "241731",
          "time": "20120406T11:07:08",
          "id": "4578064",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "plautrba@redhat.com",
          "text": "\n    Technical note added. If any revisions are required, please edit the ''Technical Notes'' field\n    accordingly. All revisions will be proofread by the Engineering Content Services team.\n    \n    New Contents:\nCause:  If the ssh server is configured with a banner that contains a \\ (backslash),\nthen the client will escape it with another \\, so it prints double backslashes.\n\nResult: ssh banner is correctly displayed now",
          "author": "plautrba@redhat.com",
          "creation_time": "20120427T13:20:10",
          "bug_id": "809619",
          "creator_id": "270148",
          "time": "20120427T13:20:10",
          "id": "4633861",
          "is_private": "False"
        },
        {
          "count": "8",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHSA-2012-0884.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120620T07:17:40",
          "bug_id": "809619",
          "creator_id": "241731",
          "time": "20120620T07:17:40",
          "id": "4841694",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.2"
      ],
      "cc": [
        "mvadkert@redhat.com",
        "pvrabec@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "devel"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "ssh client escapes backslashes in banner",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20120404T11:30:15",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20120404T11:30:15",
          "id": "1020890",
          "setter": "mvadkert@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.3.0",
          "modification_date": "20120404T11:41:19",
          "type_id": "276",
          "is_active": "0",
          "creation_date": "20120404T11:08:08",
          "id": "1020862",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20120404T11:37:40",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20120403T20:12:45",
          "id": "1020619",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20120404T11:09:35",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20120404T11:08:08",
          "id": "1020863",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20120404T11:30:15",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20120404T11:08:08",
          "id": "1020864",
          "setter": "mvadkert@redhat.com"
        }
      ],
      "last_change_time": "20120620T07:17:40",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509332-GoMV5ptuKdOix6OZDuWvUm9OqOvPgY71DVJicfiVnsY",
      "cf_partner": [],
      "cf_last_closed": "20120620T07:17:40",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "200",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20120515T08:24:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "6.4"
      ],
      "external_bugs": [
        {
          "ext_status": "None",
          "ext_bz_bug_id": "167448",
          "bug_id": "821641",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "69",
          "type": {
            "must_send": "False",
            "description": "TCMS Test Case",
            "url": "https://tcms.engineering.redhat.com",
            "can_get": "False",
            "id": "69",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          },
          "id": "80508"
        }
      ],
      "id": "821641",
      "cf_release_notes": "",
      "priority": "medium",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "mvadkert@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "mvadkert@redhat.com",
          "text": "Description of problem:\nAll possible option for the new RequiredAuthentications options need to be documented in the sshd_config manual page.\n\nVersion-Release number of selected component (if applicable):\nopenssh-5.3p1-80.el6\n\nHow reproducible:\n100%\n\nSteps to Reproduce:\n1. man sshd_config\n  \nActual results:\nOptions not documented, only small example available.\n\nExpected results:\nAll options documented in man page",
          "author": "mvadkert@redhat.com",
          "creation_time": "20120515T08:24:41",
          "bug_id": "821641",
          "creator_id": "271572",
          "time": "20120515T08:24:41",
          "id": "4673734",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "mvadkert@redhat.com",
          "text": "Checks for the docs could be added to the RequiredAuthentications sanity test",
          "author": "mvadkert@redhat.com",
          "creation_time": "20120515T08:27:06",
          "bug_id": "821641",
          "creator_id": "271572",
          "time": "20120515T08:27:06",
          "id": "4673740",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "pm-rhel@redhat.com",
          "text": "This request was not resolved in time for the current release.\nRed Hat invites you to ask your support representative to\npropose this request, if still desired, for consideration in\nthe next release of Red Hat Enterprise Linux.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120710T06:26:26",
          "bug_id": "821641",
          "creator_id": "193983",
          "time": "20120710T06:26:26",
          "id": "4885261",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "pm-rhel@redhat.com",
          "text": "This request was erroneously removed from consideration in Red Hat Enterprise Linux 6.4, which is currently under development.  This request will be evaluated for inclusion in Red Hat Enterprise Linux 6.4.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120711T01:45:33",
          "bug_id": "821641",
          "creator_id": "193983",
          "time": "20120711T01:45:33",
          "id": "4890539",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "ksrot@redhat.com",
          "text": "qa_ack+ for 6.4",
          "author": "ksrot@redhat.com",
          "creation_time": "20120730T14:12:09",
          "bug_id": "821641",
          "creator_id": "286283",
          "time": "20120730T14:12:09",
          "id": "4929272",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2012:14032-01\nhttp://errata.devel.redhat.com/errata/show/14032",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20121009T16:37:55",
          "bug_id": "821641",
          "creator_id": "241731",
          "time": "20121009T16:37:55",
          "id": "5098121",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2012:14032-01: \nhttp://errata.devel.redhat.com/errata/stateview/14032\n\nSuccessfully reproduced and verified via an automatic test on all relevant architectures.\n\nhttps://beaker.engineering.redhat.com/tasks/executed?job_id=334514&job_id=335902&task=/CoreOS/openssh/Sanity/bz657378-RequiredAuthentications",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20121119T16:13:10",
          "bug_id": "821641",
          "creator_id": "241731",
          "time": "20121119T16:13:10",
          "id": "5211435",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHSA-2013-0519.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20130221T10:27:50",
          "bug_id": "821641",
          "creator_id": "241731",
          "time": "20130221T10:27:50",
          "id": "5529758",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.3"
      ],
      "cc": [
        "jjaburek@redhat.com",
        "pvrabec@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "jjaburek@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "Document possible options to RequiredAuthentications1/2",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20120515T08:24:41",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20120515T08:24:41",
          "id": "1049188",
          "setter": "mvadkert@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.4.0",
          "modification_date": "20120730T14:24:50",
          "type_id": "326",
          "is_active": "0",
          "creation_date": "20120515T08:24:41",
          "id": "1049189",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20120716T22:17:08",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20120515T08:24:41",
          "id": "1049190",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20120730T12:49:24",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20120515T08:24:41",
          "id": "1049191",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20120730T14:12:09",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20120515T08:24:41",
          "id": "1049192",
          "setter": "ksrot@redhat.com"
        }
      ],
      "last_change_time": "20130221T10:27:50",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509332-oq4UiIQR2u9x0s7lmfNGBDRffFqfo531Kps_x2ynvdc",
      "cf_partner": [],
      "cf_last_closed": "20130221T10:27:50",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "1100",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20120517T22:19:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00572436",
          "bug_id": "822721",
          "ext_description": "RHEl6.1 sftp logging for chrooted users",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "69763"
        }
      ],
      "id": "822721",
      "cf_release_notes": "",
      "priority": "medium",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "bmason@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "bmason@redhat.com",
          "text": "Description of problem:\n\n   In order to log sftp transfers in a chrooted sftp environment\n   /dev/log must be created in the chrooted sftp environment.\n   \nVersion-Release number of selected component (if applicable):\n\n   openssh-5.3p1-52.el6_1.2\n\nHow reproducible:\n\n   100%\n\nSteps to Reproduce:\n\n1. Configure the system for users who will only be allowed to \n   use sftp in a chroot:\n\n   On server:\n\n      [root@sf00572436 ~]# diff -u /etc/ssh/sshd_config.o /etc/ssh/sshd_config\n      --- /etc/ssh/sshd_config.o\t2012-03-19 17:26:50.000000000 -0700\n      +++ /etc/ssh/sshd_config\t2012-03-20 08:50:04.000000000 -0700\n      @@ -129,10 +130,21 @@\n      #Banner none\n \n       # override default of no subsystems\n      -Subsystem\tsftp\t/usr/libexec/openssh/sftp-server\n      +#Subsystem\tsftp\t/usr/libexec/openssh/sftp-server\n      +Subsystem\tsftp\tinternal-sftp -f AUTHPRIV -l VERBOSE\n \n       # Example of overriding settings on a per-user basis\n       #Match User anoncvs\n       #\tX11Forwarding no\n       #\tAllowTcpForwarding no\n       #\tForceCommand cvs server\n      +\n      +Match Group sftponly\n      +\tChrootDirectory /chroots/%u\n      +\tAllowTcpForwarding no\n      +\tForceCommand internal-sftp -f AUTHPRIV -l VERBOSE\n      +\tX11Forwarding no\n      +\n\n      [root@sf00572436 ~]# service sshd restart\n      Stopping sshd:                                             [  OK  ]\n      Starting sshd:                                             [  OK  ]\n\n      [root@sf00572436 ~]# groupadd sftponly\n      [root@sf00572436 ~]# useradd -G sftponly sftponlyuser\n\n      [root@sf00572436 ~]# passwd sftponlyuser\n      Changing password for user sftponlyuser.\n      New password: \n      BAD PASSWORD: it is based on a dictionary word\n      BAD PASSWORD: is too simple\n      Retype new password: \n      passwd: all authentication tokens updated successfully.\n\n   On client:\n\n      [bjmason@bjmason ~]$ sftp sftponlyuser@sf00572436-hex.usersys.redhat.com\n      sftponlyuser@sf00572436-hex.usersys.redhat.com's password: \n      Connected to sf00572436-hex.usersys.redhat.com.\n      sftp> ls /\n      sftp> ^D\n\nActual results:\n\n   In the server's /var/log/secure (time, hostname, and PID clipped\n   for brevity):\n\n      Accepted password for sftponlyuser from 10.14.16.129 port 43612 ssh2\n      pam_unix(sshd:session): session opened for user sftponlyuser by (uid=0)\n      subsystem request for sftp\n      Received disconnect from 10.14.16.129: 11: disconnected by user\n      pam_unix(sshd:session): session closed for user sftponlyuser\n\nExpected results:\n\n   The server's /var/log/secure should contain:\n\n      Accepted password for sftponlyuser from 10.14.16.129 port 43969 ssh2\n      pam_unix(sshd:session): session opened for user sftponlyuser by (uid=0)\n      subsystem request for sftp\n->    ssh_selinux_change_context: getcon failed with No such file or directory\n->    session opened for local user sftponlyuser from [10.14.16.129]\n->    received client version 3\n->    realpath ''.''\n->    lstat name ''/''\n->    opendir ''/''\n->    closedir ''/''\n->    session closed for local user sftponlyuser from [10.14.16.129]\n      Received disconnect from 10.14.16.129: 11: disconnected by user\n      pam_unix(sshd:session): session closed for user sftponlyuser\n\n   Note the additional log entries prefixed with ''->''\n\nAdditional info:\n\n   The patch openssh-5.1p1-log-in-chroot.patch was supposed to address\n   this problem, but it has two problems:\n\n    * The use of the following code:\n\n         temp1 = open(''/dev/null'', O_RDONLY);\n         openlog(argv0 ? argv0 : __progname, LOG_PID|LOG_NDELAY, log_facility);\n         temp2 = open(''/dev/null'', O_RDONLY);\n         if (temp1 + 2 ==  temp2)\n                 log_fd_keep = temp1 + 1;\n         else \n                 log_fd_keep = -1;\n     \n         if (temp1 != -1)\n                 close(temp1);\n         if (temp2 != -1)\n                 close(temp2);\n\n      in open_log() to try and determine which fd is opened on\n      /dev/log is unrelable.  There's no guarantee that the three\n      files opened will have sequential file descriptors.  This can be\n      seen in the following strace snippet:\n\n         # strace -ff -e trace=open -p 29409\n         Process 29409 attached - interrupt to quit\n\n      Before the password is entered, open_log() is called from\n      privsep_preauth_child() and the scheme works:\n      \n         Process 29692 attached\n         Process 29693 attached\n         [pid 29693] open(''/dev/null'', O_RDONLY) = 6\n         [pid 29693] open(''/dev/null'', O_RDONLY) = 8\n\n      After the password is entered, open_log() is called from\n      safely_chroot(), and the scheme fails:\n\n         Process 29717 attached\n         [pid 29717] open(''/dev/null'', O_RDONLY) = 4\n         [pid 29717] open(''/dev/null'', O_RDONLY) = 7\n\n    * Even if log_fd_keep could be properly determined, the call to\n      closefrom() in do_child() would close the fd used for logging.\n\n   Of the two problems, the second one is almost trivial to solve by\n   changing the call to closefrom() from:\n\n      closefrom(STDERR_FILENO + 1);\n\n   to\n\n      closefrom(log_fd_keep == -1 ? STDERR_FILENO + 1 : log_fd_keep + 1);\n\n   The first problem is considerably more difficult to solve, I\n   believe.  I've tried a couple different things, but nothing has\n   worked.  Upstream seems to have gone in a different direction:\n\n      https://bugzilla.mindrot.org/show_bug.cgi?id=1636",
          "author": "bmason@redhat.com",
          "creation_time": "20120517T22:19:39",
          "bug_id": "822721",
          "creator_id": "184677",
          "time": "20120517T22:19:39",
          "id": "4681862",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "jwest@redhat.com",
          "text": "Bryan,\n\nI know you took the time to file this bug report (as it is very much a valid bug), however we have limited resources for addressing the customer bug backlog and I'd like to make sure we prioritize and focus on the active customer bugs.  From reading the case, it appears the customer isn't interested in a resolution on this. Therefore I'm going to actually close this bug report out.  If we have additional customers trigger this bug, we can reopen this and revisit getting this fixed.",
          "author": "jwest@redhat.com",
          "creation_time": "20120625T15:59:11",
          "bug_id": "822721",
          "creator_id": "194553",
          "time": "20120625T15:59:11",
          "id": "4857508",
          "is_private": "True"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.4"
      ],
      "cc": [
        "jwest@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "836160"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [
        "https://bugzilla.redhat.com/show_bug.cgi?id=872169"
      ],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "devel"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "/dev/log needed in chroot directory for chrooted sftp",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.4.0",
          "modification_date": "20120517T22:19:39",
          "type_id": "326",
          "is_active": "0",
          "creation_date": "20120517T22:19:39",
          "id": "1051405",
          "setter": "bmason@redhat.com"
        },
        {
          "status": "?",
          "name": "pm_ack",
          "modification_date": "20120517T22:36:42",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20120517T22:36:42",
          "id": "1051407",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20121101T12:55:13",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509332-LrEMoYQXerRAANZody2clJ3XeDezHMTqXPCfPmNPX5E",
      "cf_partner": [],
      "cf_last_closed": "20120625T15:59:11",
      "resolution": "WONTFIX",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "1100",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20120530T20:31:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "None",
          "ext_bz_bug_id": "63129",
          "bug_id": "826720",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "72",
          "type": {
            "must_send": "False",
            "description": "Red Hat Knowledge Base (Solution)",
            "url": "https://access.redhat.com/site/",
            "can_get": "False",
            "id": "72",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://access.redhat.com/site/solutions/%id%"
          },
          "id": "76673"
        },
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00676046",
          "bug_id": "826720",
          "ext_description": "[bz] sshd initscript clobbers other sshd processes",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "72880"
        },
        {
          "ext_status": "None",
          "ext_bz_bug_id": "45160",
          "bug_id": "826720",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "69",
          "type": {
            "must_send": "False",
            "description": "TCMS Test Case",
            "url": "https://tcms.engineering.redhat.com",
            "can_get": "False",
            "id": "69",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          },
          "id": "80570"
        }
      ],
      "id": "826720",
      "cf_release_notes": "",
      "priority": "medium",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "rick.houser@us.pgds.com",
      "comments": [
        {
          "count": "0",
          "creator": "rick.houser@us.pgds.com",
          "text": "Description of problem: Initscript clobbers other sshd processes.  Please note that this is NOT the same issue as 698777, as we are already running seperate pid files.  The problem is that the existing initscript doesn't use them.\n\n\nVersion-Release number of selected component (if applicable): openssh-server-5.3p1-70.el6_2.2.x86_64\n\n\nHow reproducible: Completely\n\n\nSteps to Reproduce:\n1. Create a second sshd instance listening on a different port (ex. copy the sshd initscript, call it ''sshd_alt'' or something, then change the pid name, config files, make sure it uses -f to talk to a secondary config file, etc).\n2. Copy sshd_config to'' sshd_config_alt'' or something (match the earlier step).\n3. Start both instances.\n4. Stop one of the instances (ex. the original one).\n  \nActual results:\n\nThe secondary instance is stopped.  The primary might stop too, but I didn't check.\n\n\nExpected results:\n\nOnly the instance that corresponds with the initscript should stop.\n\n\nAdditional info:\n\nThe initscript does unsafe things that interfere with other ssh daemons, like this:\n\n            killproc $SSHD\n\nThe PID file is already available as a variable, so the killproc should probably look something like this:\n\n            killproc -p $PID_FILE $SSHD\n \nIt looks like a similar problem may be affecting the configuration validation, etc.",
          "author": "rick.houser@us.pgds.com",
          "creation_time": "20120530T20:31:10",
          "bug_id": "826720",
          "creator_id": "332143",
          "time": "20120530T20:31:10",
          "id": "4709166",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120530T20:45:18",
          "bug_id": "826720",
          "creator_id": "193983",
          "time": "20120530T20:45:18",
          "id": "4709203",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "ksrot@redhat.com",
          "text": "qa_ack+ for 6.4",
          "author": "ksrot@redhat.com",
          "creation_time": "20120731T12:30:10",
          "bug_id": "826720",
          "creator_id": "286283",
          "time": "20120731T12:30:10",
          "id": "4931637",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "pattonme@yahoo.com",
          "text": "The init script needs a complete rethink and rewrite. All variables moved to /etc/sysconfig/`basename $0`, variables derived dynamically from /etc/ssh/sshd_config or other specified file, etc.",
          "author": "pattonme@yahoo.com",
          "creation_time": "20120830T06:25:12",
          "bug_id": "826720",
          "creator_id": "192333",
          "time": "20120830T06:25:12",
          "id": "5006524",
          "is_private": "False"
        },
        {
          "count": "4",
          "attachment_id": "624155",
          "author": "plautrba@redhat.com",
          "text": "Created attachment 624155\nfixed sshd.init\n\nThis is fixed sshd.init using ''killproc -p $PID_FILE $SSHD''. It's also slightly changed to simplify process of creating multiple sshd instances. Following steps should work to setup a second sshd instance on the port 2222:\n\n# cp /etc/init.d/sshd /etc/init.d/sshd-second\n# cp /etc/sysconfig/sshd /etc/sysconfig/sshd-second\n# echo 'OPTIONS=''-f /etc/ssh/sshd_config-second -p 2222 -o PidFile=/var/run/sshd-second.pid''' >> /etc/sysconfig/sshd-second\n\n(plus some SELinux changes)",
          "creator": "plautrba@redhat.com",
          "creation_time": "20121009T15:38:57",
          "bug_id": "826720",
          "creator_id": "270148",
          "time": "20121009T15:38:57",
          "id": "5097936",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "plautrba@redhat.com",
          "text": "> # echo 'OPTIONS=''-f /etc/ssh/sshd_config-second -p 2222 -o\n> PidFile=/var/run/sshd-second.pid''' >> /etc/sysconfig/sshd-second\n\nIf you use -f /etc/ssh/sshd_config-second then you also need to change SSHD_CONFIG variable in the new sshd-secong initscript",
          "author": "plautrba@redhat.com",
          "creation_time": "20121009T15:43:38",
          "bug_id": "826720",
          "creator_id": "270148",
          "time": "20121009T15:43:38",
          "id": "5097961",
          "is_private": "False"
        },
        {
          "count": "6",
          "attachment_id": "624155",
          "author": "plautrba@redhat.com",
          "text": "Comment on attachment 624155\nfixed sshd.init\n\nThis initscript is wrong.\nStarting S15sshd: [  OK  ]",
          "creator": "plautrba@redhat.com",
          "creation_time": "20121009T16:16:25",
          "bug_id": "826720",
          "creator_id": "270148",
          "time": "20121009T16:16:25",
          "id": "5098074",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "plautrba@redhat.com",
          "text": "> The initscript does unsafe things that interfere with other ssh daemons,\n> like this:\n> \n>             killproc $SSHD\n> \n> The PID file is already available as a variable, so the killproc should\n> probably look something like this:\n> \n>             killproc -p $PID_FILE $SSHD\n\nwill be fixed in next release. Thanks.\n\n>  \n> It looks like a similar problem may be affecting the configuration\n> validation, etc.\n\n(In reply to comment #3)\n> The init script needs a complete rethink and rewrite. All variables moved to\n> /etc/sysconfig/`basename $0`, variables derived dynamically from\n> /etc/ssh/sshd_config or other specified file, etc.\n\n\nThis would need big change with high regression risc, bugs and so, see my comment #c6. This \nscripts hasn't been supposed to be used in multinstance environment. I won't do this. \nSorry. \n\nPlease fix your sshd.init copies to avoid problems with configuration validation, sysconfig file and so.",
          "author": "plautrba@redhat.com",
          "creation_time": "20121010T14:53:58",
          "bug_id": "826720",
          "creator_id": "270148",
          "time": "20121010T14:53:58",
          "id": "5101929",
          "is_private": "False"
        },
        {
          "count": "8",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2012:14032-01\nhttp://errata.devel.redhat.com/errata/show/14032",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20121010T14:59:10",
          "bug_id": "826720",
          "creator_id": "241731",
          "time": "20121010T14:59:10",
          "id": "5101952",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "jjaburek@redhat.com",
          "text": "My original comment:\n\nNote for QE:\nIf the fix for this bug is going to be a rewritten initscript, then I'll make a more generic sanity test for it, with a check for old version (and fail) as a regression test part.\n\nI've been able to reproduce this bug, but with heavy environment modifications, which would be impossible to apply to the new environment without adjustments (thus defeating the purpose of the test).\nIe. initscript modification via `sed', tailored for the old version, would just damage the new version.\n\nIs running multiple sshd instances going to be documented somewhere?\n\nJiri\n\n================================\n\nWith newly added comment 7, I presume the rewrite is not planned.\n\nShould I understand ''hasn't been supposed to be used in multinstance environment'' as ''not supported'', with a sanity test for that, hacking various config places, being rather useless?\n\nIt otherwise boils down to a oneline change.",
          "author": "jjaburek@redhat.com",
          "creation_time": "20121010T15:09:15",
          "bug_id": "826720",
          "creator_id": "327802",
          "time": "20121010T15:09:15",
          "id": "5102010",
          "is_private": "True"
        },
        {
          "count": "10",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2012:14032-01: \nhttp://errata.devel.redhat.com/errata/stateview/14032\n\nSuccessfully reproduced and verified via an automatic test on all relevant architectures.\n\nhttps://beaker.engineering.redhat.com/tasks/executed?job_id=334514&job_id=335902&task=/CoreOS/openssh/Sanity/init-scripts-LSB",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20121119T16:13:13",
          "bug_id": "826720",
          "creator_id": "241731",
          "time": "20121119T16:13:13",
          "id": "5211436",
          "is_private": "True"
        },
        {
          "count": "11",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHSA-2013-0519.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20130221T10:27:53",
          "bug_id": "826720",
          "creator_id": "241731",
          "time": "20130221T10:27:53",
          "id": "5529759",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.2"
      ],
      "cc": [
        "jbastian@redhat.com",
        "jjaburek@redhat.com",
        "pattonme@yahoo.com",
        "pvrabec@redhat.com",
        "syeghiay@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "782183",
        "836160",
        "840699"
      ],
      "qa_contact": "jjaburek@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "sshd initscript clobbers other sshd processes.",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20121011T15:42:13",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20120731T12:35:36",
          "id": "1108989",
          "setter": "jjaburek@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.4.0",
          "modification_date": "20120731T12:42:38",
          "type_id": "326",
          "is_active": "0",
          "creation_date": "20120530T20:53:12",
          "id": "1060598",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20120716T22:17:06",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20120530T20:57:38",
          "id": "1060600",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20120731T09:34:46",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20120710T04:11:34",
          "id": "1089731",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20120731T12:30:10",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20120710T05:16:53",
          "id": "1091266",
          "setter": "ksrot@redhat.com"
        }
      ],
      "last_change_time": "20130221T10:27:53",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509333-UOuhqKdH4R7YL8uMTywCmrhmVtODIhUw0209MTkETN0",
      "cf_partner": [],
      "cf_last_closed": "20130221T10:27:53",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "1700",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20130117T14:29:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "6.5"
      ],
      "external_bugs": [
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00749679",
          "bug_id": "896561",
          "ext_description": "ssh-agent hangs when ssh'ing to hundreds of boxes",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "87584"
        }
      ],
      "id": "896561",
      "cf_release_notes": "Cause: \r\nA race condition in ssh-agent caused that ssh-agents hanged with no reponse.\r\nConsequence: \r\nssh-agent couldn't open more connections and spinned forever.\r\nFix: \r\nThe race condition has been fixed.\r\nResult:",
      "priority": "medium",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "dsulliva@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "dsulliva@redhat.com",
          "text": "Description of problem:\n\nFound that ssh-agent hangs (100% cpu and no response) when sshing out to hundreds of boxes in rapid succession.   The scenerio matches this case exactly:\n\nhttp://lists.mindrot.org/pipermail/openssh-bugs/2009-August/007907.html\n\nSee tons of open connections to its unix socket - and then eventually the strace shows that it cannot open more connections and spins forever.\n\nhttps://bugzilla.mindrot.org/show_bug.cgi?id=1633\n\n\nVersion-Release number of selected component (if applicable):\n\n\nHow reproducible:\n\n\nSteps to Reproduce:\n1.\n2.\n3.\n  \nActual results:\n\n\nExpected results:\n\n\nAdditional info:",
          "author": "dsulliva@redhat.com",
          "creation_time": "20130117T14:29:57",
          "bug_id": "896561",
          "creator_id": "254481",
          "time": "20130117T14:29:57",
          "id": "5379728",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this bug report was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20130117T14:42:18",
          "bug_id": "896561",
          "creator_id": "193983",
          "time": "20130117T14:42:18",
          "id": "5379809",
          "is_private": "True"
        },
        {
          "count": "2",
          "attachment_id": "684368",
          "author": "plautrba@redhat.com",
          "text": "Created attachment 684368\nopenssh-5.3-ssh-agent-fix-race.patch",
          "creator": "plautrba@redhat.com",
          "creation_time": "20130121T15:13:13",
          "bug_id": "896561",
          "creator_id": "270148",
          "time": "20130121T15:13:13",
          "id": "5435567",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "lsmid@redhat.com",
          "text": "Since the release flag was set to ? after the pm_ack and devel_ack flags were set to + (was likely set for the previous release), the pm_ack and devel_ack flags have been reset to ? by the bugbot (pm-rhel). This action ensures the proper review by Product Management.",
          "author": "lsmid@redhat.com",
          "creation_time": "20130307T18:18:37",
          "bug_id": "896561",
          "creator_id": "197253",
          "time": "20130307T18:18:37",
          "id": "5579597",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "dsulliva@redhat.com",
          "text": "Customer confirmed patch works",
          "author": "dsulliva@redhat.com",
          "creation_time": "20130319T22:26:04",
          "bug_id": "896561",
          "creator_id": "254481",
          "time": "20130319T22:26:04",
          "id": "5613241",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "ksrot@redhat.com",
          "text": "Hi,\ndid anybody succeeded in reproducing this bug ''in house''? Thank you.",
          "author": "ksrot@redhat.com",
          "creation_time": "20130521T09:21:11",
          "bug_id": "896561",
          "creator_id": "286283",
          "time": "20130521T09:21:11",
          "id": "5934762",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "ksrot@redhat.com",
          "text": "qa_ack+ for 6.5, \n\nWe may not be able to reproduce the bug and therefore properly test it but since the patch has been adopted upstream and also confirmed by the customer I am willing to ACK it for 6.5. \nIf we won't be able to reproduce the bug it will be processed as SanityOnly. \n\n@QE: Please, ensure that similar scenario (ssh-agent and a lot of connections) is covered by a (sanity) test.",
          "author": "ksrot@redhat.com",
          "creation_time": "20130527T15:59:22",
          "bug_id": "896561",
          "creator_id": "286283",
          "time": "20130527T15:59:22",
          "id": "5952850",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "lbailey@redhat.com",
          "text": "Marking with docs_scoped- as this bug should not affect any of the following guides for RHEL 6.5:\n* Performance Tuning Guide\n* Migration Planning Guide\n* Storage Administration Guide\n* SystemTap Tapset Reference\n* SystemTap Beginners Guide\n* Developer Guide",
          "author": "lbailey@redhat.com",
          "creation_time": "20130603T01:01:10",
          "bug_id": "896561",
          "creator_id": "278466",
          "time": "20130603T01:01:10",
          "id": "5970342",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "dsulliva@redhat.com",
          "text": "Karel, I never tried to attempt to reproduce this in house, seemingly too hard to try to aquire a bunch of systems to test with.\n\nAnyway this customer who found this issue does a really good job with validating fixes, they tested before the patch and things didn't work, then same test with the patch and things were sucessful, so I'm fairly comformtable with the SanityOnly approach.\n\nNot that it matters but wanted to mention this.\n\n-Dave",
          "author": "dsulliva@redhat.com",
          "creation_time": "20130603T13:14:38",
          "bug_id": "896561",
          "creator_id": "254481",
          "time": "20130603T13:14:38",
          "id": "5972381",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2013:15245-01\nhttp://errata.devel.redhat.com/errata/show/15245",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20130712T10:37:33",
          "bug_id": "896561",
          "creator_id": "241731",
          "time": "20130712T10:37:33",
          "id": "6103787",
          "is_private": "True"
        },
        {
          "count": "10",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHSA-2013:15245-03: \nChanged by: Lukas Novy (lnovy@redhat.com)\nhttp://errata.devel.redhat.com/advisory/15245\n\nSanityOnly VERIFIED.\nThe patch is applied correctly and by reviewing the source code I agree that the patch is fixing the issue in every scenario I can think of.\n\nAutomated testing would be very difficult here as the race is dependant on network sockets operations latencies and behaving of the malloc/free implementation.",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20131024T09:02:10",
          "bug_id": "896561",
          "creator_id": "241731",
          "time": "20131024T09:02:10",
          "id": "6452991",
          "is_private": "True"
        },
        {
          "count": "11",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHSA-2013-1591.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20131121T09:44:33",
          "bug_id": "896561",
          "creator_id": "241731",
          "time": "20131121T09:44:33",
          "id": "6542256",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.3"
      ],
      "cc": [
        "ebenes@redhat.com",
        "ksrot@redhat.com",
        "lnovy@redhat.com",
        "pvrabec@redhat.com"
      ],
      "cf_verified": [
        "SanityOnly"
      ],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "947775",
        "960054"
      ],
      "qa_contact": "lnovy@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "citadel",
        "redhat"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "ssh-agent hangs when ssh'ing to hundreds of boxes",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "-",
          "name": "qe_test_coverage",
          "modification_date": "20130909T14:58:52",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20130527T15:59:22",
          "id": "1356858",
          "setter": "lnovy@redhat.com"
        },
        {
          "status": "?",
          "name": "requires_doc_text",
          "modification_date": "20131025T09:02:55",
          "type_id": "415",
          "is_active": "1",
          "creation_date": "20131025T09:02:55",
          "id": "1563375",
          "setter": "plautrba@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.5.0",
          "modification_date": "20130527T16:03:58",
          "type_id": "361",
          "is_active": "0",
          "creation_date": "20130121T15:15:27",
          "id": "1242951",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20130506T20:37:29",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20130117T14:56:22",
          "id": "1240856",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20130517T13:34:47",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20130117T14:56:46",
          "id": "1240860",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20130527T15:59:22",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20130117T14:57:06",
          "id": "1240863",
          "setter": "ksrot@redhat.com"
        }
      ],
      "last_change_time": "20140218T23:56:31",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509333-zTUWgUDtmy77PjDiSi-Pf2igPDzmfS-8WBLf4YbViyc",
      "cf_partner": [],
      "cf_last_closed": "20131121T09:44:33",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "200",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20130315T09:59:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "921935",
      "cf_release_notes": "",
      "priority": "medium",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "zsun@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "zsun@redhat.com",
          "text": "Description of problem:\nGot 'ssh_exchange_identification: Connection closed by remote host' when ssh to the FIPS vm which have setup for more than 1 hour.\n\nVersion-Release number of selected component (if applicable):\nRHEL6.4 with 2.6.32-358.el6.x86_64\n\n[root@dhcp-66-78-39 ~]# rpm -qa |grep openssh\nopenssh-server-5.3p1-84.1.el6.x86_64\nopenssh-clients-5.3p1-84.1.el6.x86_64\nopenssh-5.3p1-84.1.el6.x86_64\n\n\nHow reproducible:\nAlways\n\nSteps to Reproduce:\n1.Setup RHEL6.4 vm\n2.Enable FIPS and reboot as the guide said (https://access.redhat.com/knowledge/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Security_Guide/sect-Security_Guide-Federal_Standards_And_Regulations-Federal_Information_Processing_Standard.html).\n3.ssh into the vm(and it'll succeed)\n4.Wait for more than an hour\n5.ssh into the vm again\n  \nActual results:\nssh_exchange_identification: Connection closed by remote host\n\nExpected results:\nSSH succeed\n\nAdditional info:\n[sztsian@zitsian-sun ~]$ ssh root@10.66.9.104  -vvv\nOpenSSH_5.3p1, OpenSSL 1.0.0-fips 29 Mar 2010\ndebug1: Reading configuration data /etc/ssh/ssh_config\ndebug1: Applying options for *\ndebug2: ssh_connect: needpriv 0\ndebug1: Connecting to 10.66.9.104 [10.66.9.104] port 22.\ndebug1: Connection established.\ndebug1: identity file /home/sztsian/.ssh/identity type -1\ndebug3: Not a RSA1 key file /home/sztsian/.ssh/id_rsa.\ndebug2: key_type_from_name: unknown key type '-----BEGIN'\ndebug3: key_read: missing keytype\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug3: key_read: missing whitespace\ndebug2: key_type_from_name: unknown key type '-----END'\ndebug3: key_read: missing keytype\ndebug1: identity file /home/sztsian/.ssh/id_rsa type 1\ndebug1: identity file /home/sztsian/.ssh/id_dsa type -1\nssh_exchange_identification: Connection closed by remote host\n\nat the same time :\n\n[root@dhcp-66-78-39 log]# tail -f /var/log/*\n\n==> messages <==\nMar 15 05:25:31 dhcp-66-78-39 abrtd: Directory 'ccpp-2013-03-15-05:25:31-22544' creation detected\nMar 15 05:25:31 dhcp-66-78-39 abrt[22545]: Saved core dump of pid 22544 (/usr/sbin/sshd) to /var/spool/abrt/ccpp-2013-03-15-05:25:31-22544 (999424 bytes)\nMar 15 05:25:31 dhcp-66-78-39 abrt: detected unhandled Python exception in '/usr/sbin/sosreport'\nMar 15 05:25:31 dhcp-66-78-39 abrtd: New client connected\nMar 15 05:25:31 dhcp-66-78-39 abrtd: Directory 'pyhook-2013-03-15-05:25:31-22554' creation detected\nMar 15 05:25:31 dhcp-66-78-39 abrt-server[22555]: Saved Python crash dump of pid 22554 to /var/spool/abrt/pyhook-2013-03-15-05:25:31-22554\nMar 15 05:25:31 dhcp-66-78-39 abrtd: sosreport run failed with exit code 1, log follows:\nMar 15 05:25:31 dhcp-66-78-39 abrtd: Traceback (most recent call last):\nMar 15 05:25:31 dhcp-66-78-39 abrtd:   File ''/usr/sbin/sosreport'', line 18, in <module>\nMar 15 05:25:31 dhcp-66-78-39 abrtd:     from sos.sosreport import sosreport, doExitCode\nMar 15 05:25:31 dhcp-66-78-39 abrtd:   File ''/usr/lib/python2.6/site-packages/sos/sosreport.py'', line 40, in <module>\nMar 15 05:25:31 dhcp-66-78-39 abrtd:     import sos.policyredhat\nMar 15 05:25:31 dhcp-66-78-39 abrtd:   File ''/usr/lib/python2.6/site-packages/sos/policyredhat.py'', line 27, in <module>\nMar 15 05:25:31 dhcp-66-78-39 abrtd:     import hashlib\nMar 15 05:25:31 dhcp-66-78-39 abrtd:   File ''/usr/lib64/python2.6/hashlib.py'', line 101, in <module>\nMar 15 05:25:31 dhcp-66-78-39 abrtd:     f(usedforsecurity=False)\nMar 15 05:25:31 dhcp-66-78-39 abrtd: ValueError: error:2D07D06A:FIPS routines:EVP_DigestInit_ex:fips selftest failed\nMar 15 05:25:31 dhcp-66-78-39 abrtd: 'post-create' on '/var/spool/abrt/ccpp-2013-03-15-05:25:31-22544' exited with 1\nMar 15 05:25:31 dhcp-66-78-39 abrtd: Corrupted or bad directory '/var/spool/abrt/ccpp-2013-03-15-05:25:31-22544', deleting\nMar 15 05:25:32 dhcp-66-78-39 abrt: detected unhandled Python exception in '/usr/sbin/sosreport'\nMar 15 05:25:32 dhcp-66-78-39 abrtd: New client connected\nMar 15 05:25:32 dhcp-66-78-39 abrt-server[22569]: Not saving repeating crash in '/usr/sbin/sosreport'\nMar 15 05:25:32 dhcp-66-78-39 abrtd: sosreport run failed with exit code 1, log follows:\nMar 15 05:25:32 dhcp-66-78-39 abrtd: Traceback (most recent call last):\nMar 15 05:25:32 dhcp-66-78-39 abrtd:   File ''/usr/sbin/sosreport'', line 18, in <module>\nMar 15 05:25:32 dhcp-66-78-39 abrtd:     from sos.sosreport import sosreport, doExitCode\nMar 15 05:25:32 dhcp-66-78-39 abrtd:   File ''/usr/lib/python2.6/site-packages/sos/sosreport.py'', line 40, in <module>\nMar 15 05:25:32 dhcp-66-78-39 abrtd:     import sos.policyredhat\nMar 15 05:25:32 dhcp-66-78-39 abrtd:   File ''/usr/lib/python2.6/site-packages/sos/policyredhat.py'', line 27, in <module>\nMar 15 05:25:32 dhcp-66-78-39 abrtd:     import hashlib\nMar 15 05:25:32 dhcp-66-78-39 abrtd:   File ''/usr/lib64/python2.6/hashlib.py'', line 101, in <module>\nMar 15 05:25:32 dhcp-66-78-39 abrtd:     f(usedforsecurity=False)\nMar 15 05:25:32 dhcp-66-78-39 abrtd: ValueError: error:2D07D06A:FIPS routines:EVP_DigestInit_ex:fips selftest failed\nMar 15 05:25:32 dhcp-66-78-39 abrtd: 'post-create' on '/var/spool/abrt/pyhook-2013-03-15-05:25:31-22554' exited with 1\nMar 15 05:25:32 dhcp-66-78-39 abrtd: Corrupted or bad directory '/var/spool/abrt/pyhook-2013-03-15-05:25:31-22554', deleting",
          "author": "zsun@redhat.com",
          "creation_time": "20130315T09:59:25",
          "bug_id": "921935",
          "creator_id": "343290",
          "time": "20130315T09:59:25",
          "id": "5601539",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "plautrba@redhat.com",
          "text": "I'm not able to reproduce this issue. Would be possible to generate a backtrace? \n\n''fips selftest failed'' indicates that FIPS might not be configured right. Is the prelink disabled? Is the system un-prelinked?",
          "author": "plautrba@redhat.com",
          "creation_time": "20130320T13:54:25",
          "bug_id": "921935",
          "creator_id": "270148",
          "time": "20130320T13:54:25",
          "id": "5615430",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "zsun@redhat.com",
          "text": "(In reply to comment #1)\n> I'm not able to reproduce this issue. Would be possible to generate a\n> backtrace? \n> \n> ''fips selftest failed'' indicates that FIPS might not be configured right. Is\n> the prelink disabled? Is the system un-prelinked?\n\nI tested again and it works on my side. So I think it may caused by my configure the other day. So move this issue to CLOSED NOTABUG. Sorry for this.",
          "author": "zsun@redhat.com",
          "creation_time": "20130322T01:30:15",
          "bug_id": "921935",
          "creator_id": "343290",
          "time": "20130322T01:30:15",
          "id": "5621504",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.4"
      ],
      "cc": [
        "gpei@redhat.com",
        "jialiu@redhat.com",
        "szhou@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "devel",
        "qa",
        "redhat",
        "support"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "SSH fails after I enable fips and wait for a long time",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [],
      "last_change_time": "20130402T23:56:50",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509333-IOj2Oiv34tenC41OwEMpVAZZQ3krA4ukNg-jknCOiZ0",
      "cf_partner": [],
      "cf_last_closed": "20130322T01:30:15",
      "resolution": "NOTABUG",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "600",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20130423T20:54:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "None",
          "ext_bz_bug_id": "308664",
          "bug_id": "955792",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "69",
          "type": {
            "must_send": "False",
            "description": "TCMS Test Case",
            "url": "https://tcms.engineering.redhat.com",
            "can_get": "False",
            "id": "69",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          },
          "id": "121545"
        },
        {
          "ext_status": "None",
          "ext_bz_bug_id": "2058",
          "bug_id": "955792",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "13",
          "type": {
            "must_send": "False",
            "description": "OpenSSH Project",
            "url": "http://bugzilla.mindrot.org",
            "can_get": "False",
            "id": "13",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "http://bugzilla.mindrot.org/show_bug.cgi?id=%id%"
          },
          "id": "103374"
        },
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00818398",
          "bug_id": "955792",
          "ext_description": "Regression: UTF-8 encoded /etc/issue are not properly displayed by ssh",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "103375"
        }
      ],
      "id": "955792",
      "cf_release_notes": "Cause: \r\nNon-ascii characters were replaced by their octal representaions in a banner message in order to prevent\r\nterminal reprogramming attacks.\r\nConsequence: \r\nBanners contained UTF-8 strings were not correctly displayed in a client.\r\n\r\nFix: \r\nRFC 3454 has been implemented into banners processing to remove control characters and other undesirable things.\r\n\r\nResult: \r\nBanners containing UTF-8 strings are correctly displayed now.",
      "priority": "medium",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "bmason@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "bmason@redhat.com",
          "text": "Description of problem:\n\n    If /etc/issue contains UTF-8 encoded international characters, the\n    characters aren't displayed properly by the ssh client.\n\nVersion-Release number of selected component (if applicable):\n\n    openssh-clients-5.3p1-84.1.el6.x86_64\n\nHow reproducible:\n\n    100%\n\nSteps to Reproduce:\n\n 1. Create an /etc/issue file with something like:\n       \n        AVERTISSEMENT: L'acc\u00e8s \u00e0 ce syst\u00e8me est restreint.\n\n 2. Configure sshd to display /etc/issue as the banner by adding the\n    following to /etc/ssh/sshd_config:\n\n        Banner /etc/issue\n\n 3. Log into the system with an OpenSSH client\n\nActual results:\n\n    AVERTISSEMENT: L'acc\\303\\250s \\303\\240 ce syst\\303\\250me est restreint.\n    \nExpected results:\n\n    AVERTISSEMENT: L'acc\u00e8s \u00e0 ce syst\u00e8me est restreint.\n\nAdditional info:\n\n    This appears to be a known issue upstream:\n\n        SSH Banner message displays UTF-8 multibyte char incorrrectly\n        https://bugzilla.mindrot.org/show_bug.cgi?id=2058",
          "author": "bmason@redhat.com",
          "creation_time": "20130423T20:54:14",
          "bug_id": "955792",
          "creator_id": "184677",
          "time": "20130423T20:54:14",
          "id": "5854159",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "plautrba@redhat.com",
          "text": "There is a security concern about terminal reprogramming attacks using arbitrary characters and also there's no acceptable solution for this issue. I'll have to postpone this until there'll be some agreement on the fix at upstream.",
          "author": "plautrba@redhat.com",
          "creation_time": "20130430T13:35:27",
          "bug_id": "955792",
          "creator_id": "270148",
          "time": "20130430T13:35:27",
          "id": "5871681",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this bug report was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20130506T21:20:04",
          "bug_id": "955792",
          "creator_id": "193983",
          "time": "20130506T21:20:04",
          "id": "5888685",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "plautrba@redhat.com",
          "text": "There is a patch [1] which implements RFC3454 stringprep processing for banners to remove control characters and other undesirable things. And it seems to be usable also for backport to the RHEL6 openssh.\n\n[1] https://bugzilla.mindrot.org/attachment.cgi?id=2280&action=diff",
          "author": "plautrba@redhat.com",
          "creation_time": "20130619T10:38:01",
          "bug_id": "955792",
          "creator_id": "270148",
          "time": "20130619T10:38:01",
          "id": "6023925",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "ksrot@redhat.com",
          "text": "qa_ack+ for 6.5",
          "author": "ksrot@redhat.com",
          "creation_time": "20130627T13:54:12",
          "bug_id": "955792",
          "creator_id": "286283",
          "time": "20130627T13:54:12",
          "id": "6051423",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "trichard@redhat.com",
          "text": "Marking with docs_scoped- as this bug should not affect the following guides for RHEL 6.5:\n * V2V Guide\n * Virtualization Getting Started Guide\n * Virtualization Host Configuration and Guest Installation Guide",
          "author": "trichard@redhat.com",
          "creation_time": "20130704T01:53:23",
          "bug_id": "955792",
          "creator_id": "344053",
          "time": "20130704T01:53:23",
          "id": "6074740",
          "is_private": "True"
        },
        {
          "count": "6",
          "attachment_id": "778015",
          "author": "bmason@redhat.com",
          "text": "Created attachment 778015\nBackported patch\n\nPatch bacpkported from link in Comment #3.  Also committed to dist-git branch private-bmason-bz955792-rhel-6.4.",
          "creator": "bmason@redhat.com",
          "creation_time": "20130724T23:31:33",
          "bug_id": "955792",
          "creator_id": "184677",
          "time": "20130724T23:31:33",
          "id": "6139275",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2013:15245-01\nhttp://errata.devel.redhat.com/errata/show/15245",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20130725T09:57:05",
          "bug_id": "955792",
          "creator_id": "241731",
          "time": "20130725T09:57:05",
          "id": "6140638",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "bmason@redhat.com",
          "text": "(In reply to Bryan Mason from comment #6)\n> Created attachment 778015 [details]\n> Backported patch\n\nOf course I totally missed the fact that this bug changed to MODIFIED on 7/19.  Oops.",
          "author": "bmason@redhat.com",
          "creation_time": "20130725T16:15:30",
          "bug_id": "955792",
          "creator_id": "184677",
          "time": "20130725T16:15:30",
          "id": "6141929",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHSA-2013:15245-03: \nChanged by: Lukas Novy (lnovy@redhat.com)\nhttp://errata.devel.redhat.com/advisory/15245\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: TEST PROTOCOL\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Test run ID   : 16739883\n:: [   LOG    ] :: Package       : openssh\n:: [   LOG    ] :: Installed:    : openssh-5.3p1-84.1.el6.i686 \n:: [   LOG    ] :: Test started  : 2013-10-24 03:20:06 EDT\n:: [   LOG    ] :: Test finished : 2013-10-24 03:20:18 EDT\n:: [   LOG    ] :: Test name     : /CoreOS/openssh/Regression/bz955792-Regression-UTF-8-encoded-etc-issue-are-not\n:: [   LOG    ] :: Distro:       : Red Hat Enterprise Linux Server release 6.4 (Santiago)\n:: [   LOG    ] :: Hostname      : hp-dl585g5-01.rhts.eng.bos.redhat.com\n:: [   LOG    ] :: Architecture  : i686\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test description\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\nPURPOSE of\n/CoreOS/openssh/Regression/bz955792-Regression-UTF-8-encoded-etc-issue-are-not\nDescription: Test for BZ#955792 (Regression UTF-8 encoded /etc/issue are not)\nAuthor: Lukas Novy <lnovy@redhat.com>\nBug summary: Regression: UTF-8 encoded /etc/issue are not properly displayed by\nssh\nBugzilla link: https://bugzilla.redhat.com/show_bug.cgi?id=955792\n\nDescription of problem:\n\n    If /etc/issue contains UTF-8 encoded international characters, the\n    characters aren't displayed properly by the ssh client.\n\nVersion-Release number of selected component (if applicable):\n\n    openssh-clients-5.3p1-84.1.el6.x86_64\n\nHow reproducible:\n\n    100%\n\nSteps to Reproduce:\n\n 1. Create an /etc/issue file with something like:\n       \n        AVERTISSEMENT: L'acc\u00e8s \u00e0 ce syst\u00e8me est restreint.\n\n 2. Configure sshd to display /etc/issue as the banner by adding the\n    following to /etc/ssh/sshd_config:\n\n        Banner /etc/issue\n\n 3. Log into the system with an OpenSSH client\n\nActual results:\n\n    AVERTISSEMENT: L'acc\\303\\250s \\303\\240 ce syst\\303\\250me est restreint.\n    \nExpected results:\n\n    AVERTISSEMENT: L'acc\u00e8s \u00e0 ce syst\u00e8me est restreint.\n\nAdditional info:\n\n    This appears to be a known issue upstream:\n\n        SSH Banner message displays UTF-8 multibyte char incorrrectly\n        https://bugzilla.mindrot.org/show_bug.cgi?id=2058\n\n\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Setup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Checking for the presence of openssh rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   openssh-5.3p1-84.1.el6.i686\n:: [   PASS   ] :: Creating tmp directory (Expected 0, got 0)\n:: [   PASS   ] :: Running 'pushd /tmp/tmp.BVS3Jy5JD9' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'echo 'Banner /etc/issue' >> /etc/ssh/sshd_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'useradd bz955792' (Expected 0-255, got 0)\n:: [   PASS   ] :: Running 'echo bz955792 | passwd --stdin bz955792' (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 3s\n:: [   LOG    ] :: Assertions: 6 good, 0 bad\n:: [   PASS   ] :: RESULT: Setup\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Regression/bz955792-Regression-UTF-8-encoded-etc-issue-are-not/ssh.exp bz955792 127.0.0.1 bz955792 > log.0.all 2>&1' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cat log.0.all | grep -B 10000 -- --END-- | grep -A 10000 -- --START-- | head -n -1 | tail -n +2 > log.0.filtered' (Expected 0, got 0)\n:: [   FAIL   ] :: File 'log.0.filtered' should contain 'foo.bar.baz' \n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Regression/bz955792-Regression-UTF-8-encoded-etc-issue-are-not/ssh.exp bz955792 127.0.0.1 bz955792 > log.3.all 2>&1' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cat log.3.all | grep -B 10000 -- --END-- | grep -A 10000 -- --START-- | head -n -1 | tail -n +2 > log.3.filtered' (Expected 0, got 0)\n:: [   PASS   ] :: File 'log.3.filtered' should contain '\\342\\201\\242' \n:: [   LOG    ] :: Duration: 3s\n:: [   LOG    ] :: Assertions: 5 good, 1 bad\n:: [   FAIL   ] :: RESULT: Test\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Cleanup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'userdel -f -r bz955792' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'popd' (Expected 0, got 0)\n:: [   PASS   ] :: Removing tmp directory (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 2s\n:: [   LOG    ] :: Assertions: 3 good, 0 bad\n:: [   PASS   ] :: RESULT: Cleanup\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: /CoreOS/openssh/Regression/bz955792-Regression-UTF-8-encoded-etc-issue-are-not\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Phases: 2 good, 1 bad\n:: [   FAIL   ] :: RESULT: /CoreOS/openssh/Regression/bz955792-Regression-UTF-8-encoded-etc-issue-are-not\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: TEST PROTOCOL\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Test run ID   : 16739885\n:: [   LOG    ] :: Package       : openssh\n:: [   LOG    ] :: Installed:    : openssh-5.3p1-94.el6.i686 \n:: [   LOG    ] :: Test started  : 2013-10-24 03:26:15 EDT\n:: [   LOG    ] :: Test finished : 2013-10-24 03:26:27 EDT\n:: [   LOG    ] :: Test name     : /CoreOS/openssh/Regression/bz955792-Regression-UTF-8-encoded-etc-issue-are-not\n:: [   LOG    ] :: Distro:       : Red Hat Enterprise Linux Server release 6.4 (Santiago)\n:: [   LOG    ] :: Hostname      : hp-dl585g5-01.rhts.eng.bos.redhat.com\n:: [   LOG    ] :: Architecture  : i686\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test description\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\nPURPOSE of\n/CoreOS/openssh/Regression/bz955792-Regression-UTF-8-encoded-etc-issue-are-not\nDescription: Test for BZ#955792 (Regression UTF-8 encoded /etc/issue are not)\nAuthor: Lukas Novy <lnovy@redhat.com>\nBug summary: Regression: UTF-8 encoded /etc/issue are not properly displayed by\nssh\nBugzilla link: https://bugzilla.redhat.com/show_bug.cgi?id=955792\n\nDescription of problem:\n\n    If /etc/issue contains UTF-8 encoded international characters, the\n    characters aren't displayed properly by the ssh client.\n\nVersion-Release number of selected component (if applicable):\n\n    openssh-clients-5.3p1-84.1.el6.x86_64\n\nHow reproducible:\n\n    100%\n\nSteps to Reproduce:\n\n 1. Create an /etc/issue file with something like:\n       \n        AVERTISSEMENT: L'acc\u00e8s \u00e0 ce syst\u00e8me est restreint.\n\n 2. Configure sshd to display /etc/issue as the banner by adding the\n    following to /etc/ssh/sshd_config:\n\n        Banner /etc/issue\n\n 3. Log into the system with an OpenSSH client\n\nActual results:\n\n    AVERTISSEMENT: L'acc\\303\\250s \\303\\240 ce syst\\303\\250me est restreint.\n    \nExpected results:\n\n    AVERTISSEMENT: L'acc\u00e8s \u00e0 ce syst\u00e8me est restreint.\n\nAdditional info:\n\n    This appears to be a known issue upstream:\n\n        SSH Banner message displays UTF-8 multibyte char incorrrectly\n        https://bugzilla.mindrot.org/show_bug.cgi?id=2058\n\n\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Setup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Checking for the presence of openssh rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   openssh-5.3p1-94.el6.i686\n:: [   PASS   ] :: Creating tmp directory (Expected 0, got 0)\n:: [   PASS   ] :: Running 'pushd /tmp/tmp.yizNXZIW6D' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'echo 'Banner /etc/issue' >> /etc/ssh/sshd_config' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'useradd bz955792' (Expected 0-255, got 0)\n:: [   PASS   ] :: Running 'echo bz955792 | passwd --stdin bz955792' (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 4s\n:: [   LOG    ] :: Assertions: 6 good, 0 bad\n:: [   PASS   ] :: RESULT: Setup\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Regression/bz955792-Regression-UTF-8-encoded-etc-issue-are-not/ssh.exp bz955792 127.0.0.1 bz955792 > log.0.all 2>&1' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cat log.0.all | grep -B 10000 -- --END-- | grep -A 10000 -- --START-- | head -n -1 | tail -n +2 > log.0.filtered' (Expected 0, got 0)\n:: [   PASS   ] :: File 'log.0.filtered' should contain 'foo.bar.baz' \n:: [   PASS   ] :: Running '/usr/bin/expect /mnt/tests/CoreOS/openssh/Regression/bz955792-Regression-UTF-8-encoded-etc-issue-are-not/ssh.exp bz955792 127.0.0.1 bz955792 > log.3.all 2>&1' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'cat log.3.all | grep -B 10000 -- --END-- | grep -A 10000 -- --START-- | head -n -1 | tail -n +2 > log.3.filtered' (Expected 0, got 0)\n:: [   PASS   ] :: File 'log.3.filtered' should contain '\\342\\201\\242' \n:: [   LOG    ] :: Duration: 2s\n:: [   LOG    ] :: Assertions: 6 good, 0 bad\n:: [   PASS   ] :: RESULT: Test\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Cleanup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'userdel -f -r bz955792' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'popd' (Expected 0, got 0)\n:: [   PASS   ] :: Removing tmp directory (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 2s\n:: [   LOG    ] :: Assertions: 3 good, 0 bad\n:: [   PASS   ] :: RESULT: Cleanup\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: /CoreOS/openssh/Regression/bz955792-Regression-UTF-8-encoded-etc-issue-are-not\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Phases: 3 good, 0 bad\n:: [   PASS   ] :: RESULT: /CoreOS/openssh/Regression/bz955792-Regression-UTF-8-encoded-etc-issue-are-not",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20131024T08:43:01",
          "bug_id": "955792",
          "creator_id": "241731",
          "time": "20131024T08:43:01",
          "id": "6452899",
          "is_private": "True"
        },
        {
          "count": "10",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHSA-2013-1591.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20131121T09:46:02",
          "bug_id": "955792",
          "creator_id": "241731",
          "time": "20131121T09:46:02",
          "id": "6542266",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.6"
      ],
      "cc": [
        "ebenes@redhat.com",
        "ksrot@redhat.com",
        "lnovy@redhat.com",
        "pvrabec@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "1104662"
      ],
      "qa_contact": "lnovy@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "devel"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "Regression: UTF-8 encoded /etc/issue are not properly displayed by ssh",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20130909T15:32:18",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20130702T14:15:42",
          "id": "1405803",
          "setter": "lnovy@redhat.com"
        },
        {
          "status": "?",
          "name": "requires_doc_text",
          "modification_date": "20131025T11:20:03",
          "type_id": "415",
          "is_active": "1",
          "creation_date": "20131025T11:20:03",
          "id": "1563626",
          "setter": "plautrba@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.5.0",
          "modification_date": "20130702T14:22:44",
          "type_id": "361",
          "is_active": "0",
          "creation_date": "20130506T21:20:01",
          "id": "1338133",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20130506T21:59:40",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20130506T21:46:16",
          "id": "1338246",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20130619T11:27:11",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20130506T21:49:54",
          "id": "1338334",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20130702T14:10:40",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20130506T21:53:35",
          "id": "1338424",
          "setter": "ksrot@redhat.com"
        }
      ],
      "last_change_time": "20140604T13:04:52",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509333-FZYUXImKi7949xFpu4YRUgK5alYJ7P42mzHbps4ma3w",
      "cf_partner": [],
      "cf_last_closed": "20131121T09:46:02",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "1400",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20130806T05:50:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "Patch"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00895921",
          "bug_id": "993509",
          "ext_description": "[S3][6.5][Fixed]There is no response from ssh server when a chroot user is logged in. - RHSA-2013-1591",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "116668"
        },
        {
          "ext_status": "None",
          "ext_bz_bug_id": "308573",
          "bug_id": "993509",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "69",
          "type": {
            "must_send": "False",
            "description": "TCMS Test Case",
            "url": "https://tcms.engineering.redhat.com",
            "can_get": "False",
            "id": "69",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          },
          "id": "127482"
        }
      ],
      "id": "993509",
      "cf_release_notes": "Cause: \r\nThe sshd server didn't terminate a connection if a user requested an interactive\r\nsession but the server was configured to force the internal-sftp session.\r\nConsequence: \r\nA ssh connection hanged if server forced internal-sftp.\r\n\r\nFix: \r\nThe sshd has been changed to generate an error and provide a message to an user that\r\nservice allows sftp connections only.\r\n\r\nResult: \r\nssh clients don't hang when try to connect to a server configured to allow \r\nsftp connection only.",
      "priority": "medium",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "nbansal@redhat.com",
      "comments": [
        {
          "count": "0",
          "attachment_id": "783200",
          "author": "nbansal@redhat.com",
          "text": "Created attachment 783200\nPatch to drop connection with a message.\n\nDescription of problem:\n\n1. \n\nWhen \"ForceCommand internal-sftp\" is added to /etc/ssh/sshd_config and it connects to ssh server by using ssh command with the specific user name, there is no response from ssh server, e.g.:\n\n$ ssh sshuserB@10.x.x.x\nsshuserB@10.x.x.x's password: \n^C   <<---- connection hangs here and one has to issue Ctrl+c to close it. \n\nThe customer expects that an error is returned, this appears to be a situation very similar to the one described in following bugzilla:\n\nhttps://bugzilla.mindrot.org/show_bug.cgi?id=1606\n\nThe patch given in above BZ fixes the issue, customer has verified the test package. After applying the patch connection terminates with a message:\n\n$ ssh sshuserB@10.x.x.x\nsshuserB@10.x.x.x's password: \nThis service allows sftp connections only.  <<-------------------\nConnection to 10.x.x.x closed.\n\nFollowing logs are printed in /var/log/secure:\n\nJul 23 08:51:13 dhcp209-237 sshd[3562]: pam_unix(sshd:session): session opened for user sshuserB by (uid=0)\nJul 23 08:51:13 dhcp209-237 sshd[3567]: error: /dev/pts/1: No such file or directory\nJul 23 08:51:13 dhcp209-237 sshd[3567]: error: open /dev/tty failed - could not set controlling tty: No such file or directory\nJul 23 08:51:13 dhcp209-237 sshd[3562]: pam_unix(sshd:session): session closed for user sshuserB\n\nIs there a way to get rid of middle two error lines? \n\n2. \n\nPatch works as long as SELinux is disabled, with SELinux enabled we run into another issue. When SELinux is enforcing then \"This service allows sftp connections only.\" message is not printed:\n\n$ ssh sshuserB@10.x.x.x\nsshuserB@10.x.x.x's password: \nConnection to 10.x.x.x closed by remote host.\nConnection to 10.x.x.x closed.\n\n\nFollowing avc denial is the reason due to that \"This service allows sftp connections only.\" does not get printed when SELinux is enforced:\n\ntype=AVC msg=audit(1372777118.747:18358): avc:  denied  { read write } for  pid=26615 comm=\"sshd\" path=\"/dev/pts/1\" dev=devpts ino=4 scontext=unconfined_u:system_r:chroot_user_t:s0-s0:c0.c1023 tcontext=unconfined_u:object_r:user_devpts_t:s0 tclass=chr_file\n\n\nchroot_user_t does not have read, write access over user_devpts_t. Following command does not return any output on RHEL 6:\n\nsesearch -A -s chroot_user_t -t user_devpts_t -c chr_file\n\nWhile in Fedora 17 read,write is allowed:\n\n$ sesearch -A -s chroot_user_t -t user_devpts_t -c chr_file\nFound 1 semantic av rules:\n   allow chroot_user_t user_devpts_t : chr_file { ioctl read write getattr append } ; \n\nFollowing module fixes the issue:\n\n# cat sftperror.te \n\nmodule sftperror 1.0;\n\nrequire {\n\ttype user_devpts_t;\n\ttype chroot_user_t;\n\tclass chr_file { read write };\n}\n\n#============= chroot_user_t ==============\nallow chroot_user_t user_devpts_t:chr_file { read write };\n\nShould I open a new BZ for this SELinux issue? \n\n3. \n\nFurther customer also wishes to see \"This service allows sftp connections only.\" in /var/log/secure as well when connection is dropped, sending the log message to /var/log/secure does not seem to be straight forward. I tried to use logit function but had no success. \n\nI tried the latest openssh in Fedora 19 and it also does not send any special string to /var/log/secure, only following messages are logged there:\n\n\nJul 26 11:07:34 example sshd[6983]: Accepted password for sshuserB from 10.x.x.x port 35160 ssh2\nJul 26 11:07:35 example sshd[6983]: pam_unix(sshd:session): session opened for user sshuserB by (uid=0)\nJul 26 11:07:35 example sshd[6983]: pam_unix(sshd:session): session closed for user sshuserB\n\n\nVersion-Release number of selected component (if applicable):\nopenssh-5.3p1-81.el6.x86_64\n\nHow reproducible:\nAlways\n\nSteps to Reproduce:\n1. Edit /etc/ssh/sshd_config file, here is the diff of default and modified sshd_config:\n\n< Subsystem\tsftp\t/usr/libexec/openssh/sftp-server\n---\n> #Subsystem\tsftp\t/usr/libexec/openssh/sftp-server\n> Subsystem       sftp    internal-sftp -f AUTH -l DEBUG3\n> AllowUsers      sshuserB fujitsu pref root loguser\n133a136,139\n> Match User sshuserB\n> \tChrootDirectory /contents/bousai\n> \tPasswordAuthentication yes\n> \tForceCommand internal-sftp\n\n\n2.  Execute following commands:\n\n#mkdir /contents/bousai/\n#ls -ld /contents/bousai/\ndrwxr-xr-x. 2 root root 4096  6\u6708 25 03:51 2013 /contents/bousai/\n#useradd sshuserB\n#passwd sshuserB\n# id sshuserB\nuid=500(sshuserB) gid=500(sshuserB) groups=500(sshuserB)\n\n3. Take another system and try to login as sshuserB:\n\n#ssh sshuserB@IP-Addr-Of-SSH-Server\nConnection should hang\n\n#sftp sshuserB@IP-Addr-Of-SSH-Server \nThis should work. \n\nActual results:\nWhen logged in as sshuserB via ssh, connection hangs.\n\n$ ssh sshuserB@10.x.x.x\nsshuserB@10.x.x.x's password: \n^C   <<---- connection hangs here and one has to issue Ctrl+c to close it. \n\n\nExpected results:\nConnection should be dropped properly and a message should be printed:\n\n$ ssh sshuserB@10.x.x.x\nsshuserB@10.x.x.x's password: \nThis service allows sftp connections only.\nConnection to 10.x.x.x closed.\n\nAdditional info:",
          "creator": "nbansal@redhat.com",
          "creation_time": "20130806T05:50:47",
          "bug_id": "993509",
          "creator_id": "198324",
          "time": "20130806T05:50:47",
          "id": "6184019",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "ksrot@redhat.com",
          "text": "qa_ack+ for 6.5",
          "author": "ksrot@redhat.com",
          "creation_time": "20130814T07:01:59",
          "bug_id": "993509",
          "creator_id": "286283",
          "time": "20130814T07:01:59",
          "id": "6210019",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this bug is proposed for the current release and its status\nhas changed to MODIFIED or VERIFIED, the devel_ack flag has been\nset to +.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20130814T07:13:54",
          "bug_id": "993509",
          "creator_id": "193983",
          "time": "20130814T07:13:54",
          "id": "6210056",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2013:15245-01\nhttp://errata.devel.redhat.com/errata/show/15245",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20130814T07:29:45",
          "bug_id": "993509",
          "creator_id": "241731",
          "time": "20130814T07:29:45",
          "id": "6210091",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "nbansal@redhat.com",
          "text": "BZ is movied to ON_QA state, I am wondering about the 2nd and 3rd points raised in the ''Description'' section.\n\nAre we going to include a way to print the ''This service allows sftp connections only'' message in /var/log/secure. \n\nDo we need to raise a separate BZ for SELinux issue?",
          "author": "nbansal@redhat.com",
          "creation_time": "20130814T10:23:47",
          "bug_id": "993509",
          "creator_id": "198324",
          "time": "20130814T10:23:47",
          "id": "6210648",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "plautrba@redhat.com",
          "text": "The update fixes only 1st point. \n\nThe 2nd is related to chrooted setup and needs to be addressed in SELinux.\n\n> Jul 23 08:51:13 dhcp209-237 sshd[3567]: error: /dev/pts/1: No such file or directory\n> Jul 23 08:51:13 dhcp209-237 sshd[3567]: error: open /dev/tty failed - could not set controlling tty: No such file or directory\n\nA ssh client requests an interactive session with pty. But process is chrooted into /contents/bousai directory, it can't set controlling of tty since there is not device representing it in /contents/bousai/dev/... You probably can't avoid of these messages on a server side.\n\n> Are we going to include a way to print the ''This service allows sftp connections only'' message in /var/log/secure. \n\nProbably not with this update. But I'll try to prepare a patch and send it upstream for some review. Please file another bug just for 3rd point. \n\nA patch would look like:\n--- a/session.c\n+++ b/session.c\n@@ -798,6 +798,8 @@ do_exec(Session *s, const char *command)\n                if (IS_INTERNAL_SFTP(command)) {\n                        s->is_subsystem = s->is_subsystem ?\n                            SUBSYSTEM_INT_SFTP : SUBSYSTEM_INT_SFTP_ERROR;\n+                       if (s->is_subsystem == SUBSYSTEM_INT_SFTP_ERROR)\n+                               logit(''no subsystem request for internal-sftp'');\n                } else if (s->is_subsystem)\n                        s->is_subsystem = SUBSYSTEM_EXT;\n                debug(''Forced command (config) '%.900s''', command);\n@@ -807,6 +809,8 @@ do_exec(Session *s, const char *command)\n                if (IS_INTERNAL_SFTP(command)) {\n                        s->is_subsystem = s->is_subsystem ?\n                            SUBSYSTEM_INT_SFTP : SUBSYSTEM_INT_SFTP_ERROR;\n+                       if (s->is_subsystem == SUBSYSTEM_INT_SFTP_ERROR)\n+                               logit(''no subsystem request for internal-sftp'');\n                } else if (s->is_subsystem)\n                        s->is_subsystem = SUBSYSTEM_EXT;\n                debug(''Forced command (key option) '%.900s''', command);",
          "author": "plautrba@redhat.com",
          "creation_time": "20130814T11:38:11",
          "bug_id": "993509",
          "creator_id": "270148",
          "time": "20130814T11:38:11",
          "id": "6210886",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "mvadkert@redhat.com",
          "text": "According to comments #4 and #5 only only 1st point of the description will be tested.\n\nThe 2nd point wont' be fixed.\n\nThe 3rd point is filed as a separate bug https://bugzilla.redhat.com/show_bug.cgi?id=997377.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20131020T07:02:37",
          "bug_id": "993509",
          "creator_id": "271572",
          "time": "20131020T07:02:37",
          "id": "6438034",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHSA-2013:15245-02: \nChanged by: Miroslav Vadkerti (mvadkert@redhat.com)\nhttp://errata.devel.redhat.com/advisory/15245\n\nVERIFIED as fixed in openssh-5.3p1-94.el6\nssh now doesn't hang and prints correct error message.\n\nNEW PACKAGE openssh-5.3p1-94.el6\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: BZ#993509 - hang after connecting to internal-sftp via ssh\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\nspawn ssh sftpchrootu@127.0.0.1\nsftpchrootu@127.0.0.1's password:\nThis service allows sftp connections only.\nConnection to 127.0.0.1 closed.\n:: [   PASS   ] :: Running './ssh.exp sftpchrootu sup3rP4ssW3rd' (Expected 0, got 0)\n\nOLD PACKAGE openssh-5.3p1-84.1.el6\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: BZ#993509 - hang after connecting to internal-sftp via ssh\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\nspawn ssh sftpchrootu@127.0.0.1\nsftpchrootu@127.0.0.1's password:\n:: [   FAIL   ] :: Running './ssh.exp sftpchrootu sup3rP4ssW3rd' (Expected 0, got 1)",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20131020T12:25:34",
          "bug_id": "993509",
          "creator_id": "241731",
          "time": "20131020T12:25:34",
          "id": "6438317",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHSA-2013-1591.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20131121T09:46:38",
          "bug_id": "993509",
          "creator_id": "241731",
          "time": "20131121T09:46:38",
          "id": "6542273",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.3"
      ],
      "cc": [
        "lnovy@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "mvadkert@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "fujitsu",
        "redhat"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "internal-sftp does not drop connection properly.",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20130909T15:41:02",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20130814T07:17:37",
          "id": "1472176",
          "setter": "lnovy@redhat.com"
        },
        {
          "status": "?",
          "name": "requires_doc_text",
          "modification_date": "20131025T14:07:01",
          "type_id": "415",
          "is_active": "1",
          "creation_date": "20131025T14:07:01",
          "id": "1563833",
          "setter": "plautrba@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.5.0",
          "modification_date": "20130814T07:20:37",
          "type_id": "361",
          "is_active": "0",
          "creation_date": "20130806T05:51:31",
          "id": "1463078",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20130806T06:09:22",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20130806T06:07:07",
          "id": "1463088",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20130814T07:13:48",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20130806T06:07:30",
          "id": "1463089",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20130814T07:01:59",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20130806T06:07:49",
          "id": "1463090",
          "setter": "ksrot@redhat.com"
        }
      ],
      "last_change_time": "20131121T09:46:38",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509333-geTkKcSp1ImNWC-07ycPSdgKA5mT1EpiwWnBCE7uCSk",
      "cf_partner": [],
      "cf_last_closed": "20131121T09:46:38",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "600",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20131007T09:50:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "6.5"
      ],
      "external_bugs": [
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00955208",
          "bug_id": "1016010",
          "ext_description": "First attempt to ssh with blank password not logged.",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "125267"
        }
      ],
      "id": "1016010",
      "cf_release_notes": "",
      "priority": "medium",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "ssahani@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "ssahani@redhat.com",
          "text": "Description of problem:\nFirst attempt to ssh with blank password not logged. \n\nVersion-Release number of selected component (if applicable):\nRHEl 6.3\nopenssh-5.3p1\nHow reproducible:\nAlways\n\nSteps to Reproduce:\nssh user@rhel63-host01\nuser@rhel63-host01's password: <Enter>\nPermission denied, please try again.\n# No entry in /var/log/secure\nuser@rhel63-host01's password: <Enter>\nPermission denied, please try again.\n# Entry appears in /var/log/secure\nuser@rhel63-host01's password: ^C\n\n\nActual results:\nFirst attempt to ssh with blank password not logged. \nExpected results:\nThe first attempt failure also should be logged.\n\nAdditional info:",
          "author": "ssahani@redhat.com",
          "creation_time": "20131007T09:50:49",
          "bug_id": "1016010",
          "creator_id": "350643",
          "time": "20131007T09:50:49",
          "id": "6384634",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this bug report was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20131007T09:52:48",
          "bug_id": "1016010",
          "creator_id": "193983",
          "time": "20131007T09:52:48",
          "id": "6384640",
          "is_private": "True"
        },
        {
          "count": "2",
          "attachment_id": "808766",
          "author": "ssahani@redhat.com",
          "text": "Created attachment 808766\nPatch fixes it.",
          "creator": "ssahani@redhat.com",
          "creation_time": "20131007T09:54:06",
          "bug_id": "1016010",
          "creator_id": "350643",
          "time": "20131007T09:54:06",
          "id": "6384645",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "ssahani@redhat.com",
          "text": "Any Specific reason why plen is 0 and call_count is 1 then the auth_method is set to ''none'' ?\n\n~~~\nmm_answer_authpassword\n\n      if (plen == 0 && call_count == 1)                                                                                                                                                                      \n              auth_method = ''none'';         <============= here                                                                                                                                                                 \n       else  \n          auth_method = ''password''\n~~~",
          "author": "ssahani@redhat.com",
          "creation_time": "20131008T06:24:32",
          "bug_id": "1016010",
          "creator_id": "350643",
          "time": "20131008T06:24:32",
          "id": "6390127",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "pm-rhel@redhat.com",
          "text": "This request was not resolved in time for the current release.\nRed Hat invites you to ask your support representative to\npropose this request, if still desired, for consideration in\nthe next release of Red Hat Enterprise Linux.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20131014T01:45:53",
          "bug_id": "1016010",
          "creator_id": "193983",
          "time": "20131014T01:45:53",
          "id": "6413792",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "nparmar@redhat.com",
          "text": "Hi Team,\n\nWe have case 00955208 still opened for this issue and customer would like to have some update on same.",
          "author": "nparmar@redhat.com",
          "creation_time": "20140108T05:56:07",
          "bug_id": "1016010",
          "creator_id": "326395",
          "time": "20140108T05:56:07",
          "id": "6684095",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "plautrba@redhat.com",
          "text": "This is the expected behaviour.\n\nThe first attempt of a ''password'' authentication with empty password is considered as the ''none'' authentication method which is used when the server allows login to accounts with empty password strings - ''PermitEmptyPasswords yes''. \n\nAll but the ''password'' methods are logged by default only in VERBOSE and higher log levels (and also when number of attempts is >= MaxAuthTries/2). So if customers need to see all authentication request, they need to change the LogLevel to VERBOSE at least.",
          "author": "plautrba@redhat.com",
          "creation_time": "20140113T13:38:52",
          "bug_id": "1016010",
          "creator_id": "270148",
          "time": "20140113T13:38:52",
          "id": "6701715",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "x86_64",
      "version": [
        "6.3"
      ],
      "cc": [
        "nparmar@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "groups": [
        "devel",
        "private",
        "redhat",
        "suseng"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "First attempt to ssh with blank password not logged.",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "-",
          "name": "rhel-6.5.0",
          "modification_date": "20131014T01:45:50",
          "type_id": "361",
          "is_active": "0",
          "creation_date": "20131007T09:52:45",
          "id": "1535482",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20131007T10:18:24",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20131007T09:55:00",
          "id": "1535483",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20131007T09:55:00",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20131007T09:55:00",
          "id": "1535484",
          "setter": "ssahani@redhat.com"
        },
        {
          "status": "?",
          "name": "qa_ack",
          "modification_date": "20131007T09:55:00",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20131007T09:55:00",
          "id": "1535485",
          "setter": "ssahani@redhat.com"
        }
      ],
      "last_change_time": "20140213T13:18:34",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509333-WEe79U81KCoCOk37pdD7fhR9w2wM-cTediNJQLivn0g",
      "cf_partner": [],
      "cf_last_closed": "20140213T13:18:34",
      "resolution": "NOTABUG",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20131022T12:49:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "ManPageChange"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "1021985",
      "cf_release_notes": "",
      "priority": "medium",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "mvadkert@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "mvadkert@redhat.com",
          "text": "Description of problem:\nDocumentation of the validity range in ssh-keygen (-V option) is confusing when using relative dates (starting with + or -).\n\nOriginal documentation\n   -V validity_interval\n             Specify a validity interval when signing a certificate.  A validity interval may consist of a single time, indicating that the certificate is valid beginning now and expiring at that time, or\n             may consist of two times separated by a colon to indicate an explicit time interval.  The start time may be specified as a date in YYYYMMDD format, a time in YYYYMMDDHHMMSS format or a rela\u2010\n             tive time (to the current time) consisting of a minus sign followed by a relative time in the format described in the TIME FORMATS section of sshd_config(5).  The end time may be specified as\n             a YYYYMMDD date, a YYYYMMDDHHMMSS time or a relative time starting with a plus character.\n\n             For example: \u201c+52w1d\u201d (valid from now to 52 weeks and one day from now), \u201c-4w:+4w\u201d (valid from four weeks ago to four weeks from now), \u201c20100101123000:20110101123000\u201d (valid from 12:30 PM,\n             January 1st, 2010 to 12:30 PM, January 1st, 2011), \u201c-1d:20110101\u201d (valid from yesterday to midnight, January 1st, 2011).\n\nIn reality the right side of the range, if relative date used (e.g. 4w), is always duration starting from the left side of the range specification. So in the example above the \n\u201c-4w:+4w\u201d means: \"valid for four weeks from four weeks ago\".\n\nWe will need to update the man page so the documentation is correct and does not cause confusion if used.\n\nFor more information see:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=906872#c24\n\nUnfortunately the upstream is silent about the issue:\nhttp://lists.mindrot.org/pipermail/openssh-unix-dev/2013-October/031710.html",
          "author": "mvadkert@redhat.com",
          "creation_time": "20131022T12:49:40",
          "bug_id": "1021985",
          "creator_id": "271572",
          "time": "20131022T12:49:40",
          "id": "6445236",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "mvadkert@redhat.com",
          "text": "Suggested correction to the man page. Thanks goes to Eliska for the help.\n\n-V validity_interval\n\nSpecify a validity interval when signing a certificate.\nA validity interval can consist of a single time, indicating that the certificate is valid beginning now and expiring at the specified time.\nA validity interval can also consist of two times separated by a colon, indicating an explicit time interval. The start time can be specified as a date in the YYYYMMDD format, a time in the YYYYMMDDHHMMSS format or a time relative to the current time consisting of the minus sign referring to a point in the past followed by a relative time in the format described in the TIME FORMATS section of sshd_config(5).\nThe end time can be specified as a date in the YYYYMMDD format, a time in the YYYYMMDDHHMMSS format or a time relative to the start time consisting of the plus sign and a time in the format described in the TIME FORMATS section of sshd_config(5).\n\nFor example: +52w1d - the certificate is valid for 52 weeks and one day starting now\n\t     -3w:+5w - valid for five weeks starting three weeks ago\n\t      20100101123000:20110101123000 - valid from 12:30 PM, January 1st, 2010 to 12:30 PM, January 1st, 2011\n\t     -1d:20110101 - valid from yesterday to midnight, January 1st, 2011",
          "author": "mvadkert@redhat.com",
          "creation_time": "20131022T14:59:20",
          "bug_id": "1021985",
          "creator_id": "271572",
          "time": "20131022T14:59:20",
          "id": "6445889",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "mvadkert@redhat.com",
          "text": "Dropping. We will fix the code in RHEL6.6 and go with a release note only.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20131023T12:19:11",
          "bug_id": "1021985",
          "creator_id": "271572",
          "time": "20131023T12:19:11",
          "id": "6449348",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.5"
      ],
      "cc": [],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "groups": [
        "redhat"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "ssh-keygen -V option needs manual page correction",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.5.0",
          "modification_date": "20131022T12:49:40",
          "type_id": "361",
          "is_active": "0",
          "creation_date": "20131022T12:49:40",
          "id": "1558708",
          "setter": "mvadkert@redhat.com"
        },
        {
          "status": "?",
          "name": "pm_ack",
          "modification_date": "20131022T12:49:40",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20131022T12:49:40",
          "id": "1558709",
          "setter": "mvadkert@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20131022T12:49:40",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20131022T12:49:40",
          "id": "1558710",
          "setter": "mvadkert@redhat.com"
        },
        {
          "status": "?",
          "name": "qa_ack",
          "modification_date": "20131022T12:49:40",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20131022T12:49:40",
          "id": "1558711",
          "setter": "mvadkert@redhat.com"
        }
      ],
      "last_change_time": "20131023T12:19:11",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509333-M6NJgWB7399c5aMmM4L9f2kjJ69pihI39_MZS-fBBB8",
      "cf_partner": [],
      "cf_last_closed": "20131023T12:19:11",
      "resolution": "NOTABUG",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "classification": "Red Hat",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_story_points": "---",
      "cf_conditional_nak": [],
      "creation_time": "20091014T19:44:00",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "FutureFeature",
        "Triaged"
      ],
      "summary": "[RFE] OpenSSH needs centralized key management",
      "external_bugs": [],
      "id": "529062",
      "cf_release_notes": "",
      "priority": "low",
      "cf_internal_whiteboard": "",
      "severity": "low",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "tao@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "tao@redhat.com",
          "text": "Escalated to Bugzilla from IssueTracker",
          "author": "tao@redhat.com",
          "creation_time": "20091014T19:44:55",
          "bug_id": "529062",
          "creator_id": "80926",
          "time": "20091014T19:44:55",
          "id": "2406609",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "tao@redhat.com",
          "text": "Event posted on 10-13-2009 05:20am EDT by RFE-tool\n\n1) Customer Name:\nSNCF (acc#828603)\n\n2) Nature Of Problem:\nThere is no supported way to centralize SSH authentication across multiple\nhosts.\n\n3) Business Requirements Satisfied By Request:\nCustomer has many systems and they need centralized users management to\nadministrate the accounts effectively.\n\n4) Functional Requirements That Are Not Presently Possible:\nCustomer would like to associate servers to users or groups thus letting\nthe authorized users to use their key to authenticate against OpenSSH to\nconnect to servers. When a user needs to be added or removed (or his keys\nneeds to be changed), this has to be done in only one place and not on\nevery server.\n\n5) What Will Success Look Like:\n(a reworked version of) the ssh-lpk patch is in RHEL (and upstream) as per\nbug 455350 or maybe you want to do that with x509 certificates as per\nhttps://bu-platform.devel.redhat.com/PMRHEL6/rhel6/use-cases/security/x509-and-cac-smart-card-enablement-of-openssh\nCustomer is happy with either way as long as he can centralize OpenSSH key\nmanagement.\n\n6) Desired Release Vehicle:\nMinor release preferred although major release is fine.\n\n7) Request Meets The Rhel Inclusion Criteria:\nYes\n\n8) Affected Packages:\nmainly openssh but maybe others as well\n\n9) Sales Sponsor:\nhttps://chatak.rdu.redhat.com/cgi-bin/salesteam/index.pl?account=SNCF\n    *  SNCF (Oracle Account #427570)\n          o Jean-Christophe Siouffi - jsiouffi@redhat.com - Outside Rep\n          o J?r?me Fenal - jfenal@redhat.com - Presales Owner\n          o Lomi Aschwanden - laschwan@redhat.com - Inside SE\n\n10) Rh Business Opportunity With Customer:\nLomi wrote:\nSNCF are one of our Strategic customer, they have a contract with us and \nare a quite big RHEL customer.\n\n11) Status And Risk To Contract If Not Satisfied:\nLomi wrote:\nIt would be in our best interest to fulfill the customer's request as \nthey are a big RHEL customer and have other needs as well, i.e. JBoss\netc...\n\n12) If this request is vendor specific, has the customer engaged the\npartner as well?:\nNot Applicable\n\n\n\n\n\nThis event sent from IssueTracker by jwest  [SEG - Feature Request]\n issue 353519",
          "author": "tao@redhat.com",
          "creation_time": "20091014T19:44:57",
          "bug_id": "529062",
          "creator_id": "80926",
          "time": "20091014T19:44:57",
          "id": "2406610",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "sgrubb@redhat.com",
          "text": "Bug 455350 is being worked for RHEL6. This request seems to ask for the same feature, so I am closing it as a duplicate of that bug. If for some reason this request is different, feel free to reopen and state what is being requested that is different than bz 455350. Thanks.\n\n*** This bug has been marked as a duplicate of bug 455350 ***",
          "author": "sgrubb@redhat.com",
          "creation_time": "20091118T15:25:51",
          "bug_id": "529062",
          "creator_id": "168751",
          "time": "20091118T15:25:51",
          "id": "2480366",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.0"
      ],
      "cc": [
        "sgrubb@redhat.com",
        "syeghiay@redhat.com",
        "tao@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_regression_status": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "product": "Red Hat Enterprise Linux 6",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "target_release": [
        "---"
      ],
      "cf_pgm_internal": "",
      "cf_doc_type": "Enhancement",
      "cf_clone_of": "0",
      "groups": [
        "devel",
        "qa",
        "rhel_beta",
        "rhn",
        "support"
      ],
      "cf_documentation_action": "---",
      "sub_components": {},
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "op_sys": "Linux",
      "alias": [],
      "dupe_of": "455350",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.0.0",
          "modification_date": "20091014T19:45:49",
          "type_id": "62",
          "is_active": "0",
          "creation_date": "20091014T19:45:49",
          "id": "511218",
          "setter": "jwest@redhat.com"
        },
        {
          "status": "?",
          "name": "pm_ack",
          "modification_date": "20091014T19:45:49",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20091014T19:45:49",
          "id": "511219",
          "setter": "jwest@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20091014T20:37:38",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20091014T20:37:38",
          "id": "511240",
          "setter": "syeghiay@redhat.com"
        }
      ],
      "last_change_time": "20091118T15:25:59",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509333-O-UEsY-f6tMI0efjnjSmEVWfvRggoJoQe_EbVHAgRic",
      "cf_partner": [],
      "cf_last_closed": "20091118T15:25:51",
      "resolution": "DUPLICATE",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [
        "521860"
      ],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20091120T09:06:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "539457",
      "cf_release_notes": "",
      "priority": "low",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "ebenes@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "ebenes@redhat.com",
          "text": "This is bug to track the status of the fix in RHEL 6. Original bug is still present in RHEL6 but already fixed in F12:\n\n# rpm -q openssh-server\nopenssh-server-5.2p1-17.el6.i686\n\nFixed in F12: openssh-server-5.2p1-28.fc12\n\nAny additional initscript enhancements towards [1] are welcomed.\n\n[1] - https://fedoraproject.org/wiki/Packaging/SysVInitScript\n\n\n+++ This bug was initially created as a clone of Bug #521860 +++\n\nDescription of problem:\nTesting init script according to guidelines at [1] shows following results:\nWrong value to indicate status ->  ''program is dead and /var/lock lock file exists''. This should return exit status code 2(dead & lock), not 3(dead).\n\n# ll /var/lock/subsys/sshd \n-rw-r--r--. 1 root root 0 2009-09-08 08:55 /var/lock/subsys/sshd\n# service sshd status ; echo $?\nopenssh-daemon is stopped\n3\n\nVersion-Release number of selected component (if applicable):\nopenssh-server-5.2p1-23.fc12\n\nActual results:\nRC -> 3\n\nExpected results:\nRC -> 2\n\nAdditional info:\n[1] - https://fedoraproject.org/wiki/FCNewInit/Initscripts\n\n--- Additional comment from jchadima@redhat.com on 2009-09-24 08:37:37 EDT ---\n\nRepaired",
          "author": "ebenes@redhat.com",
          "creation_time": "20091120T09:06:29",
          "bug_id": "539457",
          "creator_id": "203333",
          "time": "20091120T09:06:29",
          "id": "2487277",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "This request was evaluated by Red Hat Product Management for inclusion in a Red\nHat Enterprise Linux major release.  Product Management has requested further\nreview of this request by Red Hat Engineering, for potential inclusion in a Red\nHat Enterprise Linux Major release.  This request is not yet committed for\ninclusion.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20091120T09:25:24",
          "bug_id": "539457",
          "creator_id": "193983",
          "time": "20091120T09:25:24",
          "id": "2487309",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "jchadima@redhat.com",
          "text": "in current f12 it works and thus in the next spin of rhel6 it will work also.",
          "author": "jchadima@redhat.com",
          "creation_time": "20091204T12:55:01",
          "bug_id": "539457",
          "creator_id": "276623",
          "time": "20091204T12:55:01",
          "id": "2516087",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.0"
      ],
      "cc": [
        "dkovalsk@redhat.com",
        "jchadima@redhat.com",
        "mgrepl@redhat.com",
        "tmraz@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "633349"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "521860",
      "groups": [
        "rhel_beta"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "Wrong init script exit status code",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.0.0",
          "modification_date": "20091120T09:06:29",
          "type_id": "62",
          "is_active": "0",
          "creation_date": "20091120T09:06:29",
          "id": "525109",
          "setter": "ebenes@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20091120T09:25:21",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20091120T09:06:29",
          "id": "525110",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20091120T09:06:29",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20091120T09:06:29",
          "id": "525111",
          "setter": "ebenes@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20091120T09:06:29",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20091120T09:06:29",
          "id": "525112",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20100913T16:16:38",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509333-_qg-8h4lavd7KwUEsuN9CYkEH3Cy-8xdV77G7cgmOr4",
      "cf_partner": [],
      "cf_last_closed": "20091204T12:55:01",
      "resolution": "NOTABUG",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [
        "555039"
      ],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20100128T12:31:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "559539",
      "cf_release_notes": "",
      "priority": "low",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "jchadima@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "jchadima@redhat.com",
          "text": "+++ This bug was initially created as a clone of Bug #555039 +++\n\nCreated an attachment (id=383487)\nssh-rhel6.txt\n\nDescription of problem:\nTrying to authenticate via public key fails on RHEL6 alpha3. The procedure described below works on a RHEL5 box.\n\nVersion-Release number of selected component (if applicable):\nopenssh-5.2p1-17.el6.x86_64\nopenssh-clients-5.2p1-17.el6.x86_64\nopenssh-server-5.2p1-17.el6.x86_64\n\nHow reproducible:\nalways\n\nSteps to Reproduce:\non a fresh RHEL6 installation\n1. mkdir /root/.ssh\n2. chmod 700 /root/.ssh\n3. echo ''$PUBKEY'' >> /root/.ssh/authorized_keys\n4. ssh into box\n  \nActual results:\nssh is falling back to password auth\n\nExpected results:\npubkey auth\n\nAdditional info:\n\n--- Additional comment from pm-rhel@redhat.com on 2010-01-13 09:15:08 EST ---\n\nSince this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.\n\n--- Additional comment from pm-rhel@redhat.com on 2010-01-13 09:28:42 EST ---\n\nThis request was evaluated by Red Hat Product Management for inclusion in a Red\nHat Enterprise Linux major release.  Product Management has requested further\nreview of this request by Red Hat Engineering, for potential inclusion in a Red\nHat Enterprise Linux Major release.  This request is not yet committed for\ninclusion.\n\n--- Additional comment from jchadima@redhat.com on 2010-01-27 09:58:34 EST ---\n\nI cannot reproduce it, is there any special conditions needed to reproduce it?\n\n--- Additional comment from sassmann@redhat.com on 2010-01-27 10:14:03 EST ---\n\nHi Jan,\nnothing besides the procedure I described in comment #1. Did you test with alpha 3 as well?\n\n--- Additional comment from jchadima@redhat.com on 2010-01-28 04:04:06 EST ---\n\nI test it with 20100125.0\n\n--- Additional comment from jchadima@redhat.com on 2010-01-28 04:06:17 EST ---\n\nThere may be problem with the selinux, the .ssh must not be labeled as home directory, try to use restorecon -R ~/.ssh",
          "author": "jchadima@redhat.com",
          "creation_time": "20100128T12:31:14",
          "bug_id": "559539",
          "creator_id": "276623",
          "time": "20100128T12:31:14",
          "id": "2615376",
          "is_private": "True"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20100128T12:35:06",
          "bug_id": "559539",
          "creator_id": "193983",
          "time": "20100128T12:35:06",
          "id": "2615386",
          "is_private": "True"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.0"
      ],
      "cc": [
        "sassmann@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "555039",
      "groups": [
        "devel",
        "redhat",
        "rhel_beta"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "cannot authenticate with public key via ssh",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.0.0",
          "modification_date": "20100128T12:35:04",
          "type_id": "62",
          "is_active": "0",
          "creation_date": "20100128T12:35:04",
          "id": "550915",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20100128T12:43:49",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509333-bOMItQuJNGJ0UBgZutRgQqfe-bAUNRlCsbyyBuuGIgo",
      "cf_partner": [],
      "cf_last_closed": "20100128T12:43:49",
      "resolution": "NOTABUG",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [
        "541809"
      ],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20100128T12:34:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "559542",
      "cf_release_notes": "",
      "priority": "low",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-12.3",
      "creator": "jchadima@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "jchadima@redhat.com",
          "text": "+++ This bug was initially created as a clone of Bug #541809 +++\n\n\nSummary:\n\nSELinux is preventing /sbin/setfiles access to a leaked tcp_socket file\ndescriptor.\n\nDetailed Description:\n\n[SELinux is in permissive mode. This access was not denied.]\n\nSELinux denied access requested by the restorecon command. It looks like this is\neither a leaked descriptor or restorecon output was redirected to a file it is\nnot allowed to access. Leaks usually can be ignored since SELinux is just\nclosing the leak and reporting the error. The application does not use the\ndescriptor, so it will run properly. If this is a redirection, you will not get\noutput in the tcp_socket. You should generate a bugzilla on selinux-policy, and\nit will get routed to the appropriate package. You can safely ignore this avc.\n\nAllowing Access:\n\nYou can generate a local policy module to allow this access - see FAQ\n(http://fedora.redhat.com/docs/selinux-faq-fc5/#id2961385)\n\nAdditional Information:\n\nSource Context                system_u:system_r:setfiles_t:s0-s0:c0.c1023\nTarget Context                system_u:system_r:sshd_t:s0-s0:c0.c1023\nTarget Objects                tcp_socket [ tcp_socket ]\nSource                        restorecon\nSource Path                   /sbin/setfiles\nPort                          <Unknown>\nHost                          (removed)\nSource RPM Packages           policycoreutils-2.0.74-17.fc12\nTarget RPM Packages           \nPolicy RPM                    selinux-policy-3.6.32-49.fc12\nSelinux Enabled               True\nPolicy Type                   targeted\nEnforcing Mode                Permissive\nPlugin Name                   leaks\nHost Name                     (removed)\nPlatform                      Linux (removed) 2.6.31.5-127.fc12.i686.PAE\n                              #1 SMP Sat Nov 7 21:25:57 EST 2009 i686 i686\nAlert Count                   7\nFirst Seen                    Mon 23 Nov 2009 09:29:48 AM CST\nLast Seen                     Thu 26 Nov 2009 11:15:51 PM CST\nLocal ID                      78eca36e-a438-402f-b982-1b479a482522\nLine Numbers                  \n\nRaw Audit Messages            \n\nnode=(removed) type=AVC msg=audit(1259298951.440:34): avc:  denied  { read write } for  pid=6676 comm=''restorecon'' path=''socket:[68624]'' dev=sockfs ino=68624 scontext=system_u:system_r:setfiles_t:s0-s0:c0.c1023 tcontext=system_u:system_r:sshd_t:s0-s0:c0.c1023 tclass=tcp_socket\n\nnode=(removed) type=SYSCALL msg=audit(1259298951.440:34): arch=40000003 syscall=11 success=yes exit=0 a0=961e0b8 a1=961de68 a2=961e140 a3=961de68 items=0 ppid=6675 pid=6676 auid=500 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=(none) ses=3 comm=''restorecon'' exe=''/sbin/setfiles'' subj=system_u:system_r:setfiles_t:s0-s0:c0.c1023 key=(null)\n\n\n\nHash String generated from  selinux-policy-3.6.32-49.fc12,leaks,restorecon,setfiles_t,sshd_t,tcp_socket,read,write\naudit2allow suggests:\n\n#============= setfiles_t ==============\nallow setfiles_t sshd_t:tcp_socket { read write };\n\n--- Additional comment from dj@www.uk.linux.org on 2009-11-27 00:33:00 EST ---\n\nThis AVC gets generated after I reboot or login (not sure which).  Appears to happen every boot up.\n\n--- Additional comment from dwalsh@redhat.com on 2009-11-30 09:56:36 EST ---\n\nAre you using ldap for user database?  There was a known problem with nss_ldap leaking file descriptors in previous versions of Fedora, and I wonder if it is back.\n\n--- Additional comment from dj@www.uk.linux.org on 2009-11-30 11:37:54 EST ---\n\nI have 389-ds installed and running, but not in used for login auth.  nss_ldap-264-8.fc12.i686 is installed if that is sufficient to trigger it.\n\n--- Additional comment from dwalsh@redhat.com on 2009-11-30 14:28:53 EST ---\n\nTomas do you have any ideas?\n\n--- Additional comment from tmraz@redhat.com on 2009-11-30 15:23:59 EST ---\n\nUnfortunately I don't. The sshd should not spawn restorecon at all - at least I do not see any such call in the openssh sources in the F12 package. But I have no other idea how restorecon could get an sshd_t labeled tcp socket even from nss_ldap as sshd is started by default and it would occupy it. And as the reporter is not using the ldap for user info it would not call nss_ldap anyway.\n\nd.j., could you please just after reboot try too look up the process with the pid from the AVC ppid number? In the AVC above it would be pid 6675.\n\n--- Additional comment from dj@www.uk.linux.org on 2009-11-30 19:44:08 EST ---\n\n\nIt happened again, recently - but I cannot find what the PID wss:\n\nNov 30 16:23:24 embla setroubleshoot: SELinux is preventing /sbin/setfiles access to a leaked tcp_socket file descriptor. For complete SELinux messages. run sealert -l 78eca36e-a438-402f-b982-1b479a482522\n\n\n# sealert -l 78eca36e-a438-402f-b982-1b479a482522\n\nSummary:\n\nSELinux is preventing /sbin/setfiles access to a leaked tcp_socket file\ndescriptor.\n\nDetailed Description:\n\n[SELinux is in permissive mode. This access was not denied.]\n\nSELinux denied access requested by the restorecon command. It looks like this is\neither a leaked descriptor or restorecon output was redirected to a file it is\nnot allowed to access. Leaks usually can be ignored since SELinux is just\nclosing the leak and reporting the error. The application does not use the\ndescriptor, so it will run properly. If this is a redirection, you will not get\noutput in the tcp_socket. You should generate a bugzilla on selinux-policy, and\nit will get routed to the appropriate package. You can safely ignore this avc.\n\nAllowing Access:\n\nYou can generate a local policy module to allow this access - see FAQ\n(http://fedora.redhat.com/docs/selinux-faq-fc5/#id2961385)\n\nAdditional Information:\n\nSource Context                system_u:system_r:setfiles_t:s0-s0:c0.c1023\nTarget Context                system_u:system_r:sshd_t:s0-s0:c0.c1023\nTarget Objects                tcp_socket [ tcp_socket ]\nSource                        restorecon\nSource Path                   /sbin/setfiles\nPort                          <Unknown>\nHost                          embla.ether.net\nSource RPM Packages           policycoreutils-2.0.74-17.fc12\nTarget RPM Packages           \nPolicy RPM                    selinux-policy-3.6.32-49.fc12\nSelinux Enabled               True\nPolicy Type                   targeted\nEnforcing Mode                Permissive\nPlugin Name                   leaks\nHost Name                     embla.ether.net\nPlatform                      Linux embla.ether.net 2.6.31.6-145.fc12.i686.PAE\n                              #1 SMP Sat Nov 21 16:12:37 EST 2009 i686 i686\nAlert Count                   10\nFirst Seen                    Mon Nov 23 09:29:48 2009\nLast Seen                     Mon Nov 30 16:23:22 2009\nLocal ID                      78eca36e-a438-402f-b982-1b479a482522\nLine Numbers                  \n\nRaw Audit Messages            \n\nnode=embla.ether.net type=AVC msg=audit(1259619802.358:67384): avc:  denied  { read write } for  pid=19824 comm=''restorecon'' path=''socket:[185887]'' dev=sockfs ino=185887 scontext=system_u:system_r:setfiles_t:s0-s0:c0.c1023 tcontext=system_u:system_r:sshd_t:s0-s0:c0.c1023 tclass=tcp_socket\n\nnode=embla.ether.net type=SYSCALL msg=audit(1259619802.358:67384): arch=40000003 syscall=11 success=yes exit=0 a0=8d4b0b8 a1=8d4ae68 a2=8d4b140 a3=8d4ae68 items=0 ppid=19823 pid=19824 auid=500 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=(none) ses=325 comm=''restorecon'' exe=''/sbin/setfiles'' subj=system_u:system_r:setfiles_t:s0-s0:c0.c1023 key=(null)\n\n--- Additional comment from tmraz@redhat.com on 2009-12-01 02:42:31 EST ---\n\nThe pid of the parent of the setfiles process is shown in the SYSCALL audit message in the ppid value. In the recent case it was 19823.\n\nPlease try to get the AVC again and try to find the process.\n\n--- Additional comment from carl.gaudreault@gmail.com on 2010-01-16 22:18:49 EST ---\n\n---\n\nFedora Bugzappers volunteer triage team\nhttps://fedoraproject.org/wiki/BugZappers\n\n--- Additional comment from dj@www.uk.linux.org on 2010-01-17 01:09:12 EST ---\n\nI can reproduce the message at will, easily.  I have not been able to find the pid mentioned in the avc.\n\nAdding a policy with this makes no more avc's show:\n\nallow setfiles_t sshd_t:tcp_socket { read write };\n\nFor me to reproduce the avc, i remove the local-policy, and boot.  Instant avc.  By the time I have a prompt, the pid mentioned is long gone.\n\n--- Additional comment from carl.gaudreault@gmail.com on 2010-01-17 01:27:35 EST ---\n\nWhat version of the selinux-policy are you using now ?\n\n--- Additional comment from dj@www.uk.linux.org on 2010-01-17 01:59:37 EST ---\n\n\nJust now removed my local-hack, rebooted, and logged in.\n\n# ausearch -m avc -ts today\n----\ntime->Sun Jan 17 00:57:06 2010\ntype=SYSCALL msg=audit(1263711426.549:26): arch=40000003 syscall=11 success=yes exit=0 a0=8e27980 a1=8e27730 a2=8e27a08 a3=8e27730 items=0 ppid=3920 pid=3921 auid=500 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=(none) ses=3 comm=''restorecon'' exe=''/sbin/setfiles'' subj=system_u:system_r:setfiles_t:s0-s0:c0.c1023 key=(null)\ntype=AVC msg=audit(1263711426.549:26): avc:  denied  { read write } for  pid=3921 comm=''restorecon'' path=''socket:[20532]'' dev=sockfs ino=20532 scontext=system_u:system_r:setfiles_t:s0-s0:c0.c1023 tcontext=system_u:system_r:sshd_t:s0-s0:c0.c1023 tclass=tcp_socket\n\npid=3921 is long gone.\n\nselinux-policy-3.6.32-66.fc12.noarch\n\n--- Additional comment from tmraz@redhat.com on 2010-01-18 03:35:35 EST ---\n\nWhat about the pid 3920 - the pid of the parent process?\n\n--- Additional comment from jchadima@redhat.com on 2010-01-18 04:07:47 EST ---\n\nCan you describe how to reproduce the bug.\n\n--- Additional comment from dj@www.uk.linux.org on 2010-01-18 10:16:10 EST ---\n\npid 3920 is also long gone.\n\nJan- Reproduce is simple.  Happens on every boot/login without the policy login mentioned above.  Nothing special required.\n\n--- Additional comment from tmraz@redhat.com on 2010-01-18 10:20:33 EST ---\n\nThe only place I can think of that would spawn such restorecon process is some PAM module. What PAM modules do you have in /etc/pam.d/sshd and /etc/pam.d/system-auth?\n\n--- Additional comment from dj@www.uk.linux.org on 2010-01-18 11:50:23 EST ---\n\n% cat /etc/pam.d/system-auth\n#%PAM-1.0\n# This file is auto-generated.\n# User changes will be destroyed the next time authconfig is run.\nauth        required      pam_env.so\nauth        sufficient    pam_unix.so nullok try_first_pass\nauth        requisite     pam_succeed_if.so uid >= 500 quiet\nauth        required      pam_deny.so\n\naccount     required      pam_access.so\naccount     required      pam_unix.so\naccount     sufficient    pam_localuser.so\naccount     sufficient    pam_succeed_if.so uid < 500 quiet\naccount     required      pam_permit.so\n\npassword    requisite     pam_cracklib.so try_first_pass retry=3\npassword    sufficient    pam_unix.so sha512 shadow nullok try_first_pass use_authtok\npassword    required      pam_deny.so\n\nsession     optional      pam_keyinit.so revoke\nsession     required      pam_limits.so\nsession     optional      pam_mkhomedir.so\nsession     [success=1 default=ignore] pam_succeed_if.so service in crond quiet use_uid\nsession     required      pam_unix.so\n\n\n% cat /etc/pam.d/sshd\n#%PAM-1.0\nauth       required     pam_sepermit.so\n#auth       required     pam_tally2.so deny=4 even_deny_root unlock_time=1200\nauth       required     pam_tally2.so deny=5 onerr=fail unlock_time=1200\nauth       required     pam_cap.so debug\nauth       include      password-auth\naccount    required     pam_nologin.so\naccount    required     pam_tally2.so\naccount    include      password-auth\npassword   include      password-auth\n# pam_selinux.so close should be the first session rule\nsession    required     pam_selinux.so close\nsession    required     pam_loginuid.so\n# pam_selinux.so open should only be followed by sessions to be executed in the user context\nsession    required     pam_selinux.so open env_params\nsession    optional     pam_keyinit.so force revoke\nsession    required     pam_namespace.so\nsession    include      password-auth\n\n--- Additional comment from dwalsh@redhat.com on 2010-01-18 12:16:47 EST ---\n\nWhat about password-auth?\n\n--- Additional comment from dj@www.uk.linux.org on 2010-01-18 13:26:38 EST ---\n\n% cat /etc/pam.d/password-auth\n#%PAM-1.0\n# This file is auto-generated.\n# User changes will be destroyed the next time authconfig is run.\nauth        required      pam_env.so\nauth        sufficient    pam_unix.so nullok try_first_pass\nauth        requisite     pam_succeed_if.so uid >= 500 quiet\nauth        required      pam_deny.so\n\naccount     required      pam_access.so\naccount     required      pam_unix.so\naccount     sufficient    pam_localuser.so\naccount     sufficient    pam_succeed_if.so uid < 500 quiet\naccount     required      pam_permit.so\n\npassword    requisite     pam_cracklib.so try_first_pass retry=3\npassword    sufficient    pam_unix.so sha512 shadow nullok try_first_pass use_authtok\npassword    required      pam_deny.so\n\nsession     optional      pam_keyinit.so revoke\nsession     required      pam_limits.so\nsession     optional      pam_mkhomedir.so\nsession     [success=1 default=ignore] pam_succeed_if.so service in crond quiet use_uid\nsession     required      pam_unix.so\n\n--- Additional comment from tmraz@redhat.com on 2010-01-18 13:56:15 EST ---\n\nI see there is pam_namespace module in the sshd session stack. So this is probably the source of the restorecon call as it calls restorecon on initialization of a new directory instance.\n\nAs this happens when a pam_open_session() is called, sshd should be fixed to set FD_CLOEXEC on the socket fd obtained from accept() in server_accept_loop() function.\n\n--- Additional comment from updates@fedoraproject.org on 2010-01-19 12:37:30 EST ---\n\nopenssh-5.3p1-15.fc12 has been submitted as an update for Fedora 12.\nhttp://admin.fedoraproject.org/updates/openssh-5.3p1-15.fc12\n\n--- Additional comment from jchadima@redhat.com on 2010-01-19 12:39:49 EST ---\n\ncan you test the openssh-5.3p1-15.fc12 and report if it works.\n\n--- Additional comment from dj@www.uk.linux.org on 2010-01-20 01:16:33 EST ---\n\n\nWAS: openssh-5.2p1-31.fc12.i686\n\n# ausearch -m avc -ts yesterday\n----\ntime->Tue Jan 19 23:59:36 2010\ntype=SYSCALL msg=audit(1263967176.801:55086): arch=40000003 syscall=11 success=yes exit=0 a0=9298990 a1=9298740 a2=9298a18 a3=9298740 items=0 ppid=2809 pid=2810 auid=500 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=(none) ses=2 comm=''restorecon'' exe=''/sbin/setfiles'' subj=system_u:system_r:setfiles_t:s0-s0:c0.c1023 key=(null)\ntype=AVC msg=audit(1263967176.801:55086): avc:  denied  { read write } for  pid=2810 comm=''restorecon'' path=''socket:[14943]'' dev=sockfs ino=14943 scontext=system_u:system_r:setfiles_t:s0-s0:c0.c1023 tcontext=system_u:system_r:sshd_t:s0-s0:c0.c1023 tclass=tcp_socket\n----\ntime->Tue Jan 19 23:59:36 2010\ntype=SYSCALL msg=audit(1263967176.907:55087): arch=40000003 syscall=11 success=yes exit=0 a0=9f359a8 a1=9f35580 a2=9f35a18 a3=9f35580 items=0 ppid=2815 pid=2816 auid=500 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=(none) ses=2 comm=''restorecon'' exe=''/sbin/setfiles'' subj=system_u:system_r:setfiles_t:s0-s0:c0.c1023 key=(null)\ntype=AVC msg=audit(1263967176.907:55087): avc:  denied  { read write } for  pid=2816 comm=''restorecon'' path=''socket:[14943]'' dev=sockfs ino=14943 scontext=system_u:system_r:setfiles_t:s0-s0:c0.c1023 tcontext=system_u:system_r:sshd_t:s0-s0:c0.c1023 tclass=tcp_socket\n\nPIDs 2810 and 2816 are long gone before I have a prompt.\n\n\napply new openssh, reboot.  new avcs:\n\n# rpm -q openssh\nopenssh-5.3p1-15.fc12.i686\n\n# ausearch -m avc -ts today\n----\ntime->Wed Jan 20 00:05:52 2010\ntype=SYSCALL msg=audit(1263967552.097:58496): arch=40000003 syscall=11 success=yes exit=0 a0=9cc3990 a1=9cc3740 a2=9cc3a18 a3=9cc3740 items=0 ppid=3541 pid=3542 auid=500 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=(none) ses=3 comm=''restorecon'' exe=''/sbin/setfiles'' subj=system_u:system_r:setfiles_t:s0-s0:c0.c1023 key=(null)\ntype=AVC msg=audit(1263967552.097:58496): avc:  denied  { read write } for  pid=3542 comm=''restorecon'' path=''socket:[16577]'' dev=sockfs ino=16577 scontext=system_u:system_r:setfiles_t:s0-s0:c0.c1023 tcontext=system_u:system_r:sshd_t:s0-s0:c0.c1023 tclass=tcp_socket\n----\ntime->Wed Jan 20 00:05:52 2010\ntype=SYSCALL msg=audit(1263967552.202:58497): arch=40000003 syscall=11 success=yes exit=0 a0=84099a8 a1=8409580 a2=8409a18 a3=8409580 items=0 ppid=3547 pid=3548 auid=500 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=(none) ses=3 comm=''restorecon'' exe=''/sbin/setfiles'' subj=system_u:system_r:setfiles_t:s0-s0:c0.c1023 key=(null)\ntype=AVC msg=audit(1263967552.202:58497): avc:  denied  { read write } for  pid=3548 comm=''restorecon'' path=''socket:[16577]'' dev=sockfs ino=16577 scontext=system_u:system_r:setfiles_t:s0-s0:c0.c1023 tcontext=system_u:system_r:sshd_t:s0-s0:c0.c1023 tclass=tcp_socket\n\n\nPIDs 3542 and 3548 are gone before I have a prompt.\n\n\n% pstree -p |grep ssh\n        |-ssh-agent(3592)\n        |-sshd(1885)---sshd(3538)---sshd(3553)---zsh(3554)-+-grep(4503)\n\n\nAudit2allow still wants:\n\n#============= setfiles_t ==============\nallow setfiles_t sshd_t:tcp_socket { read write };\n\n--- Additional comment from tmraz@redhat.com on 2010-01-20 02:40:51 EST ---\n\nUnfortunately with the cloexec set on the listen socket I am out of the ideas how the sshd_t socket could leak. Note that the listening socket is explicitely closed in the child process that is handling the incomming connection.\n\n--- Additional comment from dwalsh@redhat.com on 2010-01-20 15:25:23 EST ---\n\nWhat about the accept socket.\n\n--- Additional comment from tmraz@redhat.com on 2010-01-20 16:46:12 EST ---\n\nDan, I made a typo above the sentence should be ''Unfortunately with the cloexec set on the accept socket....''\n\n--- Additional comment from updates@fedoraproject.org on 2010-01-20 19:12:04 EST ---\n\nopenssh-5.3p1-15.fc12 has been pushed to the Fedora 12 testing repository.  If problems still persist, please make note of it in this bug report.\n If you want to test the update, you can install it with \n su -c 'yum --enablerepo=updates-testing update openssh'.  You can provide feedback for this update here: http://admin.fedoraproject.org/updates/F12/FEDORA-2010-0857\n\n--- Additional comment from dj@www.uk.linux.org on 2010-01-21 23:36:40 EST ---\n\nTo be clear, that is the version I tested in #22 - and it still reports AVCs and leaks.\n\n--- Additional comment from tmraz@redhat.com on 2010-01-22 02:51:41 EST ---\n\nIf you comment out pam_namespace in /etc/pam.d/sshd, does it still happen?\n\n--- Additional comment from dj@www.uk.linux.org on 2010-01-22 22:08:12 EST ---\n\n\nUpdated to openssh 5.3p1-16.fc12 -- Did not resolve.\n\nCommented out pam_namespace -- Did stop the AVCs.\n\nWhat tipped you off that it might be the culprit?\n\n--- Additional comment from jchadima@redhat.com on 2010-01-25 14:15:39 EST ---\n\nplease can you test openssh 5.3p1-20.fc13 from rawhide?\n\n--- Additional comment from dj@www.uk.linux.org on 2010-01-27 08:14:03 EST ---\n\n\nNo AVC with 5.3p1-20.\n\nWas this an upstream patch?\n\n--- Additional comment from jchadima@redhat.com on 2010-01-28 04:10:50 EST ---\n\nnot yet, I'll make update tp F-12 and send it upstream ASAP, thanks for the help.\n\n--- Additional comment from updates@fedoraproject.org on 2010-01-28 07:12:16 EST ---\n\nopenssh-5.3p1-18.fc12 has been submitted as an update for Fedora 12.\nhttp://admin.fedoraproject.org/updates/openssh-5.3p1-18.fc12",
          "author": "jchadima@redhat.com",
          "creation_time": "20100128T12:34:48",
          "bug_id": "559542",
          "creator_id": "276623",
          "time": "20100128T12:34:48",
          "id": "2615383",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20100128T12:35:03",
          "bug_id": "559542",
          "creator_id": "193983",
          "time": "20100128T12:35:03",
          "id": "2615385",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "pm-rhel@redhat.com",
          "text": "This request was evaluated by Red Hat Product Management for inclusion in a Red\nHat Enterprise Linux major release.  Product Management has requested further\nreview of this request by Red Hat Engineering, for potential inclusion in a Red\nHat Enterprise Linux Major release.  This request is not yet committed for\ninclusion.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20100128T12:46:11",
          "bug_id": "559542",
          "creator_id": "193983",
          "time": "20100128T12:46:11",
          "id": "2615396",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "jchadima@redhat.com",
          "text": "added patch from f-12",
          "author": "jchadima@redhat.com",
          "creation_time": "20100128T14:17:21",
          "bug_id": "559542",
          "creator_id": "276623",
          "time": "20100128T14:17:21",
          "id": "2615555",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this bug is proposed for the current release and its status has\nchanged to MODIFIED, the devel_ack flag has been set to +.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20100128T14:35:38",
          "bug_id": "559542",
          "creator_id": "193983",
          "time": "20100128T14:35:38",
          "id": "2615593",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "releng-rhel@redhat.com",
          "text": "Fixed in 'openssh-5.3p1-12.3'. 'openssh-5.3p1-14.el6' included in compose 'RHEL6.0-20100422.12'.\nMoving to ON_QA.",
          "author": "releng-rhel@redhat.com",
          "creation_time": "20100423T04:55:28",
          "bug_id": "559542",
          "creator_id": "286012",
          "time": "20100423T04:55:28",
          "id": "2796002",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "mvadkert@redhat.com",
          "text": "VERIFIED as fixed in openssh-5.3p1-19.el6\n\nNEW PACKAGE openssh-5.3p1-19.el6\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'echo 'session    required     pam_namespace.so debug' >> /etc/pam.d/sshd'\n:: [   PASS   ] :: Running 'echo '$HOME    $HOME/$USER.inst/ user' >> /etc/security/namespace.conf'\n:: [   PASS   ] :: Running 'sed -i 's/exit 0/lsof -p $$ \\&>\\~\\/testout; exit 0/g' /etc/security/namespace.init'\n:: [   PASS   ] :: Running './ssh.exp'\n:: [   PASS   ] :: File '/root/root.inst/root/testout' should not contain 'TCP'\n:: [   LOG    ] :: Duration: 7s\n:: [   LOG    ] :: Assertions: 5 good, 0 bad\n:: [   PASS   ] :: RESULT: Test\n\n\nOLD PACKAGE openssh-5.3p1-11.el6\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'echo 'session    required     pam_namespace.so debug' >> /etc/pam.d/sshd'\n:: [   PASS   ] :: Running 'echo '$HOME    $HOME/$USER.inst/ user' >> /etc/security/namespace.conf'\n:: [   PASS   ] :: Running 'sed -i 's/exit 0/lsof -p $$ \\&>\\~\\/testout; exit 0/g' /etc/security/namespace.init'\n:: [   PASS   ] :: Running './ssh.exp'\n:: [   FAIL   ] :: File '/root/root.inst/root/testout' should not contain 'TCP' \n:: [   LOG    ] :: Duration: 6s\n:: [   LOG    ] :: Assertions: 4 good, 1 bad\n:: [   FAIL   ] :: RESULT: Test",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100817T16:16:38",
          "bug_id": "559542",
          "creator_id": "271572",
          "time": "20100817T16:16:38",
          "id": "3085994",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "releng-rhel@redhat.com",
          "text": "Red Hat Enterprise Linux 6.0 is now available and should resolve\nthe problem described in this bug report. This report is therefore being closed\nwith a resolution of CURRENTRELEASE. You may reopen this bug report if the\nsolution does not work for you.",
          "author": "releng-rhel@redhat.com",
          "creation_time": "20101110T21:16:54",
          "bug_id": "559542",
          "creator_id": "286012",
          "time": "20101110T21:16:54",
          "id": "3297339",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "i386",
      "version": [
        "6.0"
      ],
      "cc": [
        "carl.gaudreault@gmail.com",
        "drjohnson1@gmail.com",
        "dwalsh@redhat.com",
        "jchadima@redhat.com",
        "mgrepl@redhat.com",
        "mvadkert@redhat.com",
        "nalin@redhat.com",
        "tmraz@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "642935"
      ],
      "qa_contact": "mvadkert@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "541809",
      "groups": [
        "rhel_beta"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "setroubleshoot_trace_hash:f44ee62283ebf89a4fdaed79440f1e815371b4e67747813d6acec6d34d132ad9",
      "cf_crm": "",
      "summary": "SELinux is preventing /sbin/setfiles access to a leaked tcp_socket file descriptor.",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.0.0",
          "modification_date": "20100204T20:10:48",
          "type_id": "62",
          "is_active": "0",
          "creation_date": "20100128T12:35:01",
          "id": "550914",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20100128T12:46:09",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20100128T12:46:09",
          "id": "550916",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20100128T14:35:36",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20100128T12:49:00",
          "id": "550917",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20100204T19:55:47",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20100128T14:49:42",
          "id": "551001",
          "setter": "ohudlick@redhat.com"
        }
      ],
      "last_change_time": "20101110T21:16:54",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509333-3loO7KPsvqkCThb1XAoGfNNUr9WvbaeUVJlmoKq94tU",
      "cf_partner": [],
      "cf_last_closed": "20101110T21:16:54",
      "resolution": "CURRENTRELEASE",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [
        "559655"
      ],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20100210T16:11:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "563574",
      "cf_release_notes": "",
      "priority": "low",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-13.el6",
      "creator": "jchadima@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "jchadima@redhat.com",
          "text": "+++ This bug was initially created as a clone of Bug #559655 +++\n\nCreated an attachment (id=387380)\npatch to have openssh call OPENSSL_config()\n\nDescription of problem:\n\nI have several systems that have a VIA C7 CPU, which has a very fast onboard AES crypto engine.  The OpenSSL libs support this via the 'padlock' engine.  With a tweak to the openssl.cnf, the 'openssl' tool and suitably-enabled applications can take advantage of this engine for vast increases in throughput. \n\nOpenSSH supposedly is one of these applications, but as it's shipped, is lacking a crucial library call to actually load up the openssl.cnf file and switch over to the padlock engine.  \n\nVersion-Release number of selected component (if applicable):\n\nAll versions of openssh are affected, including upstream development head. I've already reported this upstream, but in the mean time it would be nice if this would be applied in Fedora.\n\n    upstream ticket:  https://bugzilla.mindrot.org/show_bug.cgi?id=1707\n\nSteps to Reproduce:\n1.  Tweak /etc/pki/tls/openssl.cnf to enable padlock engine\n\n  openssl_conf = openssl_init\n  [openssl_init]\n  engines = openssl_engines\n  [openssl_engines]\n  padlock = padlock_engine\n  [padlock_engine]\n  default_algorithms = ALL\n  dynamic_path = /usr/lib/openssl/engines/libpadlock.so\n  init = 1\n\n2.  test 'openssl speed' to verify that engine works\n  \n  openssl speed -evp aes-128-ecb\n  \n3.  test openssh (via scp) to verify that it is using padlock engine\n    \n  dd if=/dev/zero count=100 bs=1M | ssh -c aes128-cbc localhost ''cat >/dev/null\nActual results:\n\n'openssl speed' without the hardware engine shows roughly 11MB/s throughput.  With padlock turned on, it jumps to 98MB/s-1.9GB/s depending on block size.  (yes, really, 1.9GB/s!)\n\nopenssh however shows no change in throughput or CPU utilization, roughly 5MB/s on this CPU.\n\nExpected results:\n\nopenssh should go faster.  With the attached patch applied, openssh's throughput jumps to over 12MB/s, clearly taking advantage of hardware crypto acceleration.  If the openssl.cnf file is tweaked to disable the hardware engine, throughput drops back down again.\n\nBasically, without this patch openssh will not use the hardware engine unless the openssl libraries are tweaked to use it by default.  See the upstream ticket for further details.\n\n--- Additional comment from pizza@shaftnet.org on 2010-01-28 12:16:04 EST ---\n\nFYI -- I modified F12's openssh-5.2p1-31.src.rpm to include this patch, and am using the resultant binaries for my tests.\n\n--- Additional comment from pizza@shaftnet.org on 2010-01-28 20:38:36 EST ---\n\nThis patch has been accepted upstream and the referenced bug ticket closed; it will go into openssh-5.4p1.",
          "author": "jchadima@redhat.com",
          "creation_time": "20100210T16:11:09",
          "bug_id": "563574",
          "creator_id": "276623",
          "time": "20100210T16:11:09",
          "id": "2641784",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20100210T16:32:47",
          "bug_id": "563574",
          "creator_id": "193983",
          "time": "20100210T16:32:47",
          "id": "2641863",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "pm-rhel@redhat.com",
          "text": "This request was evaluated by Red Hat Product Management for inclusion in a Red\nHat Enterprise Linux major release.  Product Management has requested further\nreview of this request by Red Hat Engineering, for potential inclusion in a Red\nHat Enterprise Linux Major release.  This request is not yet committed for\ninclusion.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20100210T16:53:23",
          "bug_id": "563574",
          "creator_id": "193983",
          "time": "20100210T16:53:23",
          "id": "2641926",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "ebenes@redhat.com",
          "text": "QA_ACK+, reproducer in comment #0",
          "author": "ebenes@redhat.com",
          "creation_time": "20100322T11:18:34",
          "bug_id": "563574",
          "creator_id": "203333",
          "time": "20100322T11:18:34",
          "id": "2729828",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "releng-rhel@redhat.com",
          "text": "Fixed in 'openssh-5.3p1-13.el6'. 'openssh-5.3p1-14.el6' included in compose 'RHEL6.0-20100422.12'.\nMoving to ON_QA.",
          "author": "releng-rhel@redhat.com",
          "creation_time": "20100423T04:55:34",
          "bug_id": "563574",
          "creator_id": "286012",
          "time": "20100423T04:55:34",
          "id": "2796003",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "mvadkert@redhat.com",
          "text": "Solomon, could you help us testing this on RHEL6 also? We have only one machine with VIA C7 and I'm not sure I will get access to it.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100723T07:10:08",
          "bug_id": "563574",
          "creator_id": "271572",
          "time": "20100723T07:10:08",
          "id": "3026703",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "mvadkert@redhat.com",
          "text": "Under RHEL6 I mean - RHEL6 Beta - you can find it here http://www.redhat.com/rhel/beta/",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100723T07:12:16",
          "bug_id": "563574",
          "creator_id": "271572",
          "time": "20100723T07:12:16",
          "id": "3026709",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "pizza@shaftnet.org",
          "text": "Okay, I can give it a whirl, but it'll take me a few days.    I still have the C7 box on my desk but it's lacking a few necessary bits (like a hard disk and memory).\n\nI also have access to a Via Nano system, but it's in ''production'' so I won't be able to drop the RHEL6 beta on it, but I'll at least be able to verify that the F12 variant of this little fix works.",
          "author": "pizza@shaftnet.org",
          "creation_time": "20100723T11:24:23",
          "bug_id": "563574",
          "creator_id": "198007",
          "time": "20100723T11:24:23",
          "id": "3027158",
          "is_private": "False"
        },
        {
          "count": "8",
          "creator": "pizza@shaftnet.org",
          "text": "FWIW the OpenSSL 'padlock' engine seems to be broken on 64-bit builds running on the Via Nano CPUs. Not sure if it's a Fedora/RHEL build problem or an upstream bug, but I can't report it upstream.\n\nSee #617539",
          "author": "pizza@shaftnet.org",
          "creation_time": "20100723T12:07:50",
          "bug_id": "563574",
          "creator_id": "198007",
          "time": "20100723T12:07:50",
          "id": "3027231",
          "is_private": "False"
        },
        {
          "count": "9",
          "creator": "pizza@shaftnet.org",
          "text": "Okay, it does NOT work.\n\nThe openssl-5.3p1-12.1.el6.i686 RPM does *not* include the patch necessary to take advantage of OpenSSL's hardware crypto support.  (This patch was merged upstream for the 5.4p1 release)\n\nI'm stuck with ~4.7MB/s throughput at 100% CPU utilization with my scp test and the 'openssl speed' test shows that it's clearly using the hardware engine.  (>500MB/s!)\n\nThe relevant patch in the F12 openssh-5.3p1-19 package is 'openssh-5.2p1-engine.patch'",
          "author": "pizza@shaftnet.org",
          "creation_time": "20100723T14:48:41",
          "bug_id": "563574",
          "creator_id": "198007",
          "time": "20100723T14:48:41",
          "id": "3027712",
          "is_private": "False"
        },
        {
          "count": "10",
          "creator": "mvadkert@redhat.com",
          "text": "Oh, looks like this should be fixed in >= openssh-5.3p1-13.el6. The Beta 2 refresh available here: http://www.redhat.com/rhel/beta/ should include openssh-5.3p1-18.el6. Looks like you have still package from Beta 1. Could you try please with Beta 2 refresh available at http://www.redhat.com/rhel/beta/.\nThanks!",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100726T08:15:49",
          "bug_id": "563574",
          "creator_id": "271572",
          "time": "20100726T08:15:49",
          "id": "3030484",
          "is_private": "False"
        },
        {
          "count": "11",
          "creator": "pizza@shaftnet.org",
          "text": "The big download button on that page is returning a 404 error....  :)",
          "author": "pizza@shaftnet.org",
          "creation_time": "20100726T14:48:55",
          "bug_id": "563574",
          "creator_id": "198007",
          "time": "20100726T14:48:55",
          "id": "3031610",
          "is_private": "False"
        },
        {
          "count": "12",
          "creator": "pizza@shaftnet.org",
          "text": "Okay, using openssh-5.3p1-18.el6.i686 and the following test:\n\n dd if=/dev/zero count=100 bs=1M | ssh -c aes128-cbc localhost ''cat >/dev/null\n\nWithout using hardware crypto:  4.4MB/s\nWith HW Crypto enabled in openssl.cnf:  10.3MB/s.\n\nThis system has a ''Centaur VIA Esther 1000MHz stepping 09'' processor.\n\n'openssl speed -evp aes-128-cbc' gives between 48MB/s and 685MB/s depending on the block size with HW crypto enabled, and between 7MB/s and 15MB/s without the HW crypto accelerator.\n\nI think it's save to say that this bug can be closed now, but do you guys plan on documenting how to enable the HW crypto engine?",
          "author": "pizza@shaftnet.org",
          "creation_time": "20100726T19:05:08",
          "bug_id": "563574",
          "creator_id": "198007",
          "time": "20100726T19:05:08",
          "id": "3032512",
          "is_private": "False"
        },
        {
          "count": "13",
          "creator": "mvadkert@redhat.com",
          "text": "Thanks Solomon for for your testing! I will open a bug to get this documented, but I'm not sure where it should be put. To say the truth I would like to see it as in man pages also in our Installation and Security Guide.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100727T07:39:15",
          "bug_id": "563574",
          "creator_id": "271572",
          "time": "20100727T07:39:15",
          "id": "3034039",
          "is_private": "False"
        },
        {
          "count": "14",
          "creator": "mvadkert@redhat.com",
          "text": "VERIFIED by customer, doing SanityOnly testing",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100727T07:40:19",
          "bug_id": "563574",
          "creator_id": "271572",
          "time": "20100727T07:40:19",
          "id": "3034042",
          "is_private": "True"
        },
        {
          "count": "15",
          "creator": "mvadkert@redhat.com",
          "text": "Reported: Bug 618524 - Document how to enable padlock engine for openssl",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100727T07:48:52",
          "bug_id": "563574",
          "creator_id": "271572",
          "time": "20100727T07:48:52",
          "id": "3034072",
          "is_private": "False"
        },
        {
          "count": "16",
          "creator": "mvadkert@redhat.com",
          "text": "Waiting for HW - VIA C7 netbook in Westford. Hopefully someone will make it available for me. I need it alos to verify bug 618524.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100730T07:13:55",
          "bug_id": "563574",
          "creator_id": "271572",
          "time": "20100730T07:13:55",
          "id": "3042769",
          "is_private": "True"
        },
        {
          "count": "17",
          "creator": "mvadkert@redhat.com",
          "text": "Sadly the HW won't be available for me.\n\nSanity only checks:\n* RPMdiff waived - http://rhel6rpmdiff.lab.eng.brq.redhat.com/run.php?runid=9453\n* patch applied:\n  * Wed Feb 10 2010 Jan F. Chadima <jchadima@redhat.com> - 5.3p1-13\n  - Allow to use hardware crypto if awailable (#563574)\n* RHTS tests pass - see latest TT - https://beaker.engineering.redhat.com/jobs/11136",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100812T08:36:10",
          "bug_id": "563574",
          "creator_id": "271572",
          "time": "20100812T08:36:10",
          "id": "3075364",
          "is_private": "True"
        },
        {
          "count": "18",
          "creator": "mvadkert@redhat.com",
          "text": "At last I got access to a machine with the CPU below and could verify this bug. Clearing SanityOnly and putting to VERIFIED.\n\nVIA C7-M Processor 1200MHz\n\nNEW PACKAGE openssh-5.3p1-20.el6.i686:\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: No acceleration\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'openssl engine -tt -c'\n:: [   PASS   ] :: Running '(time dd if=/dev/zero count=100 bs=1M | ssh -c aes128-cbc localhost ''cat >/dev/null'') &> /tmp/tmp.2aR9SEMDVE'\n:: [   PASS   ] :: Running 'SPEED=4.3'\n:: [   LOG    ] :: Speed w/o IBMCA: 4.3 MB/s\n:: [   LOG    ] :: Duration: 26s\n:: [   LOG    ] :: Assertions: 3 good, 0 bad\n:: [   PASS   ] :: RESULT: No acceleration\n:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: VIA PADLOCK acceleration\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'cp -f openssl_padlock.cnf /etc/pki/tls/openssl.cnf'\n:: [   PASS   ] :: Running 'openssl engine -tt -c'\n:: [   PASS   ] :: Running '(time dd if=/dev/zero count=100 bs=1M | ssh -c aes128-cbc localhost ''cat >/dev/null'') &> /tmp/tmp.SdEQwdjoaS'\n:: [   PASS   ] :: Running 'SPEEDN=9.1'\n:: [   LOG    ] :: Speed with IBMCA: 9.1 MB/s\n:: [   PASS   ] :: Running 'perl -e ''if ( 4.3*1.5 < 9.1 ) { print 'PASS'; } else { print 'FAIL'; }'' &> /tmp/tmp.2aR9SEMDVE'\n:: [   PASS   ] :: File '/tmp/tmp.2aR9SEMDVE' should contain 'PASS'\n:: [   LOG    ] :: Duration: 14s\n:: [   LOG    ] :: Assertions: 6 good, 0 bad\n:: [   PASS   ] :: RESULT: VIA PADLOCK acceleration\n\n\nOLD PACKAGE openssh-5.3p1-12.el6.i686:\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: No acceleration\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'openssl engine -tt -c'\n:: [   PASS   ] :: Running '(time dd if=/dev/zero count=100 bs=1M | ssh -c aes128-cbc localhost ''cat >/dev/null'') &> /tmp/tmp.LnZsnsPI4x'\n:: [   PASS   ] :: Running 'SPEED=1.1'\n:: [   LOG    ] :: Speed w/o IBMCA: 1.1 MB/s\n:: [   LOG    ] :: Duration: 1m 35s\n:: [   LOG    ] :: Assertions: 3 good, 0 bad\n:: [   PASS   ] :: RESULT: No acceleration\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: VIA PADLOCK acceleration\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'cp -f openssl_padlock.cnf /etc/pki/tls/openssl.cnf'\n:: [   PASS   ] :: Running 'openssl engine -tt -c'\n:: [   PASS   ] :: Running '(time dd if=/dev/zero count=100 bs=1M | ssh -c aes128-cbc localhost ''cat >/dev/null'') &> /tmp/tmp.zD8mAbU1Gj'\n:: [   PASS   ] :: Running 'SPEEDN=1.2'\n:: [   LOG    ] :: Speed with IBMCA: 1.2 MB/s\n:: [   PASS   ] :: Running 'perl -e ''if ( 1.1*1.5 < 1.2 ) { print 'PASS'; } else { print 'FAIL'; }'' &> /tmp/tmp.LnZsnsPI4x'\n:: [   FAIL   ] :: File '/tmp/tmp.LnZsnsPI4x' should contain 'PASS' \n:: [   LOG    ] :: Duration: 1m 28s\n:: [   LOG    ] :: Assertions: 5 good, 1 bad\n:: [   FAIL   ] :: RESULT: VIA PADLOCK acceleration",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100907T08:23:12",
          "bug_id": "563574",
          "creator_id": "271572",
          "time": "20100907T08:23:12",
          "id": "3129201",
          "is_private": "False"
        },
        {
          "count": "19",
          "creator": "releng-rhel@redhat.com",
          "text": "Red Hat Enterprise Linux 6.0 is now available and should resolve\nthe problem described in this bug report. This report is therefore being closed\nwith a resolution of CURRENTRELEASE. You may reopen this bug report if the\nsolution does not work for you.",
          "author": "releng-rhel@redhat.com",
          "creation_time": "20101110T21:16:57",
          "bug_id": "563574",
          "creator_id": "286012",
          "time": "20101110T21:16:57",
          "id": "3297340",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.0"
      ],
      "cc": [
        "jchadima@redhat.com",
        "mgrepl@redhat.com",
        "mvadkert@redhat.com",
        "pizza@shaftnet.org",
        "sgrubb@redhat.com",
        "tmraz@redhat.com"
      ],
      "cf_verified": [
        "Customer"
      ],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "mvadkert@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "559655",
      "groups": [
        "rhel_beta"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "Allow OpenSSH to use hardware crpyto engine if available.",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.0.0",
          "modification_date": "20100322T11:40:50",
          "type_id": "62",
          "is_active": "0",
          "creation_date": "20100210T16:32:45",
          "id": "558207",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20100210T16:53:22",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20100210T16:53:22",
          "id": "558221",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20100318T15:09:38",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20100210T16:56:15",
          "id": "558224",
          "setter": "sgrubb@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20100322T11:18:34",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20100318T15:30:02",
          "id": "576514",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20101110T21:16:57",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509334-g9TL6VY3gHmlnctjrZujrOmDum7ar4uw5ngna1CTajQ",
      "cf_partner": [],
      "cf_last_closed": "20101110T21:16:57",
      "resolution": "CURRENTRELEASE",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20100520T14:27:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "594084",
      "cf_release_notes": "",
      "priority": "low",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-15.el6",
      "creator": "pvrabec@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "pvrabec@redhat.com",
          "text": "Description of problem:\nPlease fix user/group creation in your spec file[1]. There were problems when (UID != GID) && (UID<200) [2]. For example: tryitd:x:194:482:TryIt:/:/sbin/nologin\n\nProblem was caused by change/fix of shadow-utis behaviour. useradd does not create group with same GID as user's UID for IDs < 200 (static/reserved) unless it's done this way:\n\ngetent group qemu >/dev/null || groupadd -g 107 -r qemu\ngetent passwd qemu >/dev/null || \\\n  useradd -r -u 107 -g qemu -G kvm -d / -s /sbin/nologin \\\n    -c ''qemu user'' qemu\n\n\nThis issue should be fixed as soon as possible. Note, it can't be resolved by any update once we have RHEL6 GA, thnx..\n\n--------\n[1] https://fedoraproject.org/wiki/Packaging:UsersAndGroups \n[2] https://bugzilla.redhat.com/show_bug.cgi?id=593683",
          "author": "pvrabec@redhat.com",
          "creation_time": "20100520T14:27:22",
          "bug_id": "594084",
          "creator_id": "167999",
          "time": "20100520T14:27:22",
          "id": "2859907",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "updates@fedoraproject.org",
          "text": "openssh-5.4p1-2.fc13 has been submitted as an update for Fedora 13.\nhttp://admin.fedoraproject.org/updates/openssh-5.4p1-2.fc13",
          "author": "updates@fedoraproject.org",
          "creation_time": "20100521T14:02:09",
          "bug_id": "594084",
          "creator_id": "184232",
          "time": "20100521T14:02:09",
          "id": "2864111",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "sgrubb@redhat.com",
          "text": "Devel Ack given. Please fix this in Fedora also if not already corrected. Thanks.",
          "author": "sgrubb@redhat.com",
          "creation_time": "20100521T14:41:58",
          "bug_id": "594084",
          "creator_id": "168751",
          "time": "20100521T14:41:58",
          "id": "2864222",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "jchadima@redhat.com",
          "text": "(In reply to comment #2)\n> Devel Ack given. Please fix this in Fedora also if not already corrected.\nAlready done",
          "author": "jchadima@redhat.com",
          "creation_time": "20100524T05:27:15",
          "bug_id": "594084",
          "creator_id": "276623",
          "time": "20100524T05:27:15",
          "id": "2866872",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "pm-rhel@redhat.com",
          "text": "This request was evaluated by Red Hat Product Management for inclusion in a Red\nHat Enterprise Linux major release.  Product Management has requested further\nreview of this request by Red Hat Engineering, for potential inclusion in a Red\nHat Enterprise Linux Major release.  This request is not yet committed for\ninclusion.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20100524T08:26:01",
          "bug_id": "594084",
          "creator_id": "193983",
          "time": "20100524T08:26:01",
          "id": "2867129",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "jchadima@redhat.com",
          "text": "Updated according to recommendation.",
          "author": "jchadima@redhat.com",
          "creation_time": "20100524T09:08:06",
          "bug_id": "594084",
          "creator_id": "276623",
          "time": "20100524T09:08:06",
          "id": "2867198",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "releng-rhel@redhat.com",
          "text": "Fixed in 'openssh-5.3p1-15.el6', included in compose 'RHEL6.0-20100526.2'.\nMoving to ON_QA.",
          "author": "releng-rhel@redhat.com",
          "creation_time": "20100527T12:48:46",
          "bug_id": "594084",
          "creator_id": "286012",
          "time": "20100527T12:48:46",
          "id": "2882001",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "updates@fedoraproject.org",
          "text": "openssh-5.4p1-2.fc13 has been pushed to the Fedora 13 stable repository.  If problems still persist, please make note of it in this bug report.",
          "author": "updates@fedoraproject.org",
          "creation_time": "20100601T18:14:10",
          "bug_id": "594084",
          "creator_id": "184232",
          "time": "20100601T18:14:10",
          "id": "2892473",
          "is_private": "False"
        },
        {
          "count": "8",
          "creator": "ksrot@redhat.com",
          "text": "The bug has been verified.\n\nThe bug is fixed in openssh-5.3p1-19.el6.i686 included in compose 'RHEL6.0-20100730.5'.\nBug has been tested using RHTS test /CoreOS/openssh/Regression/bz594084-wrong-users-and-groups-creation-in-spec-file, Beaker job https://beaker.engineering.redhat.com/jobs/10960. \n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Setup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\nopenssh-5.3p1-19.el6.i686\n:: [   PASS   ] :: Checking for the presence of openssh rpm\nopenssh-server-5.3p1-19.el6.i686\n:: [   PASS   ] :: Checking for the presence of openssh-server rpm\n'f2f6dd82-a147-11df-a43c-001320f3f0c5'\nSetup result: PASS\n   metric: 0\n   Log: /tmp/beakerlib-245637/journal.txt\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Get sshd UID\nuid=74(sshd) gid=74(sshd) groups=74(sshd)\n:: [   PASS   ] :: Comparing fax UID and GID\n'f40ead80-a147-11df-a43c-001320f3f0c5'\nTest result: PASS",
          "author": "ksrot@redhat.com",
          "creation_time": "20100806T11:00:14",
          "bug_id": "594084",
          "creator_id": "286283",
          "time": "20100806T11:00:14",
          "id": "3062128",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "releng-rhel@redhat.com",
          "text": "Red Hat Enterprise Linux 6.0 is now available and should resolve\nthe problem described in this bug report. This report is therefore being closed\nwith a resolution of CURRENTRELEASE. You may reopen this bug report if the\nsolution does not work for you.",
          "author": "releng-rhel@redhat.com",
          "creation_time": "20101110T21:16:59",
          "bug_id": "594084",
          "creator_id": "286012",
          "time": "20101110T21:16:59",
          "id": "3297341",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.0"
      ],
      "cc": [
        "amarecek@redhat.com",
        "mvadkert@redhat.com",
        "sgrubb@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "593683"
      ],
      "qa_contact": "ksrot@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "wrong users and groups creation in spec file",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.0.0",
          "modification_date": "20100524T08:41:42",
          "type_id": "62",
          "is_active": "0",
          "creation_date": "20100520T14:34:13",
          "id": "609519",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20100524T08:26:00",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20100520T14:34:13",
          "id": "609521",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20100521T14:41:58",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20100520T14:34:13",
          "id": "609522",
          "setter": "sgrubb@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20100524T08:08:40",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20100520T14:34:13",
          "id": "609523",
          "setter": "amarecek@redhat.com"
        }
      ],
      "last_change_time": "20101110T21:16:59",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509334-GHch98SR7R4VhOZkye0bhiwLQbH8pHB3J-Ums_PQgm8",
      "cf_partner": [],
      "cf_last_closed": "20101110T21:16:59",
      "resolution": "CURRENTRELEASE",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20100601T20:10:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "598673",
      "cf_release_notes": "",
      "priority": "low",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "dwalsh@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "dwalsh@redhat.com",
          "text": "Description of problem:\n\nThis check being on was causing ssh testing with kerberos to break.  The kerberos library would prevent me from logging in if the servtab entry was not correct.",
          "author": "dwalsh@redhat.com",
          "creation_time": "20100601T20:10:42",
          "bug_id": "598673",
          "creator_id": "81625",
          "time": "20100601T20:10:42",
          "id": "2892848",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20100601T20:18:59",
          "bug_id": "598673",
          "creator_id": "193983",
          "time": "20100601T20:18:59",
          "id": "2892877",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "pm-rhel@redhat.com",
          "text": "This request was evaluated by Red Hat Product Management for inclusion in a Red\nHat Enterprise Linux major release.  Product Management has requested further\nreview of this request by Red Hat Engineering, for potential inclusion in a Red\nHat Enterprise Linux Major release.  This request is not yet committed for\ninclusion.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20100602T18:25:56",
          "bug_id": "598673",
          "creator_id": "193983",
          "time": "20100602T18:25:56",
          "id": "2895754",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "nalin@redhat.com",
          "text": "On second thought, if a less careful admin stored keys for other services in\nthe same keytab file that sshd consulted, then a modified client could use\ntickets for one of those other services to log in through sshd.\n\nSo we mightn't want to do this if sshd isn't also verifying that the server name is ''host@...'' (or we can just assume that the admin's not going to put keys for non-''host'' services in /etc/krb5.keytab).",
          "author": "nalin@redhat.com",
          "creation_time": "20100602T18:29:25",
          "bug_id": "598673",
          "creator_id": "11001",
          "time": "20100602T18:29:25",
          "id": "2895765",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "jchadima@redhat.com",
          "text": "I prefer test the settings which may security influence in fedora before deployment in rhel.",
          "author": "jchadima@redhat.com",
          "creation_time": "20100607T09:12:16",
          "bug_id": "598673",
          "creator_id": "276623",
          "time": "20100607T09:12:16",
          "id": "2907407",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.0"
      ],
      "cc": [
        "nalin@redhat.com",
        "notting@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "GSSAPIStrictAcceptorCheck no should be the default in sshd",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.0.0",
          "modification_date": "20100602T18:08:32",
          "type_id": "62",
          "is_active": "0",
          "creation_date": "20100602T18:08:32",
          "id": "617642",
          "setter": "notting@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20100602T18:25:54",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20100601T20:29:23",
          "id": "616788",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20100602T18:28:14",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20100602T18:28:14",
          "id": "617653",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20100607T09:12:16",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509334-x1ScYlp3WNiMRhk5cWmILvS_TYnexz_EKcEYvUlMbs4",
      "cf_partner": [],
      "cf_last_closed": "20100607T09:12:16",
      "resolution": "WONTFIX",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [
        "595935"
      ],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20100602T05:30:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "598814",
      "cf_release_notes": "",
      "priority": "low",
      "severity": "high",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-17",
      "creator": "jchadima@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "jchadima@redhat.com",
          "text": "+++ This bug was initially created as a clone of Bug #595935 +++\n\nDescription of problem: I've setup (RSA)public key authentication via SSH for Fedora 12. When I upgraded to 13, Fedora refused to accept public key authentication and instead forced me to use password authentication which I usually turn off.\n\n\nVersion-Release number of selected component (if applicable):\nOpenSSH 5.4p1 OpenSSL 1.0.0-fips 29 March 2010\n\nHow reproducible:\nIt happens every time for me so far. \n\nSteps to Reproduce:\n1. upgrade machine on which you want to login via ssh to Fedora 13\n2. use ssh w/public key authentication\n3.\n  \nActual results: asks me for password, if I disable password authentication it won't let me login via ssh\n\n\nExpected results: should bypass asking for password and let me login\n\n\nAdditional info: I checked the permissions are 700 on my ~/.ssh directory, my authorized_keys2 is as expected, sshd_config reflects the proper authorized_keys2 file( ''.ssh/authorized_keys2''). Running ssh -v user@host only tells me that ssh has run out of authorization options and if PasswordAuthentication is set to ''yes'', it will then ask me for a password, if not it fails with ''Permission denied (publickey).''\n\n--- Additional comment from jchadima@redhat.com on 2010-05-26 02:16:02 EDT ---\n\nmay you paste here the your sshd_config and the ssh -v and sshd -v outputs?\n\n--- Additional comment from tmraz@redhat.com on 2010-05-26 02:40:58 EDT ---\n\nAlso please try to run restorecon -r -v -F as root on the .ssh directory.\n\n--- Additional comment from meme23@ehrichweiss.com on 2010-05-26 09:41:47 EDT ---\n\nsshd_config:\n\n\n#Port 22\n#AddressFamily any\n#ListenAddress 0.0.0.0\n#ListenAddress ::\n\nProtocol 2\n\n# HostKey for protocol version 1\n#HostKey /etc/ssh/ssh_host_key\n# HostKeys for protocol version 2\n#HostKey /etc/ssh/ssh_host_rsa_key\n#HostKey /etc/ssh/ssh_host_dsa_key\n\n# Lifetime and size of ephemeral version 1 server key\n#KeyRegenerationInterval 1h\n#ServerKeyBits 1024\n\n# Logging\n# obsoletes QuietMode and FascistLogging\n#SyslogFacility AUTH\nSyslogFacility AUTHPRIV\n#LogLevel INFO\n\n# Authentication:\n\n#LoginGraceTime 2m\n#PermitRootLogin yes\n#StrictModes yes\n#MaxAuthTries 6\n#MaxSessions 10\n\n#RSAAuthentication yes\nPubkeyAuthentication yes\nAuthorizedKeysFile\t.ssh/authorized_keys2\n\n# For this to work you will also need host keys in /etc/ssh/ssh_known_hosts\n#RhostsRSAAuthentication no\n# similar for protocol version 2\n#HostbasedAuthentication no\n# Change to yes if you don't trust ~/.ssh/known_hosts for\n# RhostsRSAAuthentication and HostbasedAuthentication\n#IgnoreUserKnownHosts no\n# Don't read the user's ~/.rhosts and ~/.shosts files\n#IgnoreRhosts yes\n\n# To disable tunneled clear text passwords, change to no here!\n#PasswordAuthentication yes\n#PermitEmptyPasswords no\nPasswordAuthentication yes\n\n# Change to no to disable s/key passwords\n#ChallengeResponseAuthentication yes\nChallengeResponseAuthentication no\n\n# Kerberos options\n#KerberosAuthentication no\n#KerberosOrLocalPasswd yes\n#KerberosTicketCleanup yes\n#KerberosGetAFSToken no\n\n# GSSAPI options\n#GSSAPIAuthentication no\n#GSSAPIAuthentication yes\n#GSSAPICleanupCredentials yes\n#GSSAPICleanupCredentials yes\n\n\nUsePAM no\n#UsePAM yes\n\n# Accept locale-related environment variables\nAcceptEnv LANG LC_CTYPE LC_NUMERIC LC_TIME LC_COLLATE LC_MONETARY LC_MESSAGES\nAcceptEnv LC_PAPER LC_NAME LC_ADDRESS LC_TELEPHONE LC_MEASUREMENT\nAcceptEnv LC_IDENTIFICATION LC_ALL LANGUAGE\n \n#AllowAgentForwarding yes\n#AllowTcpForwarding yes\n#GatewayPorts no\n#X11Forwarding no\nX11Forwarding yes\n#X11DisplayOffset 10\n#X11UseLocalhost yes\n#PrintMotd yes\n#PrintLastLog yes\n#TCPKeepAlive yes\n#UseLogin no\n#UsePrivilegeSeparation yes\n#PermitUserEnvironment no\n#Compression delayed\n#ClientAliveInterval 0\n#ClientAliveCountMax 3\n#ShowPatchLevel no\n#UseDNS yes\n#PidFile /var/run/sshd.pid\n#MaxStartups 10\n#PermitTunnel no\n#ChrootDirectory none\n\n# no default banner path\n#Banner none\n\n# override default of no subsystems\nSubsystem\tsftp\t/usr/libexec/openssh/sftp-server\n\n# Example of overriding settings on a per-user basis\n#Match User anoncvs\n#\tX11Forwarding no\n#\tAllowTcpForwarding no\n#\tForceCommand cvs server\n\n--- Additional comment from meme23@ehrichweiss.com on 2010-05-26 09:49:49 EDT ---\n\nRe: ssh -v and sshd -v, I'm assuming you're talking about running them on the affected host but I would think you'd be more interested in ssh -v being run on my client machine as I connect to the affected host, if you need that, I'll include it at the very bottom..\n\nssh -v:\nOpenSSH_5.4p1, OpenSSL 1.0.0-fips 29 Mar 2010\n\nsshd -v:\nOpenSSH_5.4p1, OpenSSL 1.0.0-fips 29 Mar 2010\n\nssh -v user@host:(note, I have password authentication turned on right now)\n\nOpenSSH_5.3p1, OpenSSL 1.0.0-fips-beta4 10 Nov 2009\ndebug1: Reading configuration data /etc/ssh/ssh_config\ndebug1: Applying options for *\ndebug1: Connecting to x.x.x.x [x.x.x.x] port 22.\ndebug1: Connection established.\ndebug1: identity file /home/user/.ssh/identity type -1\ndebug1: identity file /home/user/.ssh/id_rsa type 1\ndebug1: identity file /home/user/.ssh/id_dsa type -1\ndebug1: Remote protocol version 2.0, remote software version OpenSSH_5.4\ndebug1: match: OpenSSH_5.4 pat OpenSSH*\ndebug1: Enabling compatibility mode for protocol 2.0\ndebug1: Local version string SSH-2.0-OpenSSH_5.3\ndebug1: SSH2_MSG_KEXINIT sent\ndebug1: SSH2_MSG_KEXINIT received\ndebug1: kex: server->client aes128-ctr hmac-md5 none\ndebug1: kex: client->server aes128-ctr hmac-md5 none\ndebug1: SSH2_MSG_KEX_DH_GEX_REQUEST(1024<1024<8192) sent\ndebug1: expecting SSH2_MSG_KEX_DH_GEX_GROUP\ndebug1: SSH2_MSG_KEX_DH_GEX_INIT sent\ndebug1: expecting SSH2_MSG_KEX_DH_GEX_REPLY\ndebug1: Host 'x.x.x.x' is known and matches the RSA host key.\ndebug1: Found key in /home/user/.ssh/known_hosts:17\ndebug1: ssh_rsa_verify: signature correct\ndebug1: SSH2_MSG_NEWKEYS sent\ndebug1: expecting SSH2_MSG_NEWKEYS\ndebug1: SSH2_MSG_NEWKEYS received\ndebug1: SSH2_MSG_SERVICE_REQUEST sent\ndebug1: SSH2_MSG_SERVICE_ACCEPT received\ndebug1: Authentications that can continue: publickey,password\ndebug1: Next authentication method: publickey\ndebug1: Offering public key: /home/user/.ssh/id_rsa\ndebug1: Authentications that can continue: publickey,password\ndebug1: Trying private key: /home/user/.ssh/identity\ndebug1: Trying private key: /home/user/.ssh/id_dsa\ndebug1: Next authentication method: password\nuser@x.x.x.x's password:\ndebug1: Authentication succeeded (password).\ndebug1: channel 0: new [client-session]\ndebug1: Requesting no-more-sessions@openssh.com\ndebug1: Entering interactive session.\ndebug1: Sending environment.\ndebug1: Sending env XMODIFIERS = @im=none\ndebug1: Sending env LANG = en_US.UTF-8\n.............\n\n--- Additional comment from meme23@ehrichweiss.com on 2010-05-26 09:53:12 EDT ---\n\nOH, and 'restorecon -r -v -F' seemed to have no effect. I'm using SELinux but only in permissive mode right now since I'm not an expert at its use at the moment.\n\n--- Additional comment from jchadima@redhat.com on 2010-05-26 10:33:15 EDT ---\n\nCan you provide sshd -v -v -v on the server please?\n\n--- Additional comment from meme23@ehrichweiss.com on 2010-05-26 11:49:50 EDT ---\n\nJan, sshd -v -v -v gives the same output as ssh -v..\n''OpenSSH_5.4p1, OpenSSL 1.0.0-fips 29 Mar 2010''\n\n--- Additional comment from curriegrad2004@gmail.com on 2010-05-27 00:19:58 EDT ---\n\nI am experiencing the same problem here too. What is the ETA on the fix for this issue?\n\n--- Additional comment from tmraz@redhat.com on 2010-05-27 02:41:27 EDT ---\n\nYou have to stop the sshd on the server and run:\n/usr/sbin/sshd -ddd and then try to connect to the server to attempt the publickey authentication.\nThen attach the output produced by sshd.\n\n--- Additional comment from curriegrad2004@gmail.com on 2010-05-27 03:08:00 EDT ---\n\nFound out that sshd is looking for authorized keys in '//.ssh/'.\n\nI can't attach any output as I can't seem to find a way to get sshd to log to a file.\n\n--- Additional comment from curriegrad2004@gmail.com on 2010-05-27 03:14:57 EDT ---\n\nManaged to dump an output of this issue:\n\ndebug2: load_server_config: filename /etc/ssh/sshd_config\ndebug2: load_server_config: done config len = 634\ndebug2: parse_server_config: config /etc/ssh/sshd_config len 634\ndebug3: /etc/ssh/sshd_config:34 setting SyslogFacility AUTHPRIV\ndebug3: /etc/ssh/sshd_config:45 setting RSAAuthentication yes\ndebug3: /etc/ssh/sshd_config:46 setting PubkeyAuthentication yes\ndebug3: /etc/ssh/sshd_config:47 setting AuthorizedKeysFile .ssh/authorized_keys\ndebug3: /etc/ssh/sshd_config:64 setting PasswordAuthentication yes\ndebug3: /etc/ssh/sshd_config:68 setting ChallengeResponseAuthentication no\ndebug3: /etc/ssh/sshd_config:78 setting GSSAPIAuthentication yes\ndebug3: /etc/ssh/sshd_config:80 setting GSSAPICleanupCredentials yes\ndebug3: /etc/ssh/sshd_config:94 setting UsePAM yes\ndebug3: /etc/ssh/sshd_config:97 setting AcceptEnv LANG LC_CTYPE LC_NUMERIC LC_TIME LC_COLLATE LC_MONETARY LC_MESSAGES\ndebug3: /etc/ssh/sshd_config:98 setting AcceptEnv LC_PAPER LC_NAME LC_ADDRESS LC_TELEPHONE LC_MEASUREMENT\ndebug3: /etc/ssh/sshd_config:99 setting AcceptEnv LC_IDENTIFICATION LC_ALL LANGUAGE\ndebug3: /etc/ssh/sshd_config:100 setting AcceptEnv XMODIFIERS\ndebug3: /etc/ssh/sshd_config:106 setting X11Forwarding yes\ndebug3: /etc/ssh/sshd_config:129 setting Subsystem sftp /usr/libexec/openssh/sftp-server\ndebug1: sshd version OpenSSH_5.4p1\ndebug3: Not a RSA1 key file /etc/ssh/ssh_host_rsa_key.\ndebug1: read PEM private key done: type RSA\ndebug1: private host key: #0 type 1 RSA\ndebug3: Not a RSA1 key file /etc/ssh/ssh_host_dsa_key.\ndebug1: read PEM private key done: type DSA\ndebug1: private host key: #1 type 2 DSA\ndebug1: rexec_argv[0]='/usr/sbin/sshd'\ndebug1: rexec_argv[1]='-ddd'\ndebug3: oom_adjust_setup\nSet /proc/self/oom_adj from 0 to -17\ndebug2: fd 3 setting O_NONBLOCK\ndebug1: Bind to port 22 on 0.0.0.0.\nServer listening on 0.0.0.0 port 22.\ndebug2: fd 4 setting O_NONBLOCK\ndebug3: sock_set_v6only: set socket 4 IPV6_V6ONLY\ndebug1: Bind to port 22 on ::.\nServer listening on :: port 22.\ndebug3: fd 5 is not O_NONBLOCK\ndebug1: Server will not fork when running in debugging mode.\ndebug3: send_rexec_state: entering fd = 8 config len 634\ndebug3: ssh_msg_send: type 0\ndebug3: send_rexec_state: done\ndebug1: rexec start in 5 out 5 newsock 5 pipe -1 sock 8\ndebug1: inetd sockets after dupping: 3, 3\nConnection from 2001:470:c06d:1000:fd8e:17d:c751:8e7c port 58755\ndebug1: Client protocol version 2.0; client software version PuTTY_Local:_Feb__7_2009_23:49:51\ndebug1: no match: PuTTY_Local:_Feb__7_2009_23:49:51\ndebug1: Enabling compatibility mode for protocol 2.0\ndebug1: Local version string SSH-2.0-OpenSSH_5.4\ndebug2: fd 3 setting O_NONBLOCK\ndebug2: Network child is on pid 19201\ndebug3: preauth child monitor started\ndebug3: mm_request_receive entering\ndebug3: privsep user:group 74:495\ndebug1: permanently_set_uid: 74/495\ndebug1: list_hostkey_types: ssh-rsa,ssh-dss\ndebug1: SSH2_MSG_KEXINIT sent\ndebug1: SSH2_MSG_KEXINIT received\ndebug2: kex_parse_kexinit: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1\ndebug2: kex_parse_kexinit: ssh-rsa,ssh-dss\ndebug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se\ndebug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se\ndebug2: kex_parse_kexinit: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\ndebug2: kex_parse_kexinit: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96\ndebug2: kex_parse_kexinit: none,zlib@openssh.com\ndebug2: kex_parse_kexinit: none,zlib@openssh.com\ndebug2: kex_parse_kexinit:\ndebug2: kex_parse_kexinit:\ndebug2: kex_parse_kexinit: first_kex_follows 0\ndebug2: kex_parse_kexinit: reserved 0\ndebug2: kex_parse_kexinit: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1\ndebug2: kex_parse_kexinit: ssh-rsa,ssh-dss\ndebug2: kex_parse_kexinit: aes256-ctr,aes256-cbc,rijndael-cbc@lysator.liu.se,aes192-ctr,aes192-cbc,aes128-ctr,aes128-cbc,blowfish-ctr,blowfish-cbc,3des-ctr,3des-cbc,arcfour256,arcfour128\ndebug2: kex_parse_kexinit: aes256-ctr,aes256-cbc,rijndael-cbc@lysator.liu.se,aes192-ctr,aes192-cbc,aes128-ctr,aes128-cbc,blowfish-ctr,blowfish-cbc,3des-ctr,3des-cbc,arcfour256,arcfour128\ndebug2: kex_parse_kexinit: hmac-sha1,hmac-sha1-96,hmac-md5\ndebug2: kex_parse_kexinit: hmac-sha1,hmac-sha1-96,hmac-md5\ndebug2: kex_parse_kexinit: none,zlib\ndebug2: kex_parse_kexinit: none,zlib\ndebug2: kex_parse_kexinit:\ndebug2: kex_parse_kexinit:\ndebug2: kex_parse_kexinit: first_kex_follows 0\ndebug2: kex_parse_kexinit: reserved 0\ndebug2: mac_setup: found hmac-sha1\ndebug1: kex: client->server aes256-ctr hmac-sha1 none\ndebug2: mac_setup: found hmac-sha1\ndebug1: kex: server->client aes256-ctr hmac-sha1 none\ndebug1: SSH2_MSG_KEX_DH_GEX_REQUEST_OLD received\ndebug3: mm_request_send entering: type 0\ndebug3: monitor_read: checking request 0\ndebug3: mm_answer_moduli: got parameters: 1024 4096 8192\ndebug3: mm_choose_dh: waiting for MONITOR_ANS_MODULI\ndebug3: mm_request_receive_expect entering: type 1\ndebug3: mm_request_receive entering\ndebug3: mm_request_send entering: type 1\ndebug3: mm_choose_dh: remaining 0\ndebug1: SSH2_MSG_KEX_DH_GEX_GROUP sent\ndebug2: monitor_read: 0 used once, disabling now\ndebug3: mm_request_receive entering\ndebug2: dh_gen_key: priv key bits set: 260/512\ndebug2: bits set: 2030/4096\ndebug1: expecting SSH2_MSG_KEX_DH_GEX_INIT\ndebug2: bits set: 2107/4096\ndebug3: mm_key_sign entering\ndebug3: mm_request_send entering: type 5\ndebug3: monitor_read: checking request 5\ndebug3: mm_answer_sign\ndebug3: mm_key_sign: waiting for MONITOR_ANS_SIGN\ndebug3: mm_request_receive_expect entering: type 6\ndebug3: mm_request_receive entering\ndebug3: mm_answer_sign: signature 0x18d7048(271)\ndebug3: mm_request_send entering: type 6\ndebug1: SSH2_MSG_KEX_DH_GEX_REPLY sent\ndebug2: kex_derive_keys\ndebug2: set_newkeys: mode 1\ndebug2: cipher_init: set keylen (16 -> 32)\ndebug1: SSH2_MSG_NEWKEYS sent\ndebug1: expecting SSH2_MSG_NEWKEYS\ndebug2: monitor_read: 5 used once, disabling now\ndebug3: mm_request_receive entering\ndebug2: set_newkeys: mode 0\ndebug2: cipher_init: set keylen (16 -> 32)\ndebug1: SSH2_MSG_NEWKEYS received\ndebug1: KEX done\ndebug1: userauth-request for user ircproxy service ssh-connection method none\ndebug1: attempt 0 failures 0\ndebug3: mm_getpwnamallow entering\ndebug3: mm_request_send entering: type 7\ndebug3: mm_getpwnamallow: waiting for MONITOR_ANS_PWNAM\ndebug3: mm_request_receive_expect entering: type 8\ndebug3: mm_request_receive entering\ndebug3: monitor_read: checking request 7\ndebug3: mm_answer_pwnamallow\ndebug3: Trying to reverse map address 2001:470:c06d:1000:fd8e:17d:c751:8e7c.\nreverse mapping checking getaddrinfo for cg4l3001.smb.curriegrad2004.ca [2001:470:c06d:1000:fd8e:17d:c751:8e7c] failed - POSSIBLE BREAK-IN ATTEMPT!\ndebug2: parse_server_config: config reprocess config len 634\ndebug3: mm_answer_pwnamallow: sending MONITOR_ANS_PWNAM: 1\ndebug3: mm_request_send entering: type 8\ndebug2: input_userauth_request: setting up authctxt for ircproxy\ndebug3: mm_start_pam entering\ndebug3: mm_request_send entering: type 50\ndebug3: mm_inform_authserv entering\ndebug3: mm_request_send entering: type 3\ndebug3: mm_inform_authrole entering\ndebug3: mm_request_send entering: type 4\ndebug2: input_userauth_request: try method none\ndebug2: monitor_read: 7 used once, disabling now\ndebug3: mm_request_receive entering\ndebug3: monitor_read: checking request 50\ndebug1: PAM: initializing for ''ircproxy''\ndebug1: userauth-request for user ircproxy service ssh-connection method publickey\ndebug1: attempt 1 failures 0\ndebug2: input_userauth_request: try method publickey\ndebug1: test whether pkalg/pkblob are acceptable\ndebug3: mm_key_allowed entering\ndebug3: mm_request_send entering: type 21\ndebug3: mm_key_allowed: waiting for MONITOR_ANS_KEYALLOWED\ndebug3: mm_request_receive_expect entering: type 22\ndebug3: mm_request_receive entering\ndebug1: PAM: setting PAM_RHOST to ''2001:470:c06d:1000:fd8e:17d:c751:8e7c''\ndebug1: PAM: setting PAM_TTY to ''ssh''\ndebug2: monitor_read: 50 used once, disabling now\ndebug3: mm_request_receive entering\ndebug3: monitor_read: checking request 3\ndebug3: mm_answer_authserv: service=ssh-connection, style=\ndebug2: monitor_read: 3 used once, disabling now\ndebug3: mm_request_receive entering\ndebug3: monitor_read: checking request 4\ndebug3: mm_answer_authrole: role=\ndebug2: monitor_read: 4 used once, disabling now\ndebug3: mm_request_receive entering\ndebug3: monitor_read: checking request 21\ndebug3: mm_answer_keyallowed entering\ndebug3: mm_answer_keyallowed: key_from_blob: 0x18d97f8\ndebug1: temporarily_use_uid: 500/500 (e=0/0)\ndebug1: trying public key file //.ssh/authorized_keys\ndebug1: restore_uid: 0/0\ndebug1: temporarily_use_uid: 500/500 (e=0/0)\ndebug1: trying public key file //.ssh/authorized_keys\ndebug1: restore_uid: 0/0\nFailed publickey for ircproxy from 2001:470:c06d:1000:fd8e:17d:c751:8e7c port 58755 ssh2\ndebug3: mm_answer_keyallowed: key 0x18d97f8 is not allowed\ndebug3: mm_request_send entering: type 22\ndebug2: userauth_pubkey: authenticated 0 pkalg ssh-rsa\ndebug3: mm_request_receive entering\n\n--- Additional comment from jchadima@redhat.com on 2010-05-27 04:13:02 EDT ---\n\nThe problem is with the home directory of the user with uid 500. \ndebug1: trying public key file //.ssh/authorized_keys\nIt means that sshd supose that the home is /.\nCan you check the /etc/passwd, wheather there is valid home directory.\n\n--- Additional comment from curriegrad2004@gmail.com on 2010-05-27 04:23:28 EDT ---\n\nThere is a home directory for userid 500 on my system as per /etc/passwd:\nircproxy:x:500:500::/home/ircproxy:/bin/bash\n\n--- Additional comment from jchadima@redhat.com on 2010-05-27 07:23:58 EDT ---\n\nIs the home directory accessible by the user?\n\n--- Additional comment from curriegrad2004@gmail.com on 2010-05-27 10:23:18 EDT ---\n\n(In reply to comment #14)\n> Is the home directory accessible by the user?    \n\nYes, the directory is definitely accessible by the user.\n\n--- Additional comment from meme23@ehrichweiss.com on 2010-05-27 11:22:34 EDT ---\n\nI'm clipping just the most valuable input from /usr/sbin/sshd -ddd:\n\ndebug1: trying public key file /root/.ssh/authorized_keys2\ndebug1: Could not open keyfile '/root/.ssh/authorized_keys2': Permission denied\n\n\nThis appeared after I accidentally replaced ''.ssh/authorized_keys2'' with ''~/.ssh/authorized_keys2''. I got the same output as ''curriegrad'' above when I used my stock sshd_config.\n\nSo upon seeing that I tried to hard code my key path in and now it works so it's got something to do with how the path is being processed as ''curriegrad'' had stated above.\n\n--- Additional comment from curriegrad2004@gmail.com on 2010-05-27 14:55:42 EDT ---\n\nAs suggested by meme23, adding a ~ to the configuration where it allows pub key authentication, OpenSSH now does authenticate with the public keys stored in the authorized_keys file, but only for the root user.\n\nI also agree with meme23 that there is a problem with the way that OpenSSH parses the filepaths.\n\n--- Additional comment from liciofernando@gmail.com on 2010-05-28 15:50:59 EDT ---\n\nI had the same problem and I've commented the line \nAuthorizedKeysFile     .ssh/authorized_keys\nIt was uncommented, now it is working. \nAnyway, it doesn't look as a normal behaviour.\n\n--- Additional comment from curriegrad2004@gmail.com on 2010-05-28 16:54:48 EDT ---\n\n(In reply to comment #18)\n> I had the same problem and I've commented the line \n> AuthorizedKeysFile     .ssh/authorized_keys\n> It was uncommented, now it is working. \n> Anyway, it doesn't look as a normal behaviour.    \n\nThanks for your suggestion. It seems like it's been fixed for now with that configuration change you've suggested.\n\n--- Additional comment from csimpson@csl.co.uk on 2010-05-29 18:15:44 EDT ---\n\nYeah I get this too, was this behaviour expected to change between F12 and F13.\n\n--- Additional comment from Speeddymon@gmail.com on 2010-05-29 18:49:05 EDT ---\n\n*** Bug 597621 has been marked as a duplicate of this bug. ***\n\n--- Additional comment from Speeddymon@gmail.com on 2010-05-29 18:51:10 EDT ---\n\nI would say this is not expected. Every other openssh server I have ever used, including one on my arm-based terastation has AuthorizedKeysFile .ssh/authorized_keys and works fine.\n\nOn a side note, commenting the AuthorizedKeysFile entry IMO is more proper than adding ~/ to the front of the entry.\n\n--- Additional comment from Speeddymon@gmail.com on 2010-05-29 18:57:41 EDT ---\n\nI'd like to recommend that the regression keyword be added to this bug.\n\n--- Additional comment from meme23@ehrichweiss.com on 2010-05-29 19:10:33 EDT ---\n\nThomas, the ~/ was simply me changing settings to see how they affected the behavior and I decided to check to see if that was suddenly required in this version; it was not intended as anything other than a test.\n\n--- Additional comment from csimpson@csl.co.uk on 2010-05-30 07:44:47 EDT ---\n\nI'd imagine the double slash // indicates a variable between the two slashes is set to null.\n\ndebug1: trying public key file //.ssh/authorized_keys\n\nI'd guess either the function to get the user homedir isn't returning properly or the value isn't ending up in this final variable passed into the function constructing this string.\n\n--- Additional comment from updates@fedoraproject.org on 2010-05-31 06:32:57 EDT ---\n\nopenssh-5.4p1-3.fc13 has been submitted as an update for Fedora 13.\nhttp://admin.fedoraproject.org/updates/openssh-5.4p1-3.fc13\n\n--- Additional comment from jchadima@redhat.com on 2010-05-31 06:34:06 EDT ---\n\nPlease test and provide feedback.\n\n--- Additional comment from meme23@ehrichweiss.com on 2010-05-31 10:10:28 EDT ---\n\nDidn't work here. Same behavior though I haven't checked the debug output to be certain.\n\n--- Additional comment from updates@fedoraproject.org on 2010-05-31 14:17:26 EDT ---\n\nopenssh-5.4p1-3.fc13 has been pushed to the Fedora 13 testing repository.  If problems still persist, please make note of it in this bug report.\n If you want to test the update, you can install it with \n su -c 'yum --enablerepo=updates-testing update openssh'.  You can provide feedback for this update here: http://admin.fedoraproject.org/updates/openssh-5.4p1-3.fc13\n\n--- Additional comment from csimpson@csl.co.uk on 2010-05-31 19:34:41 EDT ---\n\nopenssh-5.4p1-3.fc13 now works for me.\n\n--- Additional comment from jpirko@redhat.com on 2010-06-01 08:08:28 EDT ---\n\nI confirm this solves the issue for me.",
          "author": "jchadima@redhat.com",
          "creation_time": "20100602T05:30:49",
          "bug_id": "598814",
          "creator_id": "276623",
          "time": "20100602T05:30:49",
          "id": "2893668",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "This bugzilla has Keywords: Regression or TestBlocker.\n\nSince no regressions or test blockers are allowed between releases,\nit is also being [proposed|marked] as a blocker for this release.\n\nPlease resolve ASAP.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20100602T05:43:55",
          "bug_id": "598814",
          "creator_id": "193983",
          "time": "20100602T05:43:55",
          "id": "2893692",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "pm-rhel@redhat.com",
          "text": "This request was evaluated by Red Hat Product Management for inclusion in a Red\nHat Enterprise Linux major release.  Product Management has requested further\nreview of this request by Red Hat Engineering, for potential inclusion in a Red\nHat Enterprise Linux Major release.  This request is not yet committed for\ninclusion.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20100603T09:55:20",
          "bug_id": "598814",
          "creator_id": "193983",
          "time": "20100603T09:55:20",
          "id": "2897362",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "releng-rhel@redhat.com",
          "text": "Fixed in 'openssh-5.3p1-17'. 'openssh-5.3p1-18.el6' included in compose 'RHEL6.0-20100701.0'.\nMoving to ON_QA.",
          "author": "releng-rhel@redhat.com",
          "creation_time": "20100701T13:20:15",
          "bug_id": "598814",
          "creator_id": "286012",
          "time": "20100701T13:20:15",
          "id": "2972979",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "mvadkert@redhat.com",
          "text": "VERIFIED as fixed in openssh-5.3p1-19.el6:\n\nCreated RHTS test for this issue:\n/CoreOS/openssh/Regression/bz598814-Public-Key-authentication-fails\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running './ssh.exp'\n:: [   PASS   ] :: File '/tmp/tmp.nmCYHWwhIs' should contain 'Accepted publickey'\n:: [   LOG    ] :: Duration: 6s\n:: [   LOG    ] :: Assertions: 2 good, 0 bad\n:: [   PASS   ] :: RESULT: Test",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100813T08:45:44",
          "bug_id": "598814",
          "creator_id": "271572",
          "time": "20100813T08:45:44",
          "id": "3079183",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "releng-rhel@redhat.com",
          "text": "Red Hat Enterprise Linux 6.0 is now available and should resolve\nthe problem described in this bug report. This report is therefore being closed\nwith a resolution of CURRENTRELEASE. You may reopen this bug report if the\nsolution does not work for you.",
          "author": "releng-rhel@redhat.com",
          "creation_time": "20101110T21:17:02",
          "bug_id": "598814",
          "creator_id": "286012",
          "time": "20101110T21:17:02",
          "id": "3297343",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.0"
      ],
      "cc": [
        "csimpson@csl.co.uk",
        "curriegrad2004@gmail.com",
        "jchadima@redhat.com",
        "jpirko@redhat.com",
        "liciofernando@gmail.com",
        "meme23@ehrichweiss.com",
        "mgrepl@redhat.com",
        "Mr.Miteshah@gmail.com",
        "mvadkert@redhat.com",
        "sgrubb@redhat.com",
        "Speeddymon@gmail.com",
        "tmraz@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "mvadkert@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "595935",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "Snapshot 7",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "Public Key authentication on ssh fails",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.0.0",
          "modification_date": "20100603T13:25:58",
          "type_id": "62",
          "is_active": "0",
          "creation_date": "20100602T05:31:50",
          "id": "616993",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20100603T09:55:19",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20100602T05:31:50",
          "id": "616994",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20100603T13:20:18",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20100602T05:31:50",
          "id": "616995",
          "setter": "sgrubb@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20100603T10:30:24",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20100602T05:31:50",
          "id": "616996",
          "setter": "mvadkert@redhat.com"
        }
      ],
      "last_change_time": "20121029T07:31:15",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509334-Na2UG-SZ4HxC2FJme6tNyxdyniwPMOF5KRfNLW32v4A",
      "cf_partner": [],
      "cf_last_closed": "20101110T21:17:02",
      "resolution": "CURRENTRELEASE",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20100621T16:19:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "FutureFeature"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "606454",
      "cf_release_notes": "",
      "priority": "low",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "kirbyzhou@sogou-inc.com",
      "comments": [
        {
          "count": "0",
          "creator": "kirbyzhou@sogou-inc.com",
          "text": "VisualHostKey is a new feature of OpenSSH introduced by version 5.1. \nIt seems very useful for users who need reinstall system sometime.\n\nVisual fingerprinnt display is controlled by a new\nssh_config(5) option ''VisualHostKey''. The intent is to render SSH host keys in a visual form that is amenable to easy recall and rejection of changed host keys. This technique inspired by the graphical hash visualisation schemes known as ''random art[*]'', and by Dan Kaminsky's musings at 23C3 in Berlin.\n\nFor example:\n\n~]# ssh 10.12.10.226\nThe authenticity of host '10.12.10.226 (10.12.10.226)' can't be established.\nRSA key fingerprint is 9b:2a:c2:2d:41:24:b1:92:95:e6:34:48:4d:01:19:57.\n+--[ RSA 2048]----+\n|o*B=oE           |\n|o=B.             |\n|+* .             |\n|. o              |\n| .      S        |\n|  .      o       |\n| . o    o        |\n|  + o  .         |\n|   o ..          |\n+-----------------+\nAre you sure you want to continue connecting (yes/no)?",
          "author": "kirbyzhou@sogou-inc.com",
          "creation_time": "20100621T16:19:37",
          "bug_id": "606454",
          "creator_id": "272062",
          "time": "20100621T16:19:37",
          "id": "2942451",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20100621T16:32:38",
          "bug_id": "606454",
          "creator_id": "193983",
          "time": "20100621T16:32:38",
          "id": "2942481",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "pm-rhel@redhat.com",
          "text": "This feature request did not get resolved in time for Feature Freeze\nfor the current Red Hat Enterprise Linux release and has now been\ndenied. It has been proposed for the next Red Hat Enterprise Linux\nrelease. If you would still like it considered for the current\nrelease as an exception, please make that request with your support\nrepresentative.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20100621T16:48:12",
          "bug_id": "606454",
          "creator_id": "193983",
          "time": "20100621T16:48:12",
          "id": "2942518",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "jchadima@redhat.com",
          "text": "I preffer to let this decissions on administrators.",
          "author": "jchadima@redhat.com",
          "creation_time": "20100702T08:01:15",
          "bug_id": "606454",
          "creator_id": "276623",
          "time": "20100702T08:01:15",
          "id": "2976276",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.0"
      ],
      "cc": [],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Enhancement",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "RFE: Plz enable VisualHostKey of OpenSSH by default.",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "-",
          "name": "rhel-6.0.0",
          "modification_date": "20100621T16:48:11",
          "type_id": "62",
          "is_active": "0",
          "creation_date": "20100621T16:32:36",
          "id": "629945",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "rhel-6.1.0",
          "modification_date": "20100621T16:48:11",
          "type_id": "202",
          "is_active": "0",
          "creation_date": "20100621T16:48:11",
          "id": "629949",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "pm_ack",
          "modification_date": "20100621T16:46:43",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20100621T16:46:43",
          "id": "629948",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20100702T08:01:15",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509334-uvWyhwvLv92Qugsh6ULxqOnRiTIM-E3orrDsyKxbhRc",
      "cf_partner": [],
      "cf_last_closed": "20100702T08:01:15",
      "resolution": "NOTABUG",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "classification": "Red Hat",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [
        "618595"
      ],
      "cf_story_points": "---",
      "cf_conditional_nak": [],
      "creation_time": "20100722T14:31:00",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "Reopened"
      ],
      "summary": "ssh on RHEL6 on s390x with enabled FIPS fails with enabled CPACF",
      "external_bugs": [],
      "id": "617227",
      "cf_release_notes": "",
      "priority": "low",
      "cf_internal_whiteboard": "",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "mvadkert@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "mvadkert@redhat.com",
          "text": "Description of problem:\nWhen I try to connect to sshd running on s390x EL6 with FIPS the connection fails:\n\n[mvadkert@freedom ~]$ ssh root@s390x_machine -v\nOpenSSH_5.4p1, OpenSSL 1.0.0a-fips 1 Jun 2010\ndebug1: Reading configuration data /etc/ssh/ssh_config\ndebug1: Applying options for *\ndebug1: Connecting to s390x_machine [ipv6_addr] port 22.\ndebug1: connect to address ipv6_addr port 22: Network is unreachable\ndebug1: Connecting to s390x_machine  [ipv4_addr] port 22.\ndebug1: Connection established.\ndebug1: identity file /home/mvadkert/.ssh/id_rsa type -1\ndebug1: identity file /home/mvadkert/.ssh/id_rsa-cert type -1\ndebug1: identity file /home/mvadkert/.ssh/id_dsa type -1\ndebug1: identity file /home/mvadkert/.ssh/id_dsa-cert type -1\ndebug1: Remote protocol version 2.0, remote software version OpenSSH_5.3\ndebug1: match: OpenSSH_5.3 pat OpenSSH*\ndebug1: Enabling compatibility mode for protocol 2.0\ndebug1: Local version string SSH-2.0-OpenSSH_5.4\ndebug1: SSH2_MSG_KEXINIT sent\ndebug1: SSH2_MSG_KEXINIT received\ndebug1: kex: server->client 3des-cbc hmac-sha1 none\ndebug1: kex: client->server 3des-cbc hmac-sha1 none\ndebug1: SSH2_MSG_KEX_DH_GEX_REQUEST(1024<2048<8192) sent\ndebug1: expecting SSH2_MSG_KEX_DH_GEX_GROUP\ndebug1: SSH2_MSG_KEX_DH_GEX_INIT sent\ndebug1: expecting SSH2_MSG_KEX_DH_GEX_REPLY\nConnection closed by ipv4_addr\n\nThis works in RHEL5\n\nVersion-Release number of selected component (if applicable):\nopenssh-5.3p1-18.el6\n\nHow reproducible:\nalways\n\nSteps to Reproduce:\n1. ssh s390x_machine\n  \nActual results:\nssh fails\n\nExpected results:\nssh succeeds\n\nAdditional info:\nI changed the hostname and ipv4/ipv6 addresses. \nAs this works in EL5.5 I'm marking this as an regression.\nNote this works on x86_64, this may be an s390x only bug",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100722T14:31:36",
          "bug_id": "617227",
          "creator_id": "271572",
          "time": "20100722T14:31:36",
          "id": "3024676",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "mvadkert@redhat.com",
          "text": "I cannot reproduce this on FIPS enbled s390x without enabled 'crypto chip' (CPACF). Adjusting bug summary to reflect this.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100727T08:37:35",
          "bug_id": "617227",
          "creator_id": "271572",
          "time": "20100727T08:37:35",
          "id": "3034181",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "mvadkert@redhat.com",
          "text": "CPACF is disabled:\n[root@ibm-z10-09 ~]# modprobe z90crypt\nFATAL: Error inserting z90crypt (/lib/modules/2.6.32-52.el6.s390x/kernel/drivers/s390/crypto/z90crypt.ko): No such device\n\n$ ssh -v root@ibm-z10-09.rhts.eng.bos.redhat.com\nOpenSSH_5.4p1, OpenSSL 1.0.0a-fips 1 Jun 2010\ndebug1: Reading configuration data /etc/ssh/ssh_config\ndebug1: Applying options for *\ndebug1: Connecting to ibm-z10-09.rhts.eng.bos.redhat.com [10.16.66.200] port 22.\ndebug1: Connection established.\ndebug1: identity file /home/mvadkert/.ssh/id_rsa type -1\ndebug1: identity file /home/mvadkert/.ssh/id_rsa-cert type -1\ndebug1: identity file /home/mvadkert/.ssh/id_dsa type -1\ndebug1: identity file /home/mvadkert/.ssh/id_dsa-cert type -1\ndebug1: Remote protocol version 2.0, remote software version OpenSSH_5.3\ndebug1: match: OpenSSH_5.3 pat OpenSSH*\ndebug1: Enabling compatibility mode for protocol 2.0\ndebug1: Local version string SSH-2.0-OpenSSH_5.4\ndebug1: SSH2_MSG_KEXINIT sent\ndebug1: SSH2_MSG_KEXINIT received\ndebug1: kex: server->client aes128-ctr hmac-sha1 none\ndebug1: kex: client->server aes128-ctr hmac-sha1 none\ndebug1: SSH2_MSG_KEX_DH_GEX_REQUEST(1024<2048<8192) sent\ndebug1: expecting SSH2_MSG_KEX_DH_GEX_GROUP\ndebug1: SSH2_MSG_KEX_DH_GEX_INIT sent\ndebug1: expecting SSH2_MSG_KEX_DH_GEX_REPLY\ndebug1: Host 'ibm-z10-09.rhts.eng.bos.redhat.com' is known and matches the RSA host key.\ndebug1: Found key in /home/mvadkert/.ssh/known_hosts:8\ndebug1: ssh_rsa_verify: signature correct\ndebug1: SSH2_MSG_NEWKEYS sent\ndebug1: expecting SSH2_MSG_NEWKEYS\ndebug1: SSH2_MSG_NEWKEYS received\ndebug1: Roaming not allowed by server\ndebug1: SSH2_MSG_SERVICE_REQUEST sent\ndebug1: SSH2_MSG_SERVICE_ACCEPT received\ndebug1: Authentications that can continue: publickey,gssapi-keyex,gssapi-with-mic,password\ndebug1: Next authentication method: gssapi-with-mic\ndebug1: Unspecified GSS failure.  Minor code may provide more information\nServer host/ibm-z10-09.rhts.eng.bos.redhat.com@REDHAT.COM not found in Kerberos database\n\ndebug1: Unspecified GSS failure.  Minor code may provide more information\nServer host/ibm-z10-09.rhts.eng.bos.redhat.com@REDHAT.COM not found in Kerberos database\n\ndebug1: Unspecified GSS failure.  Minor code may provide more information\n\n\ndebug1: Next authentication method: publickey\ndebug1: Offering public key: /home/mvadkert/.ssh/id_rsa\ndebug1: Authentications that can continue: publickey,gssapi-keyex,gssapi-with-mic,password\ndebug1: Trying private key: /home/mvadkert/.ssh/id_rsa\ndebug1: PEM_read_PrivateKey failed\ndebug1: read PEM private key done: type <unknown>\nEnter passphrase for key '/home/mvadkert/.ssh/id_rsa': \ndebug1: read PEM private key done: type RSA\ndebug1: Authentications that can continue: publickey,gssapi-keyex,gssapi-with-mic,password\ndebug1: Trying private key: /home/mvadkert/.ssh/id_dsa\ndebug1: Next authentication method: password\nroot@ibm-z10-09.rhts.eng.bos.redhat.com's password: \ndebug1: Authentication succeeded (password).\ndebug1: channel 0: new [client-session]\ndebug1: Requesting no-more-sessions@openssh.com\ndebug1: Entering interactive session.\ndebug1: Sending environment.\ndebug1: Sending env XMODIFIERS = @im=none\ndebug1: Sending env LANG = en_US.utf8\n\nInfo from s390x:\n[root@ibm-z10-09 ~]# rpm -q openssh\nopenssh-5.3p1-19.el6.s390x\n[root@ibm-z10-09 ~]#  cat /proc/sys/crypto/fips_enabled \n1",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100727T08:37:45",
          "bug_id": "617227",
          "creator_id": "271572",
          "time": "20100727T08:37:45",
          "id": "3034182",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "mvadkert@redhat.com",
          "text": "Very strange but I couldn't reproduce this again on s390 wit CPACF enabled with latest openssh-5.3p1-19.el6.s390x. Closing as not a bug.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100727T09:06:24",
          "bug_id": "617227",
          "creator_id": "271572",
          "time": "20100727T09:06:24",
          "id": "3034248",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "mvadkert@redhat.com",
          "text": "[mvadkert@freedom ~]$ ssh -v root@auto-s390-002.ss.eng.bos.redhat.com\nOpenSSH_5.4p1, OpenSSL 1.0.0a-fips 1 Jun 2010\ndebug1: Reading configuration data /etc/ssh/ssh_config\ndebug1: Applying options for *\ndebug1: Connecting to auto-s390-002.ss.eng.bos.redhat.com [fec0:0:a10:7000:13:37ff:fe0f:ff01] port 22.\ndebug1: connect to address fec0:0:a10:7000:13:37ff:fe0f:ff01 port 22: Connection timed out\ndebug1: Connecting to auto-s390-002.ss.eng.bos.redhat.com [10.16.113.7] port 22.\ndebug1: Connection established.\ndebug1: identity file /home/mvadkert/.ssh/id_rsa type -1\ndebug1: identity file /home/mvadkert/.ssh/id_rsa-cert type -1\ndebug1: identity file /home/mvadkert/.ssh/id_dsa type -1\ndebug1: identity file /home/mvadkert/.ssh/id_dsa-cert type -1\ndebug1: Remote protocol version 2.0, remote software version OpenSSH_5.3\ndebug1: match: OpenSSH_5.3 pat OpenSSH*\ndebug1: Enabling compatibility mode for protocol 2.0\ndebug1: Local version string SSH-2.0-OpenSSH_5.4\ndebug1: SSH2_MSG_KEXINIT sent\ndebug1: SSH2_MSG_KEXINIT received\ndebug1: kex: server->client aes128-ctr hmac-sha1 none\ndebug1: kex: client->server aes128-ctr hmac-sha1 none\ndebug1: SSH2_MSG_KEX_DH_GEX_REQUEST(1024<2048<8192) sent\ndebug1: expecting SSH2_MSG_KEX_DH_GEX_GROUP\ndebug1: SSH2_MSG_KEX_DH_GEX_INIT sent\ndebug1: expecting SSH2_MSG_KEX_DH_GEX_REPLY\ndebug1: Host 'auto-s390-002.ss.eng.bos.redhat.com' is known and matches the RSA host key.\ndebug1: Found key in /home/mvadkert/.ssh/known_hosts:9\ndebug1: ssh_rsa_verify: signature correct\ndebug1: SSH2_MSG_NEWKEYS sent\ndebug1: expecting SSH2_MSG_NEWKEYS\ndebug1: SSH2_MSG_NEWKEYS received\ndebug1: Roaming not allowed by server\ndebug1: SSH2_MSG_SERVICE_REQUEST sent\ndebug1: SSH2_MSG_SERVICE_ACCEPT received\ndebug1: Authentications that can continue: publickey,gssapi-keyex,gssapi-with-mic,password\ndebug1: Next authentication method: gssapi-with-mic\ndebug1: Unspecified GSS failure.  Minor code may provide more information\nServer host/auto-s390-002.ss.eng.bos.redhat.com@REDHAT.COM not found in Kerberos database\n\ndebug1: Unspecified GSS failure.  Minor code may provide more information\nServer host/auto-s390-002.ss.eng.bos.redhat.com@REDHAT.COM not found in Kerberos database\n\ndebug1: Unspecified GSS failure.  Minor code may provide more information\n\n\ndebug1: Next authentication method: publickey\ndebug1: Offering public key: /home/mvadkert/.ssh/id_rsa\ndebug1: Server accepts key: pkalg ssh-rsa blen 277\ndebug1: Authentication succeeded (publickey).\ndebug1: channel 0: new [client-session]\ndebug1: Requesting no-more-sessions@openssh.com\ndebug1: Entering interactive session.\ndebug1: Sending environment.\ndebug1: Sending env XMODIFIERS = @im=none\ndebug1: Sending env LANG = en_US.utf8\nLast login: Tue Jul 27 05:05:23 2010 from freedom.brq.redhat.com\n\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\n    RHEL6 stable system auto-s390-002.ss.eng.bos.redhat.com\n    Please, do not run any destructive tests on this machine.\n    Report problems to: Petr Splichal <psplicha@redhat.com>\n\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\n[root@auto-s390-002 ~]# cat /proc/sys/crypto/fips_enabled \n1\n[root@auto-s390-002 ~]# modprobe z90crypt\n[root@auto-s390-002 ~]# service sshd restart\nStopping sshd: [  OK  ]\n tarting sshd: rpm[  OK  ]\n[root@auto-s390-002 ~]# rpm -q openssl\nopenssl-1.0.0-4.el6.s390x\n[root@auto-s390-002 ~]# rpm -q openssh\nopenssh-5.3p1-19.el6.s390x",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100727T09:07:28",
          "bug_id": "617227",
          "creator_id": "271572",
          "time": "20100727T09:07:28",
          "id": "3034253",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "mvadkert@redhat.com",
          "text": "Only FIPS approved cryptographic algorithms are accepted by openssh running on FIPSwith enabled CPACF:\n\n$ ssh -c arcfour128 root@auto-s390-002\nno matching cipher found: client arcfour128 server aes128-ctr,aes192-ctr,aes256-ctr,aes128-cbc,3des-cbc,aes192-cbc,aes256-cbc,rijndael-cbc@lysator.liu.se",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100727T09:22:54",
          "bug_id": "617227",
          "creator_id": "271572",
          "time": "20100727T09:22:54",
          "id": "3034279",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "mvadkert@redhat.com",
          "text": "Argh, to use openssh with CPACF you have to configure openssl to use ibmca module:\n\n* edit /etc/pki/tls/openssl.cnf and append it with: \n[openssl_def]\nengines = engine_section\n\n[engine_section]\n\nfoo = ibmca_section\n\n[ibmca_section]\ndynamic_path = /usr/lib64/openssl/engines/libibmca.so\nengine_id = ibmca\ndefault_algorithms = ALL\n#default_algorithms = RAND,RSA\ninit = 1\n\n* on the beginning of/etc/pki/tls/openssl.cnf file add: \nopenssl_conf = openssl_def\n\nNow ibmca is used by default:\n[root@auto-s390-002 ~]# rpm -q openssl-ibmca\nopenssl-ibmca-1.1-2.el6.s390x\n[root@auto-s390-002 ~]# openssl engine -tt -c\n(dynamic) Dynamic engine loading support\n     [ unavailable ]\n(ibmca) Ibmca hardware engine support\n [RSA, DSA, DH, RAND, DES-ECB, DES-CBC, DES-EDE3, DES-EDE3-CBC, AES-128-ECB, AES-128-CBC, AES-192-ECB, AES-192-CBC, AES-256-ECB, AES-256-CBC, SHA1, SHA256]\n     [ available ]\n\nReopening - connection fails as in description:\n$ ssh -v root@auto-s390-002.ss.eng.bos.redhat.com\nOpenSSH_5.4p1, OpenSSL 1.0.0a-fips 1 Jun 2010\ndebug1: Reading configuration data /etc/ssh/ssh_config\ndebug1: Applying options for *\ndebug1: Connecting to auto-s390-002.ss.eng.bos.redhat.com [fec0:0:a10:7000:13:37ff:fe0f:ff01] port 22.\ndebug1: connect to address fec0:0:a10:7000:13:37ff:fe0f:ff01 port 22: Connection timed out\ndebug1: Connecting to auto-s390-002.ss.eng.bos.redhat.com [10.16.113.7] port 22.\ndebug1: Connection established.\ndebug1: identity file /home/mvadkert/.ssh/id_rsa type -1\ndebug1: identity file /home/mvadkert/.ssh/id_rsa-cert type -1\ndebug1: identity file /home/mvadkert/.ssh/id_dsa type -1\ndebug1: identity file /home/mvadkert/.ssh/id_dsa-cert type -1\ndebug1: Remote protocol version 2.0, remote software version OpenSSH_5.3\ndebug1: match: OpenSSH_5.3 pat OpenSSH*\ndebug1: Enabling compatibility mode for protocol 2.0\ndebug1: Local version string SSH-2.0-OpenSSH_5.4\ndebug1: SSH2_MSG_KEXINIT sent\ndebug1: SSH2_MSG_KEXINIT received\ndebug1: kex: server->client aes128-ctr hmac-sha1 none\ndebug1: kex: client->server aes128-ctr hmac-sha1 none\ndebug1: SSH2_MSG_KEX_DH_GEX_REQUEST(1024<2048<8192) sent\ndebug1: expecting SSH2_MSG_KEX_DH_GEX_GROUP\ndebug1: SSH2_MSG_KEX_DH_GEX_INIT sent\ndebug1: expecting SSH2_MSG_KEX_DH_GEX_REPLY\nConnection closed by 10.16.113.7",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100727T09:33:16",
          "bug_id": "617227",
          "creator_id": "271572",
          "time": "20100727T09:33:16",
          "id": "3034297",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "mvadkert@redhat.com",
          "text": "NOTE:\nComments 1-5 apply ONLY for OpenSSH in FIPS mode WITHOUT CPACF. \n\nUsing CPACF in FIPS mode is broken in openssh-5.3p1-19.el6.s390x",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100727T09:35:26",
          "bug_id": "617227",
          "creator_id": "271572",
          "time": "20100727T09:35:26",
          "id": "3034301",
          "is_private": "False"
        },
        {
          "count": "8",
          "creator": "mvadkert@redhat.com",
          "text": "For log from client see comment 6/\n\nLogs on server show this:\n\n/var/log/messages:\nJul 27 05:42:45 auto-s390-002 sshd[3197]: error: Could not load host key: /etc/ssh/ssh_host_rsa_key\n\n/var/log/secure:\nJul 27 05:47:04 auto-s390-002 sshd[3210]: FIPS mode initialized\n\nI will try to run sshd in debug mode",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100727T09:47:18",
          "bug_id": "617227",
          "creator_id": "271572",
          "time": "20100727T09:47:18",
          "id": "3034334",
          "is_private": "False"
        },
        {
          "count": "9",
          "creator": "mvadkert@redhat.com",
          "text": "Using SSH client on other RHEL6 host also fails with enabled CPACF:\n\n[root@auto-s390-002 log]# ssh -v root@dell-pe1950-04.rhts.englab.brq.redhat.com\nOpenSSH_5.3p1, OpenSSL 1.0.0-fips 29 Mar 2010\ndebug1: Reading configuration data /etc/ssh/ssh_config\ndebug1: Applying options for *\nFIPS mode initialized\ndebug1: Connecting to dell-pe1950-04.rhts.englab.brq.redhat.com [10.34.35.69] port 22.\ndebug1: Connection established.\ndebug1: permanently_set_uid: 0/0\nkey_new: RSA_new failed\n\n\nWithout CPACF this fails but later:\n\n[root@auto-s390-002 log]# ssh -v root@dell-pe1950-04.rhts.englab.brq.redhat.com\nOpenSSH_5.3p1, OpenSSL 1.0.0-fips 29 Mar 2010\ndebug1: Reading configuration data /etc/ssh/ssh_config\ndebug1: Applying options for *\nFIPS mode initialized\ndebug1: Connecting to dell-pe1950-04.rhts.englab.brq.redhat.com [10.34.35.69] port 22.\ndebug1: Connection established.\ndebug1: permanently_set_uid: 0/0\ndebug1: identity file /root/.ssh/identity type -1\ndebug1: identity file /root/.ssh/id_rsa type -1\ndebug1: identity file /root/.ssh/id_dsa type -1\ndebug1: Remote protocol version 2.0, remote software version OpenSSH_5.3\ndebug1: match: OpenSSH_5.3 pat OpenSSH*\ndebug1: Enabling compatibility mode for protocol 2.0\ndebug1: Local version string SSH-2.0-OpenSSH_5.3\ndebug1: SSH2_MSG_KEXINIT sent\ndebug1: SSH2_MSG_KEXINIT received\ndebug1: kex: server->client aes128-ctr hmac-sha1 none\ndebug1: kex: client->server aes128-ctr hmac-sha1 none\ndebug1: SSH2_MSG_KEX_DH_GEX_REQUEST(1024<2048<8192) sent\ndebug1: expecting SSH2_MSG_KEX_DH_GEX_GROUP\ndebug1: SSH2_MSG_KEX_DH_GEX_INIT sent\ndebug1: expecting SSH2_MSG_KEX_DH_GEX_REPLY\nThe authenticity of host 'dell-pe1950-04.rhts.englab.brq.redhat.com (10.34.35.69)' can't be established.\nRSA key SHA1 fingerprint is 86:92:14:1a:b8:0c:56:cb:08:ff:c0:0d:09:fe:cc:60:a5:8e:23:78.\nAre you sure you want to continue connecting (yes/no)? yes\nWarning: Permanently added 'dell-pe1950-04.rhts.englab.brq.redhat.com,10.34.35.69' (RSA) to the list of known hosts.\ndebug1: ssh_rsa_verify: signature correct\ndebug1: SSH2_MSG_NEWKEYS sent\ndebug1: expecting SSH2_MSG_NEWKEYS\ndebug1: SSH2_MSG_NEWKEYS received\ndebug1: SSH2_MSG_SERVICE_REQUEST sent\nConnection closed by 10.34.35.69",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100727T09:54:45",
          "bug_id": "617227",
          "creator_id": "271572",
          "time": "20100727T09:54:45",
          "id": "3034349",
          "is_private": "True"
        },
        {
          "count": "10",
          "creator": "mvadkert@redhat.com",
          "text": "With LogLevel DEBUG /var/log/secure shows:\n\nJul 27 06:03:34 auto-s390-002 sshd[3344]: debug1: Forked child 3349.\nJul 27 06:03:34 auto-s390-002 sshd[3349]: debug1: rexec start in 5 out 5 newsock 5 pipe 7 sock 8\nJul 27 06:03:35 auto-s390-002 sshd[3349]: FIPS mode initialized\nJul 27 06:03:35 auto-s390-002 sshd[3349]: debug1: inetd sockets after dupping: 3, 3\nJul 27 06:03:35 auto-s390-002 sshd[3349]: Connection from 10.34.24.48 port 36421\nJul 27 06:03:35 auto-s390-002 sshd[3349]: debug1: Client protocol version 2.0; client software version OpenSSH_5.4\nJul 27 06:03:35 auto-s390-002 sshd[3349]: debug1: match: OpenSSH_5.4 pat OpenSSH*\nJul 27 06:03:35 auto-s390-002 sshd[3349]: debug1: Enabling compatibility mode for protocol 2.0\nJul 27 06:03:35 auto-s390-002 sshd[3349]: debug1: Local version string SSH-2.0-OpenSSH_5.3\nJul 27 06:03:35 auto-s390-002 sshd[3351]: debug1: permanently_set_uid: 74/491\nJul 27 06:03:35 auto-s390-002 sshd[3351]: debug1: list_hostkey_types: ssh-dss\nJul 27 06:03:35 auto-s390-002 sshd[3351]: debug1: SSH2_MSG_KEXINIT sent\nJul 27 06:03:35 auto-s390-002 sshd[3351]: debug1: SSH2_MSG_KEXINIT received\nJul 27 06:03:35 auto-s390-002 sshd[3351]: debug1: kex: client->server aes128-ctr hmac-sha1 none\nJul 27 06:03:35 auto-s390-002 sshd[3351]: debug1: kex: server->client aes128-ctr hmac-sha1 none\nJul 27 06:03:35 auto-s390-002 sshd[3351]: debug1: SSH2_MSG_KEX_DH_GEX_REQUEST received\nJul 27 06:03:35 auto-s390-002 sshd[3351]: debug1: SSH2_MSG_KEX_DH_GEX_GROUP sent\nJul 27 06:03:35 auto-s390-002 sshd[3351]: debug1: expecting SSH2_MSG_KEX_DH_GEX_INIT\nJul 27 06:03:35 auto-s390-002 sshd[3349]: debug1: do_cleanup",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100727T10:00:36",
          "bug_id": "617227",
          "creator_id": "271572",
          "time": "20100727T10:00:36",
          "id": "3034368",
          "is_private": "True"
        },
        {
          "count": "11",
          "creator": "mvadkert@redhat.com",
          "text": "I think this bug depends on openssl issues on FIPS enabled s390x machines:\nBug 618595 - openssl problems on FIPS enabled s390x",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100727T10:46:40",
          "bug_id": "617227",
          "creator_id": "271572",
          "time": "20100727T10:46:40",
          "id": "3034462",
          "is_private": "True"
        },
        {
          "count": "12",
          "creator": "jchadima@redhat.com",
          "text": "The bug 618595 will be dalayed to 6.1, so this one must be dalayed also.",
          "author": "jchadima@redhat.com",
          "creation_time": "20100729T08:08:21",
          "bug_id": "617227",
          "creator_id": "276623",
          "time": "20100729T08:08:21",
          "id": "3040071",
          "is_private": "True"
        },
        {
          "count": "13",
          "creator": "mvadkert@redhat.com",
          "text": "In non-FIPS mode this openssh works well with enabled CPACF:\n\n[root@auto-s390-002 ~]# cat /proc/sys/crypto/fips_enabled\n0\n[root@auto-s390-002 ~]# openssl engine -tt -c\n(dynamic) Dynamic engine loading support\n     [ unavailable ]\n(ibmca) Ibmca hardware engine support\n [RSA, DSA, DH, RAND, DES-ECB, DES-CBC, DES-EDE3, DES-EDE3-CBC, AES-128-ECB, AES-128-CBC, AES-192-ECB, AES-192-CBC, AES-256-ECB, AES-256-CBC, SHA1, SHA256]\n     [ available ]\n[root@auto-s390-002 ~]# service sshd restart\nStopping sshd: [  OK  ]\nStarting sshd: [  OK  ]\n\nConnecting to openssh shows no problems.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20100802T07:30:55",
          "bug_id": "617227",
          "creator_id": "271572",
          "time": "20100802T07:30:55",
          "id": "3048982",
          "is_private": "True"
        },
        {
          "count": "14",
          "creator": "tmraz@redhat.com",
          "text": "This is really a duplicate of the bug 618595.\n\nIf the ibmca engine for openssl and the HW is FIPS certified, then the engine must set proper flag for its RSA implementation method.\n\n*** This bug has been marked as a duplicate of bug 618595 ***",
          "author": "tmraz@redhat.com",
          "creation_time": "20100802T12:29:48",
          "bug_id": "617227",
          "creator_id": "167996",
          "time": "20100802T12:29:48",
          "id": "3049506",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "s390x",
      "version": [
        "6.0"
      ],
      "cc": [
        "tmraz@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_regression_status": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "product": "Red Hat Enterprise Linux 6",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "target_release": [
        "---"
      ],
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "sub_components": {},
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "Regression",
      "cf_crm": "",
      "op_sys": "Linux",
      "alias": [],
      "dupe_of": "618595",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.0.0",
          "modification_date": "20100722T14:31:36",
          "type_id": "62",
          "is_active": "0",
          "creation_date": "20100722T14:31:36",
          "id": "652071",
          "setter": "mvadkert@redhat.com"
        },
        {
          "status": "?",
          "name": "blocker",
          "modification_date": "20100722T14:31:36",
          "type_id": "24",
          "is_active": "1",
          "creation_date": "20100722T14:31:36",
          "id": "652072",
          "setter": "mvadkert@redhat.com"
        },
        {
          "status": "?",
          "name": "pm_ack",
          "modification_date": "20100722T14:31:36",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20100722T14:31:36",
          "id": "652073",
          "setter": "mvadkert@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20100722T14:31:36",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20100722T14:31:36",
          "id": "652074",
          "setter": "mvadkert@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20100722T14:31:36",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20100722T14:31:36",
          "id": "652075",
          "setter": "mvadkert@redhat.com"
        }
      ],
      "last_change_time": "20100802T12:29:48",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509334-cF7TODRmb7n2afzy7UD1sSZYUeTC5dbG3WaGzUgCMMU",
      "cf_partner": [],
      "cf_last_closed": "20100802T12:29:48",
      "resolution": "DUPLICATE",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [
        "643615"
      ],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20101016T11:36:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "643616",
      "cf_release_notes": "",
      "priority": "low",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "mvadkert@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "mvadkert@redhat.com",
          "text": "+++ This bug was initially created as a clone of Bug #643615 +++\n\nDescription of problem:\nsftp doesn't fallback to protocol SSHv1 if SSHv2 not available.\n\nVersion-Release number of selected component (if applicable):\nopenssh-4.3p2-58.el5\n\nHow reproducible:\n100%\n\nSteps to Reproduce:\n1. Configure sshd to use only protocol 1\n2. try to connect with sftp\n  \nActual results:\nsftp fails:\nConnecting to localhost...\nProtocol major versions differ: 2 vs. 1\nCouldn't read packet: Connection reset by peer\n\n\nExpected results:\nsftp fallbacks to protocol 1\n\nAdditional info:\nThis seems to be an upstream issue (reproduced on F13). This is also reproducible on RHEL6",
          "author": "mvadkert@redhat.com",
          "creation_time": "20101016T11:36:21",
          "bug_id": "643616",
          "creator_id": "271572",
          "time": "20101016T11:36:21",
          "id": "3218104",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20101016T11:52:35",
          "bug_id": "643616",
          "creator_id": "193983",
          "time": "20101016T11:52:35",
          "id": "3218106",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "jchadima@redhat.com",
          "text": "The problem is because the protocol 1 does not know anything about sftp. \nThe correct usage of sftp on the protocol 1 is sftp -s /usr/libexec/openssh/sftp-server -o protocol 1 host",
          "author": "jchadima@redhat.com",
          "creation_time": "20101108T12:32:39",
          "bug_id": "643616",
          "creator_id": "276623",
          "time": "20101108T12:32:39",
          "id": "3275138",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.0"
      ],
      "cc": [],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "643615",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "sftp should fallback to sshv1 if server doesn't support sshv2",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.1.0",
          "modification_date": "20101016T11:52:32",
          "type_id": "202",
          "is_active": "0",
          "creation_date": "20101016T11:52:32",
          "id": "695576",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20101029T21:09:32",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20101016T12:05:51",
          "id": "695577",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20101029T22:03:58",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20101029T22:03:58",
          "id": "702826",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20101108T12:32:39",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509334-OBbqa92fb0Mh9PEkoLw8ngA1tWe4qgFqwkzeAbZGjcA",
      "cf_partner": [],
      "cf_last_closed": "20101108T12:32:39",
      "resolution": "NOTABUG",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20101020T14:10:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "644877",
      "cf_release_notes": "",
      "priority": "low",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-33.el6",
      "creator": "jchadima@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "jchadima@redhat.com",
          "text": "Description of problem:\nThere is an ancient linux audit patch, which makes difficult the further extensions.\n\nVersion-Release number of selected component (if applicable):\nopenssh-5.3p1-20.el6\n\n  \nExpected results:\nThe new full compatible upstream patch exists.",
          "author": "jchadima@redhat.com",
          "creation_time": "20101020T14:10:35",
          "bug_id": "644877",
          "creator_id": "276623",
          "time": "20101020T14:10:35",
          "id": "3225867",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20101020T14:12:43",
          "bug_id": "644877",
          "creator_id": "193983",
          "time": "20101020T14:12:43",
          "id": "3225874",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "pm-rhel@redhat.com",
          "text": "All rebased packages need to be documented in the Release Notes.\nPlease add draft content to the ''Technical Notes'' field.\n\nIf the rebase changes documented procedures, then please create\na bugzilla clone in the affected book component or use component\n''Documentation'' if you are unsure which book component to select.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20101020T14:32:15",
          "bug_id": "644877",
          "creator_id": "193983",
          "time": "20101020T14:32:15",
          "id": "3225920",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "riek@redhat.com",
          "text": "To clarify: this request is to change a patch in openssh to the current upstream, rather than re-basing the whole package.",
          "author": "riek@redhat.com",
          "creation_time": "20101128T23:53:58",
          "bug_id": "644877",
          "creator_id": "152197",
          "time": "20101128T23:53:58",
          "id": "3378641",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "jchadima@redhat.com",
          "text": "Of course only the audit patch should be rebased.",
          "author": "jchadima@redhat.com",
          "creation_time": "20101129T08:27:14",
          "bug_id": "644877",
          "creator_id": "276623",
          "time": "20101129T08:27:14",
          "id": "3379082",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "mkhusid@redhat.com",
          "text": "Is there new functionality introduced with the new patch?",
          "author": "mkhusid@redhat.com",
          "creation_time": "20101130T00:40:06",
          "bug_id": "644877",
          "creator_id": "298056",
          "time": "20101130T00:40:06",
          "id": "3381411",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "sgrubb@redhat.com",
          "text": "Giving devel ack and removing the Rebase keyword. Rebase should only be used when the package release is changed. As for testing, before and after audit logs should be identical (with the time stamp being the only difference).",
          "author": "sgrubb@redhat.com",
          "creation_time": "20101130T01:43:23",
          "bug_id": "644877",
          "creator_id": "168751",
          "time": "20101130T01:43:23",
          "id": "3381466",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "mkhusid@redhat.com",
          "text": "Change title to please the pm bot.",
          "author": "mkhusid@redhat.com",
          "creation_time": "20101130T02:02:10",
          "bug_id": "644877",
          "creator_id": "298056",
          "time": "20101130T02:02:10",
          "id": "3381487",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "jchadima@redhat.com",
          "text": "(In reply to comment #5)\n> Is there new functionality introduced with the new patch?\n\nnone\nthe new patch is easier extensible to upcoming FIPS required audit",
          "author": "jchadima@redhat.com",
          "creation_time": "20101130T10:36:09",
          "bug_id": "644877",
          "creator_id": "276623",
          "time": "20101130T10:36:09",
          "id": "3382161",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "ebenes@redhat.com",
          "text": "QA_ACK+ for 6.1\n\nJan, could you please provide list of use-cases related to your changes so we can test whatever is possible to avoid any regressions. Thanks",
          "author": "ebenes@redhat.com",
          "creation_time": "20101130T13:16:04",
          "bug_id": "644877",
          "creator_id": "203333",
          "time": "20101130T13:16:04",
          "id": "3382494",
          "is_private": "True"
        },
        {
          "count": "10",
          "creator": "jchadima@redhat.com",
          "text": "(In reply to comment #9)\n> QA_ACK+ for 6.1\n> \n> Jan, could you please provide list of use-cases related to your changes so we\n> can test whatever is possible to avoid any regressions. Thanks\n\nEda, this is, as I hope, covered by the linux audit tests. There should be the same results with the old and with the new versions of the patch.",
          "author": "jchadima@redhat.com",
          "creation_time": "20101130T14:29:13",
          "bug_id": "644877",
          "creator_id": "276623",
          "time": "20101130T14:29:13",
          "id": "3382730",
          "is_private": "True"
        },
        {
          "count": "11",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2011:10529-04\nhttp://errata.devel.redhat.com/errata/show/10529",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110114T12:24:04",
          "bug_id": "644877",
          "creator_id": "241731",
          "time": "20110114T12:24:04",
          "id": "3478890",
          "is_private": "True"
        },
        {
          "count": "12",
          "creator": "mvadkert@redhat.com",
          "text": "Audit logs consistency tests should be added to existing audit log checks. Adding RHTS keyword.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110126T12:18:09",
          "bug_id": "644877",
          "creator_id": "271572",
          "time": "20110126T12:18:09",
          "id": "3501253",
          "is_private": "True"
        },
        {
          "count": "13",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2011:10529-20: \nhttp://errata.devel.redhat.com/errata/stateview/10529\n\nVERIFIED as fixed openssh-5.3p1-52.el6:\n\nCoreOS/openssh/Regression/bz632402-audit-crypto-usage - PASSES on all architectures without issues. \n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: SSHv2 with password auth\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'service sshd restart'\n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-ctr'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:12:20.087934954 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-ctr'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:12:22.916360397 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-ctr'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:12:25.768048725 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour256'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:12:28.638578855 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour128'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:12:31.569947552 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-cbc'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:12:34.382840268 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat 3des-cbc'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:12:37.206071966 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat blowfish-cbc'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:12:40.043321474 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat cast128-cbc'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:12:42.960185141 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-cbc'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:12:45.809389232 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-cbc'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:12:48.664434478 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:12:51.569122943 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running 'service sshd restart'\n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-cbc'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:12:54.802381754 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'unsupported-mac'\n:: [   PASS   ] :: Running 'cp -f sshd_config_v2 /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running 'cp -f ssh_config /etc/ssh/ssh_config'\n:: [   PASS   ] :: Running 'restorecon -Rv /etc/ssh'\n:: [   PASS   ] :: Running './ssh_l.exp root redhat'\n:: [   LOG    ] :: ====================== Audit logs for ssh -L ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:12:56.223960491 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh_r.exp root redhat'\n:: [   LOG    ] :: ====================== Audit logs for ssh -R ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:12:58.068618172 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh_dyn.exp root redhat'\n:: [   LOG    ] :: ====================== Audit logs for ssh -D ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:13:00.033779715 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './scp.exp root redhat /tmp/tmp.Y5wWdZIaMo /tmp/tmp.Q2xx5rum1j'\n:: [   LOG    ] :: ====================== Audit logs for scp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:13:02.914300479 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './sftp.exp root redhat'\n:: [   LOG    ] :: ====================== Audit logs for sftp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:13:05.781590191 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh-copy-id.exp root redhat'\n:: [   LOG    ] :: ====================== Audit logs for ssh-copy-id ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:13:05.781590191 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   LOG    ] :: Duration: 52s\n:: [   LOG    ] :: Assertions: 118 good, 0 bad\n:: [   PASS   ] :: RESULT: SSHv2 with password auth\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: SSHv2 with pubkey auth\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'sed -i 's/PubkeyAuthentication no/PubkeyAuthentication yes/' /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running 'service sshd restart'\n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-ctr'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:13:12.574356778 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-ctr'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:13:15.477028977 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-ctr'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:13:18.367211694 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour256'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:13:21.343045384 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour128'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:13:24.316643881 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-cbc'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:13:27.240685158 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat 3des-cbc'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:13:30.188920678 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat blowfish-cbc'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:13:33.131863380 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat cast128-cbc'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:13:36.134762860 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-cbc'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:13:39.083395147 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-cbc'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:13:42.027090927 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:13:45.029268420 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh_l.exp root redhat'\n:: [   LOG    ] :: ====================== Audit logs for ssh -L ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:13:47.968510752 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh_r.exp root redhat'\n:: [   LOG    ] :: ====================== Audit logs for ssh -R ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:13:49.861111628 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh_dyn.exp root redhat'\n:: [   LOG    ] :: ====================== Audit logs for ssh -D ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:13:51.786437956 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './scp.exp root redhat /tmp/tmp.Y5wWdZIaMo /tmp/tmp.Q2xx5rum1j'\n:: [   LOG    ] :: ====================== Audit logs for scp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:13:54.747393701 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './sftp.exp root redhat'\n:: [   LOG    ] :: ====================== Audit logs for sftp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:13:57.706583495 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh-copy-id.exp root redhat'\n:: [   LOG    ] :: ====================== Audit logs for ssh-copy-id ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:13:57.706583495 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   LOG    ] :: Duration: 51s\n:: [   LOG    ] :: Assertions: 110 good, 0 bad\n:: [   PASS   ] :: RESULT: SSHv2 with pubkey auth\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: SSHv1 with password auth\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'cp -f sshd_config_v1 /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running 'restorecon -Rv /etc/ssh'\n:: [   PASS   ] :: Running 'rm -rf /root/.ssh/authorized_keys'\n:: [   PASS   ] :: Running 'cat /root/.ssh/identity.pub >> /root/.ssh/authorized_keys'\n:: [   PASS   ] :: Running 'service sshd restart'\n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-ctr'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:14:05.288952146 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-ctr'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:14:06.638855166 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-ctr'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:14:07.991952121 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour256'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:14:09.363590703 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour128'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:14:10.728575292 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-cbc'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:14:12.081727203 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat 3des-cbc'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:14:13.455283123 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat blowfish-cbc'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:14:14.838196498 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat cast128-cbc'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:14:16.213453861 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-cbc'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:14:17.581128135 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-cbc'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:14:18.977017534 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:14:20.373768822 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh_l.exp root redhat'\n:: [   LOG    ] :: ====================== Audit logs for ssh -L ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:14:21.771925668 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh_r.exp root redhat'\n:: [   LOG    ] :: ====================== Audit logs for ssh -R ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:14:23.203984490 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh_dyn.exp root redhat'\n:: [   LOG    ] :: ====================== Audit logs for ssh -D ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:14:24.619625335 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './scp.exp root redhat /tmp/tmp.Y5wWdZIaMo /tmp/tmp.Q2xx5rum1j'\n:: [   LOG    ] :: ====================== Audit logs for scp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:14:26.045214955 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './sftp1.exp root redhat'\n:: [   LOG    ] :: ====================== Audit logs for sftp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:14:27.467208174 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh-copy-id.exp root redhat'\n:: [   LOG    ] :: ====================== Audit logs for ssh-copy-id ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:14:27.467208174 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   LOG    ] :: Duration: 26s\n:: [   LOG    ] :: Assertions: 113 good, 0 bad\n:: [   PASS   ] :: RESULT: SSHv1 with password auth\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: SSHv1 with pubkey auth\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'rm -rf /root/.ssh/authorized_keys'\n:: [   PASS   ] :: Running 'cat /root/.ssh/identity.pub >> /root/.ssh/authorized_keys'\n:: [   PASS   ] :: Running 'sed -i 's/RSAAuthentication no/RSAAuthentication yes/' /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running 'service sshd restart'\n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-ctr'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:14:31.725259483 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-ctr'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:14:33.164314311 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-ctr'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:14:34.607560317 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour256'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:14:36.061488012 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour128'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:14:37.516656728 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat aes128-cbc'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:14:38.971708182 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat 3des-cbc'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:14:40.443024517 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat blowfish-cbc'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:14:41.921426744 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat cast128-cbc'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:14:43.422656094 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat aes192-cbc'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:14:44.922896663 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat aes256-cbc'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:14:46.433349759 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh.exp root redhat arcfour'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:14:47.931966486 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh_l.exp root redhat'\n:: [   LOG    ] :: ====================== Audit logs for ssh -L ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:14:49.433973672 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh_r.exp root redhat'\n:: [   LOG    ] :: ====================== Audit logs for ssh -R ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:14:50.986780813 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh_dyn.exp root redhat'\n:: [   LOG    ] :: ====================== Audit logs for ssh -D ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:14:52.539291407 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './scp.exp root redhat /tmp/tmp.Y5wWdZIaMo /tmp/tmp.Q2xx5rum1j'\n:: [   LOG    ] :: ====================== Audit logs for scp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:14:54.062025835 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './sftp1.exp root redhat'\n:: [   LOG    ] :: ====================== Audit logs for sftp ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:14:55.598499641 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: Running './ssh-copy-id.exp root redhat'\n:: [   LOG    ] :: ====================== Audit logs for ssh-copy-id ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:14:55.598499641 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   LOG    ] :: Duration: 28s\n:: [   LOG    ] :: Assertions: 112 good, 0 bad\n:: [   PASS   ] :: RESULT: SSHv1 with pubkey auth\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: SSHv2 with NSS auth\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'cp -f sshd_config_v2 /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running 'cp -f ssh_config /etc/ssh/ssh_config'\n:: [   PASS   ] :: Running 'sed -i 's/PubkeyAuthentication no/PubkeyAuthentication yes/' /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running 'restorecon -Rv /etc/ssh'\n:: [   PASS   ] :: Running 'ssh-keygen -n >> /root/.ssh/authorized_keys'\n:: [   PASS   ] :: Running 'service sshd restart'\n:: [   PASS   ] :: Running './sshnss.exp root redhat aes128-ctr'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:15:00.678091585 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'unknown'\n:: [   PASS   ] :: Running './sshnss.exp root redhat aes192-ctr'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:15:04.492229865 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'unknown'\n:: [   PASS   ] :: Running './sshnss.exp root redhat aes256-ctr'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:15:07.948324206 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'unknown'\n:: [   PASS   ] :: Running './sshnss.exp root redhat arcfour256'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:15:11.987099396 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'unknown'\n:: [   PASS   ] :: Running './sshnss.exp root redhat arcfour128'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:15:15.932087808 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'unknown'\n:: [   PASS   ] :: Running './sshnss.exp root redhat aes128-cbc'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:15:19.993689231 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'unknown'\n:: [   PASS   ] :: Running './sshnss.exp root redhat 3des-cbc'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:15:23.855843394 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'unknown'\n:: [   PASS   ] :: Running './sshnss.exp root redhat blowfish-cbc'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:15:27.315699387 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'unknown'\n:: [   PASS   ] :: Running './sshnss.exp root redhat cast128-cbc'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:15:30.835556845 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'unknown'\n:: [   PASS   ] :: Running './sshnss.exp root redhat aes192-cbc'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:15:34.283971938 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'unknown'\n:: [   PASS   ] :: Running './sshnss.exp root redhat aes256-cbc'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:15:37.838934551 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'unknown'\n:: [   PASS   ] :: Running './sshnss.exp root redhat arcfour'\n:: [   LOG    ] :: ====================== Audit logs for ssh ======================\n:: [   PASS   ] :: Running 'ausearch -ts 11:15:41.934671968 | tee /tmp/tmp.GBp8FLb0kr'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_SESSION'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should contain 'CRYPTO_KEY_USER'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'USER_ERR'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain '0.0.0.0'\n:: [   PASS   ] :: File '/tmp/tmp.GBp8FLb0kr' should not contain 'unknown'\n:: [   LOG    ] :: Duration: 47s\n:: [   LOG    ] :: Assertions: 90 good, 0 bad\n:: [   PASS   ] :: RESULT: SSHv2 with NSS auth\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Check for fatal sshd errors\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'cat /var/log/secure | egrep 'sshd.*fatal' | grep -v hmac'\n:: [   LOG    ] :: Duration: 0s\n:: [   LOG    ] :: Assertions: 1 good, 0 bad\n:: [   PASS   ] :: RESULT: Check for fatal sshd errors",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110420T15:17:19",
          "bug_id": "644877",
          "creator_id": "241731",
          "time": "20110420T15:17:19",
          "id": "3687547",
          "is_private": "True"
        },
        {
          "count": "14",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "An advisory has been issued which should help the problem\ndescribed in this bug report. This report is therefore being\nclosed with a resolution of ERRATA. For more information\non therefore solution and/or where to find the updated files,\nplease follow the link below. You may reopen this bug report\nif the solution does not work for you.\n\nhttp://rhn.redhat.com/errata/RHBA-2011-0598.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110519T13:30:37",
          "bug_id": "644877",
          "creator_id": "241731",
          "time": "20110519T13:30:37",
          "id": "3745800",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.1"
      ],
      "cc": [
        "mkhusid@redhat.com",
        "mvadkert@redhat.com",
        "riek@redhat.com",
        "sgrubb@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "Update the linux audit patch according the upstream.",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "-",
          "name": "requires_release_note",
          "modification_date": "20101104T02:13:11",
          "type_id": "60",
          "is_active": "1",
          "creation_date": "20101020T14:32:13",
          "id": "698074",
          "setter": "rlerch@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.1.0",
          "modification_date": "20101130T13:31:09",
          "type_id": "202",
          "is_active": "0",
          "creation_date": "20101020T14:12:41",
          "id": "698062",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20101129T00:07:49",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20101020T14:26:01",
          "id": "698068",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20101130T01:51:51",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20101129T00:25:35",
          "id": "729388",
          "setter": "sgrubb@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20101130T13:16:04",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20101130T02:02:10",
          "id": "730183",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20110519T13:30:37",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509334-U1QnkW1nv3eBElFjAxdoHjq3LlAIXAR_kZHTAsX-sAE",
      "cf_partner": [],
      "cf_last_closed": "20110519T13:30:37",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20101124T19:42:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "FutureFeature"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "657059",
      "cf_release_notes": "",
      "priority": "low",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-33.el6",
      "creator": "mark.jones1@baylorhealth.edu",
      "comments": [
        {
          "count": "0",
          "creator": "mark.jones1@baylorhealth.edu",
          "text": "Description of problem:\nHi,\n  I would like to request to add the umask feature to the openssh sftp subsystem.\n\nIt was implemented in openssh 5.4  \n\nVersion-Release number of selected component (if applicable):\n\n\nHow reproducible:\n\n\nSteps to Reproduce:\n1.\n2.\n3.\n  \nActual results:\n\n\nExpected results:\n\n\nAdditional info:",
          "author": "mark.jones1@baylorhealth.edu",
          "creation_time": "20101124T19:42:16",
          "bug_id": "657059",
          "creator_id": "307095",
          "time": "20101124T19:42:16",
          "id": "3373157",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20101124T19:52:52",
          "bug_id": "657059",
          "creator_id": "193983",
          "time": "20101124T19:52:52",
          "id": "3373186",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "sgrubb@redhat.com",
          "text": "Patch is small. Devel ack given.\n\nhttps://bugzilla.mindrot.org/attachment.cgi?id=1673",
          "author": "sgrubb@redhat.com",
          "creation_time": "20101130T19:24:35",
          "bug_id": "657059",
          "creator_id": "168751",
          "time": "20101130T19:24:35",
          "id": "3383757",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "ebenes@redhat.com",
          "text": "QA_ACK+ for 6.1",
          "author": "ebenes@redhat.com",
          "creation_time": "20101201T13:25:53",
          "bug_id": "657059",
          "creator_id": "203333",
          "time": "20101201T13:25:53",
          "id": "3385600",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2011:10529-01\nhttp://errata.devel.redhat.com/errata/show/10529",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110114T12:07:33",
          "bug_id": "657059",
          "creator_id": "241731",
          "time": "20110114T12:07:33",
          "id": "3478829",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "mvadkert@redhat.com",
          "text": "Testing this will be automated. Addind RHTS to QE Whiteboard.\n\nAdd this to sshd_config to have it working:\nForceCommand internal-sftp -u 002",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110126T11:53:16",
          "bug_id": "657059",
          "creator_id": "271572",
          "time": "20110126T11:53:16",
          "id": "3501221",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "mvadkert@redhat.com",
          "text": "Internal sftp does not support setting umask. Use sftp-server subsystem instead\nForceCommand sftp-server -u 002",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110127T12:14:23",
          "bug_id": "657059",
          "creator_id": "271572",
          "time": "20110127T12:14:23",
          "id": "3503667",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "mvadkert@redhat.com",
          "text": "Jan as this is a FutureFeature bug, please provide which parts of openssh can this bug affect (besides the feature itself). So we can concentrate on these parts during our testing. Thank you!",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110127T12:20:21",
          "bug_id": "657059",
          "creator_id": "271572",
          "time": "20110127T12:20:21",
          "id": "3503681",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "jchadima@redhat.com",
          "text": "sftp functionality, especially file and directory creation via sftp.",
          "author": "jchadima@redhat.com",
          "creation_time": "20110128T10:03:22",
          "bug_id": "657059",
          "creator_id": "276623",
          "time": "20110128T10:03:22",
          "id": "3505761",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "mvadkert@redhat.com",
          "text": "First version of the Beaker test is ready. When using umask 0 the directories are created with expected permissions 777, but files are not created with good permissions. I think they should be created with permissions 666 if the copied file has no executable permissions:\n\n:: [   PASS   ] :: Running 'sed -i 's/.*Subsystem.*sftp.*/Subsystem  sftp  \\/usr\\/libexec\\/openssh\\/sftp-server -u0/g' /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running '/usr/sbin/sshd -p9898'\n:: [   PASS   ] :: Running 'touch test'\nspawn sftp -o Port 9898 utest@dell-pe1950-04.rhts.englab.brq.redhat.com\nConnecting to dell-pe1950-04.rhts.englab.brq.redhat.com...\nutest@dell-pe1950-04.rhts.englab.brq.redhat.com's password: \nsftp> mkdir testdir\nsftp> cd testdir\nsftp> put test\nUploading test to /home/utest/testdir/test\ntest                                                                                                                                                                          100%    0     0.0KB/s   00:00    \nsftp> bye\n:: [   PASS   ] :: Running './sftp.exp utest utest 9898'\ndrwxrwxrwx. 2 utest utest 4096 Mar  9 04:44 /home/utest/testdir\n:: [   PASS   ] :: Running 'ls -ld /home/utest/testdir | tee /tmp/tmp.ydSSYvzgIF'\n:: [   PASS   ] :: File '/tmp/tmp.ydSSYvzgIF' should contain 'rwxrwxrwx'\n-rw-r--r--. 1 utest utest 0 Mar  9 04:44 /home/utest/testdir/test\n:: [   PASS   ] :: Running 'ls -l /home/utest/testdir/test | tee /tmp/tmp.ydSSYvzgIF'\n:: [   FAIL   ] :: File '/tmp/tmp.ydSSYvzgIF' should contain 'rw-rw-rw-' \n\nAs you can see the permissions are -rw-r--r-- instead of rw-rw-rw-",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110309T09:57:11",
          "bug_id": "657059",
          "creator_id": "271572",
          "time": "20110309T09:57:11",
          "id": "3581734",
          "is_private": "False"
        },
        {
          "count": "10",
          "creator": "jchadima@redhat.com",
          "text": "(In reply to comment #7)\n> Jan as this is a FutureFeature bug, please provide which parts of openssh can\n> this bug affect (besides the feature itself). So we can concentrate on these\n> parts during our testing. Thank you!\nMiro,, only sftp, nothing other.",
          "author": "jchadima@redhat.com",
          "creation_time": "20110309T12:34:05",
          "bug_id": "657059",
          "creator_id": "276623",
          "time": "20110309T12:34:05",
          "id": "3582102",
          "is_private": "True"
        },
        {
          "count": "11",
          "creator": "mvadkert@redhat.com",
          "text": "Jan we need to find out if the test result in comment 9 is a bug. Moving to verified as it seems so",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110309T14:30:48",
          "bug_id": "657059",
          "creator_id": "271572",
          "time": "20110309T14:30:48",
          "id": "3582395",
          "is_private": "False"
        },
        {
          "count": "12",
          "creator": "jchadima@redhat.com",
          "text": "(In reply to comment #11)\n> Jan we need to find out if the test result in comment 9 is a bug. Moving to\n> verified as it seems so\n\nthe result permissions depend on source file permissions and the umask.",
          "author": "jchadima@redhat.com",
          "creation_time": "20110310T12:53:17",
          "bug_id": "657059",
          "creator_id": "276623",
          "time": "20110310T12:53:17",
          "id": "3584774",
          "is_private": "True"
        },
        {
          "count": "13",
          "creator": "mvadkert@redhat.com",
          "text": "The documentation doesn't mention that the umask should be entered as a decimal number:\n-u umask  Sets an explicit umask(2) to be applied to newly-created files and directories, instead of the user\u2019s default mask.\n\n\nAlso I think it should be possible to specify it as octal number as umask does this:\numask [-p] [-S] [mode]\n              The user file-creation mask is set to mode.  If mode begins with\n              a  digit,  it is interpreted as an octal number; ....\n\n\nWhat do you say Jan?",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110315T12:53:47",
          "bug_id": "657059",
          "creator_id": "271572",
          "time": "20110315T12:53:47",
          "id": "3593942",
          "is_private": "False"
        },
        {
          "count": "14",
          "creator": "jchadima@redhat.com",
          "text": "The documentation may be repaired, the change to the code may lead to regressions so I do not recommend it.",
          "author": "jchadima@redhat.com",
          "creation_time": "20110315T13:17:08",
          "bug_id": "657059",
          "creator_id": "276623",
          "time": "20110315T13:17:08",
          "id": "3593996",
          "is_private": "False"
        },
        {
          "count": "15",
          "creator": "sgrubb@redhat.com",
          "text": "Octal is the normal format when expressing file permissions and therefore the umask.",
          "author": "sgrubb@redhat.com",
          "creation_time": "20110315T13:27:14",
          "bug_id": "657059",
          "creator_id": "168751",
          "time": "20110315T13:27:14",
          "id": "3594016",
          "is_private": "False"
        },
        {
          "count": "16",
          "creator": "mvadkert@redhat.com",
          "text": "Just for update: Jan found out that the umask octal format is already in upstream so the backport should be easy",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110315T17:03:08",
          "bug_id": "657059",
          "creator_id": "271572",
          "time": "20110315T17:03:08",
          "id": "3607679",
          "is_private": "False"
        },
        {
          "count": "17",
          "creator": "jchadima@redhat.com",
          "text": "Updated to octal input format.",
          "author": "jchadima@redhat.com",
          "creation_time": "20110315T21:00:17",
          "bug_id": "657059",
          "creator_id": "276623",
          "time": "20110315T21:00:17",
          "id": "3608288",
          "is_private": "False"
        },
        {
          "count": "18",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from MODIFIED to ON_QA status by the Errata System: \nAdvisory RHBA-2011:10529-18: \nhttp://errata.devel.redhat.com/errata/stateview/10529",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110322T21:00:59",
          "bug_id": "657059",
          "creator_id": "241731",
          "time": "20110322T21:00:59",
          "id": "3622313",
          "is_private": "True"
        },
        {
          "count": "19",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2011:10529-19: \nhttp://errata.devel.redhat.com/errata/stateview/10529\n\nVERIFIED as fixed in openssh-5.3p1-49.el6\n\nNEW package openssh-5.3p1-49.el6\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: umask 007\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'sed -i 's/.*Subsystem.*sftp.*/Subsystem  sftp  \\/usr\\/libexec\\/openssh\\/sftp-server -u007/g' /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running '/usr/sbin/sshd -p9898'\n:: [   PASS   ] :: Running 'touch test test1 test2 test3'\n:: [   PASS   ] :: Running 'chmod 664 test'\n:: [   PASS   ] :: Running 'chmod 444 test1'\n:: [   PASS   ] :: Running 'chmod 646 test2'\n:: [   PASS   ] :: Running 'chmod 4664 test3'\n:: [   PASS   ] :: Running './sftp.exp utest utest 9898'\n:: [   PASS   ] :: Running 'ls -ld /home/utest/testdir | tee /tmp/tmp.p1LSNgK27A'\n:: [   PASS   ] :: File '/tmp/tmp.p1LSNgK27A' should contain 'rwxrwx---'\n:: [   PASS   ] :: Running 'ls -l /home/utest/testdir/test | tee /tmp/tmp.p1LSNgK27A'\n:: [   PASS   ] :: File '/tmp/tmp.p1LSNgK27A' should contain 'rw-rw----'\n:: [   PASS   ] :: Running 'ls -l /home/utest/testdir/test1 | tee /tmp/tmp.p1LSNgK27A'\n:: [   PASS   ] :: File '/tmp/tmp.p1LSNgK27A' should contain 'r--r-----'\n:: [   PASS   ] :: Running 'ls -l /home/utest/testdir/test2| tee /tmp/tmp.p1LSNgK27A'\n:: [   PASS   ] :: File '/tmp/tmp.p1LSNgK27A' should contain 'rw-r-----'\n:: [   PASS   ] :: Running 'ls -l /home/utest/testdir/test3| tee /tmp/tmp.p1LSNgK27A'\n:: [   PASS   ] :: File '/tmp/tmp.p1LSNgK27A' should contain 'rw-rw----'\n:: [   PASS   ] :: Running 'kill 8411'\n:: [   PASS   ] :: Running 'rm -rf /home/utest/testdir'\n:: [   PASS   ] :: RESULT: umask 007\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: umask 077\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'sed -i 's/.*Subsystem.*sftp.*/Subsystem  sftp  \\/usr\\/libexec\\/openssh\\/sftp-server -u077/g' /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running '/usr/sbin/sshd -p9898'\n:: [   PASS   ] :: Running 'chmod 664 test'\n:: [   PASS   ] :: Running 'chmod 444 test1'\n:: [   PASS   ] :: Running 'chmod 646 test2'\n:: [   PASS   ] :: Running 'chmod 4664 test3'\n:: [   PASS   ] :: Running './sftp.exp utest utest 9898'\n:: [   PASS   ] :: Running 'ls -ld /home/utest/testdir | tee /tmp/tmp.p1LSNgK27A'\n:: [   PASS   ] :: File '/tmp/tmp.p1LSNgK27A' should contain 'rwx------'\n:: [   PASS   ] :: Running 'ls -l /home/utest/testdir/test | tee /tmp/tmp.p1LSNgK27A'\n:: [   PASS   ] :: File '/tmp/tmp.p1LSNgK27A' should contain 'rw-------'\n:: [   PASS   ] :: Running 'ls -l /home/utest/testdir/test1 | tee /tmp/tmp.p1LSNgK27A'\n:: [   PASS   ] :: File '/tmp/tmp.p1LSNgK27A' should contain 'r--------'\n:: [   PASS   ] :: Running 'ls -l /home/utest/testdir/test2| tee /tmp/tmp.p1LSNgK27A'\n:: [   PASS   ] :: File '/tmp/tmp.p1LSNgK27A' should contain 'rw-------'\n:: [   PASS   ] :: Running 'ls -l /home/utest/testdir/test3| tee /tmp/tmp.p1LSNgK27A'\n:: [   PASS   ] :: File '/tmp/tmp.p1LSNgK27A' should contain 'rw-------'\n:: [   PASS   ] :: Running 'kill 8569'\n:: [   PASS   ] :: Running 'rm -rf /home/utest/testdir'\n:: [   PASS   ] :: RESULT: umask 077\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: umask 002\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'sed -i 's/.*Subsystem.*sftp.*/Subsystem  sftp  \\/usr\\/libexec\\/openssh\\/sftp-server -u002/g' /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running '/usr/sbin/sshd -p9898'\n:: [   PASS   ] :: Running 'chmod 664 test'\n:: [   PASS   ] :: Running 'chmod 444 test1'\n:: [   PASS   ] :: Running 'chmod 646 test2'\n:: [   PASS   ] :: Running 'chmod 4664 test3'\n:: [   PASS   ] :: Running './sftp.exp utest utest 9898'\n:: [   PASS   ] :: Running 'ls -ld /home/utest/testdir | tee /tmp/tmp.p1LSNgK27A'\n:: [   PASS   ] :: File '/tmp/tmp.p1LSNgK27A' should contain 'rwxrwxr-x'\n:: [   PASS   ] :: Running 'ls -l /home/utest/testdir/test | tee /tmp/tmp.p1LSNgK27A'\n:: [   PASS   ] :: File '/tmp/tmp.p1LSNgK27A' should contain 'rw-rw-r--'\n:: [   PASS   ] :: Running 'ls -l /home/utest/testdir/test1 | tee /tmp/tmp.p1LSNgK27A'\n:: [   PASS   ] :: File '/tmp/tmp.p1LSNgK27A' should contain 'r--r--r--'\n:: [   PASS   ] :: Running 'ls -l /home/utest/testdir/test2| tee /tmp/tmp.p1LSNgK27A'\n:: [   PASS   ] :: File '/tmp/tmp.p1LSNgK27A' should contain 'rw-r--r--'\n:: [   PASS   ] :: Running 'ls -l /home/utest/testdir/test3| tee /tmp/tmp.p1LSNgK27A'\n:: [   PASS   ] :: File '/tmp/tmp.p1LSNgK27A' should contain 'rw-rw-r--'\n:: [   PASS   ] :: RESULT: umask 002\n\nOLD package openssh-5.3p1-20.el6\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: umask 007\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   PASS   ] :: Running 'sed -i 's/.*Subsystem.*sftp.*/Subsystem  sftp  \\/usr\\/libexec\\/openssh\\/sftp-server -u007/g' /etc/ssh/sshd_config'\n:: [   PASS   ] :: Running '/usr/sbin/sshd -p9898'\n:: [   PASS   ] :: Running 'touch test test1 test2 test3'\n:: [   PASS   ] :: Running 'chmod 664 test'\n:: [   PASS   ] :: Running 'chmod 444 test1'\n:: [   PASS   ] :: Running 'chmod 646 test2'\n:: [   PASS   ] :: Running 'chmod 4664 test3'\nspawn sftp -o Port 9898 utest@hp-bl495cg5-02.rhts.eng.bos.redhat.com\nConnecting to hp-bl495cg5-02.rhts.eng.bos.redhat.com...\nutest@hp-bl495cg5-02.rhts.eng.bos.redhat.com's password: \nConnection closed\nsend: spawn id exp4 not open\n    while executing\n''send -- ''mkdir testdir\\r''''\n    (file ''./sftp.exp'' line 13)\n:: [   FAIL   ] :: Running './sftp.exp utest utest 9898' (Expected 0, got 1)\nls: cannot access /home/utest/testdir: No such file or directory\n:: [   PASS   ] :: Running 'ls -ld /home/utest/testdir | tee /tmp/tmp.6DweYL2yL6'\n:: [   FAIL   ] :: File '/tmp/tmp.6DweYL2yL6' should contain 'rwxrwx---' \nls: cannot access /home/utest/testdir/test: No such file or directory\n:: [   PASS   ] :: Running 'ls -l /home/utest/testdir/test | tee /tmp/tmp.6DweYL2yL6'\n:: [   FAIL   ] :: File '/tmp/tmp.6DweYL2yL6' should contain 'rw-rw----' \nls: cannot access /home/utest/testdir/test1: No such file or directory\n:: [   PASS   ] :: Running 'ls -l /home/utest/testdir/test1 | tee /tmp/tmp.6DweYL2yL6'\n:: [   FAIL   ] :: File '/tmp/tmp.6DweYL2yL6' should contain 'r--r-----' \nls: cannot access /home/utest/testdir/test2: No such file or directory\n:: [   PASS   ] :: Running 'ls -l /home/utest/testdir/test2| tee /tmp/tmp.6DweYL2yL6'\n:: [   FAIL   ] :: File '/tmp/tmp.6DweYL2yL6' should contain 'rw-r-----' \nls: cannot access /home/utest/testdir/test3: No such file or directory\n:: [   PASS   ] :: Running 'ls -l /home/utest/testdir/test3| tee /tmp/tmp.6DweYL2yL6'\n:: [   FAIL   ] :: File '/tmp/tmp.6DweYL2yL6' should contain 'rw-rw----' \n:: [   PASS   ] :: Running 'kill 9351'\n:: [   PASS   ] :: Running 'rm -rf /home/utest/testdir'\n== snip ==",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110326T14:23:27",
          "bug_id": "657059",
          "creator_id": "241731",
          "time": "20110326T14:23:27",
          "id": "3630799",
          "is_private": "True"
        },
        {
          "count": "20",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "An advisory has been issued which should help the problem\ndescribed in this bug report. This report is therefore being\nclosed with a resolution of ERRATA. For more information\non therefore solution and/or where to find the updated files,\nplease follow the link below. You may reopen this bug report\nif the solution does not work for you.\n\nhttp://rhn.redhat.com/errata/RHBA-2011-0598.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110519T13:30:49",
          "bug_id": "657059",
          "creator_id": "241731",
          "time": "20110519T13:30:49",
          "id": "3745806",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.1"
      ],
      "cc": [
        "mvadkert@redhat.com",
        "sgrubb@redhat.com"
      ],
      "cf_verified": [
        "FailedQA"
      ],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [
        "https://bugzilla.redhat.com/show_bug.cgi?id=720598"
      ],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Enhancement",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "Request to add umask capabilities to Openssh in RHEL",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.1.0",
          "modification_date": "20101201T13:34:39",
          "type_id": "202",
          "is_active": "0",
          "creation_date": "20101124T19:52:50",
          "id": "728109",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20101124T20:07:54",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20101124T20:06:13",
          "id": "728114",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20101130T19:24:35",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20101124T20:25:56",
          "id": "728135",
          "setter": "sgrubb@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20101201T13:25:53",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20101126T10:14:03",
          "id": "728921",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20110712T08:14:36",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509334-S3pIFS7TBK4BF7uzkqWYqXKVx_QTj3tIDtL5tBBt1P0",
      "cf_partner": [],
      "cf_last_closed": "20110519T13:30:49",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20110112T11:41:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "668993",
      "cf_release_notes": "",
      "priority": "low",
      "severity": "low",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "andre.tenbohmer@wur.nl",
      "comments": [
        {
          "count": "0",
          "creator": "andre.tenbohmer@wur.nl",
          "text": "Description of problem:\nConnecting from a linux client to an up-to-date Redhat EL 6 server with sshd Xforwarding configured, actually fails to perform Xforwarding. Server only has ipv4 configured, no ipv6.\n\nAfter adding \nOPTIONS=''-4''\nto /etc/sysconfig/sshd and a sshd service restart, Xforwarding works.\n\nVersion-Release number of selected component (if applicable):\nopenssh-server-5.3p1-20.el6_0.3.x86_64\n\nHow reproducible:\n\nSteps to Reproduce:\n1. ssh -X redhat6.server.org\n\nActual results:\n]$ xeyes \nError: Can't open display: \n\nExpected results:\nXeyes popping up on Linux client\n\nAdditional info:\n- sshd debug info\ndebug1: session_input_channel_req: session 0 req x11-req\nFailed to allocate internet-domain X11 display socket.\ndebug1: x11_create_display_inet failed.\ndebug1: server_input_channel_req: channel 0 request pty-req reply 1\ndebug1: session_by_channel: session 0 channel 0\ndebug1: session_input_channel_req: session 0 req pty-req\n\n- sshd_config\nPort 22\nListenAddress 0.0.0.0\nProtocol 2\nSyslogFacility AUTHPRIV\nPasswordAuthentication yes\nChallengeResponseAuthentication no\nGSSAPIAuthentication yes\nGSSAPICleanupCredentials yes\nUsePAM yes\nAcceptEnv LANG LC_CTYPE LC_NUMERIC LC_TIME LC_COLLATE LC_MONETARY LC_MESSAGES\nAcceptEnv LC_PAPER LC_NAME LC_ADDRESS LC_TELEPHONE LC_MEASUREMENT\nAcceptEnv LC_IDENTIFICATION LC_ALL LANGUAGE\nAcceptEnv XMODIFIERS\nX11Forwarding yes\nSubsystem\tsftp\t/usr/libexec/openssh/sftp-server\nPermitRootLogin no\nKeepAlive yes\nClientAliveInterval 15\nClientAliveCountMax 3\nAllowGroups sshlogon\n\n- /etc/sysctl.conf\nnet.ipv6.conf.all.disable_ipv6 = 1",
          "author": "andre.tenbohmer@wur.nl",
          "creation_time": "20110112T11:41:25",
          "bug_id": "668993",
          "creator_id": "152538",
          "time": "20110112T11:41:25",
          "id": "3469842",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20110112T11:54:33",
          "bug_id": "668993",
          "creator_id": "193983",
          "time": "20110112T11:54:33",
          "id": "3469861",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "pm-rhel@redhat.com",
          "text": "Since RHEL 6.1 External Beta has begun, and this bug remains\nunresolved, it has been rejected as it is not proposed as\nexception or blocker.\n\nRed Hat invites you to ask your support representative to\npropose this request, if appropriate and relevant, in the\nnext release of Red Hat Enterprise Linux.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20110404T01:54:06",
          "bug_id": "668993",
          "creator_id": "193983",
          "time": "20110404T01:54:06",
          "id": "3648597",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "jchadima@redhat.com",
          "text": "Trying to reproduce... Can tunnel X11 from ipv6 server when X11UseLocalhost is set to yes. Otherwise it does not work and report to syslog:\nerror: Failed to allocate internet-domain X11 display socket.\nWill investigate later.",
          "author": "jchadima@redhat.com",
          "creation_time": "20110407T12:50:14",
          "bug_id": "668993",
          "creator_id": "276623",
          "time": "20110407T12:50:14",
          "id": "3659127",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "jchadima@redhat.com",
          "text": "Reporter, plase, can you test the last RHEL6.1 package with explicitly enabled X11UseLocalhost yes?",
          "author": "jchadima@redhat.com",
          "creation_time": "20110411T06:23:43",
          "bug_id": "668993",
          "creator_id": "276623",
          "time": "20110411T06:23:43",
          "id": "3665020",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "andre.tenbohmer@wur.nl",
          "text": "Jan, would you be so kind to point me in the right direction to download the RHEL6.1 package? Should I subscribe the system to the RHN RH6 beta channel?",
          "author": "andre.tenbohmer@wur.nl",
          "creation_time": "20110411T07:33:42",
          "bug_id": "668993",
          "creator_id": "152538",
          "time": "20110411T07:33:42",
          "id": "3665188",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "abo@root.snowtree.se",
          "text": "I had the same problem but noticed that /etc/hosts was empty (for whatever reason..). Adding\n\n127.0.0.1       localhost.localdomain   localhost\n::1             localhost6.localdomain6 localhost6\n\nsolved the problem. (Client and server here are dual-stack with A and AAAA records.)\n\nopenssh-server-5.3p1-45.el6.x86_64\n(yes, subscribed to a beta channel)\n\nX11UseLocalhost was commented out.",
          "author": "abo@root.snowtree.se",
          "creation_time": "20110411T14:49:49",
          "bug_id": "668993",
          "creator_id": "150258",
          "time": "20110411T14:49:49",
          "id": "3666277",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "jchadima@redhat.com",
          "text": "(In reply to comment #6)\n> \n> X11UseLocalhost was commented out.\nthe default value  should be yes",
          "author": "jchadima@redhat.com",
          "creation_time": "20110412T04:47:48",
          "bug_id": "668993",
          "creator_id": "276623",
          "time": "20110412T04:47:48",
          "id": "3667598",
          "is_private": "False"
        },
        {
          "count": "8",
          "creator": "jchadima@redhat.com",
          "text": "Have you still the problem?",
          "author": "jchadima@redhat.com",
          "creation_time": "20110524T18:09:04",
          "bug_id": "668993",
          "creator_id": "276623",
          "time": "20110524T18:09:04",
          "id": "3756603",
          "is_private": "False"
        },
        {
          "count": "9",
          "creator": "andre.tenbohmer@wur.nl",
          "text": "Fresh installed a RHELS 6.1 x64 and X-Forwarding works without having to apply previous modifications. Thanks!",
          "author": "andre.tenbohmer@wur.nl",
          "creation_time": "20110526T12:32:50",
          "bug_id": "668993",
          "creator_id": "152538",
          "time": "20110526T12:32:50",
          "id": "3761551",
          "is_private": "False"
        },
        {
          "count": "10",
          "creator": "jchadima@redhat.com",
          "text": "reporter found that there is no longer the bug",
          "author": "jchadima@redhat.com",
          "creation_time": "20110526T13:19:23",
          "bug_id": "668993",
          "creator_id": "276623",
          "time": "20110526T13:19:23",
          "id": "3761673",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "x86_64",
      "version": [
        "6.0"
      ],
      "cc": [
        "abo@root.snowtree.se"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "Xforwarding only works by adding -4 to sshd_config",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "-",
          "name": "rhel-6.1.0",
          "modification_date": "20110404T01:54:04",
          "type_id": "202",
          "is_active": "0",
          "creation_date": "20110112T11:54:31",
          "id": "749707",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "rhel-6.2.0",
          "modification_date": "20110523T20:51:15",
          "type_id": "249",
          "is_active": "0",
          "creation_date": "20110523T20:51:15",
          "id": "822999",
          "setter": "syeghiay@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20110523T21:01:55",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20110523T20:56:47",
          "id": "823068",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20110523T21:26:03",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20110523T21:26:03",
          "id": "823161",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20110526T13:19:23",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509334-IyXABD0My4iMpn5bv-36cC76Jv7l-4VYH4XaQ7iYokI",
      "cf_partner": [],
      "cf_last_closed": "20110526T13:19:23",
      "resolution": "NOTABUG",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20110118T14:45:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "670515",
      "cf_release_notes": "",
      "priority": "low",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "openssh-5.3p1-35.el6",
      "creator": "mvadkert@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "mvadkert@redhat.com",
          "text": "Description of problem:\nMan page of ssh-keygen has missing documentation for option -n.\n\nVersion-Release number of selected component (if applicable):\nopenssh-5.3p1-34.el6\n\nHow reproducible:\n100%\n\nSteps to Reproduce:\n1. man ssh-keygen\n  \nActual results:\n-n not documented\n\nExpected results:\n-n documented\n\nAdditional info:\nThis is really an easy fix and the developer is willing to fix it",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110118T14:45:55",
          "bug_id": "670515",
          "creator_id": "271572",
          "time": "20110118T14:45:55",
          "id": "3485812",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "mvadkert@redhat.com",
          "text": "Also this option should be added to usage:\n\n# ssh-keygen -h\nssh-keygen: illegal option -- h\nusage: ssh-keygen [options]\nOptions:\n  -a trials   Number of trials for screening DH-GEX moduli.\n  -B          Show bubblebabble digest of key file.\n  -b bits     Number of bits in the key to create.\n  -C comment  Provide new comment.\n  -c          Change comment in private and public key files.\n  -e          Convert OpenSSH to RFC 4716 key file.\n  -F hostname Find hostname in known hosts file.\n  -f filename Filename of the key file.\n  -G file     Generate candidates for DH-GEX moduli.\n  -g          Use generic DNS resource record format.\n  -H          Hash names in known_hosts file.\n  -i          Convert RFC 4716 to OpenSSH key file.\n  -l          Show fingerprint of key file.\n  -M memory   Amount of memory (MB) to use for generating DH-GEX moduli.\n  -N phrase   Provide new passphrase.\n  -P phrase   Provide old passphrase.\n  -p          Change passphrase of private key file.\n  -q          Quiet.\n  -R hostname Remove host from known_hosts file.\n  -r hostname Print DNS resource record.\n  -S start    Start point (hex) for generating DH-GEX moduli.\n  -T file     Screen candidates for DH-GEX moduli.\n  -t type     Specify type of key to create.\n  -v          Verbose.\n  -W gen      Generator to use for generating DH-GEX moduli.\n  -y          Read private key file and print public key.\n\nNOTE:\nAs the function which prints usage is already available. Adding -h option would be very nice also",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110118T14:48:11",
          "bug_id": "670515",
          "creator_id": "271572",
          "time": "20110118T14:48:11",
          "id": "3485821",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "ebenes@redhat.com",
          "text": "qa_ack+ for 6.1",
          "author": "ebenes@redhat.com",
          "creation_time": "20110119T15:41:26",
          "bug_id": "670515",
          "creator_id": "203333",
          "time": "20110119T15:41:26",
          "id": "3488385",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2011:10529-14\nhttp://errata.devel.redhat.com/errata/show/10529",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110120T14:10:06",
          "bug_id": "670515",
          "creator_id": "241731",
          "time": "20110120T14:10:06",
          "id": "3490494",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2011:10529-20: \nhttp://errata.devel.redhat.com/errata/stateview/10529\n\nVERIFIED as fixed in openssh-5.3p1-52.el6\n\nOption -n is now documented:\n# man ssh-keygen | grep '\\-n'\n     ssh-keygen [-n] [-D smartcard]\n     -n      Extract the public key from smartcard.",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110420T15:09:03",
          "bug_id": "670515",
          "creator_id": "241731",
          "time": "20110420T15:09:03",
          "id": "3687522",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "An advisory has been issued which should help the problem\ndescribed in this bug report. This report is therefore being\nclosed with a resolution of ERRATA. For more information\non therefore solution and/or where to find the updated files,\nplease follow the link below. You may reopen this bug report\nif the solution does not work for you.\n\nhttp://rhn.redhat.com/errata/RHBA-2011-0598.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110519T13:30:52",
          "bug_id": "670515",
          "creator_id": "241731",
          "time": "20110519T13:30:52",
          "id": "3745808",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.0"
      ],
      "cc": [
        "sgrubb@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "ssh-keygen: option -n is not documented in man page",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.1.0",
          "modification_date": "20110119T15:48:24",
          "type_id": "202",
          "is_active": "0",
          "creation_date": "20110118T14:45:55",
          "id": "753118",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20110118T14:57:47",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20110118T14:45:55",
          "id": "753119",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20110119T15:39:00",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20110118T14:45:55",
          "id": "753120",
          "setter": "sgrubb@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20110119T15:41:26",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20110118T14:45:55",
          "id": "753121",
          "setter": "ebenes@redhat.com"
        }
      ],
      "last_change_time": "20110519T13:30:52",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509335-xlhZZpNZVtPC3ehd8688ySQOOGFHMMK4d24aeextuvQ",
      "cf_partner": [],
      "cf_last_closed": "20110519T13:30:52",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "classification": "Red Hat",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [
        "561881"
      ],
      "cf_story_points": "---",
      "cf_conditional_nak": [],
      "creation_time": "20110622T14:57:00",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "SELinux"
      ],
      "summary": "SELinux avc denials when using ChrootDirectory",
      "external_bugs": [],
      "id": "715338",
      "cf_release_notes": "",
      "priority": "low",
      "cf_internal_whiteboard": "",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "dwalsh@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "dwalsh@redhat.com",
          "text": "+++ This bug was initially created as a clone of Bug #561881 +++\n\nI'm trying to setup an SFTP ''drop box'' for a number of users to upload/share files to a central repository, without them being able to see the rest of the system in any way.\n\nOpenSSH supports this through ChrootDirectory. In addition, by using ''ForceCommand internal-sftp'', the chroot directory doesn't need to contain anything. (no /bin/bash, no libraries etc).\n\nI've used the following configuration in /etc/ssh/sshd_config:\n\nMatch Group chroot\n        ChrootDirectory /home/ssh-chroot/\n        ForceCommand    internal-sftp\n\n\nI have a user in supplemental group ''chroot'', home dir /home/user, shell /bin/false and ssh keys.\n\nUsing WinSCP (since my clients will be Windows based), I'm able to connect using keys, and get dropped into /home/ssh-chroot/.\n\n# ls -Zlad /home/ssh-chroot/ /home/ssh-chroot/upload/\ndrwxr-xr-x. 3 system_u:object_r:user_home_dir_t:s0 root root   4096 2010-02-04 14:36 /home/ssh-chroot/\ndrwxrwx---. 2 unconfined_u:object_r:user_home_t:s0 root chroot 4096 2010-02-04 14:58 /home/ssh-chroot/upload/\n\n# ps Zauxf\nunconfined_u:system_r:sshd_t:s0-s0:c0.c1023 root 13677 0.0  0.0 11472 2912 ?   Ss   14:55   0:00 sshd: user [priv] \nunconfined_u:system_r:sshd_t:s0-s0:c0.c1023 user 13680 0.0  0.0 11472 1668 ?    S    14:55   0:00  \\_ sshd: user@notty  \nunconfined_u:system_r:sshd_t:s0-s0:c0.c1023 user 13681 0.0  0.0 11624 1396 ?    Ss   14:55   0:00      \\_ sshd: user@internal-sftp-server\n\nIn throry, my user should be able to write to /home/ssh-chroot/upload/.\nI practice the user sees a ''permission denied'', and I get the following audit log entry:\n\ntype=AVC msg=audit(1265295095.883:31053): avc:  denied  { write } for  pid=13267 comm=''sshd'' name=''upload'' dev=dm-2 ino=6553602 scontext=unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 tcontext=unconfined_u:object_r:user_home_t:s0 tclass=dir\n\nOf course, ''setenforce 0'' allows this to work with no issues, although other avc messages are seen relating to this (add_name, create, write for the actual file).\n\n--- Additional comment from mgrepl@redhat.com on 2010-02-05 02:50:23 EST ---\n\nMark,\n\nCould you give me some information ?\n\n# rpm -qa selinux-policy\\*\n\nIs there anything in the /var/log/secure ?\n\n# grep setcon /var/log/secure\n\n--- Additional comment from m.watts@linux-corner.info on 2010-02-05 04:13:11 EST ---\n\nselinux-policy-3.6.32-78.fc12.noarch\nselinux-policy-targeted-3.6.32-78.fc12.noarch\n\nNothing in /var/log/secure\n\n--- Additional comment from mgrepl@redhat.com on 2010-02-05 05:29:51 EST ---\n\nWe have been talking about that with Mark and now I am trying to reproduce it.\n\n--- Additional comment from mgrepl@redhat.com on 2010-02-08 05:08:44 EST ---\n\nMark, \n\ncould you try to install \n\nselinux-policy-3.6.32-85.fc12.noarch.rpm \nselinux-policy-targeted-3.6.32-85.fc12.noarch.rpm\n\npackages from koji.\n\nhttp://koji.fedoraproject.org/koji/buildinfo?buildID=154841\n\n--- Additional comment from m.watts@linux-corner.info on 2010-02-08 11:34:08 EST ---\n\n\nSame issues:\n\n# rpm -q selinux-policy selinux-policy-targeted\nselinux-policy-3.6.32-85.fc12.noarch\nselinux-policy-targeted-3.6.32-85.fc12.noarch\n\n\n\ntype=AVC msg=audit(1265646794.315:32282): avc:  denied  { write } for  pid=5172 comm=''sshd'' name=''upload'' dev=dm-2 ino=6553602 scontext=unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 tcontext=unconfined_u:object_r:user_home_t:s0 tclass=dir\ntype=SYSCALL msg=audit(1265646794.315:32282): arch=40000003 syscall=5 success=no exit=-13 a0=27a53f8 a1=82c1 a2=1b6 a3=d5ab14 items=0 ppid=5171 pid=5172 auid=502 uid=502 gid=504 euid=502 suid=502 fsuid=502 egid=504 sgid=504 fsgid=504 tty=(none) ses=305 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 key=(null)\n\n--- Additional comment from jchadima@redhat.com on 2010-06-07 08:26:11 EDT ---\n\nping, is there still someone alive?\n\n--- Additional comment from m.watts@linux-corner.info on 2010-06-09 14:54:11 EDT ---\n\nYes?\n\n--- Additional comment from jchadima@redhat.com on 2010-09-14 06:08:48 EDT ---\n\nMiroslav, what is the progress?\n\n--- Additional comment from mgrepl@redhat.com on 2010-09-15 10:09:14 EDT ---\n\nUnfortunately I am not able to reproduce it. There was a lot of policy updates. \n\nMark,\nare you still seeing this issue?\n\n--- Additional comment from m.watts@linux-corner.info on 2010-09-16 04:47:20 EDT ---\n\nYes I am.\n\nI'm using Fedora 13 now with openssh-server-5.4p1-3.fc13.x86_64\n\nThe following is how I'm testing:\n\n# groupadd chroot\n# useradd -G chroot -s /bin/false test_ssh\n# mkdir -p /home/ssh-chroot/upload\n# chmod g+w /home/ssh-chroot/upload\n# chown root.chroot /home/ssh-chroot/upload\n# chcon unconfined_u:object_r:user_home_t:s0 /home/ssh-chroot/upload\n# chcon unconfined_u:object_r:user_home_dir_t:s0 /home/ssh-chroot\n\nCreate SSH keys on windows box and add them to /home/test_ssh/.ssh/authorized_keys\n\nAdd the following to /etc/ssh/sshd_config:\n\nSubsystem sftp internal-sftp\nMatch Group chroot\n        ChrootDirectory /home/ssh-chroot/\n        ForceCommand    internal-sftp\n\nAt this point the test_ssh user can login the server using WinSCP and gets dropped into /home/ssh-chroot/ from where it can progress into /home/ssh-chroot/upload.\n\nAny attempt to write a file to this directory gets the following AVC denial:\n\ntype=AVC msg=audit(1284626238.008:30187): avc:  denied  { write } for  pid=27870 comm=''sshd'' name=''upload'' dev=dm-6 ino=1572866 scontext=unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 tcontext=unconfined_u:object_r:user_home_t:s0 tclass=dir\n\n--- Additional comment from mgrepl@redhat.com on 2010-09-17 09:33:54 EDT ---\n\nMark,\nthanks for steps to reproduce. Now I am able to reproduce it.\n\n--- Additional comment from mgrepl@redhat.com on 2010-09-17 09:37:57 EDT ---\n\nJan,\ncould it be a problem with ''ChrootDirectory''? \n\n''dyntrasition'' from sshd to sftpd doesn't happen in this case.\n\n# sftp test_ssh@localhost\n# ps -eZ | grep sshd\nunconfined_u:system_r:sshd_t:s0-s0:c0.c1023 26396 ? 00:00:00 sshd\nunconfined_u:system_r:sshd_t:s0-s0:c0.c1023 26910 ? 00:00:00 sshd\nunconfined_u:system_r:sshd_t:s0-s0:c0.c1023 26914 ? 00:00:00 sshd\nunconfined_u:system_r:sshd_t:s0-s0:c0.c1023 26915 ? 00:00:00 sshd\n\nwithout using chroot\n\n# sftp mgrepl@localhost\n# ps -eZ | grep sshd\nunconfined_u:system_r:sshd_t:s0-s0:c0.c1023 26396 ? 00:00:00 sshd\nunconfined_u:system_r:sshd_t:s0-s0:c0.c1023 26920 ? 00:00:00 sshd\nunconfined_u:system_r:sshd_t:s0-s0:c0.c1023 26925 ? 00:00:00 sshd\nunconfined_u:system_r:sftpd_t:s0-s0:c0.c1023 26926 ? 00:00:00 sshd\n\n--- Additional comment from juha.heljoranta@iki.fi on 2010-10-24 07:27:31 EDT ---\n\nWorks for me. \n\nAppended to /etc/ssh/sshd_config:\n\nMatch Group sftponly\n        X11Forwarding no\n        AllowTcpForwarding no\n        ChrootDirectory /home/%u\n        ForceCommand internal-sftp\n\n# ls -laZ /home/foo/\ndrwxr-xr-x. root root unconfined_u:object_r:user_home_dir_t:s0 .\ndrwxr-xr-x. root root system_u:object_r:home_root_t:s0 ..\ndrwxr-xr-x. root root unconfined_u:object_r:user_home_t:s0 bar\ndrwx------. foo  foo  unconfined_u:object_r:ssh_home_t:s0 .ssh\n[root@paja foo]# ls -lZ /home/foo/.ssh/\n-rw-------. foo foo unconfined_u:object_r:ssh_home_t:s0 authorized_keys\n[root@paja foo]# ls -lZ /home/foo/bar/\n-rw-r--r--. root root unconfined_u:object_r:user_home_t:s0 test.txt\n# rpm -qa selinux-policy\\*\nselinux-policy-targeted-3.7.19-65.fc13.noarch\nselinux-policy-3.7.19-65.fc13.noarch\n\nHowever I couldn't get the write access to work:\n\nsftp> ls bar/\nbar/test.txt  \nsftp> get bar/test.txt\nFetching /bar/test.txt to test.txt\nsftp> cd bar\nsftp> put test.txt \nUploading test.txt to /bar/test.txt\nremote open(''/bar/test.txt''): Permission denied\n\nSealert:\nSource Context                unconfined_u:system_r:sshd_t:s0-s0:c0.c1023\nTarget Context                unconfined_u:object_r:user_home_t:s0\nTarget Objects                test.txt [ file ]\nSource                        sshd\nSource Path                   /usr/sbin/sshd\nSource RPM Packages           openssh-server-5.4p1-3.fc13\nPolicy RPM                    selinux-policy-3.7.19-65.fc13\nSelinux Enabled               True\nPolicy Type                   targeted\nEnforcing Mode                Enforcing\nPlugin Name                   catchall_boolean\nPlatform                      Linux 2.6.34.7-61.fc13.x86_64 #1 SMP Tue\n                              Oct 19 04:06:30 UTC 2010 x86_64 x86_64\nRaw Audit Messages            \n\nnode= type=AVC msg=audit(1287918783.147:16868): avc:  denied  { write } for  pid=2698 comm=''sshd'' name=''test.txt'' dev=dm-1 ino=21 scontext=unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 tcontext=unconfined_u:object_r:user_home_t:s0 tclass=file\n\nnode= type=SYSCALL msg=audit(1287918783.147:16868): arch=c000003e syscall=2 success=no exit=-13 a0=7f9993353fc0 a1=241 a2=1a4 a3=e items=0 ppid=2697 pid=2698 auid=501 uid=501 gid=501 euid=501 suid=501 fsuid=501 egid=501 sgid=501 fsgid=501 tty=(none) ses=25 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 key=(null)\n\nShould I open a new issue for getting the write access fixed?\n\n--- Additional comment from m.watts@linux-corner.info on 2010-10-25 04:57:16 EDT ---\n\nWell my original report was exactly about write access, so I'd say no :)\n\nLogging in while using ChrootDirectory has never been at issue; writing to files was the problem.\n\n\nAs an aside, I'm using an older openssh-server-5.1p1 on CentOS 5.5 to enable ChrootDirectory as well as the internal-sftp server, and that has no issues with writing to files...\n\nProbably a different SELinux policy?\n\n--- Additional comment from jchadima@redhat.com on 2010-11-20 07:22:23 EST ---\n\nAny progress here?\n\n--- Additional comment from m.watts@linux-corner.info on 2010-11-22 04:07:31 EST ---\n\nNone recently.\nI see Miroslav was able to reproduce it, followed by another report for the same issue so I suspect it's still on Miroslav's pile.\n\n--- Additional comment from mgrepl@redhat.com on 2010-11-22 04:18:43 EST ---\n\n(In reply to comment #12)\n> Jan,\n> could it be a problem with ''ChrootDirectory''? \n> \n> ''dyntrasition'' from sshd to sftpd doesn't happen in this case.\n> \n> # sftp test_ssh@localhost\n> # ps -eZ | grep sshd\n> unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 26396 ? 00:00:00 sshd\n> unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 26910 ? 00:00:00 sshd\n> unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 26914 ? 00:00:00 sshd\n> unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 26915 ? 00:00:00 sshd\n> \n> without using chroot\n> \n> # sftp mgrepl@localhost\n> # ps -eZ | grep sshd\n> unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 26396 ? 00:00:00 sshd\n> unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 26920 ? 00:00:00 sshd\n> unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 26925 ? 00:00:00 sshd\n> unconfined_u:system_r:sftpd_t:s0-s0:c0.c1023 26926 ? 00:00:00 sshd\n\n\nJan,\nlook at this my question.\n\n--- Additional comment from jchadima@redhat.com on 2010-11-22 04:31:18 EST ---\n\nfrom the spec changelog:\n\n* Fri Jul 17 2009 Jan F. Chadima <jchadima@redhat.com> - 5.2p1-14\n- changed internal-sftp context to sftpd_t\n\nthe piece of the code:\n\n        } else if (s->is_subsystem == SUBSYSTEM_INT_SFTP) {\n                extern int optind, optreset;\n                int i;\n                char *p, *args;\n\n                setproctitle(''%s@%s'', s->pw->pw_name, INTERNAL_SFTP_NAME);\n                args = xstrdup(command ? command : ''sftp-server'');\n                for (i = 0, (p = strtok(args, '' '')); p; (p = strtok(NULL, '' '')))\n                        if (i < ARGV_MAX - 1)\n                                argv[i++] = p;\n                argv[i] = NULL;\n                optind = optreset = 1;\n                __progname = argv[0];\n#ifdef WITH_SELINUX\n                ssh_selinux_change_context(''sftpd_t'');\n#endif\n                exit(sftp_server_main(i, argv, s->pw));\n\n--- Additional comment from mgrepl@redhat.com on 2011-02-25 09:08:47 EST ---\n\nJan,\nfrom my point of you an issue is caused by\n\nMatch Group sftponly\n        X11Forwarding no\n        AllowTcpForwarding no\n        ChrootDirectory /home/%u\n        ForceCommand internal-sftp\n\n\nwhen internal-sftp is not running in the proper domain == sftpd_t. If you just use\n\nSubsystem      sftp    internal-sftp\n\nthen it works.\n\n--- Additional comment from dane.watson@gmail.com on 2011-03-07 19:40:19 EST ---\n\nThis bug is also affecting RHEL6.\n\nunconfined_u:system_r:sshd_t:s0-s0:c0.c1023 test 2047 0.0  0.0 95384 1596 ?    SNs  08:22   0:00          \\_ sshd: test@internal-sftp\n\nConfirming that internal-sftp is running as unconfined_u:system_r:sshd_t:s0 instead of sftp so the following sebools have no affect:\n\n# getsebool -a  | grep sftp\nsftpd_anon_write --> off\nsftpd_enable_homedirs --> on\nsftpd_full_access --> off\nsftpd_write_ssh_home --> on\n\nwithout selinux everthing works superb. Running openssh-5.3p1-20.el6.x86_64.\n\nAny help/escalation would be appreciated.\n\n--- Additional comment from dane.watson@gmail.com on 2011-03-08 13:37:01 EST ---\n\nI am not fluent enough in SELinux to decipher the difference here:\n\nNot using chroot, still using internal-sftp\ntype=LOGIN msg=audit(1299576444.277:287): login pid=2133 uid=0 old auid=501 new auid=500 old ses=28 new ses=36\ntype=USER_ROLE_CHANGE msg=audit(1299576444.326:288): user pid=2133 uid=0 auid=500 ses=36 subj=unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 msg='pam: default-context=unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023 selected-context=?: exe=''/usr/sbin/sshd'' hostname=? addr=? terminal=? res=failed'\ntype=USER_ROLE_CHANGE msg=audit(1299576444.328:289): user pid=2133 uid=0 auid=500 ses=36 subj=unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 msg='pam: default-context=unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023 selected-context=unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023: exe=''/usr/sbin/sshd'' hostname=? addr=? terminal=? res=success'\ntype=USER_START msg=audit(1299576444.349:290): user pid=2133 uid=0 auid=500 ses=36 subj=unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 msg='op=PAM:session_open acct=''test'' exe=''/usr/sbin/sshd'' hostname=10.241.70.43 addr=10.241.70.43 terminal=ssh res=success'\n\nUsing chroot with internal-sftp:\ntype=LOGIN msg=audit(1299577358.024:337): login pid=2263 uid=0 old auid=501 new auid=500 old ses=28 new ses=41\ntype=USER_ROLE_CHANGE msg=audit(1299577358.070:338): user pid=2263 uid=0 auid=500 ses=41 subj=unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 msg='pam: default-context=unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023 selected-context=?: exe=''/usr/sbin/sshd'' hostname=? addr=? terminal=? res=failed'\ntype=USER_ROLE_CHANGE msg=audit(1299577358.071:339): user pid=2263 uid=0 auid=500 ses=41 subj=unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 msg='pam: default-context=unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023 selected-context=unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023: exe=''/usr/sbin/sshd'' hostname=? addr=? terminal=? res=success'\ntype=USER_START msg=audit(1299577358.101:340): user pid=2263 uid=0 auid=500 ses=41 subj=unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 msg='op=PAM:session_open acct=''test'' exe=''/usr/sbin/sshd'' hostname=10.241.70.43 addr=10.241.70.43 terminal=ssh res=success'\ntype=CRED_ACQ msg=audit(1299577358.105:341): user pid=2267 uid=0 auid=500 ses=41 subj=unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 msg='op=PAM:setcred acct=''test'' exe=''/usr/sbin/sshd'' hostname=10.241.70.43 addr=10.241.70.43 terminal=ssh res=success'\ntype=AVC msg=audit(1299577363.793:342): avc:  denied  { write } for  pid=2268 comm=''sshd'' name=''test.txt'' dev=dm-2 ino=1310727 scontext=unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 tcontext=unconfined_u:object_r:user_home_t:s0 tclass=file\ntype=SYSCALL msg=audit(1299577363.793:342): arch=c000003e syscall=2 success=yes exit=5 a0=7fd1d2b21100 a1=241 a2=1b6 a3=11 items=0 ppid=2267 pid=2268 auid=500 uid=500 gid=500 euid=500 suid=500 fsuid=500 egid=500 sgid=500 fsgid=500 tty=(none) ses=41 comm=''sshd'' exe=''/usr/sbin/sshd'' subj=unconfined_u:system_r:sshd_t:s0-s0:c0.c1023 key=(null)\n\nI was able to work around the problem by mount -o bind /proc /chroot/proc... But that doesn't seem very secure.\n\n--- Additional comment from mgrepl@redhat.com on 2011-03-09 05:58:24 EST ---\n\n(In reply to comment #21)\n> I am not fluent enough in SELinux to decipher the difference here:\n> \n> Not using chroot, still using internal-sftp\n\nSo without chroot option it works also for you and you should see sshd running as sftpd_t as I wrote in the comment 17. Can you confirm it?\n\n--- Additional comment from dane.watson@gmail.com on 2011-03-09 13:17:24 EST ---\n\nConfirmed; that was my understanding. Note the last line; chroot works with internal-sftp if I mount /proc inside the chroot. Selinux or openssh seems to be reading the attr file out of the proc directory which it can't find if its chrooted\n\n--- Additional comment from jchadima@redhat.com on 2011-03-10 05:38:13 EST ---\n\n(In reply to comment #23)\n> Confirmed; that was my understanding. Note the last line; chroot works with\n> internal-sftp if I mount /proc inside the chroot. Selinux or openssh seems to\n> be reading the attr file out of the proc directory which it can't find if its\n> chrooted\n\ncan you post strace please?\n\n--- Additional comment from dwalsh@redhat.com on 2011-03-11 09:38:44 EST ---\n\nSELinux is going to read /proc/filesystem to figure out if SELinux is enabled.  It needs /proc and /selinux in order to work properly.\n\n--- Additional comment from jchadima@redhat.com on 2011-03-17 03:56:45 EDT ---\n\nexperimentally solved in rawhide's openssh-5.8p1-18 please test\n\n--- Additional comment from mgrepl@redhat.com on 2011-03-17 04:44:09 EDT ---\n\n(In reply to comment #26)\n> experimentally solved in rawhide's openssh-5.8p1-18 please test\nGreat, I am going to test it.\n\n--- Additional comment from stu.pike@gmail.com on 2011-05-19 06:13:00 EDT ---\n\nI'm having the same issue with RHEL6. Is there going to be a rpm released to fix this issue? Or am I going to have to patch this openssh-5.8p2 manually as I have done in my test environment?\n\n--- Additional comment from jchadima@redhat.com on 2011-05-24 11:58:03 EDT ---\n\n(In reply to comment #28)\n> I'm having the same issue with RHEL6. Is there going to be a rpm released to\n> fix this issue? Or am I going to have to patch this openssh-5.8p2 manually as I\n> have done in my test environment?\n\nthe best way is to contact RH SUPPORT.\n\n--- Additional comment from triage@lists.fedoraproject.org on 2011-06-02 12:41:03 EDT ---\n\n\nThis message is a reminder that Fedora 13 is nearing its end of life.\nApproximately 30 (thirty) days from now Fedora will stop maintaining\nand issuing updates for Fedora 13.  It is Fedora's policy to close all\nbug reports from releases that are no longer maintained.  At that time\nthis bug will be closed as WONTFIX if it remains open with a Fedora \n'version' of '13'.\n\nPackage Maintainer: If you wish for this bug to remain open because you\nplan to fix it in a currently maintained version, simply change the 'version' \nto a later Fedora version prior to Fedora 13's end of life.\n\nBug Reporter: Thank you for reporting this issue and we are sorry that \nwe may not be able to fix it before Fedora 13 is end of life.  If you \nwould still like to see this bug fixed and are able to reproduce it \nagainst a later version of Fedora please change the 'version' of this \nbug to the applicable version.  If you are unable to change the version, \nplease add a comment here and someone will do it for you.\n\nAlthough we aim to fix as many bugs as possible during every release's \nlifetime, sometimes those efforts are overtaken by events.  Often a \nmore recent Fedora release includes newer upstream software that fixes \nbugs or makes them obsolete.\n\nThe process we are following is described here: \nhttp://fedoraproject.org/wiki/BugZappers/HouseKeeping\n\n--- Additional comment from david.tauriainen@gmail.com on 2011-06-21 20:38:39 EDT ---\n\nGiven the automated warning above, could someone change the OS to RHEL 6 or 6.1 to keep the bug report alive?\n\nThis is also an issue in RHEL 6.1, openssh-server-5.3p1-52:\n$ sftp username@server\nConnecting to server...\nusername@server's password: \nsftp> ls\nCouldn't get handle: Permission denied\nsftp> ls\nCouldn't get handle: Permission denied\nsftp> cd web\nsftp> put foo.txt\nUploading foo.txt to /web/foo.txt\nCouldn't get handle: Permission denied",
          "author": "dwalsh@redhat.com",
          "creation_time": "20110622T14:57:45",
          "bug_id": "715338",
          "creator_id": "81625",
          "time": "20110622T14:57:45",
          "id": "3831018",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20110622T15:02:47",
          "bug_id": "715338",
          "creator_id": "193983",
          "time": "20110622T15:02:47",
          "id": "3831036",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "jchadima@redhat.com",
          "text": "\n\n*** This bug has been marked as a duplicate of bug 685060 ***",
          "author": "jchadima@redhat.com",
          "creation_time": "20110623T14:08:09",
          "bug_id": "715338",
          "creator_id": "276623",
          "time": "20110623T14:08:09",
          "id": "3833329",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.1"
      ],
      "cc": [
        "dane.watson@gmail.com",
        "david.tauriainen@gmail.com",
        "dwalsh@redhat.com",
        "jchadima@redhat.com",
        "juha.heljoranta@iki.fi",
        "m.watts@linux-corner.info",
        "mgrepl@redhat.com",
        "stu.pike@gmail.com",
        "tmraz@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_regression_status": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "product": "Red Hat Enterprise Linux 6",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "target_release": [
        "---"
      ],
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "561881",
      "groups": [],
      "cf_documentation_action": "---",
      "sub_components": {},
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "op_sys": "Linux",
      "alias": [],
      "dupe_of": "685060",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.2.0",
          "modification_date": "20110622T15:02:44",
          "type_id": "249",
          "is_active": "0",
          "creation_date": "20110622T15:02:44",
          "id": "849534",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20110622T15:17:52",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20110622T15:16:27",
          "id": "849543",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20110622T15:35:34",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20110622T15:35:34",
          "id": "849558",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20110623T14:08:09",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509335-Eea1Rr3r7qZGF5P8cvoq7d3FyiCfkF6nZ8mz2dWM-Wc",
      "cf_partner": [],
      "cf_last_closed": "20110623T14:08:09",
      "resolution": "DUPLICATE",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20110808T15:19:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "729021",
      "cf_release_notes": "",
      "priority": "low",
      "severity": "low",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "kklic@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "kklic@redhat.com",
          "text": "A problem related to debuginfo was found in the openssh-5.3p1-52.el6_1.2 package. This issue might affect crash analysis done by Automatic Bug Reporting Tool and its retrace server, and also prevent proper debugging of crashes via GDB.\n\nA debuginfo file for a binary is not present in the debuginfo package. This might be caused by:\n - binary being compiled without debugging information\n - debugging information being removed from the binary by a build script\n - rpmbuild failing to extract debugging information from a binary in a buildroot because of permissions (eg. suid binaries, binaries without executable flag set)\n\naffected binary: /usr/libexec/openssh/gnome-ssh-askpass\naffected package: openssh-askpass-5.3p1-52.el6_1.2.i686\nbinary doesn't contain debug sections (it was probably stripped)\naffected binary file mode: 100755\n\nThis issue can be investigated by using eu-readelf tool from the elfutils package. Use `eu-readelf --notes /path/to/binary` to get build ID of a binary. Then check that the debuginfo package does not contain /usr/lib/debug/.build-id/<aa>/<bbbbbbbb>, where <aa> are the first two chars of the build ID, and <bbbbbbbb> is the rest of it. It should be a symlink pointing back to the binary.\n\n(This bug was detected and filed by a script.)",
          "author": "kklic@redhat.com",
          "creation_time": "20110808T15:19:49",
          "bug_id": "729021",
          "creator_id": "285076",
          "time": "20110808T15:19:49",
          "id": "3941625",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20110808T15:25:28",
          "bug_id": "729021",
          "creator_id": "193983",
          "time": "20110808T15:25:28",
          "id": "3941703",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "jchadima@redhat.com",
          "text": "can you look at openssh-5.8p2-19.fc17.src.rpm if there is the bug repaired?",
          "author": "jchadima@redhat.com",
          "creation_time": "20110808T22:57:16",
          "bug_id": "729021",
          "creator_id": "276623",
          "time": "20110808T22:57:16",
          "id": "3942702",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "kklic@redhat.com",
          "text": "The bug is not fixed there. gnome-ssh-askpass is stripped when installed. openssh.spec:\n\n%if ! %{no_gnome_askpass}\ninstall -s contrib/gnome-ssh-askpass $RPM_BUILD_ROOT%{_libexecdir}/openssh/gnome-ssh-askpass\n%endif\n\n\nThat -s option (== --strip) shouldn't be there. Rpmbuild extracts debug sections from binaries in buildroot, so the binaries must be installed there without stripping the debug sections.",
          "author": "kklic@redhat.com",
          "creation_time": "20110809T09:31:09",
          "bug_id": "729021",
          "creator_id": "285076",
          "time": "20110809T09:31:09",
          "id": "3943493",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "jchadima@redhat.com",
          "text": "ok , can you test openssh-5.8p2-20.fc17",
          "author": "jchadima@redhat.com",
          "creation_time": "20110809T13:29:32",
          "bug_id": "729021",
          "creator_id": "276623",
          "time": "20110809T13:29:32",
          "id": "3944021",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "kklic@redhat.com",
          "text": "The issue is fixed in openssh-5.8p2-20.fc17.",
          "author": "kklic@redhat.com",
          "creation_time": "20110809T15:42:38",
          "bug_id": "729021",
          "creator_id": "285076",
          "time": "20110809T15:42:38",
          "id": "3944358",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "syeghiay@redhat.com",
          "text": "Can you please rebuild in an .el6 package, add to Fixed In Version field, and update advisory brew build?",
          "author": "syeghiay@redhat.com",
          "creation_time": "20110822T19:29:20",
          "bug_id": "729021",
          "creator_id": "193262",
          "time": "20110822T19:29:20",
          "id": "3971064",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "jchadima@redhat.com",
          "text": "(In reply to comment #6)\n> Can you please rebuild in an .el6 package, add to Fixed In Version field, and\n> update advisory brew build?\nthe package is built but I'm waiting for bz#685060 to minimize number of respins.",
          "author": "jchadima@redhat.com",
          "creation_time": "20110824T20:28:46",
          "bug_id": "729021",
          "creator_id": "276623",
          "time": "20110824T20:28:46",
          "id": "3976120",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2011:11301-04\nhttp://errata.devel.redhat.com/errata/show/11301",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110825T21:41:28",
          "bug_id": "729021",
          "creator_id": "241731",
          "time": "20110825T21:41:28",
          "id": "3978921",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2011:11301-05: \nhttp://errata.devel.redhat.com/errata/stateview/11301\n\nVERIFIED as fixed in openssh-5.3p1-70.el6\nAll debuginfo packages are now present\n\nNEW PACKAGE openssh-5.3p1-70.el6:\n:: [   PASS   ] :: List of all ELFs to check\n:: [   PASS   ] :: File '/tmp/tmp.bx4QNAI7fw' should contain '/usr/bin/scp.debug'\n:: [   PASS   ] :: File '/tmp/tmp.bx4QNAI7fw' should contain '/usr/bin/sftp.debug'\n:: [   PASS   ] :: File '/tmp/tmp.bx4QNAI7fw' should contain '/usr/bin/ssh.debug'\n:: [   PASS   ] :: File '/tmp/tmp.bx4QNAI7fw' should contain '/usr/bin/ssh-add.debug'\n:: [   PASS   ] :: File '/tmp/tmp.bx4QNAI7fw' should contain '/usr/bin/ssh-agent.debug'\n:: [   PASS   ] :: File '/tmp/tmp.bx4QNAI7fw' should contain '/usr/bin/ssh-keyscan.debug'\n:: [   PASS   ] :: File '/tmp/tmp.bx4QNAI7fw' should contain '/lib64/security/pam_ssh_agent_auth.so.debug'\n:: [   PASS   ] :: File '/tmp/tmp.bx4QNAI7fw' should contain '/usr/libexec/openssh/gnome-ssh-askpass.debug'\n:: [   PASS   ] :: File '/tmp/tmp.bx4QNAI7fw' should contain '/usr/libexec/openssh/sftp-server.debug'\n:: [   PASS   ] :: File '/tmp/tmp.bx4QNAI7fw' should contain '/usr/libexec/openssh/ssh-keycat.debug'\n:: [   PASS   ] :: File '/tmp/tmp.bx4QNAI7fw' should contain '/usr/sbin/sshd.debug'\n:: [   PASS   ] :: File '/tmp/tmp.bx4QNAI7fw' should contain '/usr/bin/ssh-keygen.debug'\n:: [   PASS   ] :: File '/tmp/tmp.bx4QNAI7fw' should contain '/usr/libexec/openssh/ssh-keysign.debug'\n:: [   PASS   ] :: File '/tmp/tmp.bx4QNAI7fw' should contain '/usr/libexec/openssh/ssh-ldap-helper.debug'\n:: [   LOG    ] :: Duration: 2s\n:: [   LOG    ] :: Assertions: 15 good, 0 bad\n:: [   PASS   ] :: RESULT: Check if all debuginfo files present for all ELFs\n\nOLD PACKAGE openssh-5.3p1-52.el6:\n:: [   PASS   ] :: List of all ELFs to check\n:: [   PASS   ] :: File '/tmp/tmp.iS4BX97lDp' should contain '/usr/bin/scp.debug'\n:: [   PASS   ] :: File '/tmp/tmp.iS4BX97lDp' should contain '/usr/bin/sftp.debug'\n:: [   PASS   ] :: File '/tmp/tmp.iS4BX97lDp' should contain '/usr/bin/ssh.debug'\n:: [   PASS   ] :: File '/tmp/tmp.iS4BX97lDp' should contain '/usr/bin/ssh-add.debug'\n:: [   PASS   ] :: File '/tmp/tmp.iS4BX97lDp' should contain '/usr/bin/ssh-agent.debug'\n:: [   PASS   ] :: File '/tmp/tmp.iS4BX97lDp' should contain '/usr/bin/ssh-keyscan.debug'\n:: [   PASS   ] :: File '/tmp/tmp.iS4BX97lDp' should contain '/lib64/security/pam_ssh_agent_auth.so.debug'\n:: [   FAIL   ] :: File '/tmp/tmp.iS4BX97lDp' should contain '/usr/libexec/openssh/gnome-ssh-askpass.debug' \n:: [   PASS   ] :: File '/tmp/tmp.iS4BX97lDp' should contain '/usr/libexec/openssh/sftp-server.debug'\n:: [   PASS   ] :: File '/tmp/tmp.iS4BX97lDp' should contain '/usr/libexec/openssh/ssh-keycat.debug'\n:: [   PASS   ] :: File '/tmp/tmp.iS4BX97lDp' should contain '/usr/sbin/sshd.debug'\n:: [   PASS   ] :: File '/tmp/tmp.iS4BX97lDp' should contain '/usr/bin/ssh-keygen.debug'\n:: [   PASS   ] :: File '/tmp/tmp.iS4BX97lDp' should contain '/usr/libexec/openssh/ssh-keysign.debug'\n:: [   PASS   ] :: File '/tmp/tmp.iS4BX97lDp' should contain '/usr/libexec/openssh/ssh-ldap-helper.debug'\n:: [   LOG    ] :: Duration: 2s\n:: [   LOG    ] :: Assertions: 14 good, 1 bad\n:: [   FAIL   ] :: RESULT: Check if all debuginfo files present for all ELFs",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20110920T13:28:15",
          "bug_id": "729021",
          "creator_id": "241731",
          "time": "20110920T13:28:15",
          "id": "4029774",
          "is_private": "True"
        },
        {
          "count": "10",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHBA-2011-1551.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20111206T09:56:21",
          "bug_id": "729021",
          "creator_id": "241731",
          "time": "20111206T09:56:21",
          "id": "4193545",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.3"
      ],
      "cc": [
        "mvadkert@redhat.com",
        "pvrabec@redhat.com",
        "rvokal@redhat.com",
        "syeghiay@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "727919"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "Debug file missing in debuginfo package for a binary",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.2.0",
          "modification_date": "20110822T06:01:52",
          "type_id": "249",
          "is_active": "0",
          "creation_date": "20110808T15:25:26",
          "id": "872931",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20110808T15:39:50",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20110808T15:37:43",
          "id": "873010",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20110817T11:03:55",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20110808T15:55:56",
          "id": "873044",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20110822T05:59:55",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20110817T11:03:55",
          "id": "879021",
          "setter": "ksrot@redhat.com"
        }
      ],
      "last_change_time": "20130303T23:03:05",
      "assigned_to": "jchadima@redhat.com",
      "update_token": "1402509335-HclcvwSZR3cwwkNHxYSBifyUs8jjHT5EX3Jf2_rkJFs",
      "cf_partner": [],
      "cf_last_closed": "20111206T09:56:21",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20110113T18:03:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "669453",
      "cf_release_notes": "",
      "priority": "low",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "agajania@cs.newpaltz.edu",
      "comments": [
        {
          "count": "0",
          "creator": "agajania@cs.newpaltz.edu",
          "text": "Description of problem:\nRHEL 6.0 is running on a Dell PowerEdge T710 server.\n\nWhen logging into the server with ssh, sometimes it becomes unresponsive.  When typing text into the terminal, you have to wait several seconds before the characters appear after you press on the keys of the keyboard.  \n\nAlso, the top command doesn't update as often as it should.  Further, while the problem is going on, I observe something about the CPU usage.  I press the '1' key to show usage of individual CPUs.  While the probem is going on, one or more of the CPUs have a large usage in the sy column.\n\nThe problem seems to last for several minutes and then goes away for a while.\n\n\nVersion-Release number of selected component (if applicable):\n2.6.32-71.14.1.el6.x86_64\n\n\nHow reproducible:\nhappens regularly but I don't know how to make it happen\n\n\nSteps to Reproduce:\n1.  Boot server with RHEL 6\n2.  work on the terminal for a short while until you notice unresponsiveness\n\n  \nActual results:\nserver is unresponsive\n\n\nExpected results:\nserver should not be unresponsive",
          "author": "agajania@cs.newpaltz.edu",
          "creation_time": "20110113T18:03:12",
          "bug_id": "669453",
          "creator_id": "267478",
          "time": "20110113T18:03:12",
          "id": "3475108",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20110113T18:15:08",
          "bug_id": "669453",
          "creator_id": "193983",
          "time": "20110113T18:15:08",
          "id": "3475139",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "agajania@cs.newpaltz.edu",
          "text": "I see some unresponsiveness in the host and in one guest.  These both use RHEL 6.  \n\nI do not notice the problem in the other guest which uses RHEL 5.",
          "author": "agajania@cs.newpaltz.edu",
          "creation_time": "20110113T22:00:54",
          "bug_id": "669453",
          "creator_id": "267478",
          "time": "20110113T22:00:54",
          "id": "3476595",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "agajania@cs.newpaltz.edu",
          "text": "When the screen doesn't update, it seems that pressing a key can flush out undisplayed characters.",
          "author": "agajania@cs.newpaltz.edu",
          "creation_time": "20110117T22:38:34",
          "bug_id": "669453",
          "creator_id": "267478",
          "time": "20110117T22:38:34",
          "id": "3484374",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "pm-rhel@redhat.com",
          "text": "Since RHEL 6.1 External Beta has begun, and this bug remains\nunresolved, it has been rejected as it is not proposed as\nexception or blocker.\n\nRed Hat invites you to ask your support representative to\npropose this request, if appropriate and relevant, in the\nnext release of Red Hat Enterprise Linux.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20110404T01:53:15",
          "bug_id": "669453",
          "creator_id": "193983",
          "time": "20110404T01:53:15",
          "id": "3648588",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "agajania@cs.newpaltz.edu",
          "text": "I have been running a server that exhibits this bug for a few months now.  It can be annoying but the server has been stable at least.\n\nI also see some issues with web server connections.  Sometimes you have to reload the page to get it to appear.\n\nMy best guess is that this problem is due to issues with the newer chipset in the server.  I am waiting to see if it is resolved in 6.1.",
          "author": "agajania@cs.newpaltz.edu",
          "creation_time": "20110502T20:28:13",
          "bug_id": "669453",
          "creator_id": "267478",
          "time": "20110502T20:28:13",
          "id": "3710837",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "agajania@cs.newpaltz.edu",
          "text": "This problem persists after updating the host OS and one guest OS to version 6.1.\n\nssh sessions to the host OS are still sometimes unresponsive.  The unexpected CPU usage is still occurring. \n\nThe responsiveness of ssh sessions to the RHEL 6.1 OS guest may have improved since upgrading the host OS to version 6.1.  The web server issues seem to have gone away.\n\nThe RHEL 5 guest still seems OK.",
          "author": "agajania@cs.newpaltz.edu",
          "creation_time": "20110607T14:41:23",
          "bug_id": "669453",
          "creator_id": "267478",
          "time": "20110607T14:41:23",
          "id": "3798184",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "agajania@cs.newpaltz.edu",
          "text": "I found some discussion about similar issues in the mailing list thread at the following URL:\n\nhttp://www.redhat.com/archives/redhat-sysadmin-list/2011-May/msg00001.html",
          "author": "agajania@cs.newpaltz.edu",
          "creation_time": "20110607T16:42:40",
          "bug_id": "669453",
          "creator_id": "267478",
          "time": "20110607T16:42:40",
          "id": "3798500",
          "is_private": "False"
        },
        {
          "count": "8",
          "creator": "dmitry@athabascau.ca",
          "text": "I can confirm that we are having that very same issue. Can't say about HTTP performance but definitely SSH is the one that is an issue for us. I didn't notice the high system usage of CPU, neither was network load high enough to justify such behaviour. Interestingly enough guest OS'es (mix of RHEL5 and RHEL6) perform just fine with no problems.\n\nThe box we're having issues with is custom-build Intel server (according to Intel specs). If it's of any interest I can post specs here.",
          "author": "dmitry@athabascau.ca",
          "creation_time": "20110607T22:04:12",
          "bug_id": "669453",
          "creator_id": "99478",
          "time": "20110607T22:04:12",
          "id": "3799224",
          "is_private": "False"
        },
        {
          "count": "9",
          "creator": "mvadkert@redhat.com",
          "text": "Dmitry please give us the specs so we can try to reproduce the problem with a similar HW on our side. Without a way to reproduce we will have hard times to finding the root cause of this problem. We use SSH a lot on RHEL6 only systems and didn't see any such behavior. Thanks!",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110713T07:22:18",
          "bug_id": "669453",
          "creator_id": "271572",
          "time": "20110713T07:22:18",
          "id": "3880562",
          "is_private": "False"
        },
        {
          "count": "10",
          "creator": "mvadkert@redhat.com",
          "text": "Dmitry can you also confirm that you are running on RHEL6.1?",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110713T07:23:08",
          "bug_id": "669453",
          "creator_id": "271572",
          "time": "20110713T07:23:08",
          "id": "3880566",
          "is_private": "False"
        },
        {
          "count": "11",
          "creator": "dmitry@athabascau.ca",
          "text": "Re: Specs\nWould you like me to post just HW specs or do you have some /proc and /sys entries in mind that you would like to see?\n\nRough specs (until I get to my office):\n\nDual Intel Xeon E5520\n\nvendor_id       : GenuineIntel\ncpu family      : 6\nmodel           : 26\nmodel name      : Intel(R) Xeon(R) CPU           E5520  @ 2.27GHz\nstepping        : 5\ncpu MHz         : 2261.210\ncache size      : 8192 KB\nphysical id     : 1\nsiblings        : 8\ncore id         : 3\ncpu cores       : 4\napicid          : 23\ninitial apicid  : 23\nfpu             : yes\nfpu_exception   : yes\ncpuid level     : 11\nwp              : yes\nflags           : fpu vme de pse tsc msr pae mce cx8 apic mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx rdtscp lm constant_tsc arch_perfmon pebs bts rep_good xtopology nonstop_tsc aperfmperf pni dtes64 monitor ds_cpl vmx est tm2 ssse3 cx16 xtpr pdcm dca sse4_1 sse4_2 popcnt lahf_lm ida tpr_shadow vnmi flexpriority ept vpid\nbogomips        : 4521.79\nclflush size    : 64\ncache_alignment : 64\naddress sizes   : 40 bits physical, 48 bits virtual\npower management:\n\n# lspci \n00:00.0 Host bridge: Intel Corporation 5520 I/O Hub to ESI Port (rev 13)\n00:01.0 PCI bridge: Intel Corporation 5520/5500/X58 I/O Hub PCI Express Root Port 1 (rev 13)\n00:03.0 PCI bridge: Intel Corporation 5520/5500/X58 I/O Hub PCI Express Root Port 3 (rev 13)\n00:05.0 PCI bridge: Intel Corporation 5520/X58 I/O Hub PCI Express Root Port 5 (rev 13)\n00:07.0 PCI bridge: Intel Corporation 5520/5500/X58 I/O Hub PCI Express Root Port 7 (rev 13)\n00:09.0 PCI bridge: Intel Corporation 5520/5500/X58 I/O Hub PCI Express Root Port 9 (rev 13)\n00:0a.0 PCI bridge: Intel Corporation 5520/5500/X58 I/O Hub PCI Express Root Port 10 (rev 13)\n00:10.0 PIC: Intel Corporation 5520/5500/X58 Physical and Link Layer Registers Port 0 (rev 13)\n00:10.1 PIC: Intel Corporation 5520/5500/X58 Routing and Protocol Layer Registers Port 0 (rev 13)\n00:11.0 PIC: Intel Corporation 5520/5500 Physical and Link Layer Registers Port 1 (rev 13)\n00:11.1 PIC: Intel Corporation 5520/5500 Routing & Protocol Layer Register Port 1 (rev 13)\n00:13.0 PIC: Intel Corporation 5520/5500/X58 I/O Hub I/OxAPIC Interrupt Controller (rev 13)\n00:14.0 PIC: Intel Corporation 5520/5500/X58 I/O Hub System Management Registers (rev 13)\n00:14.1 PIC: Intel Corporation 5520/5500/X58 I/O Hub GPIO and Scratch Pad Registers (rev 13)\n00:14.2 PIC: Intel Corporation 5520/5500/X58 I/O Hub Control Status and RAS Registers (rev 13)\n00:14.3 PIC: Intel Corporation 5520/5500/X58 I/O Hub Throttle Registers (rev 13)\n00:15.0 PIC: Intel Corporation 5520/5500/X58 Trusted Execution Technology Registers (rev 13)\n00:16.0 System peripheral: Intel Corporation 5520/5500/X58 Chipset QuickData Technology Device (rev 13)\n00:16.1 System peripheral: Intel Corporation 5520/5500/X58 Chipset QuickData Technology Device (rev 13)\n00:16.2 System peripheral: Intel Corporation 5520/5500/X58 Chipset QuickData Technology Device (rev 13)\n00:16.3 System peripheral: Intel Corporation 5520/5500/X58 Chipset QuickData Technology Device (rev 13)\n00:16.4 System peripheral: Intel Corporation 5520/5500/X58 Chipset QuickData Technology Device (rev 13)\n00:16.5 System peripheral: Intel Corporation 5520/5500/X58 Chipset QuickData Technology Device (rev 13)\n00:16.6 System peripheral: Intel Corporation 5520/5500/X58 Chipset QuickData Technology Device (rev 13)\n00:16.7 System peripheral: Intel Corporation 5520/5500/X58 Chipset QuickData Technology Device (rev 13)\n00:1a.0 USB Controller: Intel Corporation 82801JI (ICH10 Family) USB UHCI Controller #4\n00:1a.1 USB Controller: Intel Corporation 82801JI (ICH10 Family) USB UHCI Controller #5\n00:1a.2 USB Controller: Intel Corporation 82801JI (ICH10 Family) USB UHCI Controller #6\n00:1a.7 USB Controller: Intel Corporation 82801JI (ICH10 Family) USB2 EHCI Controller #2\n00:1c.0 PCI bridge: Intel Corporation 82801JI (ICH10 Family) PCI Express Root Port 1\n00:1c.4 PCI bridge: Intel Corporation 82801JI (ICH10 Family) PCI Express Root Port 5\n00:1c.5 PCI bridge: Intel Corporation 82801JI (ICH10 Family) PCI Express Root Port 6\n00:1d.0 USB Controller: Intel Corporation 82801JI (ICH10 Family) USB UHCI Controller #1\n00:1d.1 USB Controller: Intel Corporation 82801JI (ICH10 Family) USB UHCI Controller #2\n00:1d.2 USB Controller: Intel Corporation 82801JI (ICH10 Family) USB UHCI Controller #3\n00:1d.7 USB Controller: Intel Corporation 82801JI (ICH10 Family) USB2 EHCI Controller #1\n00:1e.0 PCI bridge: Intel Corporation 82801 PCI Bridge (rev 90)\n00:1f.0 ISA bridge: Intel Corporation 82801JIR (ICH10R) LPC Interface Controller\n00:1f.2 IDE interface: Intel Corporation 82801JI (ICH10 Family) 4 port SATA IDE Controller #1\n00:1f.3 SMBus: Intel Corporation 82801JI (ICH10 Family) SMBus Controller\n00:1f.5 IDE interface: Intel Corporation 82801JI (ICH10 Family) 2 port SATA IDE Controller #2\n01:00.0 Ethernet controller: Intel Corporation 82575EB Gigabit Network Connection (rev 02)\n01:00.1 Ethernet controller: Intel Corporation 82575EB Gigabit Network Connection (rev 02)\n02:00.0 PCI bridge: Intel Corporation 80333 Segment-A PCI Express-to-PCI Express Bridge\n02:00.2 PCI bridge: Intel Corporation 80333 Segment-B PCI Express-to-PCI Express Bridge\n03:0e.0 RAID bus controller: Adaptec AAC-RAID\n05:00.0 Fibre Channel: QLogic Corp. ISP2432-based 4Gb Fibre Channel to PCI Express HBA (rev 03)\n06:00.0 Fibre Channel: QLogic Corp. ISP2432-based 4Gb Fibre Channel to PCI Express HBA (rev 03)\n07:00.0 Ethernet controller: Intel Corporation 82576 Gigabit Network Connection (rev 01)\n07:00.1 Ethernet controller: Intel Corporation 82576 Gigabit Network Connection (rev 01)\n0a:00.0 Ethernet controller: Intel Corporation 82576 Gigabit Network Connection (rev 01)\n0a:00.1 Ethernet controller: Intel Corporation 82576 Gigabit Network Connection (rev 01)\n0e:00.0 VGA compatible controller: Matrox Graphics, Inc. MGA G200e [Pilot] ServerEngines (SEP1) (rev 02)\n\nI am also attaching dmesg from that machine.\n\nRe: RHEL 6.1\nYes, we have bumped this machine:\n$ rpm -q redhat-release-server-6Server\nredhat-release-server-6Server-6.1.0.2.el6.x86_64",
          "author": "dmitry@athabascau.ca",
          "creation_time": "20110713T18:00:27",
          "bug_id": "669453",
          "creator_id": "99478",
          "time": "20110713T18:00:27",
          "id": "3882095",
          "is_private": "False"
        },
        {
          "count": "12",
          "attachment_id": "512715",
          "author": "dmitry@athabascau.ca",
          "text": "Created attachment 512715\nDmesg from the affected machine",
          "creator": "dmitry@athabascau.ca",
          "creation_time": "20110713T18:01:17",
          "bug_id": "669453",
          "creator_id": "99478",
          "time": "20110713T18:01:17",
          "id": "3882099",
          "is_private": "False"
        },
        {
          "count": "13",
          "creator": "agajania@cs.newpaltz.edu",
          "text": "The Dell PowerEdge R710 has an Intel 5520 chipset.  The output of lspci is similar to Comment #11.\n\nThe CPU in my server is the Xeon L5540.",
          "author": "agajania@cs.newpaltz.edu",
          "creation_time": "20110713T21:01:35",
          "bug_id": "669453",
          "creator_id": "267478",
          "time": "20110713T21:01:35",
          "id": "3882486",
          "is_private": "False"
        },
        {
          "count": "14",
          "creator": "dmitry@athabascau.ca",
          "text": "Sorry about delay - finally got the quote for the machine with all the serial numbers etc. Hope that helps.\n\nSR2612UR     Intel SERVER SR2612UR NO CPU 0GHZ server system\nBX80602E5520 Intel XEON E5520 2.26Ghz CPU's\nKingston 12Gb memory kit's  KVR1333D3D4R9SK3/12GI  \nST31000640SS Segate 1TB SAS drives\nST3146356SS Seagate 146Gb 15K SAS harddrives\nAXX4GBIOMOD2 Intel 4-port NIC module\nAXXSATADVDRWROM Intel Slimline optical drive    AXXSATADVDRWROM  \n2251800-R Adaptec 3405 RAID controller card\n2248000-R Adaptec ABM-800 battery pack\n2246800-R Adaptec SFF-8087 to SFF-8087 cable\nQLA2460-CK Qlogic Fiber Channel 4Gb PCI-x HBA's",
          "author": "dmitry@athabascau.ca",
          "creation_time": "20110727T20:43:06",
          "bug_id": "669453",
          "creator_id": "99478",
          "time": "20110727T20:43:06",
          "id": "3920191",
          "is_private": "False"
        },
        {
          "count": "15",
          "creator": "agajania@cs.newpaltz.edu",
          "text": "I have found the bug report at the following URL:\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=710265\n\nAdding ''intel_idle.max_cstate=0'' to the kernel command line seems to have somewhat improved the responsiveness of the host OS.\n\nI'm not sure if RHEL 6.1 ssh sessions are sometimes not as responsive as the RHEL 5.6 ssh sessions.  I'll keep monitoring it.",
          "author": "agajania@cs.newpaltz.edu",
          "creation_time": "20110811T14:22:03",
          "bug_id": "669453",
          "creator_id": "267478",
          "time": "20110811T14:22:03",
          "id": "3949257",
          "is_private": "False"
        },
        {
          "count": "16",
          "creator": "agajania@cs.newpaltz.edu",
          "text": "The ''intel_idle.max_cstate=0'' doesn't seem to have improved the responsiveness of ssh sessions.\n\nIt may have quieted down the CPU usage described in the initial comment.",
          "author": "agajania@cs.newpaltz.edu",
          "creation_time": "20110815T17:29:34",
          "bug_id": "669453",
          "creator_id": "267478",
          "time": "20110815T17:29:34",
          "id": "3956069",
          "is_private": "False"
        },
        {
          "count": "17",
          "creator": "agajania@cs.newpaltz.edu",
          "text": "As per a recent comment in Bug #710265, I tried booting with the following kernel arguments:\n\nintel_idle.max_cstate=0 processor.max_cstate=1\n\nThe problem with ssh responsiveness seems to have gone away with these kernel arguments.",
          "author": "agajania@cs.newpaltz.edu",
          "creation_time": "20110916T13:07:18",
          "bug_id": "669453",
          "creator_id": "267478",
          "time": "20110916T13:07:18",
          "id": "4023319",
          "is_private": "False"
        },
        {
          "count": "18",
          "creator": "mvadkert@redhat.com",
          "text": "Looks like this is not an SSH issue at all. Jan, what do you think?",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110919T09:13:47",
          "bug_id": "669453",
          "creator_id": "271572",
          "time": "20110919T09:13:47",
          "id": "4026293",
          "is_private": "False"
        },
        {
          "count": "19",
          "creator": "jchadima@redhat.com",
          "text": "(In reply to comment #18)\n> Looks like this is not an SSH issue at all. Jan, what do you think?\n\nI agree, nor sshd nor ssh can not influence the top program.",
          "author": "jchadima@redhat.com",
          "creation_time": "20110920T06:02:30",
          "bug_id": "669453",
          "creator_id": "276623",
          "time": "20110920T06:02:30",
          "id": "4028701",
          "is_private": "False"
        },
        {
          "count": "20",
          "creator": "mvadkert@redhat.com",
          "text": "CLOSING as not an openssh bug. Please reopen and assign to other component if needed or open a new bug. Thanks!",
          "author": "mvadkert@redhat.com",
          "creation_time": "20110920T08:22:25",
          "bug_id": "669453",
          "creator_id": "271572",
          "time": "20110920T08:22:25",
          "id": "4029006",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.1"
      ],
      "cc": [
        "dmitry@athabascau.ca",
        "jchadima@redhat.com",
        "mvadkert@redhat.com",
        "mwagner@redhat.com",
        "tomek@jot23.org"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "kernel-qe@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "intermittent unresponsiveness in ssh session",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "-",
          "name": "rhel-6.1.0",
          "modification_date": "20110404T01:53:13",
          "type_id": "202",
          "is_active": "0",
          "creation_date": "20110113T18:15:05",
          "id": "750907",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "rhel-6.2.0",
          "modification_date": "20110523T20:51:19",
          "type_id": "249",
          "is_active": "0",
          "creation_date": "20110523T20:51:19",
          "id": "823000",
          "setter": "syeghiay@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20110523T21:01:53",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20110523T20:56:45",
          "id": "823067",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20110523T21:26:01",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20110523T21:26:01",
          "id": "823160",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20110920T08:22:25",
      "assigned_to": "kernel-mgr@redhat.com",
      "update_token": "1402509335-I-RrzmyUHiDCpalQ0QrskyzVCIHihh44jCsXgAzjghs",
      "cf_partner": [],
      "cf_last_closed": "20110920T08:22:25",
      "resolution": "NOTABUG",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "2600",
      "estimated_time": "0.0",
      "depends_on": [
        "966166",
        "979427",
        "979428",
        "979430",
        "986332",
        "725100",
        "976033",
        "979426"
      ],
      "cf_regression_status": "---",
      "cf_conditional_nak": [
        "Upstream"
      ],
      "creation_time": "20110722T19:55:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "FutureFeature",
        "Patch",
        "Triaged"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00627395",
          "bug_id": "725101",
          "ext_description": "[RFE] RHEL6.2 - customer wants bash compiled with SYSLOG_HISTORY option",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "67764"
        },
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00336034",
          "bug_id": "725101",
          "ext_description": "[RFE] bash 4.1 in rhel6.0",
          "ext_priority": "4 (Low)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "43968"
        }
      ],
      "id": "725101",
      "cf_release_notes": "",
      "priority": "low",
      "severity": "low",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "rdassen@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "rdassen@redhat.com",
          "text": "+++ This bug was initially created as a clone of Bug #725100 +++\n\n2. What is the nature and description of the request?\n\nCustomer is looking for an option to send bash history to syslog. \n\n\t3. Why does the customer need this? (List the business requirements\nhere)\n\nCustomer is already using this feature with custom build package, they can\navoid building package if we provide this feature. Please see the update from\ncustomer.\n     \n    <<snip>> \n\n    bash 4.1 includes the feature to send bash logs to syslog. We already use\n    this via patches to the 3.x series of bash. For this reason we would like\n    4.1 to be included, with this feature turned on. \n\n    This would allow us to save resources having to build and QA a custom bash\n    package for all our servers. \n    <<snip>>\n\n\t4. How would the customer like to achieve this? (List the functional\nrequirements here)\n\nRHEL6 'bash' has this option but it is disabled by default. \n\n/* Define if you want each line saved to the history list in bashhist.c:\n   bash_add_history() to be sent to syslog(). */\n/* #define SYSLOG_HISTORY */\n#if defined (SYSLOG_HISTORY)\n#  define SYSLOG_FACILITY LOG_USER\n#  define SYSLOG_LEVEL LOG_INFO\n#endif\n\n\nbashhist.c\n        - if SYSLOG_HISTORY is defined, call bash_syslog_history with the\n          line added to the history in bash_add_history.\n        - new function, bash_syslog_history(line), sends line to syslog at\n          user.info.  The line is truncated to send no more than 600\n          (SYSLOG_MAXLEN) bytes to syslog. Feature requested by many, and\n          required by some national laws\n\nCustomer has compiled and tried this but it doesn't have all the features they\nneed. Customer has provided below patches to include.\n\nbash-syslog.patch - this patch syslogs much earlier in the command execution\nphase and also logs a line for new users that have logged in so that the syslog\nanalyser can link commands to sessions\n\nbash-3.2-log-fp.patch - supplements the above by logging the ssh key\nfingerprint to syslog\n\nopenssh-4.3p2-oie-log-pubkey-auth.patch and openssh-4.3p2-oie-put-fp-env.patch\n- put the ssh key fingerprint in the environment of the user.\n\n\nPlease review this patches to include in the future release?\n\n\t5. For each functional requirement listed in question 4, specify how\nRed Hat and the customer can test to confirm the requirement is successfully\nimplemented.\n\nCustomer can test it and confirm.\n\n\t6. Is there already an existing RFE upstream or in Red Hat bugzilla?\n\nNo.\n\n\t7. How quickly does this need resolved? (desired target release)\n\nIt will be helpful if we can include in next release, but it is not a critical\nrequirement.\n\n\t8. Does this request meet the RHEL Bug and Feature Inclusion\nCriteria(please review)\n\nYes\n\n9. List the affected packages\n\nbash\n\n\t10. Would the customer be able to assist in testing this functionality\nif implemented?\n\nYes.",
          "author": "rdassen@redhat.com",
          "creation_time": "20110722T19:55:17",
          "bug_id": "725101",
          "creator_id": "275277",
          "time": "20110722T19:55:17",
          "id": "3910817",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "rdassen@redhat.com",
          "text": "\t1. Who is the customer behind the request?\n\nAccount name:Optus Administration Pty Ltd\nCustomer segment:0\nTAM/SRM customer yes/no:yes SRM(In-Flight)\nVHT score: 1",
          "author": "rdassen@redhat.com",
          "creation_time": "20110722T19:57:32",
          "bug_id": "725101",
          "creator_id": "275277",
          "time": "20110722T19:57:32",
          "id": "3910821",
          "is_private": "True"
        },
        {
          "count": "2",
          "attachment_id": "514783",
          "author": "rdassen@redhat.com",
          "text": "Created attachment 514783\nProposed patch",
          "creator": "rdassen@redhat.com",
          "creation_time": "20110722T20:01:32",
          "bug_id": "725101",
          "creator_id": "275277",
          "time": "20110722T20:01:32",
          "id": "3910831",
          "is_private": "True"
        },
        {
          "count": "3",
          "attachment_id": "514784",
          "author": "rdassen@redhat.com",
          "text": "Created attachment 514784\nSecond proposed patch",
          "creator": "rdassen@redhat.com",
          "creation_time": "20110722T20:02:31",
          "bug_id": "725101",
          "creator_id": "275277",
          "time": "20110722T20:02:31",
          "id": "3910833",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "jchadima@redhat.com",
          "text": "Have you consult this patches with the upstream?",
          "author": "jchadima@redhat.com",
          "creation_time": "20110724T19:17:19",
          "bug_id": "725101",
          "creator_id": "276623",
          "time": "20110724T19:17:19",
          "id": "3912257",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "rdassen@redhat.com",
          "text": "Passing NEEDINFO to Prasoon Keloth who owns the support case for which this feature request was raised.",
          "author": "rdassen@redhat.com",
          "creation_time": "20110725T06:45:14",
          "bug_id": "725101",
          "creator_id": "275277",
          "time": "20110725T06:45:14",
          "id": "3912809",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "rrajaram@redhat.com",
          "text": "Hello,\n\nCustomer proved this patch set to us. They want us to review the  patch and provide it to upstream. \n\nRegards,\nPrasoon",
          "author": "rrajaram@redhat.com",
          "creation_time": "20110824T10:11:31",
          "bug_id": "725101",
          "creator_id": "191309",
          "time": "20110824T10:11:31",
          "id": "3974646",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "jchadima@redhat.com",
          "text": "OK. I'll do it to be ready for 6.3",
          "author": "jchadima@redhat.com",
          "creation_time": "20110824T11:35:01",
          "bug_id": "725101",
          "creator_id": "276623",
          "time": "20110824T11:35:01",
          "id": "3974817",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "ktoyama@redhat.com",
          "text": "=== In Red Hat Customer Portal Case 00627395 ===\n--- Comment by Toyama, Kevin on 4/23/2012 11:42 AM ---\n\nAnother case linked to this RFE for RHEL6.  Customer is State Farm requested via HP-WTEC L3 support.\n\n\n2. What is the nature and description of the request?\nCustomer is looking for an option to send bash history to syslog. \n\n\n3. Why does the customer need this? (List the business requirements\nhere)\nRoot history files may also need to be examined to ensure compliance with security policies and/or standards.  In an environment with thousands of Linux servers, querying information from the root\u2019s history files is tedious and laborious.  Centralizing the history file content allows much greater efficiency when that history needs to be searched and reported upon.\n \nOne solution is to have the shell send its history to both the local history file, and to syslog.  For environments with remote syslog enabled, the root history entries from syslog can be sent real-time to a remote logging server.  That remote logging server can be secured and/or monitored to prevent intentional tampering. \n\n\n4. How would the customer like to achieve this? (List the functional\nrequirements here)\nRHEL6 'bash' has this option but it is disabled by default. \n\n/* Define if you want each line saved to the history list in bashhist.c:\n   bash_add_history() to be sent to syslog(). */\n/* #define SYSLOG_HISTORY */\n#if defined (SYSLOG_HISTORY)\n#  define SYSLOG_FACILITY LOG_USER\n#  define SYSLOG_LEVEL LOG_INFO\n#endif\n\n\n5. For each functional requirement listed in question 4, specify how\nRed Hat and the customer can test to confirm the requirement is successfully\nimplemented.\nCustomer can test it and confirm.\n\n\n6. Is there already an existing RFE upstream or in Red Hat bugzilla?\nNo.\n\n\n7. How quickly does this need resolved? (desired target release)\nIt will be helpful if we can include in next release, but it is not a critical\nrequirement.\n\n\n8. Does this request meet the RHEL Bug and Feature Inclusion\nCriteria(please review)\nYes\n\n\n9. List the affected packages\nbash\n\n\n10. Would the customer be able to assist in testing this functionality\nif implemented?\nYes.",
          "author": "ktoyama@redhat.com",
          "creation_time": "20120423T18:43:01",
          "bug_id": "725101",
          "creator_id": "280092",
          "time": "20120423T18:43:01",
          "id": "4621588",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "ktoyama@redhat.com",
          "text": "=== In Red Hat Customer Portal Case 00627395 ===\n--- Comment by Toyama, Kevin on 4/24/2012 6:05 PM ---\n\n//internal note to BZ.\n\nAre there any objections opening this bugzilla up to the HP-WTEC L3 confidential group so they can track this for their end customer?  \n\n--Kevin",
          "author": "ktoyama@redhat.com",
          "creation_time": "20120425T01:05:24",
          "bug_id": "725101",
          "creator_id": "280092",
          "time": "20120425T01:05:24",
          "id": "4625712",
          "is_private": "True"
        },
        {
          "count": "10",
          "creator": "syeghiay@redhat.com",
          "text": "Set exception? flag since this bug is on the RHEL 6.3 Release Priority List.\nHowever, it also has a Devel Conditional NAK condition.\nPlease resolve if possible.\nIf not, please move to 6.4.",
          "author": "syeghiay@redhat.com",
          "creation_time": "20120425T18:54:04",
          "bug_id": "725101",
          "creator_id": "193262",
          "time": "20120425T18:54:04",
          "id": "4628589",
          "is_private": "True"
        },
        {
          "count": "11",
          "creator": "plautrba@redhat.com",
          "text": "(In reply to comment #3)\n\n-\t\t\tverbose(''Found matching %s key: %s'',\n+\t\t\tlogit(''Found matching %s key: %s'',\n\nWould be sufficient to set 'LogLevel VERBOSE' for this sshd instance? There are not so much more verbose() messages than logit() and both types go to LOG_INFO syslog priority.",
          "author": "plautrba@redhat.com",
          "creation_time": "20120511T16:53:53",
          "bug_id": "725101",
          "creator_id": "270148",
          "time": "20120511T16:53:53",
          "id": "4668355",
          "is_private": "True"
        },
        {
          "count": "12",
          "creator": "mitr@redhat.com",
          "text": "(Copying my comment from #725100) the requested design of auditing is incorrect for rather many reasons.\n\n* SSH key fingerprint does not identify a session: if there are two simultaneous sessions from two different users using the same (e.g. stolen) private key, the logging will not be able to distinguish between them.\n\n* Identifying a session in an environment variable is trivial to bypass by removing the variable from an environment, and this can easily happen unintentionally - e.g. a setuid program only passing a very restricted set of environment variables to child processes.\n\n* Auditing only bash history is insufficient, there are many ways to bypass this. Running perl or python in interactive mode are two trivial examples.\n\n* Truncation to SYSLOG_MAXLEN loses data, and is another way to bypass the mechanism.\n\nWe already have a facility to completely audit TTY input (from all programs - exact keystrokes, and history information), tied to reliable/unfakeable session information and auid (the UID used to originally log in to the system, regardless of use of su/sudo), and (FIXME: needs verifying) we already audit the fingerprint of a public key used to log into the system.\n\nThe customer may find that tty_audit as is already fulfills their needs.  If it is required to bind the public key fingerprint to the session, the audit record of the fingerprint should be usable for this - but I'm not sure that the session is already established at that time: this needs review, and perhaps code changes in openssh.",
          "author": "mitr@redhat.com",
          "creation_time": "20120511T17:38:23",
          "bug_id": "725101",
          "creator_id": "164954",
          "time": "20120511T17:38:23",
          "id": "4668445",
          "is_private": "True"
        },
        {
          "count": "13",
          "creator": "jkodak@redhat.com",
          "text": "Thank you for submitting this issue for consideration in Red Hat Enterprise Linux. This request will be considered in a future release of Red Hat Enterprise Linux.",
          "author": "jkodak@redhat.com",
          "creation_time": "20120525T19:40:28",
          "bug_id": "725101",
          "creator_id": "312464",
          "time": "20120525T19:40:28",
          "id": "4699189",
          "is_private": "False"
        },
        {
          "count": "14",
          "creator": "pm-rhel@redhat.com",
          "text": "Since the release flag was set to ? after the pm_ack flag was set to + (was likely set for the previous release), the pm_ack flag has been reset to ? by the bugbot (pm-rhel). This action ensures the proper review by Product Management.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120620T12:48:53",
          "bug_id": "725101",
          "creator_id": "193983",
          "time": "20120620T12:48:53",
          "id": "4844226",
          "is_private": "True"
        },
        {
          "count": "15",
          "creator": "ktoyama@redhat.com",
          "text": "=== In Red Hat Customer Portal Case 00627395 ===\n--- Comment by Toyama, Kevin on 7/16/2012 7:13 AM ---\n\n//internal note.  Customer has decided to close case and took recommendations on using pam_tty_audit over the SYSLOG_HISTORY option for bash shell.\n\n--Kevin",
          "author": "ktoyama@redhat.com",
          "creation_time": "20120716T14:13:47",
          "bug_id": "725101",
          "creator_id": "280092",
          "time": "20120716T14:13:47",
          "id": "4901397",
          "is_private": "True"
        },
        {
          "count": "16",
          "creator": "mitr@redhat.com",
          "text": "Per comment 15, the customer has decided to use pam_tty_audit instead of this proposed patch; does GSS still consider this ''high-value'' for 6.4?",
          "author": "mitr@redhat.com",
          "creation_time": "20120717T13:14:56",
          "bug_id": "725101",
          "creator_id": "164954",
          "time": "20120717T13:14:56",
          "id": "4904038",
          "is_private": "True"
        },
        {
          "count": "17",
          "creator": "rdassen@redhat.com",
          "text": "Comment #15 pertains to HP's case 00627395 which is now closed.\n\nThere is another support case linked here, case 00336034 from strategic customer Optus Administration Pty Ltd which is still open, but is described by the customer as ''this has taken a low priority as we are focusing what resources we have on these ongoing kernel problems''.\n\nI think GSS can live with this missing 6.4.",
          "author": "rdassen@redhat.com",
          "creation_time": "20120717T13:59:08",
          "bug_id": "725101",
          "creator_id": "275277",
          "time": "20120717T13:59:08",
          "id": "4904160",
          "is_private": "True"
        },
        {
          "count": "18",
          "creator": "plautrba@redhat.com",
          "text": "Given comment #c12 Closing as NOTABUG for now.",
          "author": "plautrba@redhat.com",
          "creation_time": "20120814T13:32:47",
          "bug_id": "725101",
          "creator_id": "270148",
          "time": "20120814T13:32:47",
          "id": "4965221",
          "is_private": "True"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.1"
      ],
      "cc": [
        "jkodak@redhat.com",
        "ktoyama@redhat.com",
        "liko@redhat.com",
        "mitr@redhat.com",
        "mvadkert@redhat.com",
        "plautrba@redhat.com",
        "plundin@redhat.com",
        "prc@redhat.com",
        "pvrabec@redhat.com",
        "rbinkhor@redhat.com",
        "rrajaram@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "607248",
        "750571",
        "772279",
        "782183",
        "756082",
        "840699"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Enhancement",
      "cf_clone_of": "725100",
      "groups": [
        "devel",
        "hp"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Enhancement",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "[RFE] Patches for fingerprint information in environment and logging",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.4.0",
          "modification_date": "20120430T07:55:47",
          "type_id": "326",
          "is_active": "0",
          "creation_date": "20120430T07:55:47",
          "id": "1038764",
          "setter": "plautrba@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20120724T18:30:09",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20110722T19:55:17",
          "id": "864274",
          "setter": "snagar@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20110722T19:55:17",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20110722T19:55:17",
          "id": "864275",
          "setter": "rdassen@redhat.com"
        },
        {
          "status": "?",
          "name": "qa_ack",
          "modification_date": "20111208T12:58:44",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20111208T12:58:44",
          "id": "940965",
          "setter": "pvrabec@redhat.com"
        }
      ],
      "last_change_time": "20131121T20:02:07",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509335-aL3knvj5cAXmy3dSmqBSTJO8cx0vJhwhMx7wPDkwQ_g",
      "cf_partner": [],
      "cf_last_closed": "20120814T13:32:47",
      "resolution": "NOTABUG",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20110923T12:18:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "Reopened"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "740806",
      "cf_release_notes": "",
      "priority": "low",
      "severity": "low",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "djuran@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "djuran@redhat.com",
          "text": "Description of problem:\nWhen trying to log in to an account where the password has expired, the user is prompted to change the password. So far so good, but right after the password is changed, the connection is dropped leaving the user with an impression that something went wrong. It would be better if ssh could just permit the user in after the password was changed rather then forcing him to log in again.\n\nVersion-Release number of selected component (if applicable):\nopenssh-5.3p1-52.el6_1.2\n\nHow reproducible:\nEvery time\n\nSteps to Reproduce:\n1. expire the password of an account\nchage -d 0 -M 0 local\n\n2. try to log in:\n[djuran@localhost Desktop]$ ssh local@rhel6.djuran.redhat.com\nlocal@rhel6.djuran.redhat.com's password: \nYou are required to change your password immediately (root enforced)\nLast login: Fri Sep 23 15:01:15 2011 from localhost\nWARNING: Your password has expired.\nYou must change your password now and login again!\nChanging password for user local.\nChanging password for local.\n(current) UNIX password: \nNew password: \nRetype new password: \npasswd: all authentication tokens updated successfully.\nConnection to rhel6.djuran.redhat.com closed.\n\n3. Do note how the connection was dropped\n\nAdditional info:\nFor instance su let's the user in right away without having to re-authenticate:\n\n[djuran@rhel6 ~]$ su - local\nPassword: \nYou are required to change your password immediately (root enforced)\nChanging password for local.\n(current) UNIX password: \nNew password: \nRetype new password: \n[local@rhel6 ~]$",
          "author": "djuran@redhat.com",
          "creation_time": "20110923T12:18:25",
          "bug_id": "740806",
          "creator_id": "20510",
          "time": "20110923T12:18:25",
          "id": "4037852",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20110923T12:22:51",
          "bug_id": "740806",
          "creator_id": "193983",
          "time": "20110923T12:22:51",
          "id": "4037858",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "pm-rhel@redhat.com",
          "text": "Since RHEL 6.2 External Beta has begun, and this bug remains\nunresolved, it has been rejected as it is not proposed as\nexception or blocker.\n\nRed Hat invites you to ask your support representative to\npropose this request, if appropriate and relevant, in the\nnext release of Red Hat Enterprise Linux.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20111007T16:02:44",
          "bug_id": "740806",
          "creator_id": "193983",
          "time": "20111007T16:02:44",
          "id": "4066654",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "tmraz@redhat.com",
          "text": "This is impossible. The ssh in the password-authentication method has to use passwd which is explicitly executed after the session is started. Unfortunately there is no exact way to be sure that the user really changed the password in the passwd command so the openssh must force the user to reconnect.\n\nI suggest the customer to use keyboard-interactive authentication as a workaround.",
          "author": "tmraz@redhat.com",
          "creation_time": "20111014T16:14:36",
          "bug_id": "740806",
          "creator_id": "167996",
          "time": "20111014T16:14:36",
          "id": "4084090",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "ssorce@redhat.com",
          "text": "Sorry Tomas,\nbut I don't get it, why is it that ssh can't use the pam stack (which I believe will give you a better error reporting) and has to run passwd instead ?\n\nIf it *has* to drop the connection can you make ssh at least warn the user it will be disconnected after the password change ?",
          "author": "ssorce@redhat.com",
          "creation_time": "20111017T15:36:07",
          "bug_id": "740806",
          "creator_id": "209833",
          "time": "20111017T15:36:07",
          "id": "4087941",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "tmraz@redhat.com",
          "text": "Yeah the warning could be added before the passwd is executed.\n\nIt could probably use the pam stack however it would require substantial changes to how the pam stack is called in sshd. Basically it could probably call the PAM calls that are called by passwd directly instead of passwd but I am not sure whether it would not interfere with other things in the SSH protocol anyway so it would have to drop the connection regardless of that.\n\nBut the warning seems like something that could be easily done.",
          "author": "tmraz@redhat.com",
          "creation_time": "20111017T17:42:35",
          "bug_id": "740806",
          "creator_id": "167996",
          "time": "20111017T17:42:35",
          "id": "4088285",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "ssorce@redhat.com",
          "text": "Ok in this case I am reopening this bug.\nFeel free to defer it for the pam stack portion, but I think we should get at least the warning part.",
          "author": "ssorce@redhat.com",
          "creation_time": "20111017T17:56:59",
          "bug_id": "740806",
          "creator_id": "209833",
          "time": "20111017T17:56:59",
          "id": "4088306",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "tmraz@redhat.com",
          "text": "Changing the summary accordingly.",
          "author": "tmraz@redhat.com",
          "creation_time": "20111017T18:20:38",
          "bug_id": "740806",
          "creator_id": "167996",
          "time": "20111017T18:20:38",
          "id": "4088366",
          "is_private": "False"
        },
        {
          "count": "8",
          "creator": "mvadkert@redhat.com",
          "text": "This bug is gradeA if the fix will be to print the warning that the user will be disconnected after the password change.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20111212T11:24:07",
          "bug_id": "740806",
          "creator_id": "271572",
          "time": "20111212T11:24:07",
          "id": "4245355",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "ksrot@redhat.com",
          "text": "qa_ack+ for 6.3",
          "author": "ksrot@redhat.com",
          "creation_time": "20111221T15:16:22",
          "bug_id": "740806",
          "creator_id": "286283",
          "time": "20111221T15:16:22",
          "id": "4271895",
          "is_private": "True"
        },
        {
          "count": "10",
          "creator": "plautrba@redhat.com",
          "text": "There is already message that user has to login again:\n\nWARNING: Your password has expired.\nYou must change your password now and login again!\n\nWe can change this to be more specific:\n\n''You must change your password now, then connection will be dropped and you must login again!\n\nBut I think that original text ''... and login again!'' is explicit enough and given the commit #c5 I would close this as CANTFIX.",
          "author": "plautrba@redhat.com",
          "creation_time": "20120220T07:53:17",
          "bug_id": "740806",
          "creator_id": "270148",
          "time": "20120220T07:53:17",
          "id": "4458989",
          "is_private": "True"
        },
        {
          "count": "11",
          "creator": "dapospis@redhat.com",
          "text": "Setting qe_test_coverage\u2011. There is nothing to test.",
          "author": "dapospis@redhat.com",
          "creation_time": "20121106T10:57:22",
          "bug_id": "740806",
          "creator_id": "319215",
          "time": "20121106T10:57:22",
          "id": "5174022",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.1"
      ],
      "cc": [
        "dapospis@redhat.com",
        "mvadkert@redhat.com",
        "myllynen@redhat.com",
        "pvrabec@redhat.com",
        "sgallagh@redhat.com",
        "ssorce@redhat.com",
        "tmraz@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "sshd should warn that connection will be dropped after expired password change",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "-",
          "name": "qe_test_coverage",
          "modification_date": "20121105T15:46:22",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20111222T16:22:55",
          "id": "950328",
          "setter": "dapospis@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.3.0",
          "modification_date": "20111221T15:21:46",
          "type_id": "276",
          "is_active": "0",
          "creation_date": "20111017T18:20:38",
          "id": "914823",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20111213T03:37:13",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20110923T12:36:01",
          "id": "901040",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20111209T09:40:35",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20110923T12:55:27",
          "id": "901042",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20111221T15:16:22",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20111208T13:00:13",
          "id": "940969",
          "setter": "ksrot@redhat.com"
        }
      ],
      "last_change_time": "20121106T10:57:22",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509335-jsUl1pCMxmjl5Z0WlQ8PKKM9dqPIqeaAMtmQt-ohmsA",
      "cf_partner": [],
      "cf_last_closed": "20120229T11:51:43",
      "resolution": "WONTFIX",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "100",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20111209T13:21:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "765800",
      "cf_release_notes": "",
      "priority": "low",
      "severity": "low",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "dkovalsk@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "dkovalsk@redhat.com",
          "text": "I noticed that uncommenting KerberosGetAFSToken option in sshd_config results in warning when restarting sshd. Fortunately it's only a warning and not an error, still, if the option is not supported then it shouldn't be present in the default config file. \n\n\nopenssh-5.3p1-70.el6.x86_64\nopenssh-server-5.3p1-70.el6.x86_64\n\n\n# service sshd restart\nStopping sshd:                                             [  OK  ]\nStarting sshd: /etc/ssh/sshd_config line 75: Unsupported option KerberosGetAFSToken\n                                                           [  OK  ]",
          "author": "dkovalsk@redhat.com",
          "creation_time": "20111209T13:21:39",
          "bug_id": "765800",
          "creator_id": "197405",
          "time": "20111209T13:21:39",
          "id": "4240797",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "plautrba@redhat.com",
          "text": "I would postpone this to RHEL-7. This is minor change in configuration file - remove commented line - without impact on functionality, but users will need to merge their changes with new shipped file.",
          "author": "plautrba@redhat.com",
          "creation_time": "20111213T09:30:00",
          "bug_id": "765800",
          "creator_id": "270148",
          "time": "20111213T09:30:00",
          "id": "4248629",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "dkovalsk@redhat.com",
          "text": "Yeah, that's why I set this as low/low.\n\nI'm fine with keeping this open in case a larger change comes along and where this bug would ride with it. And if not, do it just for RHEL7.\n\n\nJust a thought: would removing the line (grepping out) in postin be a possible solution?",
          "author": "dkovalsk@redhat.com",
          "creation_time": "20111213T13:00:37",
          "bug_id": "765800",
          "creator_id": "197405",
          "time": "20111213T13:00:37",
          "id": "4249045",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "pvrabec@redhat.com",
          "text": "There are no changes in /etc/ssh/sshd_config in RHEL-6.3. I'm postponing it to 6.4.",
          "author": "pvrabec@redhat.com",
          "creation_time": "20120126T12:59:58",
          "bug_id": "765800",
          "creator_id": "167999",
          "time": "20120126T12:59:58",
          "id": "4385687",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "pm-rhel@redhat.com",
          "text": "Since the release flag was set to ? after the pm_ack flag was set to + (was likely set for the previous release), the pm_ack flag has been reset to ? by the bugbot (pm-rhel). This action ensures the proper review by Product Management.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120620T13:52:07",
          "bug_id": "765800",
          "creator_id": "193983",
          "time": "20120620T13:52:07",
          "id": "4845769",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "pvrabec@redhat.com",
          "text": "We don't touch config file in this update. Setting dev ack ''-''.",
          "author": "pvrabec@redhat.com",
          "creation_time": "20120806T09:15:42",
          "bug_id": "765800",
          "creator_id": "167999",
          "time": "20120806T09:15:42",
          "id": "4941816",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "pm-rhel@redhat.com",
          "text": "Development Management has reviewed and declined this request.\nYou may appeal this decision by reopening this request.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120806T09:26:53",
          "bug_id": "765800",
          "creator_id": "193983",
          "time": "20120806T09:26:53",
          "id": "4941842",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.2"
      ],
      "cc": [
        "benl@redhat.com",
        "mvadkert@redhat.com",
        "pvrabec@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "/etc/ssh/sshd_config line 75: Unsupported option KerberosGetAFSToken",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "?",
          "name": "rhel-6.4.0",
          "modification_date": "20120126T12:59:58",
          "type_id": "326",
          "is_active": "0",
          "creation_date": "20120126T12:59:58",
          "id": "965980",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20120716T22:10:15",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20111209T13:26:04",
          "id": "941764",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "-",
          "name": "devel_ack",
          "modification_date": "20120806T09:15:42",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20111213T04:57:32",
          "id": "943269",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "?",
          "name": "qa_ack",
          "modification_date": "20120710T05:07:26",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20120710T05:07:26",
          "id": "1091032",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20140331T23:46:35",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509335-W69bZyGrQcDPKV_LnjRvb0x6oQoohJjwIuzcNhi470Q",
      "cf_partner": [],
      "cf_last_closed": "20120806T09:26:53",
      "resolution": "WONTFIX",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20120417T08:07:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "Security",
        "SecurityTracking",
        "ZStream"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "813196",
      "cf_release_notes": "When gssapi-with-mic authentication was enabled, sshd allowed remote authenticated users to cause a denial of service (memory consumption) via a large value in a certain length field.",
      "priority": "low",
      "severity": "low",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "huzaifas@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "huzaifas@redhat.com",
          "text": "\nrhel-6.3 tracking bug for openssh: see blocks bug list for full details of the security issue(s).\n\nThis bug is never intended to be made public, please put any public notes\nin the 'blocks' bugs.\n\n\n[bug automatically created by: add-tracking-bugs]",
          "author": "huzaifas@redhat.com",
          "creation_time": "20120417T08:07:03",
          "bug_id": "813196",
          "creator_id": "204345",
          "time": "20120417T08:07:03",
          "id": "4598555",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "huzaifas@redhat.com",
          "text": "this is a security flaw tracker and it does not need the 3-acks to commit",
          "author": "huzaifas@redhat.com",
          "creation_time": "20120418T07:06:39",
          "bug_id": "813196",
          "creator_id": "204345",
          "time": "20120418T07:06:39",
          "id": "4601748",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "plautrba@redhat.com",
          "text": "Given that this is low security impact, would be sufficient to add fix for this bug to 6.3 errata or do I need to do async errata?",
          "author": "plautrba@redhat.com",
          "creation_time": "20120419T07:51:22",
          "bug_id": "813196",
          "creator_id": "270148",
          "time": "20120419T07:51:22",
          "id": "4605308",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from MODIFIED to ON_QA status by the Errata System: \nAdvisory RHBA-2012:12754-01: \nhttp://errata.devel.redhat.com/errata/stateview/12754\n\nPackage is ready for testing. Moving to ON_QA.",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120425T12:26:21",
          "bug_id": "813196",
          "creator_id": "241731",
          "time": "20120425T12:26:21",
          "id": "4627122",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "mvadkert@redhat.com",
          "text": "No reproducer available. QE should proceed only with SanityOnly testing. Should be gradeA",
          "author": "mvadkert@redhat.com",
          "creation_time": "20120425T13:11:06",
          "bug_id": "813196",
          "creator_id": "271572",
          "time": "20120425T13:11:06",
          "id": "4627272",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "plautrba@redhat.com",
          "text": "\n    Technical note added. If any revisions are required, please edit the ''Technical Notes'' field\n    accordingly. All revisions will be proofread by the Engineering Content Services team.\n    \n    New Contents:\nWhen gssapi-with-mic authentication was enabled, sshd allowed remote authenticated users to cause a denial of service (memory consumption) via a large value in a certain length field.",
          "author": "plautrba@redhat.com",
          "creation_time": "20120427T13:51:03",
          "bug_id": "813196",
          "creator_id": "270148",
          "time": "20120427T13:51:03",
          "id": "4633968",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2012:12754-01: \nhttp://errata.devel.redhat.com/errata/stateview/12754\n\nVERIFIED as fixed in openssh-5.3p1-81.el6.\n\nSanityOnly testing. Patch applied on sources:\n+ echo 'Patch #98 (openssh-5.3p1-prevent-post-auth-resource-exhaustion.patch):'\nPatch #98 (openssh-5.3p1-prevent-post-auth-resource-exhaustion.patch):\n+ /bin/cat /root/rpmbuild/SOURCES/openssh-5.3p1-prevent-post-auth-resource-exhaustion.patch\n+ /usr/bin/patch -s -p1 -b --suffix .postauth-exhaustion --fuzz=0\n\nAll available Beaker tests PASS:\nhttps://tcms.engineering.redhat.com/run/39051/report/",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120517T13:18:08",
          "bug_id": "813196",
          "creator_id": "241731",
          "time": "20120517T13:18:08",
          "id": "4680615",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHSA-2012-0884.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20120620T07:17:46",
          "bug_id": "813196",
          "creator_id": "241731",
          "time": "20120620T07:17:46",
          "id": "4841697",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.3"
      ],
      "cc": [
        "mvadkert@redhat.com",
        "pvrabec@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "809938"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Release Note",
      "cf_clone_of": "0",
      "groups": [
        "devel",
        "qe_staff"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "CVE-2011-5000 openssh: post-authentication resource exhaustion bug via GSSAPI [rhel-6.3]",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "rhel-6.3.0",
          "modification_date": "20120417T08:07:13",
          "type_id": "276",
          "is_active": "0",
          "creation_date": "20120417T08:07:13",
          "id": "1028242",
          "setter": "huzaifas@redhat.com"
        },
        {
          "status": "+",
          "name": "blocker",
          "modification_date": "20120417T08:07:13",
          "type_id": "24",
          "is_active": "1",
          "creation_date": "20120417T08:07:13",
          "id": "1028243",
          "setter": "huzaifas@redhat.com"
        }
      ],
      "last_change_time": "20120620T07:17:46",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509335-4RiIt90b4Jqmntu9YcRfHiTp3pyWsmzadF2ol3ULlwc",
      "cf_partner": [],
      "cf_last_closed": "20120620T07:17:46",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20120425T19:22:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "816318",
      "cf_release_notes": "",
      "priority": "low",
      "severity": "low",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "dpal@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "dpal@redhat.com",
          "text": "+++ This bug was initially created as a clone of Bug #816317 +++\n\nipa-client tries to configure ssh now but ssh fails if plicycoreutils are not installed. This is a missing dependency for ssh.\n\n--- Additional comment from ksiddiqu@redhat.com on 2012-04-25 05:05:48 EDT ---\n\nNow when policycoreutils pkg is not installed\n\n (1)Installation of ipa-client is successfull with following message\n    ''Unable to find 'admin' user with 'getent passwd admin'!''\n\n (2)Un-installation fails with following Traceback.\n\nTraceback (most recent call last):\n  File ''/usr/sbin/ipa-client-install'', line 1534, in <module>\n    sys.exit(main())\n  File ''/usr/sbin/ipa-client-install'', line 1514, in main\n    return uninstall(options, env)\n  File ''/usr/sbin/ipa-client-install'', line 400, in uninstall\n    ipaservices.knownservices.sshd.restart()\n  File ''/usr/lib/python2.6/site-packages/ipapython/platform/redhat.py'', line 47, in restart\n    ipautil.run([''/sbin/service'', self.service_name, ''restart'', instance_name], capture_output=capture_output)\n  File ''/usr/lib/python2.6/site-packages/ipapython/ipautil.py'', line 291, in run\n    raise CalledProcessError(p.returncode, args)\nsubprocess.CalledProcessError: Command '/sbin/service sshd restart ' returned non-zero exit status 1\n\nipa-client version:\n===================\n[root@ipa63client ~]# rpm -q ipa-client\nipa-client-2.2.0-11.el6.x86_64\n[root@ipa63client ~]#\n\npolicycoreutils pkg not installed:\n==================================\n[root@ipa63client ~]# rpm -q policycoreutils policycoreutils-python\npackage policycoreutils is not installed\npackage policycoreutils-python is not installed\n[root@ipa63client ~]#\n\nInstallation's console output:\n==============================\n[root@ipa63client ~]# ipa-client-install --domain=testrelm.com --realm=TESTRELM.COM -p admin -w Secret123 -U --server=ipa63server.testrelm.com\nDiscovery was successful!\nHostname: ipa63client.testrelm.com\nRealm: TESTRELM.COM\nDNS Domain: testrelm.com\nIPA Server: ipa63server.testrelm.com\nBaseDN: dc=testrelm,dc=com\n\n\nSynchronizing time with KDC...\n\nEnrolled in IPA realm TESTRELM.COM\nCreated /etc/ipa/default.conf\nDomain testrelm.com is already configured in existing SSSD config, creating a new one.\nThe old /etc/sssd/sssd.conf is backed up and will be restored during uninstall.\nConfigured /etc/sssd/sssd.conf\nConfigured /etc/krb5.conf for IPA realm TESTRELM.COM\nSSSD enabled\nUnable to find 'admin' user with 'getent passwd admin'!\nRecognized configuration: SSSD\nNTP enabled\nConfigured /etc/ssh/ssh_config\nConfigured /etc/ssh/sshd_config\nClient configuration complete.\n[root@ipa63client ~]#\n\nUn-installation's console output:\n=================================\n[root@ipa63client ~]# ipa-client-install --uninstall -U\nUnenrolling client from IPA server\nRemoving Kerberos service principals from /etc/krb5.keytab\nDisabling client Kerberos and LDAP configurations\nRestoring client configuration files\nTraceback (most recent call last):\n  File ''/usr/sbin/ipa-client-install'', line 1534, in <module>\n    sys.exit(main())\n  File ''/usr/sbin/ipa-client-install'', line 1514, in main\n    return uninstall(options, env)\n  File ''/usr/sbin/ipa-client-install'', line 400, in uninstall\n    ipaservices.knownservices.sshd.restart()\n  File ''/usr/lib/python2.6/site-packages/ipapython/platform/redhat.py'', line 47, in restart\n    ipautil.run([''/sbin/service'', self.service_name, ''restart'', instance_name], capture_output=capture_output)\n  File ''/usr/lib/python2.6/site-packages/ipapython/ipautil.py'', line 291, in run\n    raise CalledProcessError(p.returncode, args)\nsubprocess.CalledProcessError: Command '/sbin/service sshd restart ' returned non-zero exit status 1\n[root@ipa63client ~]#\n\n[root@ipa63client ~]# service sshd status\nopenssh-daemon is stopped\n[root@ipa63client ~]# service sshd start\nStarting sshd: /etc/ssh/sshd_config: Permission denied\n                                                           [FAILED]\n[root@ipa63client ~]#\n\n--- Additional comment from rcritten@redhat.com on 2012-04-25 11:19:23 EDT ---\n\nI think it is sshd that is failing because policycoreutils is not installed. Perhaps we need to make this non-fatal but also perhaps file a bug against sshd.",
          "author": "dpal@redhat.com",
          "creation_time": "20120425T19:22:07",
          "bug_id": "816318",
          "creator_id": "263394",
          "time": "20120425T19:22:07",
          "id": "4628710",
          "is_private": "True"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120425T19:31:55",
          "bug_id": "816318",
          "creator_id": "193983",
          "time": "20120425T19:31:55",
          "id": "4628736",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "plautrba@redhat.com",
          "text": "What is SELinux context on /etc/ssh/sshd_config ? Is there any AVC message in audit log? This message is written by /usr/sbin/sshd which can't read /etc/ssh/sshd_config file:\n\n# run_init /usr/sbin/sshd\nAuthenticating root.\nPassword:\n/etc/ssh/sshd_config: Permission denied\n\n\npolicycoreutils contains /sbin/restorecon utility usually used for fixing SELinux context and sshd doesn't explicitly require it.",
          "author": "plautrba@redhat.com",
          "creation_time": "20120426T12:55:37",
          "bug_id": "816318",
          "creator_id": "270148",
          "time": "20120426T12:55:37",
          "id": "4630683",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "plautrba@redhat.com",
          "text": "Previous example again:\n\n# ls -lZ /etc/ssh/sshd_config\n-rw-------. root root unconfined_u:object_r:admin_home_t:s0 /etc/ssh/sshd_config\n\n# run_init /usr/sbin/sshd\nAuthenticating root.\nPassword:\n/etc/ssh/sshd_config: Permission denied\n\n# restorecon -v /etc/ssh/sshd_config\nrestorecon reset /etc/ssh/sshd_config context unconfined_u:object_r:admin_home_t:s0->system_u:object_r:etc_t:s0\n\n# run_init /usr/sbin/sshd\nAuthenticating root.\nPassword:\n\n#",
          "author": "plautrba@redhat.com",
          "creation_time": "20120426T13:02:17",
          "bug_id": "816318",
          "creator_id": "270148",
          "time": "20120426T13:02:17",
          "id": "4630705",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "rcritten@redhat.com",
          "text": "> policycoreutils contains /sbin/restorecon utility usually used for fixing\n> SELinux context and sshd doesn't explicitly require it.\n\nI'm not entirely sure what to recommend. Perhaps emit a warning if /usr/sbin/selinuxenabled is 0 and /sbin/restorecon isn't available.\n\nFrom a user satisfaction perspective if it is required for normal operations under SELinux then there should be a dependency. In IPA we don't require that one use SELinux either but we try to have special handling so we don't error out if it is enabled but policycoreutils isn't installed (which is how we discovered this sshd issue).",
          "author": "rcritten@redhat.com",
          "creation_time": "20120426T17:19:24",
          "bug_id": "816318",
          "creator_id": "172334",
          "time": "20120426T17:19:24",
          "id": "4631498",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "mvadkert@redhat.com",
          "text": "I really do not think this is a openssh issue. It's clearly your misconfiguration of sshd_config. How did it end up in wrong context anyway? What is the context of your sshd_config? How did it get there with the wrong context? \n\nYou can still use chcon from coreutils to set the correct context, you do not need policycoreutils for that.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20120427T08:31:39",
          "bug_id": "816318",
          "creator_id": "271572",
          "time": "20120427T08:31:39",
          "id": "4633056",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "mvadkert@redhat.com",
          "text": "Marking as low as we think this is NOT an openssh bug. OpenSSH is not dependent on policycoreutils. This is (most probably) a openssh sshd_config SELinux context misconfiguration on the reporter's system.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20120427T08:37:21",
          "bug_id": "816318",
          "creator_id": "271572",
          "time": "20120427T08:37:21",
          "id": "4633073",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "mgrepl@redhat.com",
          "text": "If something does not work and you think this is SELinux issue, then switch to permissive mode and collect AVC msgs\n\n$ setenforce 0\n\nre-test it and run\n\n$ ausearch -m avc -ts recent\n\nWe will see AVC msgs and then we would know what is wrong.",
          "author": "mgrepl@redhat.com",
          "creation_time": "20120427T08:38:10",
          "bug_id": "816318",
          "creator_id": "269625",
          "time": "20120427T08:38:10",
          "id": "4633078",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "pm-rhel@redhat.com",
          "text": "Since RHEL 6.3 External Beta has begun, and this bug remains\nunresolved, it has been rejected as it is not proposed as\nexception or blocker.\n\nRed Hat invites you to ask your support representative to\npropose this request, if appropriate and relevant, in the\nnext release of Red Hat Enterprise Linux.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120503T04:35:56",
          "bug_id": "816318",
          "creator_id": "193983",
          "time": "20120503T04:35:56",
          "id": "4645774",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "x86_64",
      "version": [
        "6.3"
      ],
      "cc": [
        "jgalipea@redhat.com",
        "ksiddiqu@redhat.com",
        "mkosek@redhat.com",
        "mvadkert@redhat.com",
        "rcritten@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "816317"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "816317",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "ssh has a policycoreutils as a dependancy",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "-",
          "name": "rhel-6.3.0",
          "modification_date": "20120503T04:35:53",
          "type_id": "276",
          "is_active": "0",
          "creation_date": "20120425T19:31:53",
          "id": "1036317",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20120425T19:48:14",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20120425T19:46:46",
          "id": "1036328",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20120425T20:06:01",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20120425T20:06:01",
          "id": "1036339",
          "setter": "pm-rhel@redhat.com"
        }
      ],
      "last_change_time": "20120503T07:59:41",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509335-EjQqHLxVTR5wt0xcjU8bdwRpIrh3eL6LJNGnK4hu-eQ",
      "cf_partner": [],
      "cf_last_closed": "20120503T07:59:41",
      "resolution": "NOTABUG",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "400",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20120516T12:59:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "822137",
      "cf_release_notes": "",
      "priority": "low",
      "severity": "low",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "mvadkert@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "mvadkert@redhat.com",
          "text": "Description of problem:\nsftp returns 0 if batch operation failed, because of full disk. \n\nVersion-Release number of selected component (if applicable):\nopenssh-5.3p1-81.el6\n\nHow reproducible:\n100%\n\nSteps to Reproduce:\n1. Download and lunch provided reproducer\n  \nActual results:\nSFTP returns 0\n\nExpected results:\nSFTP returns 0\n\nAdditional info:\nThis is a regression from RHEL5, though not a regression from RHEL6 (it has been there always we just did not catch it because of bad Makefile in Beaker tests)",
          "author": "mvadkert@redhat.com",
          "creation_time": "20120516T12:59:23",
          "bug_id": "822137",
          "creator_id": "271572",
          "time": "20120516T12:59:23",
          "id": "4677767",
          "is_private": "False"
        },
        {
          "count": "1",
          "attachment_id": "584956",
          "author": "mvadkert@redhat.com",
          "text": "Created attachment 584956\nReproducer",
          "creator": "mvadkert@redhat.com",
          "creation_time": "20120516T12:59:49",
          "bug_id": "822137",
          "creator_id": "271572",
          "time": "20120516T12:59:49",
          "id": "4677768",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "pm-rhel@redhat.com",
          "text": "This request was not resolved in time for the current release.\nRed Hat invites you to ask your support representative to\npropose this request, if still desired, for consideration in\nthe next release of Red Hat Enterprise Linux.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120710T08:12:58",
          "bug_id": "822137",
          "creator_id": "193983",
          "time": "20120710T08:12:58",
          "id": "4886552",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "pm-rhel@redhat.com",
          "text": "This request was erroneously removed from consideration in Red Hat Enterprise Linux 6.4, which is currently under development.  This request will be evaluated for inclusion in Red Hat Enterprise Linux 6.4.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120711T01:45:37",
          "bug_id": "822137",
          "creator_id": "193983",
          "time": "20120711T01:45:37",
          "id": "4890540",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "ksrot@redhat.com",
          "text": "qa_ack+ for 6.4",
          "author": "ksrot@redhat.com",
          "creation_time": "20120807T11:20:58",
          "bug_id": "822137",
          "creator_id": "286283",
          "time": "20120807T11:20:58",
          "id": "4945749",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "plautrba@redhat.com",
          "text": "I'm unable to reproduce it:\n\n# df -h\n/tmp/bz247802.img      57K   57K     0 100% /mnt/bz247802\n\n# sftp -b /tmp/bz247802.batch localhost\nsftp> put /tmp/bz247802.1 /mnt/bz247802\nUploading /tmp/bz247802.1 to /mnt/bz247802/bz247802.1\nCouldn't write to remote file ''/mnt/bz247802/bz247802.1'': Failure\n\n# echo $?\n1",
          "author": "plautrba@redhat.com",
          "creation_time": "20121009T14:34:25",
          "bug_id": "822137",
          "creator_id": "270148",
          "time": "20121009T14:34:25",
          "id": "5097625",
          "is_private": "False"
        },
        {
          "count": "6",
          "creator": "mvadkert@redhat.com",
          "text": "Very odd but I was unable to reproduce this bug with the provided test on all architectures on RHEL6. Closed as not a bug.",
          "author": "mvadkert@redhat.com",
          "creation_time": "20121009T16:13:54",
          "bug_id": "822137",
          "creator_id": "271572",
          "time": "20121009T16:13:54",
          "id": "5098067",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.3"
      ],
      "cc": [
        "pvrabec@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "836160"
      ],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "sftp returns 0 if batch operation failed",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20120516T12:59:23",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20120516T12:59:23",
          "id": "1050053",
          "setter": "mvadkert@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.4.0",
          "modification_date": "20120807T11:34:00",
          "type_id": "326",
          "is_active": "0",
          "creation_date": "20120516T12:59:23",
          "id": "1050054",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20120716T22:35:06",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20120516T12:59:23",
          "id": "1050055",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20120806T09:10:37",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20120516T12:59:23",
          "id": "1050056",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20120807T11:20:58",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20120516T12:59:23",
          "id": "1050057",
          "setter": "ksrot@redhat.com"
        }
      ],
      "last_change_time": "20121009T16:13:54",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509335-pEbeUGiDcs9eGkeLrkJA1Y-EBRFFhM2ZWt_fj7eLuTc",
      "cf_partner": [],
      "cf_last_closed": "20121009T15:49:39",
      "resolution": "NOTABUG",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "100",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20120629T19:23:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "None",
          "ext_bz_bug_id": "211800",
          "bug_id": "836650",
          "ext_description": "/CoreOS/openssh/Regression/bz836650-ssh-copy-id-returns-0-when-internal-cmd-fails",
          "ext_priority": "None",
          "ext_bz_id": "69",
          "type": {
            "must_send": "False",
            "description": "TCMS Test Case",
            "url": "https://tcms.engineering.redhat.com",
            "can_get": "False",
            "id": "69",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          },
          "id": "80272"
        }
      ],
      "id": "836650",
      "cf_release_notes": "",
      "priority": "low",
      "severity": "low",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "gozen@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "gozen@redhat.com",
          "text": "Description of problem:\nssh-copy-id seems to return zero even if there is an error in copying the key to the remote host. \n\nBelow is a session in which key is tried to be copied over to a remote host that doesn't have any free space available:\n# ssh-copy-id -i  ~/.ssh/kdump_id_rsa.pub root@dhcp46-175.lab.bos.redhat.com\nroot@dhcp46-175.lab.bos.redhat.com's password:\ncat: write error: No space left on device\nNow try logging into the machine, with ''ssh\n'root@dhcp46-175.lab.bos.redhat.com''', and check in:\n\n  .ssh/authorized_keys\n\nto make sure we haven't added extra keys that you weren't expecting.\n\n# echo $?\n0\n\nIn the middle you can see that ''cat: write error: No space left on device error'' message \n\nSame issue doesn't happen on rhel5 either:\n\n# ssh-copy-id -i  ~/.ssh/kdump_id_rsa.pub root@dhcp46-175.lab.bos.redhat.com\n27\nThe authenticity of host 'dhcp46-175.lab.bos.redhat.com (10.16.46.175)' can't be\nestablished.\nRSA key fingerprint is c1:1d:02:95:cd:42:1f:a4:8d:da:ee:c5:98:72:a5:d4.\nAre you sure you want to continue connecting (yes/no)? yes\nWarning: Permanently added 'dhcp46-175.lab.bos.redhat.com,10.16.46.175' (RSA) to\nthe list of known hosts.\nroot@dhcp46-175.lab.bos.redhat.com's password:\ncat: write error: No space left on device\n# echo $?\n1\n\n\nVersion-Release number of selected component (if applicable):\nopenssh-clients-5.3p1-20.el6.x86_64\n\nHow reproducible:\nEverytime\n\nSteps to Reproduce:\n1. Try to copy a key over to a machine that has no space available.\n2. \n3.\n  \nActual results:\nreturns zero \n\nExpected results:\nShould not return zero\n\nAdditional info:",
          "author": "gozen@redhat.com",
          "creation_time": "20120629T19:23:21",
          "bug_id": "836650",
          "creator_id": "195227",
          "time": "20120629T19:23:21",
          "id": "4868142",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "pm-rhel@redhat.com",
          "text": "Since this bug report was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.",
          "author": "pm-rhel@redhat.com",
          "creation_time": "20120629T19:32:39",
          "bug_id": "836650",
          "creator_id": "193983",
          "time": "20120629T19:32:39",
          "id": "4868165",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "plautrba@redhat.com",
          "text": "There is the openssh-5.3p1-selabel.patch which changed behavior of ssh-copy-id to call also restorecon. This needs to be changed:\n\n--- /usr/bin/ssh-copy-id.orig   2012-07-09 17:39:31.861061082 +0200\n+++ /usr/bin/ssh-copy-id        2012-07-09 17:51:25.129074800 +0200\n@@ -38,7 +38,7 @@\n   exit 1\n fi\n \n-{ eval ''$GET_ID'' ; } | ssh $1 ''umask 077; test -d .ssh || mkdir .ssh ; cat >> .ssh/authorized_keys; test -x /sbin/restorecon && /sbin/restorecon .ssh .ssh/authorized_keys'' || exit 1\n+{ eval ''$GET_ID'' ; } | ssh $1 ''umask 077; test -d ~/.ssh || mkdir ~/.ssh ; cat >> ~/.ssh/authorized_keys && (test -x /sbin/restorecon && /sbin/restorecon ~/.ssh ~/.ssh/authorized_keys >/dev/null 2>&1 || true)'' || exit 1\n \n cat <<EOF\n Now try logging into the machine, with ''ssh '$1''', and check in:",
          "author": "plautrba@redhat.com",
          "creation_time": "20120709T15:53:55",
          "bug_id": "836650",
          "creator_id": "270148",
          "time": "20120709T15:53:55",
          "id": "4883391",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "ksrot@redhat.com",
          "text": "qa_ack+ for 6.4",
          "author": "ksrot@redhat.com",
          "creation_time": "20120809T12:43:08",
          "bug_id": "836650",
          "creator_id": "286283",
          "time": "20120809T12:43:08",
          "id": "4956028",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2012:14032-01\nhttp://errata.devel.redhat.com/errata/show/14032",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20121009T16:37:58",
          "bug_id": "836650",
          "creator_id": "241731",
          "time": "20121009T16:37:58",
          "id": "5098123",
          "is_private": "True"
        },
        {
          "count": "5",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2012:14032-01: \nhttp://errata.devel.redhat.com/errata/stateview/14032\n\nSuccessfully reproduced and verified via an automatic test on all relevant architectures.\n\nhttps://beaker.engineering.redhat.com/tasks/executed?job_id=333650&task=/CoreOS/openssh/Regression/bz836650-ssh-copy-id-returns-0-when-internal-cmd-fails",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20121115T12:57:53",
          "bug_id": "836650",
          "creator_id": "241731",
          "time": "20121115T12:57:53",
          "id": "5201770",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHSA-2013-0519.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20130221T10:28:02",
          "bug_id": "836650",
          "creator_id": "241731",
          "time": "20130221T10:28:02",
          "id": "5529763",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.4"
      ],
      "cc": [
        "jburke@redhat.com",
        "jjaburek@redhat.com",
        "jstancek@redhat.com",
        "pbunyan@redhat.com",
        "pvrabec@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "jjaburek@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "ssh-copy-id returns 0 even if the actual operation fails.",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20120809T12:43:08",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20120809T12:43:08",
          "id": "1116560",
          "setter": "ksrot@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.4.0",
          "modification_date": "20120809T12:52:54",
          "type_id": "326",
          "is_active": "0",
          "creation_date": "20120629T19:32:37",
          "id": "1083914",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20120716T22:05:02",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20120629T19:47:17",
          "id": "1083918",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20120730T12:51:22",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20120709T15:53:55",
          "id": "1088913",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20120809T12:43:08",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20120709T15:53:55",
          "id": "1088914",
          "setter": "ksrot@redhat.com"
        }
      ],
      "last_change_time": "20130221T10:28:02",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509335-R_eWF5ZgmLr7GErMxGC8sUxsQVlH3qK5MH1UwttLSZg",
      "cf_partner": [],
      "cf_last_closed": "20130221T10:28:02",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "100",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20120716T10:44:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "840423",
      "cf_release_notes": "",
      "priority": "low",
      "severity": "low",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "chorn@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "chorn@redhat.com",
          "text": "Description of problem:\n  ssh client option 'GSSAPITrustDNS' is not documented in ssh manpage\n\nVersion-Release number of selected component (if applicable):\n  all\n\nHow reproducible:\n  always\n\nSteps to Reproduce:\n1. man ssh_config|grep GSSAPITrustDNS\n2.\n3.\n  \nActual results:\n  no output\n\nExpected results:\n  option should be mentioned\n\nAdditional info:\n- ''ssh -o'GSSAPITrustDNS yes' <ip>''  results in no error, so option is recognized",
          "author": "chorn@redhat.com",
          "creation_time": "20120716T10:44:34",
          "bug_id": "840423",
          "creator_id": "309721",
          "time": "20120716T10:44:34",
          "id": "4900884",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "ksrot@redhat.com",
          "text": "qa_ack+ for 6.4",
          "author": "ksrot@redhat.com",
          "creation_time": "20120730T14:14:20",
          "bug_id": "840423",
          "creator_id": "286283",
          "time": "20120730T14:14:20",
          "id": "4929283",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "mvadkert@redhat.com",
          "text": "I see this documented in ssh_config:\n\n     GSSAPITrustDns\n             Set to \u201cyes to indicate that the DNS is trusted to securely canonicalize\u201d the name of the host being connected to. If \u201cno, the hostname entered on the\u201d com-\n             mand line will be passed untouched to the GSSAPI library.  The default is \u201cno\u201d.  This option only applies to protocol version 2 connections using GSSAPI.\n\n\nChristian you cannot grep man page and expect always sane results :) convert it to text before the grep.\n\nClosing as NOT A BUG",
          "author": "mvadkert@redhat.com",
          "creation_time": "20121010T15:57:28",
          "bug_id": "840423",
          "creator_id": "271572",
          "time": "20121010T15:57:28",
          "id": "5102202",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "chorn@redhat.com",
          "text": "I did also a manual search in 'man ssh_config', but was so far not aware that the keywords are case-insensitive.\n\nJust a search in 'man ssh_config' which is case insensitive would have brought this up.\n\nThanks & sorry for wasting your cycles on this.",
          "author": "chorn@redhat.com",
          "creation_time": "20121011T08:03:05",
          "bug_id": "840423",
          "creator_id": "309721",
          "time": "20121011T08:03:05",
          "id": "5104493",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "jjaburek@redhat.com",
          "text": "Since this is not a bug (works for me), there's no need for test coverage.",
          "author": "jjaburek@redhat.com",
          "creation_time": "20130212T12:36:21",
          "bug_id": "840423",
          "creator_id": "327802",
          "time": "20130212T12:36:21",
          "id": "5496365",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.3"
      ],
      "cc": [
        "jjaburek@redhat.com",
        "mvadkert@redhat.com",
        "pvrabec@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "jjaburek@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "private",
        "qa",
        "redhat",
        "rhn",
        "seg",
        "services",
        "support",
        "suseng"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "ssh client option 'GSSAPITrustDNS' is not documented in ssh manpage",
      "alias": [],
      "op_sys": "All",
      "flags": [
        {
          "status": "-",
          "name": "qe_test_coverage",
          "modification_date": "20130212T12:36:21",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20120730T14:18:07",
          "id": "1106179",
          "setter": "jjaburek@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.4.0",
          "modification_date": "20120730T14:24:43",
          "type_id": "326",
          "is_active": "0",
          "creation_date": "20120716T10:44:34",
          "id": "1096954",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20120716T22:10:13",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20120716T10:44:34",
          "id": "1096955",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20120730T12:54:21",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20120716T10:44:34",
          "id": "1096956",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20120730T14:14:20",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20120716T10:44:34",
          "id": "1096957",
          "setter": "ksrot@redhat.com"
        }
      ],
      "last_change_time": "20130212T12:36:21",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509336-SYAXeFL7Ezt-ndTl85eBLXdGoaSND-uHlFjcA1ardtI",
      "cf_partner": [],
      "cf_last_closed": "20121010T15:57:28",
      "resolution": "NOTABUG",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "1200",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20121127T11:21:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "Patch"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "Closed",
          "ext_bz_bug_id": "00737853",
          "bug_id": "880575",
          "ext_description": "Security feature with ssh ??",
          "ext_priority": "3 (Normal)",
          "ext_bz_id": "60",
          "type": {
            "must_send": "True",
            "description": "Red Hat Customer Portal",
            "url": "https://access.redhat.com",
            "can_get": "True",
            "id": "60",
            "can_send": "True",
            "send_once": "True",
            "type": "SFDC",
            "full_url": "https://access.redhat.com/support/cases/%id%"
          },
          "id": "84345"
        },
        {
          "ext_status": "None",
          "ext_bz_bug_id": "308655",
          "bug_id": "880575",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "69",
          "type": {
            "must_send": "False",
            "description": "TCMS Test Case",
            "url": "https://tcms.engineering.redhat.com",
            "can_get": "False",
            "id": "69",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          },
          "id": "121525"
        },
        {
          "ext_status": "None",
          "ext_bz_bug_id": "1878",
          "bug_id": "880575",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "13",
          "type": {
            "must_send": "False",
            "description": "OpenSSH Project",
            "url": "http://bugzilla.mindrot.org",
            "can_get": "False",
            "id": "13",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "http://bugzilla.mindrot.org/show_bug.cgi?id=%id%"
          },
          "id": "85436"
        },
        {
          "ext_status": "None",
          "ext_bz_bug_id": "663455",
          "bug_id": "880575",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "29",
          "type": {
            "must_send": "False",
            "description": "Launchpad",
            "url": "https://bugs.launchpad.net/bugs",
            "can_get": "False",
            "id": "29",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://bugs.launchpad.net/bugs/%id%"
          },
          "id": "85437"
        },
        {
          "ext_status": "None",
          "ext_bz_bug_id": "426143",
          "bug_id": "880575",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "72",
          "type": {
            "must_send": "False",
            "description": "Red Hat Knowledge Base (Solution)",
            "url": "https://access.redhat.com/site/",
            "can_get": "False",
            "id": "72",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://access.redhat.com/site/solutions/%id%"
          },
          "id": "114162"
        }
      ],
      "id": "880575",
      "cf_release_notes": "Cause: \r\nA ssh sent a message ''It is recommended that your private key files are NOT accessible by others.'' to a user \r\nif the user tried to use his own but unprotected private key.\r\nConsequence: \r\nIt was an inconsistent behaviour, the key was rejected but users was told that it's only recommended to have\r\na protected key.\r\nFix: \r\nThe message has been changed to ''It is required that your private key files are NOT accessible by others.''\r\nResult:",
      "priority": "low",
      "severity": "medium",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "rdassen@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "rdassen@redhat.com",
          "text": "Description of problem:\nopenssh's behaviour for an unprotected private key file is inconsistent.\n\nVersion-Release number of selected component (if applicable):\nopenssh-5.3p1-81.el6_3.x86_64\n\nHow reproducible:\n100%\n\nSteps to Reproduce:\n1. Create a new SSH key.\n2. chmod 0644 the private key file.\n3. As the user who is the private key file, attempt to use the private key.\n4. As another user, attempt to use the private key.\n  \nActual results:\n3. The key file owner cannot use it.\n   Also,\n   a. A message ''WARNING: UNPROTECTED PRIVATE KEY FILE![...]It is recommended that your private key files are NOT accessible by others. This private key will be ignored.'' is output\n   b. Checking the control flow, there is no way to override this behaviour and force the private key to be used nonetheless.\n4. Other users who have access to it based on file permissions can use it.\n\nExpected results:\nMore consistent behaviour:\n1) modification of the message of the client, e.g. to. something like\n   ''ERROR: UNPROTECTED PRIVATE KEY FILE! [...] Private key files need to be private. This key file - being accessible to others - is NOT accepted as a private key file and will not be loaded.''\nOR\n2) add an option to the SSH client to override the current behaviour and allow the private key file owner to use an unprotected private key file; document this option in the man page.\n\nAdditional info:\n\nLooking at RHEL6's openssh/5.3p1/81.el6/openssh-5.3p1/authfile.c:\n    532 int\n    533 key_perm_ok(int fd, const char *filename)\n    534 {\n    535 \tstruct stat st;\n    536 \n    537 \tif (fstat(fd, &st) < 0)\n    538 \t\treturn 0;\n    539 \t/*\n    540 \t * if a key owned by the user is accessed, then we check the\n    541 \t * permissions of the file. if the key owned by a different user,\n    542 \t * then we don't care.\n    543 \t */\n    544 #ifdef HAVE_CYGWIN\n    545 \tif (check_ntsec(filename))\n    546 #endif\n    547 \tif ((st.st_uid == getuid()) && (st.st_mode & 077) != 0) {\n    548 \t\terror(''@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@'');\n    549 \t\terror(''@         WARNING: UNPROTECTED PRIVATE KEY FILE!          @'');\n    550 \t\terror(''@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@'');\n    551 \t\terror(''Permissions 0%3.3o for '%s' are too open.'',\n    552 \t\t    (u_int)st.st_mode & 0777, filename);\n    553 \t\terror(''It is recommended that your private key files are NOT accessible by others.'');\n    554 \t\terror(''This private key will be ignored.'');\n    555 \t\treturn 0;\n    556 \t}\n    557 \treturn 1;\n    558 }\n\nand how it's used, e.g.\n    560 Key *\n    561 key_load_private_type(int type, const char *filename, const char *passphrase,\n    562     char **commentp, int *perm_ok)\n    563 {\n    564 \tint fd;\n    565 \n    566 \tfd = open(filename, O_RDONLY);\n    567 \tif (fd < 0)\n    568 \t\treturn NULL;\n    569 \tif (!key_perm_ok(fd, filename)) {\n    570 \t\tif (perm_ok != NULL)\n    571 \t\t\t*perm_ok = 0;\n    572 \t\terror(''bad permissions: ignore key: %s'', filename);\n    573 \t\tclose(fd);\n    574 \t\treturn NULL;\n    575 \t}\n\nThere is currently no option to override this behaviour.",
          "author": "rdassen@redhat.com",
          "creation_time": "20121127T11:21:09",
          "bug_id": "880575",
          "creator_id": "275277",
          "time": "20121127T11:21:09",
          "id": "5231455",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "rdassen@redhat.com",
          "text": "File on behalf of customer Deutsche B\u00f6rse AG, contact Mr. J\u00fcrgen Schilp.",
          "author": "rdassen@redhat.com",
          "creation_time": "20121127T11:23:37",
          "bug_id": "880575",
          "creator_id": "275277",
          "time": "20121127T11:23:37",
          "id": "5231476",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "rdassen@redhat.com",
          "text": "I provided the customer with this clarification:\n\tIn my experience, ''security'' is a difficult concept and one that can\n\tmean somewhat different things to different people.\n\n\tMany security schemes rely on private keys being, well, private. A\n\tprimary security feature used to maintain their privacy is\n\tdata-at-rest protection by consistently storing them in encrypted\n\tform (typically requiring a password/phrase possibly in combination\n\twith a smartcard).\n\n\tA secondary security feature to maintain their privacy is protecting\n\taccess to the encrypted-private-key-at-rest data through mechanisms\n\tlike restricting user access to the system storing this data and\n\tthrough file system permissions.\n\n\tThe permissions code logic in openssh seems intended to encourage\n\tthe filesystem owner of (encrypted-)private-key-at-rest data to\n\tprotect that data through file system permissions in a way that is\n\tdifficult to ignore for that owner (by refusing to load keys that\n\tare not deemed sufficiently protected). As the file system owner is\n\tthe only one who can change those permissions, this logic is applied\n\tto the owner only.\n\n\tSo far, so good. It's only when we start to consider scenarios in\n\twhich private keys are shared between some groups of users that we\n\tencounter the somewhat counter-intuitive situation that\n\teveryone-but-the-owner can use a private key. I'm not particularly\n\tworried by this to be honest. I think such scenarios should be\n\tregarded with a degree of suspicion in the first place: if your\n\tsecurity scheme involves shared private keys, that concept itself\n\tshould set off some alarm bells. There may be valid use cases for a\n\tsecurity scheme, but they are likely to be few and far between, with\n\tother designs probably being a better option.\n\nbut they regard the current behaviour as inconsistent nonetheless, so I'm putting this forward for your input and consideration.",
          "author": "rdassen@redhat.com",
          "creation_time": "20121127T11:28:50",
          "bug_id": "880575",
          "creator_id": "275277",
          "time": "20121127T11:28:50",
          "id": "5231487",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "plautrba@redhat.com",
          "text": "The upstream changed a message slightly in openssh-5.9p1, bug https://bugzilla.mindrot.org/show_bug.cgi?id=1878 : \n\n                error(''@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@'');\n                error(''Permissions 0%3.3o for '%s' are too open.'',\n                    (u_int)st.st_mode & 0777, filename);\n-               error(''It is recommended that your private key files are NOT accessible by others.'');         \n+               error(''It is required that your private key files are NOT accessible by others.'');            \n                error(''This private key will be ignored.'');                                                   \n                return 0;                                                               \n\n\nA special option for overriding current behavior was refused by upstream in past.\n\nI've also seen some suggestion to use a shared ssh-agent instead of shared private keys.",
          "author": "plautrba@redhat.com",
          "creation_time": "20121211T10:12:03",
          "bug_id": "880575",
          "creator_id": "270148",
          "time": "20121211T10:12:03",
          "id": "5276835",
          "is_private": "False"
        },
        {
          "count": "4",
          "creator": "rdassen@redhat.com",
          "text": "Thank you for your input, Petr. I've relayed it to my customer, and they have accepted the explanation, but have requested that we follow the upstream string change. I've retitled this bugzilla accordingly.",
          "author": "rdassen@redhat.com",
          "creation_time": "20121211T14:56:18",
          "bug_id": "880575",
          "creator_id": "275277",
          "time": "20121211T14:56:18",
          "id": "5277732",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "rdassen@redhat.com",
          "text": "The request here is to backport a simple string change (cf. comment #3) - can we get the acks in place for RHEL6.5 please?",
          "author": "rdassen@redhat.com",
          "creation_time": "20130408T07:08:03",
          "bug_id": "880575",
          "creator_id": "275277",
          "time": "20130408T07:08:03",
          "id": "5808370",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "ksrot@redhat.com",
          "text": "qa_ack+ for 6.5",
          "author": "ksrot@redhat.com",
          "creation_time": "20130514T06:27:48",
          "bug_id": "880575",
          "creator_id": "286283",
          "time": "20130514T06:27:48",
          "id": "5911668",
          "is_private": "True"
        },
        {
          "count": "7",
          "creator": "lbailey@redhat.com",
          "text": "Marking with docs_scoped- as this bug should not affect any of the following guides for RHEL 6.5:\n* Performance Tuning Guide\n* Migration Planning Guide\n* Storage Administration Guide\n* SystemTap Tapset Reference\n* SystemTap Beginners Guide\n* Developer Guide",
          "author": "lbailey@redhat.com",
          "creation_time": "20130603T01:00:14",
          "bug_id": "880575",
          "creator_id": "278466",
          "time": "20130603T01:00:14",
          "id": "5970340",
          "is_private": "True"
        },
        {
          "count": "8",
          "creator": "sgreen@redhat.com",
          "text": "User rdassen@redhat.com's account has been closed",
          "author": "sgreen@redhat.com",
          "creation_time": "20130703T04:32:57",
          "bug_id": "880575",
          "creator_id": "303534",
          "time": "20130703T04:32:57",
          "id": "6065649",
          "is_private": "True"
        },
        {
          "count": "9",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2013:15245-01\nhttp://errata.devel.redhat.com/errata/show/15245",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20130712T10:37:26",
          "bug_id": "880575",
          "creator_id": "241731",
          "time": "20130712T10:37:26",
          "id": "6103786",
          "is_private": "True"
        },
        {
          "count": "10",
          "creator": "lnovy@redhat.com",
          "text": "Is this checked not enforced when using -i parameter?",
          "author": "lnovy@redhat.com",
          "creation_time": "20130912T11:34:02",
          "bug_id": "880575",
          "creator_id": "344083",
          "time": "20130912T11:34:02",
          "id": "6300652",
          "is_private": "False"
        },
        {
          "count": "11",
          "creator": "lnovy@redhat.com",
          "text": "Sorry, to be more specific:\n1. User1 has unprotected key (the default ~/.ssh/id_rsa)\n2. User1 cannot use key owned by himself (the default ~/.ssh/id_rsa)\n3. User1 cannot use key owned by himself when using -i\n4. User2 _can_ use User1's key when using -i\n\n3 is inconsistent with 4.",
          "author": "lnovy@redhat.com",
          "creation_time": "20130912T12:04:56",
          "bug_id": "880575",
          "creator_id": "344083",
          "time": "20130912T12:04:56",
          "id": "6300769",
          "is_private": "False"
        },
        {
          "count": "12",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHBA-2013:15245-01: \nChanged by: Lukas Novy (lnovy@redhat.com)\nhttp://errata.devel.redhat.com/advisory/15245\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: TEST PROTOCOL\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Package       : openssh\n:: [   LOG    ] :: Installed:    : openssh-5.3p1-84.1.el6.i686 \n:: [   LOG    ] :: Test started  : 2013-09-12 08:57:28 EDT\n:: [   LOG    ] :: Test finished : 2013-09-12 08:57:45 EDT\n:: [   LOG    ] :: Test name     : /CoreOS/openssh/Regression/bz880575-Unprotected-private-key-file-message-is\n:: [   LOG    ] :: Distro:       : Red Hat Enterprise Linux Server release 6.4 (Santiago)\n:: [   LOG    ] :: Hostname      : hp-dl360g3-01.rhts.eng.bos.redhat.com\n:: [   LOG    ] :: Architecture  : i686\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test description\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n<snipped>\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Setup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Checking for the presence of openssh rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   openssh-5.3p1-84.1.el6.i686\n:: [   PASS   ] :: Creating tmp directory (Expected 0, got 0)\n:: [   PASS   ] :: Running 'pushd /tmp/tmp.n50qp5kINn' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'useradd -m bz880575a' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'su bz880575a - -c '/usr/bin/ssh-keygen -t rsa -q -f ~/.ssh/id_rsa -N '''''' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'su bz880575a - -c '/bin/cat ~/.ssh/id_rsa.pub > ~/.ssh/authorized_keys'' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'su bz880575a - -c '/bin/chmod og+r ~/.ssh/id_rsa'' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'su bz880575a - -c '/bin/chmod og+x ~ ~/.ssh'' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'useradd -m bz880575b' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'su bz880575b - -c '/usr/bin/ssh-keygen -t rsa -q -f ~/.ssh/id_rsa -N '''''' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'su bz880575b - -c '/bin/cat ~/.ssh/id_rsa.pub > ~/.ssh/authorized_keys'' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'su bz880575a - -c '/bin/chmod og+x ~ ~/.ssh'' (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 8s\n:: [   LOG    ] :: Assertions: 12 good, 0 bad\n:: [   PASS   ] :: RESULT: Setup\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'su bz880575a - -c '/usr/bin/ssh -o StrictHostKeyChecking=no bz880575a@localhost echo OK' > bz880575a.log 2>&1' (Expected 255, got 255)\n:: [   PASS   ] :: File 'bz880575a.log' should not contain 'OK' \n:: [   FAIL   ] :: File 'bz880575a.log' should not contain 'It is recommended that your private' \n:: [   FAIL   ] :: File 'bz880575a.log' should contain 'It is required that your private' \n:: [   PASS   ] :: Running 'su bz880575a - -c '/usr/bin/ssh -o StrictHostKeyChecking=no -i ~/../bz880575a/.ssh/id_rsa bz880575a@localhost echo OK' > bz880575a-i.log 2>&1' (Expected 255, got 255)\n:: [   PASS   ] :: File 'bz880575a-i.log' should not contain 'OK' \n:: [   FAIL   ] :: File 'bz880575a.log' should not contain 'It is recommended that your private' \n:: [   FAIL   ] :: File 'bz880575a.log' should contain 'It is required that your private' \n:: [   PASS   ] :: Running 'su bz880575b - -c '/usr/bin/ssh -o StrictHostKeyChecking=no bz880575b@localhost echo OK' > bz880575b.log 2>&1' (Expected 0, got 0)\n:: [   PASS   ] :: File 'bz880575b.log' should contain 'OK' \n:: [   PASS   ] :: Running 'su bz880575b - -c '/usr/bin/ssh -o StrictHostKeyChecking=no -i ~/../bz880575b/.ssh/id_rsa bz880575b@localhost echo OK' > bz880575b-i.log 2>&1' (Expected 0, got 0)\n:: [   PASS   ] :: File 'bz880575b-i.log' should contain 'OK' \n:: [   PASS   ] :: Running 'su bz880575b - -c '/usr/bin/ssh -o StrictHostKeyChecking=no -i ~/../bz880575a/.ssh/id_rsa bz880575a@localhost echo OK' > bz880575b-cross.log 2>&1' (Expected 0, got 0)\n:: [   PASS   ] :: File 'bz880575b-cross.log' should contain 'OK' \n:: [   LOG    ] :: Duration: 5s\n:: [   LOG    ] :: Assertions: 10 good, 4 bad\n:: [   FAIL   ] :: RESULT: Test\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Cleanup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Bundling logs\n:: [   INFO   ] :: rlBundleLogs: Adding 'bz880575a.log' as 'bz880575a.log'\n:: [   INFO   ] :: rlBundleLogs: Adding 'bz880575a-i.log' as 'bz880575a-i.log'\n:: [   INFO   ] :: rlBundleLogs: Adding 'bz880575b.log' as 'bz880575b.log'\n:: [   INFO   ] :: rlBundleLogs: Adding 'bz880575b-i.log' as 'bz880575b-i.log'\n:: [   INFO   ] :: rlBundleLogs: Adding 'bz880575b-cross.log' as 'bz880575b-cross.log'\n:: [   INFO   ] :: Sending /tmp/ssh.tar.gz as tmp-ssh.tar.gz\n:: [   PASS   ] :: Running 'userdel -f -r bz880575a' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'userdel -f -r bz880575b' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'popd' (Expected 0, got 0)\n:: [   PASS   ] :: Removing tmp directory (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 3s\n:: [   LOG    ] :: Assertions: 4 good, 0 bad\n:: [   PASS   ] :: RESULT: Cleanup\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: /CoreOS/openssh/Regression/bz880575-Unprotected-private-key-file-message-is\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Phases: 2 good, 1 bad\n:: [   FAIL   ] :: RESULT: /CoreOS/openssh/Regression/bz880575-Unprotected-private-key-file-message-is\n:: [ 08:57:46 ] ::  JOURNAL XML: /var/tmp/beakerlib-S9l3wUe/journal.xml\n:: [ 08:57:46 ] ::  JOURNAL TXT: /var/tmp/beakerlib-S9l3wUe/journal.txt\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: TEST PROTOCOL\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Package       : openssh\n:: [   LOG    ] :: Installed:    : openssh-5.3p1-92.el6.i686 \n:: [   LOG    ] :: Test started  : 2013-09-12 08:59:10 EDT\n:: [   LOG    ] :: Test finished : 2013-09-12 08:59:33 EDT\n:: [   LOG    ] :: Test name     : /CoreOS/openssh/Regression/bz880575-Unprotected-private-key-file-message-is\n:: [   LOG    ] :: Distro:       : Red Hat Enterprise Linux Server release 6.4 (Santiago)\n:: [   LOG    ] :: Hostname      : hp-dl360g3-01.rhts.eng.bos.redhat.com\n:: [   LOG    ] :: Architecture  : i686\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test description\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n<snipped>\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Setup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Checking for the presence of openssh rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   openssh-5.3p1-92.el6.i686\n:: [   PASS   ] :: Creating tmp directory (Expected 0, got 0)\n:: [   PASS   ] :: Running 'pushd /tmp/tmp.cbX8jvDnvt' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'useradd -m bz880575a' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'su bz880575a - -c '/usr/bin/ssh-keygen -t rsa -q -f ~/.ssh/id_rsa -N '''''' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'su bz880575a - -c '/bin/cat ~/.ssh/id_rsa.pub > ~/.ssh/authorized_keys'' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'su bz880575a - -c '/bin/chmod og+r ~/.ssh/id_rsa'' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'su bz880575a - -c '/bin/chmod og+x ~ ~/.ssh'' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'useradd -m bz880575b' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'su bz880575b - -c '/usr/bin/ssh-keygen -t rsa -q -f ~/.ssh/id_rsa -N '''''' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'su bz880575b - -c '/bin/cat ~/.ssh/id_rsa.pub > ~/.ssh/authorized_keys'' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'su bz880575a - -c '/bin/chmod og+x ~ ~/.ssh'' (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 8s\n:: [   LOG    ] :: Assertions: 12 good, 0 bad\n:: [   PASS   ] :: RESULT: Setup\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'su bz880575a - -c '/usr/bin/ssh -o StrictHostKeyChecking=no bz880575a@localhost echo OK' > bz880575a.log 2>&1' (Expected 255, got 255)\n:: [   PASS   ] :: File 'bz880575a.log' should not contain 'OK' \n:: [   PASS   ] :: File 'bz880575a.log' should not contain 'It is recommended that your private' \n:: [   PASS   ] :: File 'bz880575a.log' should contain 'It is required that your private' \n:: [   PASS   ] :: Running 'su bz880575a - -c '/usr/bin/ssh -o StrictHostKeyChecking=no -i ~/../bz880575a/.ssh/id_rsa bz880575a@localhost echo OK' > bz880575a-i.log 2>&1' (Expected 255, got 255)\n:: [   PASS   ] :: File 'bz880575a-i.log' should not contain 'OK' \n:: [   PASS   ] :: File 'bz880575a.log' should not contain 'It is recommended that your private' \n:: [   PASS   ] :: File 'bz880575a.log' should contain 'It is required that your private' \n:: [   PASS   ] :: Running 'su bz880575b - -c '/usr/bin/ssh -o StrictHostKeyChecking=no bz880575b@localhost echo OK' > bz880575b.log 2>&1' (Expected 0, got 0)\n:: [   PASS   ] :: File 'bz880575b.log' should contain 'OK' \n:: [   PASS   ] :: Running 'su bz880575b - -c '/usr/bin/ssh -o StrictHostKeyChecking=no -i ~/../bz880575b/.ssh/id_rsa bz880575b@localhost echo OK' > bz880575b-i.log 2>&1' (Expected 0, got 0)\n:: [   PASS   ] :: File 'bz880575b-i.log' should contain 'OK' \n:: [   PASS   ] :: Running 'su bz880575b - -c '/usr/bin/ssh -o StrictHostKeyChecking=no -i ~/../bz880575a/.ssh/id_rsa bz880575a@localhost echo OK' > bz880575b-cross.log 2>&1' (Expected 0, got 0)\n:: [   PASS   ] :: File 'bz880575b-cross.log' should contain 'OK' \n:: [   LOG    ] :: Duration: 9s\n:: [   LOG    ] :: Assertions: 14 good, 0 bad\n:: [   PASS   ] :: RESULT: Test\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Cleanup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Bundling logs\n:: [   INFO   ] :: rlBundleLogs: Adding 'bz880575a.log' as 'bz880575a.log'\n:: [   INFO   ] :: rlBundleLogs: Adding 'bz880575a-i.log' as 'bz880575a-i.log'\n:: [   INFO   ] :: rlBundleLogs: Adding 'bz880575b.log' as 'bz880575b.log'\n:: [   INFO   ] :: rlBundleLogs: Adding 'bz880575b-i.log' as 'bz880575b-i.log'\n:: [   INFO   ] :: rlBundleLogs: Adding 'bz880575b-cross.log' as 'bz880575b-cross.log'\n:: [   INFO   ] :: Sending /tmp/ssh.tar.gz as tmp-ssh.tar.gz\n:: [   PASS   ] :: Running 'userdel -f -r bz880575a' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'userdel -f -r bz880575b' (Expected 0, got 0)\n:: [   PASS   ] :: Running 'popd' (Expected 0, got 0)\n:: [   PASS   ] :: Removing tmp directory (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 5s\n:: [   LOG    ] :: Assertions: 4 good, 0 bad\n:: [   PASS   ] :: RESULT: Cleanup\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: /CoreOS/openssh/Regression/bz880575-Unprotected-private-key-file-message-is\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Phases: 3 good, 0 bad\n:: [   PASS   ] :: RESULT: /CoreOS/openssh/Regression/bz880575-Unprotected-private-key-file-message-is\n:: [ 08:59:33 ] ::  JOURNAL XML: /var/tmp/beakerlib-GDLhLds/journal.xml\n:: [ 08:59:34 ] ::  JOURNAL TXT: /var/tmp/beakerlib-GDLhLds/journal.txt",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20130912T13:02:02",
          "bug_id": "880575",
          "creator_id": "241731",
          "time": "20130912T13:02:02",
          "id": "6300950",
          "is_private": "True"
        },
        {
          "count": "13",
          "creator": "plautrba@redhat.com",
          "text": "There's a comment in the code:\n\t/*\n\t * if a key owned by the user is accessed, then we check the\n\t * permissions of the file. if the key owned by a different user,\n\t * then we don't care.\n\t */\n\nand the message says:\n\nerror(''It is required that your private key files are NOT accessible by others.'');\n                           ^^^^",
          "author": "plautrba@redhat.com",
          "creation_time": "20130912T13:14:32",
          "bug_id": "880575",
          "creator_id": "270148",
          "time": "20130912T13:14:32",
          "id": "6301013",
          "is_private": "False"
        },
        {
          "count": "14",
          "creator": "lnovy@redhat.com",
          "text": "Thanks and sorry, now I feel stupid...",
          "author": "lnovy@redhat.com",
          "creation_time": "20130912T13:15:47",
          "bug_id": "880575",
          "creator_id": "344083",
          "time": "20130912T13:15:47",
          "id": "6301021",
          "is_private": "False"
        },
        {
          "count": "15",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHSA-2013-1591.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20131121T09:44:05",
          "bug_id": "880575",
          "creator_id": "241731",
          "time": "20131121T09:44:05",
          "id": "6542253",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.3"
      ],
      "cc": [
        "ebenes@redhat.com",
        "lnovy@redhat.com",
        "plautrba@redhat.com",
        "pvrabec@redhat.com",
        "rbinkhor@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "835616",
        "960054"
      ],
      "qa_contact": "lnovy@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "redhat"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "Unprotected private key file message is inconsistent",
      "alias": [],
      "op_sys": "All",
      "flags": [
        {
          "status": "?",
          "name": "qe_test_coverage",
          "modification_date": "20130514T06:37:12",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20130514T06:37:12",
          "id": "1345045",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "requires_doc_text",
          "modification_date": "20131025T10:58:22",
          "type_id": "415",
          "is_active": "1",
          "creation_date": "20131025T10:58:22",
          "id": "1563600",
          "setter": "plautrba@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.5.0",
          "modification_date": "20130514T06:32:26",
          "type_id": "361",
          "is_active": "0",
          "creation_date": "20121127T11:21:09",
          "id": "1198340",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20130506T20:34:04",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20121127T11:21:09",
          "id": "1198341",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20130408T08:32:52",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20121127T11:21:09",
          "id": "1198342",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20130514T06:27:48",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20121127T11:21:09",
          "id": "1198343",
          "setter": "ksrot@redhat.com"
        }
      ],
      "last_change_time": "20140218T23:56:30",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509336-okfd8s94HaWf0FYmmheH2-ffoFL1H4GnepcyCtmQoWc",
      "cf_partner": [],
      "cf_last_closed": "20131121T09:44:05",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "100",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20130117T14:19:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "ManPageChange",
        "Patch"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "896547",
      "cf_release_notes": "",
      "priority": "low",
      "severity": "low",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "jjaburek@redhat.com",
      "comments": [
        {
          "count": "0",
          "attachment_id": "680224",
          "author": "jjaburek@redhat.com",
          "text": "Created attachment 680224\ntarball containing manpage patches\n\nDescription of problem:\nAs part of my QA testing of openssh for rhel6.4, I found several typos in the manpages and have created patches for the most obvious ones (attached as a tarball).\n\nVersion-Release number of selected component (if applicable):\n5.3p1-84.1.el6\n\nAffected manpages:\nssh_config(5)\nsshd(8)\nmoduli(5)\npam_ssh_agent_auth(8)\nssh-ldap.conf(5)",
          "creator": "jjaburek@redhat.com",
          "creation_time": "20130117T14:19:52",
          "bug_id": "896547",
          "creator_id": "327802",
          "time": "20130117T14:19:52",
          "id": "5379670",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "plautrba@redhat.com",
          "text": "Have you had a chance to test also upstream sources? Are these typos related only to RHEL patches?",
          "author": "plautrba@redhat.com",
          "creation_time": "20130121T15:41:14",
          "bug_id": "896547",
          "creator_id": "270148",
          "time": "20130121T15:41:14",
          "id": "5435648",
          "is_private": "False"
        },
        {
          "count": "2",
          "creator": "jjaburek@redhat.com",
          "text": "I've tested only the version mentioned in comment #0, ie. with downstream patches applied.",
          "author": "jjaburek@redhat.com",
          "creation_time": "20130121T15:48:07",
          "bug_id": "896547",
          "creator_id": "327802",
          "time": "20130121T15:48:07",
          "id": "5435672",
          "is_private": "False"
        },
        {
          "count": "3",
          "creator": "ksrot@redhat.com",
          "text": "qa_ack+ for 6.5",
          "author": "ksrot@redhat.com",
          "creation_time": "20130710T06:25:00",
          "bug_id": "896547",
          "creator_id": "286283",
          "time": "20130710T06:25:00",
          "id": "6095019",
          "is_private": "True"
        },
        {
          "count": "4",
          "creator": "plautrba@redhat.com",
          "text": "RHEL's sshd.8 and ssh_config.5 use same expressions as the current upstream so I  won't change them. However, other patches are applied.",
          "author": "plautrba@redhat.com",
          "creation_time": "20130718T12:57:00",
          "bug_id": "896547",
          "creator_id": "270148",
          "time": "20130718T12:57:00",
          "id": "6119963",
          "is_private": "False"
        },
        {
          "count": "5",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHBA-2013:15245-01\nhttp://errata.devel.redhat.com/errata/show/15245",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20130725T09:57:11",
          "bug_id": "896547",
          "creator_id": "241731",
          "time": "20130725T09:57:11",
          "id": "6140639",
          "is_private": "True"
        },
        {
          "count": "6",
          "creator": "lnovy@redhat.com",
          "text": "Patch openssh-5.3p1-fix-manpage-typos.patch applied in the build openssh-5.3p1-90.el6",
          "author": "lnovy@redhat.com",
          "creation_time": "20130912T12:35:20",
          "bug_id": "896547",
          "creator_id": "344083",
          "time": "20130912T12:35:20",
          "id": "6300886",
          "is_private": "False"
        },
        {
          "count": "7",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHSA-2013-1591.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20131121T09:44:19",
          "bug_id": "896547",
          "creator_id": "241731",
          "time": "20131121T09:44:19",
          "id": "6542254",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "x86_64",
      "version": [
        "6.4"
      ],
      "cc": [
        "ebenes@redhat.com",
        "lnovy@redhat.com",
        "pschiffe@redhat.com",
        "pvrabec@redhat.com"
      ],
      "cf_verified": [
        "SanityOnly"
      ],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "lnovy@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "cf_clone_of": "0",
      "groups": [
        "devel",
        "qa",
        "redhat"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "manpage typos found using aspell",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "-",
          "name": "qe_test_coverage",
          "modification_date": "20130909T14:47:11",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20130710T06:25:14",
          "id": "1412487",
          "setter": "lnovy@redhat.com"
        },
        {
          "status": "-",
          "name": "requires_doc_text",
          "modification_date": "20131025T08:55:40",
          "type_id": "415",
          "is_active": "1",
          "creation_date": "20131025T08:55:40",
          "id": "1563358",
          "setter": "plautrba@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.5.0",
          "modification_date": "20130710T06:34:08",
          "type_id": "361",
          "is_active": "0",
          "creation_date": "20130117T14:19:52",
          "id": "1240778",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20130506T20:50:15",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20130117T14:36:27",
          "id": "1240825",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "+",
          "name": "devel_ack",
          "modification_date": "20130619T07:57:16",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20130117T14:36:45",
          "id": "1240827",
          "setter": "pvrabec@redhat.com"
        },
        {
          "status": "+",
          "name": "qa_ack",
          "modification_date": "20130710T06:25:00",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20130117T14:37:05",
          "id": "1240829",
          "setter": "ksrot@redhat.com"
        }
      ],
      "last_change_time": "20140218T23:56:31",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509336-y-LY478LWQrK0qGOFJWEgkw52vX6VeojbtcuJTsshHE",
      "cf_partner": [],
      "cf_last_closed": "20131121T09:44:19",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "600",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20130828T03:09:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [
        "Security",
        "SecurityTracking",
        "ZStream"
      ],
      "target_release": [
        "---"
      ],
      "external_bugs": [
        {
          "ext_status": "None",
          "ext_bz_bug_id": "308682",
          "bug_id": "1001879",
          "ext_description": "None",
          "ext_priority": "None",
          "ext_bz_id": "69",
          "type": {
            "must_send": "False",
            "description": "TCMS Test Case",
            "url": "https://tcms.engineering.redhat.com",
            "can_get": "False",
            "id": "69",
            "can_send": "False",
            "send_once": "False",
            "type": "None",
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          },
          "id": "121580"
        }
      ],
      "id": "1001879",
      "cf_release_notes": "",
      "priority": "low",
      "severity": "low",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "huzaifas@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "huzaifas@redhat.com",
          "text": "\nrhel-6.5 tracking bug for openssh: see blocks bug list for full details of the security issue(s).\n\nThis bug is never intended to be made public, please put any public notes\nin the blocked bugs.\n\nFor the Enterprise Linux security issues handling process overview see:\nhttps://home.corp.redhat.com/wiki/eus-z-stream-and-security-bugs\n\n[bug automatically created by: add-tracking-bugs]",
          "author": "huzaifas@redhat.com",
          "creation_time": "20130828T03:09:28",
          "bug_id": "1001879",
          "creator_id": "204345",
          "time": "20130828T03:09:28",
          "id": "6251809",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from MODIFIED to ON_QA status by the Errata System: \nAdvisory RHBA-2013:15245-01: \nChanged by: Petr Lautrbach (plautrba@redhat.com)\nhttp://errata.devel.redhat.com/advisory/15245",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20131001T15:00:19",
          "bug_id": "1001879",
          "creator_id": "241731",
          "time": "20131001T15:00:19",
          "id": "6366074",
          "is_private": "True"
        },
        {
          "count": "2",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Bug report changed from ON_QA to VERIFIED status by the Errata System: \nAdvisory RHSA-2013:15245-02: \nChanged by: Lukas Novy (lnovy@redhat.com)\nhttp://errata.devel.redhat.com/advisory/15245\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: TEST PROTOCOL\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Package       : openssh\n:: [   LOG    ] :: Installed:    : openssh-5.3p1-84.1.el6.x86_64 \n:: [   LOG    ] :: Test started  : 2013-10-18 03:37:37 EDT\n:: [   LOG    ] :: Test finished : 2013-10-18 03:38:02 EDT\n:: [   LOG    ] :: Test name     : /CoreOS/openssh/Security/CVE-2010-5107-Prevent-connection-slot-exhaustion\n:: [   LOG    ] :: Distro:       : Red Hat Enterprise Linux Server release 6.4 (Santiago)\n:: [   LOG    ] :: Hostname      : dell-p690-01.rhts.eng.bos.redhat.com\n:: [   LOG    ] :: Architecture  : x86_64\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test description\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\nPURPOSE of\n/CoreOS/openssh/Security/CVE-2010-5107-Prevent-connection-slot-exhaustion\nDescription: Test for BZ#1001879 (openssh Prevent connection slot exhaustion\nattacks)\nAuthor: Lukas Novy <lnovy@redhat.com>\nBug summary: openssh: Prevent connection slot exhaustion attacks [rhel-6.5]\nBugzilla link: https://bugzilla.redhat.com/show_bug.cgi?id=1001879\n\nA denial of service flaw was found in the way default server configuration of\nOpenSSH, a open source implementation of SSH protocol versions 1 and 2,\nperformed management of its connection slot. A remote attacker could use this\nflaw to cause connection slot exhaustion on the server.\n\nReferences:\n[1] http://seclists.org/oss-sec/2012/q1/1\n[2] http://www.openwall.com/lists/oss-security/2013/02/06/5\n[3] http://www.openwall.com/lists/oss-security/2013/02/07/3\n\nRelevant upstream patches:\n[4]\nhttp://www.openbsd.org/cgi-bin/cvsweb/src/usr.bin/ssh/servconf.c?r1=1.234#rev1.234\n[5]\nhttp://www.openbsd.org/cgi-bin/cvsweb/src/usr.bin/ssh/sshd_config.5?r1=1.156#rev1.156\n[6]\nhttp://www.openbsd.org/cgi-bin/cvsweb/src/usr.bin/ssh/sshd_config?r1=1.89#rev1.89\n\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Setup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Checking for the presence of openssh rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   openssh-5.3p1-84.1.el6.x86_64\n:: [   PASS   ] :: Creating tmp directory (Expected 0, got 0)\n:: [   PASS   ] :: Running 'pushd /tmp/tmp.OLS4c0KdT3' (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 1s\n:: [   LOG    ] :: Assertions: 3 good, 0 bad\n:: [   PASS   ] :: RESULT: Setup\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Backgrounding 200 requests\n:: [   LOG    ] :: Sleeping for 10 seconds\n:: [   LOG    ] :: Banners:      20 \n:: [   FAIL   ] :: Checking the count of successful connections there is enough (Assert: ''20'' should be greater than ''20'')\n:: [   LOG    ] :: Duration: 23s\n:: [   LOG    ] :: Assertions: 0 good, 1 bad\n:: [   FAIL   ] :: RESULT: Test\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Cleanup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'popd' (Expected 0, got 0)\n:: [   PASS   ] :: Removing tmp directory (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 1s\n:: [   LOG    ] :: Assertions: 2 good, 0 bad\n:: [   PASS   ] :: RESULT: Cleanup\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: /CoreOS/openssh/Security/CVE-2010-5107-Prevent-connection-slot-exhaustion\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Phases: 2 good, 1 bad\n:: [   FAIL   ] :: RESULT: /CoreOS/openssh/Security/CVE-2010-5107-Prevent-connection-slot-exhaustion\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: TEST PROTOCOL\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Package       : openssh\n:: [   LOG    ] :: Installed:    : openssh-5.3p1-94.el6.x86_64 \n:: [   LOG    ] :: Test started  : 2013-10-18 03:37:34 EDT\n:: [   LOG    ] :: Test finished : 2013-10-18 03:37:57 EDT\n:: [   LOG    ] :: Test name     : /CoreOS/openssh/Security/CVE-2010-5107-Prevent-connection-slot-exhaustion\n:: [   LOG    ] :: Distro:       : Red Hat Enterprise Linux Server release 6.4 (Santiago)\n:: [   LOG    ] :: Hostname      : hp-bl460cg5-01.rhts.eng.bos.redhat.com\n:: [   LOG    ] :: Architecture  : x86_64\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test description\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\nPURPOSE of\n/CoreOS/openssh/Security/CVE-2010-5107-Prevent-connection-slot-exhaustion\nDescription: Test for BZ#1001879 (openssh Prevent connection slot exhaustion\nattacks)\nAuthor: Lukas Novy <lnovy@redhat.com>\nBug summary: openssh: Prevent connection slot exhaustion attacks [rhel-6.5]\nBugzilla link: https://bugzilla.redhat.com/show_bug.cgi?id=1001879\n\nA denial of service flaw was found in the way default server configuration of\nOpenSSH, a open source implementation of SSH protocol versions 1 and 2,\nperformed management of its connection slot. A remote attacker could use this\nflaw to cause connection slot exhaustion on the server.\n\nReferences:\n[1] http://seclists.org/oss-sec/2012/q1/1\n[2] http://www.openwall.com/lists/oss-security/2013/02/06/5\n[3] http://www.openwall.com/lists/oss-security/2013/02/07/3\n\nRelevant upstream patches:\n[4]\nhttp://www.openbsd.org/cgi-bin/cvsweb/src/usr.bin/ssh/servconf.c?r1=1.234#rev1.234\n[5]\nhttp://www.openbsd.org/cgi-bin/cvsweb/src/usr.bin/ssh/sshd_config.5?r1=1.156#rev1.156\n[6]\nhttp://www.openbsd.org/cgi-bin/cvsweb/src/usr.bin/ssh/sshd_config?r1=1.89#rev1.89\n\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Setup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Checking for the presence of openssh rpm \n:: [   LOG    ] :: Package versions:\n:: [   LOG    ] ::   openssh-5.3p1-94.el6.x86_64\n:: [   PASS   ] :: Creating tmp directory (Expected 0, got 0)\n:: [   PASS   ] :: Running 'pushd /tmp/tmp.f1fmNtWayW' (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 1s\n:: [   LOG    ] :: Assertions: 3 good, 0 bad\n:: [   PASS   ] :: RESULT: Setup\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Test\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Backgrounding 200 requests\n:: [   LOG    ] :: Sleeping for 10 seconds\n:: [   LOG    ] :: Banners:     170 \n:: [   PASS   ] :: Checking the count of successful connections there is enough (Assert: ''170'' should be greater than ''20'')\n:: [   LOG    ] :: Duration: 22s\n:: [   LOG    ] :: Assertions: 1 good, 0 bad\n:: [   PASS   ] :: RESULT: Test\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: Cleanup\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   PASS   ] :: Running 'popd' (Expected 0, got 0)\n:: [   PASS   ] :: Removing tmp directory (Expected 0, got 0)\n:: [   LOG    ] :: Duration: 0s\n:: [   LOG    ] :: Assertions: 2 good, 0 bad\n:: [   PASS   ] :: RESULT: Cleanup\n\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n:: [   LOG    ] :: /CoreOS/openssh/Security/CVE-2010-5107-Prevent-connection-slot-exhaustion\n::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\n:: [   LOG    ] :: Phases: 3 good, 0 bad\n:: [   PASS   ] :: RESULT: /CoreOS/openssh/Security/CVE-2010-5107-Prevent-connection-slot-exhaustion",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20131018T07:38:55",
          "bug_id": "1001879",
          "creator_id": "241731",
          "time": "20131018T07:38:55",
          "id": "6433479",
          "is_private": "True"
        },
        {
          "count": "3",
          "creator": "errata-xmlrpc@redhat.com",
          "text": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttp://rhn.redhat.com/errata/RHSA-2013-1591.html",
          "author": "errata-xmlrpc@redhat.com",
          "creation_time": "20131121T09:47:19",
          "bug_id": "1001879",
          "creator_id": "241731",
          "time": "20131121T09:47:19",
          "id": "6542278",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "All",
      "version": [
        "6.5"
      ],
      "cc": [
        "ebenes@redhat.com",
        "jkurik@redhat.com",
        "lnovy@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [
        "908707"
      ],
      "qa_contact": "lnovy@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Release Note",
      "cf_clone_of": "0",
      "groups": [
        "devel",
        "qe_staff"
      ],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "---",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "CVE-2010-5107 openssh: Prevent connection slot exhaustion attacks [rhel-6.5]",
      "alias": [],
      "op_sys": "Linux",
      "flags": [
        {
          "status": "+",
          "name": "qe_test_coverage",
          "modification_date": "20130909T18:53:40",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20130909T18:53:40",
          "id": "1500908",
          "setter": "lnovy@redhat.com"
        },
        {
          "status": "-",
          "name": "requires_doc_text",
          "modification_date": "20130828T03:09:28",
          "type_id": "415",
          "is_active": "1",
          "creation_date": "20130828T03:09:28",
          "id": "1487679",
          "setter": "bugzilla@redhat.com"
        },
        {
          "status": "+",
          "name": "rhel-6.5.0",
          "modification_date": "20130828T03:09:52",
          "type_id": "361",
          "is_active": "0",
          "creation_date": "20130828T03:09:52",
          "id": "1487683",
          "setter": "huzaifas@redhat.com"
        },
        {
          "status": "+",
          "name": "blocker",
          "modification_date": "20130828T03:09:47",
          "type_id": "24",
          "is_active": "1",
          "creation_date": "20130828T03:09:47",
          "id": "1487682",
          "setter": "huzaifas@redhat.com"
        }
      ],
      "last_change_time": "20140218T23:57:01",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509336-knQSTY9eq6lufwHrhe_3g20MSd-VQBgJ-G7J8DMN7ys",
      "cf_partner": [],
      "cf_last_closed": "20131121T09:47:19",
      "resolution": "ERRATA",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "classification": "Red Hat",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_story_points": "---",
      "cf_conditional_nak": [],
      "creation_time": "20140204T16:41:00",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "summary": "SSH offers and accepts diffie-hellman-group1-sha1 key exchange in FIPS mode",
      "external_bugs": [],
      "id": "1061353",
      "cf_release_notes": "",
      "priority": "low",
      "cf_internal_whiteboard": "",
      "severity": "low",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "hkario@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "hkario@redhat.com",
          "text": "Description of problem:\nWhen running in FIPS mode, sshd accepts connections from clients that support only group 1 DH key exchange (i.e. 768 bit DH parameters). They are not secure and disallowed by NIST SP800-131a since 2010.\n\nWhile I haven't tested, diffie-hellman-group-exchange-sha1/sha256 probably also allows negotiation of 1024 bit parameters in FIPS mode, which is disallowed after 2013.\n\nVersion-Release number of selected component (if applicable):\nopenssh-5.3p1-94.el6.x86_64\n\nHow reproducible:\nAlways\n\nSteps to Reproduce:\n1. Configure system to FIPS mode\n2. ssh -o 'KexAlgorithms diffie-hellman-group1-sha1' localhost\n\nActual results:\nConnection established\n\nExpected results:\nConnection refused because of too small DH moduli.\n\nAdditional info:",
          "author": "hkario@redhat.com",
          "creation_time": "20140204T16:41:03",
          "bug_id": "1061353",
          "creator_id": "349956",
          "time": "20140204T16:41:03",
          "id": "6779895",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "plautrba@redhat.com",
          "text": "see https://bugzilla.redhat.com/show_bug.cgi?id=993580#c13\n\n*** This bug has been marked as a duplicate of bug 993580 ***",
          "author": "plautrba@redhat.com",
          "creation_time": "20140205T08:36:11",
          "bug_id": "1061353",
          "creator_id": "270148",
          "time": "20140205T08:36:11",
          "id": "6781974",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.5"
      ],
      "cc": [
        "ksrot@redhat.com",
        "pkis@redhat.com"
      ],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_regression_status": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "product": "Red Hat Enterprise Linux 6",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [
        "https://bugzilla.redhat.com/show_bug.cgi?id=1053043"
      ],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "target_release": [
        "---"
      ],
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "groups": [],
      "cf_documentation_action": "---",
      "sub_components": {},
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "op_sys": "Unspecified",
      "alias": [],
      "dupe_of": "993580",
      "flags": [
        {
          "status": "?",
          "name": "qe_test_coverage",
          "modification_date": "20140204T16:41:03",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20140204T16:41:03",
          "id": "1691673",
          "setter": "hkario@redhat.com"
        },
        {
          "status": "?",
          "name": "rhel-6.6.0",
          "modification_date": "20140204T16:41:03",
          "type_id": "519",
          "is_active": "1",
          "creation_date": "20140204T16:41:03",
          "id": "1691674",
          "setter": "hkario@redhat.com"
        },
        {
          "status": "?",
          "name": "pm_ack",
          "modification_date": "20140204T16:41:03",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20140204T16:41:03",
          "id": "1691675",
          "setter": "hkario@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20140204T16:41:03",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20140204T16:41:03",
          "id": "1691676",
          "setter": "hkario@redhat.com"
        },
        {
          "status": "?",
          "name": "qa_ack",
          "modification_date": "20140204T16:41:03",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20140204T16:41:03",
          "id": "1691677",
          "setter": "hkario@redhat.com"
        }
      ],
      "last_change_time": "20140205T08:36:11",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509336-I6CuvcsGz6_Y7NkvQVx23YfPrBxcrc-OsIevf8yqEDs",
      "cf_partner": [],
      "cf_last_closed": "20140205T08:36:11",
      "resolution": "DUPLICATE",
      "cf_mount_type": "---",
      "cf_layered_products": []
    },
    {
      "cf_qe_conditional_nak": [],
      "cf_story_points": "---",
      "cf_pm_score": "0",
      "estimated_time": "0.0",
      "depends_on": [],
      "cf_regression_status": "---",
      "cf_conditional_nak": [],
      "creation_time": "20140324T17:06:00",
      "product": "Red Hat Enterprise Linux 6",
      "actual_time": "0.0",
      "docs_contact": "",
      "is_open": "False",
      "keywords": [],
      "target_release": [
        "---"
      ],
      "external_bugs": [],
      "id": "1080110",
      "cf_release_notes": "",
      "priority": "low",
      "severity": "low",
      "is_confirmed": "True",
      "is_creator_accessible": "True",
      "cf_fixed_in": "",
      "creator": "hkario@redhat.com",
      "comments": [
        {
          "count": "0",
          "creator": "hkario@redhat.com",
          "text": "Description of problem:\nsshd_config man page lacks description of RekeyLimit option\n\nVersion-Release number of selected component (if applicable):\nopenssh-server-5.3p1-94.el6.x86_64\n\nHow reproducible:\nAlways\n\nSteps to Reproduce:\n1. man sshd_config\n2. search for \"RekeyLimit\"\n\nActual results:\nnothing found\n\nExpected results:\nDescription of RekeyLimit option and usage:\n\n             Specifies the maximum amount of data that may be transmitted before the session key is renegotiated, optionally\n             followed a maximum amount of time that may pass before the session key is renegotiated.  The first argument is\n             specified in bytes and may have a suffix of \u2018K\u2019, \u2018M\u2019, or \u2018G\u2019 to indicate Kilobytes, Megabytes, or Gigabytes,\n             respectively.  The default is between \u20181G\u2019 and \u20184G\u2019, depending on the cipher.  The optional second value is speci\u2010\n             fied in seconds and may use any of the units documented in the TIME FORMATS section.  The default value for\n             RekeyLimit is \u201cdefault none\u201d, which means that rekeying is performed after the cipher's default amount of data has\n             been sent or received and no time based rekeying is done.  This option applies to protocol version 2 only.\n\nIt should also be mentioned in the Match description\n\nAdditional info:\nThe above text is copied from RHEL-7 version of man page",
          "author": "hkario@redhat.com",
          "creation_time": "20140324T17:06:37",
          "bug_id": "1080110",
          "creator_id": "349956",
          "time": "20140324T17:06:37",
          "id": "6945723",
          "is_private": "False"
        },
        {
          "count": "1",
          "creator": "plautrba@redhat.com",
          "text": "sshd in RHEL-6 doesn't support RekeyLimit:\n\n# /usr/sbin/sshd -o RekeyLimit=1G\ncommand-line: line 0: Bad configuration option: RekeyLimit",
          "author": "plautrba@redhat.com",
          "creation_time": "20140328T11:43:17",
          "bug_id": "1080110",
          "creator_id": "270148",
          "time": "20140328T11:43:17",
          "id": "6962513",
          "is_private": "False"
        }
      ],
      "cf_show_homepage": "---",
      "platform": "Unspecified",
      "version": [
        "6.5"
      ],
      "cc": [],
      "cf_verified": [],
      "cf_cust_facing": "---",
      "cf_environment": "",
      "status": "CLOSED",
      "classification": "Red Hat",
      "cf_verified_branch": "",
      "blocks": [],
      "qa_contact": "qe-baseos-security@redhat.com",
      "tags": [],
      "see_also": [],
      "component": [
        "openssh"
      ],
      "remaining_time": "0.0",
      "sub_components": {},
      "cf_pgm_internal": "",
      "cf_doc_type": "Bug Fix",
      "groups": [],
      "cf_documentation_action": "---",
      "cf_internal_whiteboard": "",
      "target_milestone": "rc",
      "cf_devel_whiteboard": "",
      "is_cc_accessible": "True",
      "cf_type": "Bug",
      "cf_category": "---",
      "url": "",
      "cf_build_id": "",
      "whiteboard": "",
      "cf_crm": "",
      "summary": "sshd_config man page lacks description of RekeyLimit",
      "alias": [],
      "op_sys": "Unspecified",
      "flags": [
        {
          "status": "?",
          "name": "qe_test_coverage",
          "modification_date": "20140324T17:06:37",
          "type_id": "318",
          "is_active": "1",
          "creation_date": "20140324T17:06:37",
          "id": "1756482",
          "setter": "hkario@redhat.com"
        },
        {
          "status": "?",
          "name": "rhel-6.6.0",
          "modification_date": "20140324T17:06:37",
          "type_id": "519",
          "is_active": "1",
          "creation_date": "20140324T17:06:37",
          "id": "1756483",
          "setter": "hkario@redhat.com"
        },
        {
          "status": "+",
          "name": "pm_ack",
          "modification_date": "20140324T17:19:28",
          "type_id": "11",
          "is_active": "1",
          "creation_date": "20140324T17:06:37",
          "id": "1756484",
          "setter": "pm-rhel@redhat.com"
        },
        {
          "status": "?",
          "name": "devel_ack",
          "modification_date": "20140324T17:06:37",
          "type_id": "10",
          "is_active": "1",
          "creation_date": "20140324T17:06:37",
          "id": "1756485",
          "setter": "hkario@redhat.com"
        },
        {
          "status": "?",
          "name": "qa_ack",
          "modification_date": "20140324T17:06:37",
          "type_id": "9",
          "is_active": "1",
          "creation_date": "20140324T17:06:37",
          "id": "1756486",
          "setter": "hkario@redhat.com"
        }
      ],
      "last_change_time": "20140328T11:43:17",
      "assigned_to": "plautrba@redhat.com",
      "update_token": "1402509336-HrjptmCoOW7evq97hhFVf_iN3ygEr1rkQDaRn72lftY",
      "cf_partner": [],
      "cf_last_closed": "20140328T11:43:17",
      "resolution": "NOTABUG",
      "cf_mount_type": "---",
      "cf_layered_products": []
    }
  ]
}