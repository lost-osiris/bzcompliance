{
  "bugs": [
    {
      "cf_qe_conditional_nak": [], 
      "cf_story_points": "---", 
      "cf_pm_score": "50", 
      "estimated_time": "0.0", 
      "depends_on": [], 
      "cf_regression_status": "---", 
      "cf_conditional_nak": [
        "Capacity", 
        "Design"
      ], 
      "creation_time": "20070507T19:33:00", 
      "product": "Red Hat Enterprise Linux 7", 
      "actual_time": "0.0", 
      "docs_contact": "", 
      "is_open": "True", 
      "keywords": [
        "FutureFeature", 
        "Reopened", 
        "Triaged"
      ], 
      "target_release": [
        "---"
      ], 
      "external_bugs": [
        {
          "ext_status": "Closed", 
          "ext_bz_bug_id": "00322382", 
          "bug_id": "239353", 
          "ext_description": "redhat-release RPM should include Incompatibles", 
          "ext_priority": "4 (Low)", 
          "ext_bz_id": "60", 
          "type": {
            "must_send": "True", 
            "description": "Red Hat Customer Portal", 
            "url": "https://access.redhat.com", 
            "can_get": "True", 
            "id": "60", 
            "can_send": "True", 
            "send_once": "True", 
            "type": "SFDC", 
            "full_url": "https://access.redhat.com/support/cases/%id%"
          }, 
          "id": "11207"
        }
      ], 
      "id": "239353", 
      "cf_release_notes": "", 
      "priority": "medium", 
      "severity": "low", 
      "is_confirmed": "True", 
      "is_creator_accessible": "True", 
      "cf_fixed_in": "", 
      "creator": "kgraham@valueclick.com", 
      "comments": [
        {
          "count": "0", 
          "creator": "kgraham@valueclick.com", 
          "text": "Description of problem:\n\nSee issue tracker 88813 for additional details.\n\nParticularly for update releases, the redhat-release package should be marked as\nIncompatible with versions of bundled packages that predate the release. Besides\nthe aesthetics of upgrading redhat-release actually begin meaningful, this would\npresumably allow for useful dependency solving such as 'yum update redhat-release'.\n\nThis has the additional side effect of blocking accidental installs later on.\nIts perfectly possible for a machine installed originally from an update (ie.\n4.5) to have a 4.0 package installed without warning the user of their error.\n\nHow reproducible:\n\n\nSteps to Reproduce:\n\nfs2:~ # cat /etc/redhat-release\nRed Hat Enterprise Linux ES release 4 (Nahant Update 1)\nfs2:~ # rpm -q openssl\nopenssl-0.9.7a-43.1\nfs2:~ # rpm -q redhat-release\nredhat-release-4ES-2.4\nfs2:~ # rpm -Uvh\n/systems/jumpstart/Redhat/WS4.0/i386/RedHat/RPMS/redhat-release-4WS-3.i386. rpm\nwarning:\n/systems/jumpstart/Redhat/WS4.0/i386/RedHat/RPMS/redhat-release-4WS-3.i386. rpm:\nV3 DSA signature: NOKEY, key ID db42a60e\nPreparing...                ########################################### [100%]\n  1:redhat-release         ########################################### [100%]\n[root@fs2 ~]# rpm -q openssl\nopenssl-0.9.7a-43.1\nfs2:~ # ls /systems/jumpstart/Redhat/WS4.0/i386/RedHat/RPMS/openssl-[0-9]*.rpm\n/systems/jumpstart/Redhat/WS4.0/i386/RedHat/RPMS/openssl-0.9.7a-43.2.i386.rpm\n/systems/jumpstart/Redhat/WS4.0/i386/RedHat/RPMS/openssl-0.9.7a-43.2.i686.rpm \n\nActual results:\n\nSuccessful installation.\n\nExpected results:\n\n''openssl version < 0.9.7a-43.2 is incompatible with redhat-release-4WS-3''.\n\nAdditional info:\n\nClearly this would only apply to packages that were bundled and subsequently\nupdated. Across major releases there may be too many details to sort out, but\nfor updates this should be both simple and safe.", 
          "author": "kgraham@valueclick.com", 
          "creation_time": "20070507T19:33:02", 
          "bug_id": "239353", 
          "creator_id": "210576", 
          "time": "20070507T19:33:02", 
          "id": "118432", 
          "is_private": "False"
        }, 
        {
          "count": "1", 
          "creator": "mikem@redhat.com", 
          "text": "I don't believe this is an appropriate change to make at this stage in RHEL4's\nlife-cycle. Furthermore, this approach seems to be an abuse of the rpm Conficts\nmechanism.", 
          "author": "mikem@redhat.com", 
          "creation_time": "20070716T22:22:27", 
          "bug_id": "239353", 
          "creator_id": "84357", 
          "time": "20070716T22:22:27", 
          "id": "429590", 
          "is_private": "False"
        }, 
        {
          "count": "2", 
          "creator": "mikem@redhat.com", 
          "text": "devel NACK", 
          "author": "mikem@redhat.com", 
          "creation_time": "20070716T22:24:03", 
          "bug_id": "239353", 
          "creator_id": "84357", 
          "time": "20070716T22:24:03", 
          "id": "429614", 
          "is_private": "True"
        }, 
        {
          "count": "3", 
          "creator": "pm-rhel@redhat.com", 
          "text": "Development Management has reviewed and declined this request.  You may appeal\nthis decision by reopening this request. ", 
          "author": "pm-rhel@redhat.com", 
          "creation_time": "20070716T22:31:24", 
          "bug_id": "239353", 
          "creator_id": "193983", 
          "time": "20070716T22:31:24", 
          "id": "429706", 
          "is_private": "False"
        }, 
        {
          "count": "4", 
          "creator": "kgraham@valueclick.com", 
          "text": "If there's any abuse of rpm here, its redhat-release itself -- wrapping a\nversioned package around a one-line text file seems rather pointless. If the\nintent of that package is to leverage the package database to convey a release\nlevel, then it should actually be used for that. As-is, it's a useless placeholder.\n\nThe statements ''this is fixed in RHEL4 Update 4'' or ''VendorX hardware will only\nbe recognized in RHEL Update 3 and later'' are apparently worthless, since all\nthat is required to upgrade a 4.0 install to the latest and greatest is to rpm\n-U redhat-release. If that's incorrect, and in fact there's a whole body of\npackages and updates that represent ''RHEL Update 3'', then why not reflect it in\nthe one and only one package that update version is noted, which happens to be\nthe one and only thing that package is for?\n\nAgreed that its late in 4 to do this now, it apparently hadn't made it out of\nIssue Tracker for the 15 months prior to comment 0. However the proper response\nthen is to bump it to a 5.1+.\n\nFeel free to re-close if you agree that the redhat-release package serves no\nuseful function.", 
          "author": "kgraham@valueclick.com", 
          "creation_time": "20070717T00:54:10", 
          "bug_id": "239353", 
          "creator_id": "210576", 
          "time": "20070717T00:54:10", 
          "id": "431072", 
          "is_private": "False"
        }, 
        {
          "count": "5", 
          "creator": "mikem@redhat.com", 
          "text": "redhat-release actually contains a number of files besides /etc/redhat-release.\nIt serves several purposes.\n\nWhile I still have my concerns about this feature request, I am marking it for\nconsideration for a RHEL5 update.\n\nI should note that there is some work underway that may solve the problem you're\ngetting at in a different way.", 
          "author": "mikem@redhat.com", 
          "creation_time": "20070717T15:20:21", 
          "bug_id": "239353", 
          "creator_id": "84357", 
          "time": "20070717T15:20:21", 
          "id": "12408", 
          "is_private": "False"
        }, 
        {
          "count": "6", 
          "creator": "kgraham@valueclick.com", 
          "text": "re comment 5 -- sorry, I obviously overstated in comment 4, but I believe you\nfollow the rationale. While I'm not familiar with the ''work underway'', I might\nbe willing to defer to that. My present concern is the system's lack of\nenforcement (or even cognizance) of OS release/update, and manipulating this\npacakge seemed to be the most direct means of implementation. Thanks for giving\nthis attention.", 
          "author": "kgraham@valueclick.com", 
          "creation_time": "20070717T16:04:34", 
          "bug_id": "239353", 
          "creator_id": "210576", 
          "time": "20070717T16:04:34", 
          "id": "14726", 
          "is_private": "False"
        }, 
        {
          "count": "7", 
          "creator": "mikem@redhat.com", 
          "text": "Not my product, but I want to reiterate my objection to the feature as\nrequested. I do not believe this should be handled by rpm conflicts. This will\n/limit/ our customers who may need to rollback a single rpm on a production\nserver for legitimate reasons.\n\nIf anything, we should add a feature in up2date or some other package that will\nallow an admin to verify that the installed package set is consistent with the\ncurrent redhat-release.\n\nNote that there is an EUS interaction here as well.\n\nBefore we ACK this, we should decide exactly /what/ we are ACKing. If that means\nthe feature as originally requested then I strongly suggest we NACK it.\n", 
          "author": "mikem@redhat.com", 
          "creation_time": "20071023T21:21:12", 
          "bug_id": "239353", 
          "creator_id": "84357", 
          "time": "20071023T21:21:12", 
          "id": "1470135", 
          "is_private": "True"
        }, 
        {
          "count": "8", 
          "creator": "syeghiay@redhat.com", 
          "text": "This FutureFeature bugzilla was not resolved in time for RHEL 5.2 Beta.\nIt has been moved from 5.2 to 5.3.", 
          "author": "syeghiay@redhat.com", 
          "creation_time": "20080307T19:08:47", 
          "bug_id": "239353", 
          "creator_id": "193262", 
          "time": "20080307T19:08:47", 
          "id": "1631626", 
          "is_private": "False"
        }, 
        {
          "count": "9", 
          "creator": "tao@redhat.com", 
          "text": "Who is the customer?\nValueClick\n\nWhat is the exact nature of the problem trying to be solved with this\nrequest?\nTo be able to programatically associate a set of packages with a\nparticular release to enable rpm dependency checking against the system's\nredhat-release version during package installs.\n\nWhat, if any, business requirements are satisfied by this request? (What\nis the use case context?)\nUsers who try to install software onto systems whose release should not\nsupport this update (old software on newer systems) would not be allowed\nto complete the transaction without forcing the install.  Dependency\nchecking could occur at a release level, so upgrading redhat-release would\nhave the effect of upgrading all needed packages to be compatible with a\nparticular release.  Administrators would find it difficult to\naccidentally install old software on new systems.\n\nList the functional requirement(s) for performing the action(s) that are\nnot presently possible. Please focus on describing the problem related\nrequirements without projecting any specific solution.\nPresently, there is no linkage between sets of packages in the OS and the\nredhat-release package.  One can simply upgrade the redhat-release package\nwithout regard for the versions of any currently installed software.\n\n\nEach functional requirement must have clear acceptance criteria so Red Hat\nunderstands what success looks like. If test cases can be provided this\nwould be even more ideal (bonus points for RHTS test cases).\n* redhat-release package should not be able to be installed on systems\nthat contain software older than that contained in the RHEL release\nassociated with the redhat-release package.\n\nWhat is the desired release vehicle to satisfy these requirements? Major\nrelease Minor release \nRHEL 5.3\n\n\nVersion changed from '5' to 'UNKNOWN'\n\nThis event sent from IssueTracker by jwest \n issue 88813", 
          "author": "tao@redhat.com", 
          "creation_time": "20080715T20:33:05", 
          "bug_id": "239353", 
          "creator_id": "80926", 
          "time": "20080715T20:33:05", 
          "id": "1802692", 
          "is_private": "True"
        }, 
        {
          "count": "10", 
          "creator": "tao@redhat.com", 
          "text": "Neil,\n\nCan you please provide the sales contact for this acct?\n\n--jwest\n\nInternal Status set to 'Waiting on Support'\n\nThis event sent from IssueTracker by jwest \n issue 88813", 
          "author": "tao@redhat.com", 
          "creation_time": "20080715T20:33:06", 
          "bug_id": "239353", 
          "creator_id": "80926", 
          "time": "20080715T20:33:06", 
          "id": "1802693", 
          "is_private": "True"
        }, 
        {
          "count": "11", 
          "creator": "tao@redhat.com", 
          "text": "That would be David Varney.\n\n\nNeil\n\n\nInternal Status set to 'Waiting on SEG'\n\nThis event sent from IssueTracker by jwest \n issue 88813", 
          "author": "tao@redhat.com", 
          "creation_time": "20080715T20:33:07", 
          "bug_id": "239353", 
          "creator_id": "80926", 
          "time": "20080715T20:33:07", 
          "id": "1802694", 
          "is_private": "True"
        }, 
        {
          "count": "12", 
          "creator": "mikem@redhat.com", 
          "text": "I /strongly/ recommend that we NACK this feature request as stated.\n\nFrom comment#9\n> Users who try to install software onto systems whose release should not\n> support this update (old software on newer systems) would not be allowed\n> to complete the transaction without forcing the install. \n\nThis would amount to a regression in behavior. It would almost certainly have a\nnegative impact on other customers. I do not think it is a good idea to impose\nthis sort of limitation on all our customers.\n\nNow, if we were to provide a tool that enables a customer to audit their systems\nfor 'out of release' packages -- that would be fine. If we chose to go that\nroute, I think we should start fresh with a new request to avoid confusion.\n", 
          "author": "mikem@redhat.com", 
          "creation_time": "20080715T21:33:23", 
          "bug_id": "239353", 
          "creator_id": "84357", 
          "time": "20080715T21:33:23", 
          "id": "1802786", 
          "is_private": "True"
        }, 
        {
          "count": "13", 
          "creator": "dgregor@redhat.com", 
          "text": "I would like to NAK this for RHEL 5 as well.  The proposed change is significant\nand is very likely to cause problems for customers.  I understand the desire to\naudit/prevent older packages, but I don't believe that redhat-release is the\nright place for that.  I propose that we create a new bug that is a feature\nrequest targeted at RHEL 6.", 
          "author": "dgregor@redhat.com", 
          "creation_time": "20080716T17:42:28", 
          "bug_id": "239353", 
          "creator_id": "96230", 
          "time": "20080716T17:42:28", 
          "id": "1803952", 
          "is_private": "False"
        }, 
        {
          "count": "14", 
          "creator": "jwest@redhat.com", 
          "text": "Per the comments in #13, I agree and am moving this to RHEL6 instead.\n\nThanks Dennis", 
          "author": "jwest@redhat.com", 
          "creation_time": "20080716T17:53:50", 
          "bug_id": "239353", 
          "creator_id": "194553", 
          "time": "20080716T17:53:50", 
          "id": "1803976", 
          "is_private": "False"
        }, 
        {
          "count": "15", 
          "creator": "notting@redhat.com", 
          "text": "This would (theoretically) be best done at the yum/yum-utils level, that could check all packages against what's in the repos to see what they correspond to, where they were installed from, etc. However, the necessary information doesn't appear to be in RHN which would make this doable sanely, as of right now.", 
          "author": "notting@redhat.com", 
          "creation_time": "20081010T15:22:02", 
          "bug_id": "239353", 
          "creator_id": "4", 
          "time": "20081010T15:22:02", 
          "id": "1893608", 
          "is_private": "False"
        }, 
        {
          "count": "16", 
          "creator": "svidal@redhat.com", 
          "text": "Does rhel ever abandon a package w/o providing  a way out/up?\n\nHow would a user who is regularly updating their system ever get into a situation that this feature would solve?", 
          "author": "svidal@redhat.com", 
          "creation_time": "20081010T15:37:13", 
          "bug_id": "239353", 
          "creator_id": "214683", 
          "time": "20081010T15:37:13", 
          "id": "1893632", 
          "is_private": "False"
        }, 
        {
          "count": "17", 
          "creator": "james.antill@redhat.com", 
          "text": " So a couple of questions:\n\n1. Given that we have 5.2.z channels ... why doesn't ''yum list updates'' do what you want, when subscribed to the right channel?\n\n2. If you have package Foo, that has foo-1.1 in 5.0, foo-1.2 in 5.0.1 (due to a security update), foo-1.3 (due to feature requests) in 5.1. It's _very_ possible that a customer will want to install 5.1/5.2 ... but only have foo-1.1 installed.\n\n...also there's no way for yum to know what ''point'' release we are on, atm. ... we'd have to parse out the second digit from the redhat-release package.\n And, as notting says, there's no information from RHN about what point release(s) a package is for.\n\n This is normally done via. what repos/channels you are subscribed to, why isn't that enough?", 
          "author": "james.antill@redhat.com", 
          "creation_time": "20081010T15:48:52", 
          "bug_id": "239353", 
          "creator_id": "73713", 
          "time": "20081010T15:48:52", 
          "id": "1893649", 
          "is_private": "False"
        }, 
        {
          "count": "18", 
          "creator": "kgraham@valueclick.com", 
          "text": "re comment 17 --\n\n#1 -- the common case would be that package isn't being installed via yum and perhaps came from media, direct download from RHN, local stash, etc. This would be an install of a previously uninstalled package, this is not an update.;\n\n#2 -- Hardly. The user w/ those specific requirements isn't interested in running 5.1/5.2, clearly they're dealing with a rigid environment that has only approved the package set included in 5.0.1. Alternatively they have encountered a regression between foo-1.3 foo-1.2 and there is a support case warranted.\n\n#2a -- If that case is generally honored, then Redhat needs to inform 3rd party software that ''requires RH5.2 or later'' means little more than redhat-release for 5.2 has been installed and that there is no guarantee that any other package has been incorporated from that release.\n\nWith regard to your follow-on, this is exactly why this was entered as a request against redhat-release, -not- yum. If redhat-release enumerates itself as 'incompatible' with release-bundled packages whose version is < than the version shipped w/ that release, then the user will get a graceful error. This actually gives a guarantee and meaning to an upgraded redhat-release; namely, it addresses two cases:\n\n   1) The redhat-release package won't be upgradable (as a result of RPM) to 5.2 until all packages bundled w/ 5.2 are >= the version that shipped w/ that release. This is a feature. Presently, letting a redhat-release package slip into a yum repo used for updates makes it immediately irrelevant (as it will be updated irrespective of the state of installed packages).\n   2) Once redhat-release _has_ been upgraded, a user who attempts to install a package whose verion pre-dates one that was bundled w/ that release will get an error that 'foo version < 1.3 is incompatible with redhat-release version 5.2'. This will give them the opportunity to either:\n      1) realize that they have an old version of foo that probably isn't what\n         they indended\n      2) downgrade redhat-release\n      3) throw caution to the wind and --force away", 
          "author": "kgraham@valueclick.com", 
          "creation_time": "20081010T16:15:52", 
          "bug_id": "239353", 
          "creator_id": "210576", 
          "time": "20081010T16:15:52", 
          "id": "1893733", 
          "is_private": "False"
        }, 
        {
          "count": "19", 
          "creator": "svidal@redhat.com", 
          "text": "A couple more things about this:\n1. yum list extras\n    List the packages installed on the system that are not available\n              in any yum repository listed in the config file.\n2. yum list updates; yum list obsoletes\n    tells you if you're not current vs what your repos have.\n\nIs that a good place to start for auditing installed pkgs?", 
          "author": "svidal@redhat.com", 
          "creation_time": "20081114T19:59:02", 
          "bug_id": "239353", 
          "creator_id": "214683", 
          "time": "20081114T19:59:02", 
          "id": "1936910", 
          "is_private": "False"
        }, 
        {
          "count": "20", 
          "creator": "james.antill@redhat.com", 
          "text": "> Hardly. The user w/ those specific requirements isn't interested in\n> running 5.1/5.2, clearly they're dealing with a rigid environment that has \n> only approved the package set included in 5.0.1\n\n There are generally two sets of customers I see:\n\n1. Runs ''yum update -y'', whatever RH/CentOS releases, is assumed good. Might also do that but are on specific channels like 5.1.z instead of just 5.y.\n\n2. Does an install, and then only updates specific packages for specific problems. Might also have less red tape for security updates.\n\n...which is why this BZ confuses me, I don't see the usecase for being on 5.y and wanting just 5.2 ... instead of just being on 5.2.z.\n\n> If that case is generally honored, then Redhat needs to inform 3rd party\n> software that ''requires RH5.2 or later''\n\n Ok, this seems interesting ... so you're saying that really the feature required is: ISV FOO wants to create a package which can only be installed on at least ''RHEL-5.2'', without specifically listing their requiring packages with >= the 5.1 release version?\n Then, yeh, maybe having the redhat-release file conflict with the older versions of everything that got updated is the ''best'' way to go ... but the feedback the user will see isn't going to be optimal.", 
          "author": "james.antill@redhat.com", 
          "creation_time": "20081114T20:41:15", 
          "bug_id": "239353", 
          "creator_id": "73713", 
          "time": "20081114T20:41:15", 
          "id": "1936971", 
          "is_private": "False"
        }, 
        {
          "count": "21", 
          "creator": "james.brown@redhat.com", 
          "text": "Adding GSS_6_0_proposed\n\n- James", 
          "author": "james.brown@redhat.com", 
          "creation_time": "20090728T12:36:29", 
          "bug_id": "239353", 
          "creator_id": "215672", 
          "time": "20090728T12:36:29", 
          "id": "2292862", 
          "is_private": "True"
        }, 
        {
          "count": "22", 
          "creator": "dgregor@redhat.com", 
          "text": "To summarize, there are two different proposals here:\n\n1) modify the redhat-release package to Conflict all packages with versions less than what's in the current release.  So, redhat-release in RHEL 6.0 would Conflicts: <name> < <version>-<release> for every <name>-<version>-<release> in the 6.0 tree.\n  Pros/Cons\n    * ensure that if redhat-release is at a particular release, then every other RHEL package is at that release or greater.\n    * redhat-release package would need to get respun whenever a tree is composed\n    * This ''hard'' approach would prevent customers from selectively downgrading individual packages.\n    * This may break respins of the tree\n    * This doesn't tell the customer exactly how the installed package compares to the product.  It just tells them that they're at a minimum level of installation.\n\n2) provide a mechanism, either through an existing tool such as yum or through a new tool, that compares the installed package set against the package set in the product version and reports any differences\n  Pros/Cons\n    * development effort is required\n    * unclear how the tool would get the package list\n    * more flexible than the redhat-release approach\n    * doesn't prevent the customer from downgrading packages\n\nPersonally, I feel that the redhat-release approach is a hack and would be very ugly to maintain.  However, I am interested to hear how GSS and PM feel.  If we proceed with option #2, do we have the engineering resources available?", 
          "author": "dgregor@redhat.com", 
          "creation_time": "20091105T18:28:12", 
          "bug_id": "239353", 
          "creator_id": "96230", 
          "time": "20091105T18:28:12", 
          "id": "2440439", 
          "is_private": "True"
        }, 
        {
          "count": "23", 
          "creator": "sghosh@redhat.com", 
          "text": "I am moving this to a distribution BZ for now. It may come back to redhat-release.\n\nHistorically, redhat-release has been updated via yum update/up2date as part of maintaining a system in sync with the latest errata. No package dependencies have ever existed  for redhat-release on the vast majority of components.\n\nRHEL minor releases were treated as aggregation points in a stream of updates during a lifecyle, although each errata in the update is relatively independent.\n\nRather than overloading the rpm dependencies to provide aggregation information, I would like to suggest a text file containing the minor release manifest and script to check the installed NVR vs the selected manifest.", 
          "author": "sghosh@redhat.com", 
          "creation_time": "20100114T22:46:38", 
          "bug_id": "239353", 
          "creator_id": "193221", 
          "time": "20100114T22:46:38", 
          "id": "2589622", 
          "is_private": "False"
        }, 
        {
          "count": "24", 
          "creator": "cperry@redhat.com", 
          "text": "Minor note - within Spacewalk we have a script which takes each released Enterprise Linux set of packages and allows our users to clone/create custom channels based on installation media set of contents:\n\nhttp://git.fedorahosted.org/git/?p=spacewalk.git;a=tree;f=scripts/channel-to-update-level\n\n(data within data dir, above link is to the scripts we provide).\n\nEarlier in this bug it was talked about providing a script/audit tool. I feel this may be appropriate, if maybe the redhat-release shipped a file which contained the manifest of packages for that version and then an audit tool is executed which does a glorified diff between the rpm DB and the redhat-release provided data and report back on installed packages those which are older, newer, exact. \n\nPeople can then choose to either resolve differences or take no action. \n\njust an idea. \n\nCliff", 
          "author": "cperry@redhat.com", 
          "creation_time": "20100302T13:46:39", 
          "bug_id": "239353", 
          "creator_id": "160277", 
          "time": "20100302T13:46:39", 
          "id": "2688047", 
          "is_private": "False"
        }, 
        {
          "count": "25", 
          "creator": "tao@redhat.com", 
          "text": "Event posted on 04-01-2010 07:10am EDT by AutoCloser\n\nThere have been no updates to this issue in the past 28 days. This issue\nwill now be closed due to inactivity. If this is in error, please reopen\nthe issue and check to make sure that it is current and in the proper\nstatus. If the issue is something which is on a longer timeline than a\nmonth, please change the status to one of the long term selections to\navoid closure due to inactivity.\nThis event sent from IssueTracker by AutoCloser  [ValueClick]\n issue 88813", 
          "author": "tao@redhat.com", 
          "creation_time": "20100401T11:11:34", 
          "bug_id": "239353", 
          "creator_id": "80926", 
          "time": "20100401T11:11:34", 
          "id": "2753768", 
          "is_private": "True"
        }, 
        {
          "count": "26", 
          "creator": "dgregor@redhat.com", 
          "text": "Adding a comment so that the bug doesn't get closed.", 
          "author": "dgregor@redhat.com", 
          "creation_time": "20100401T13:38:51", 
          "bug_id": "239353", 
          "creator_id": "96230", 
          "time": "20100401T13:38:51", 
          "id": "2754039", 
          "is_private": "True"
        }, 
        {
          "count": "27", 
          "creator": "ahecox@redhat.com", 
          "text": "(I'm cc'd on 2k+ bugs, doing a one-time mass-removal so I see the ones I should)", 
          "author": "ahecox@redhat.com", 
          "creation_time": "20100714T00:27:09", 
          "bug_id": "239353", 
          "creator_id": "261507", 
          "time": "20100714T00:27:09", 
          "id": "3002639", 
          "is_private": "True"
        }, 
        {
          "count": "28", 
          "creator": "pm-rhel@redhat.com", 
          "text": "This request was evaluated by Red Hat Product Management for\ninclusion in the current release of Red Hat Enterprise Linux.\nBecause the affected component is not scheduled to be updated\nin the current release, Red Hat is unfortunately unable to\naddress this request at this time. Red Hat invites you to\nask your support representative to propose this request, if\nappropriate and relevant, in the next release of Red Hat\nEnterprise Linux. If you would like it considered as an\nexception in the current release, please ask your support\nrepresentative.", 
          "author": "pm-rhel@redhat.com", 
          "creation_time": "20110705T23:55:26", 
          "bug_id": "239353", 
          "creator_id": "193983", 
          "time": "20110705T23:55:26", 
          "id": "3867088", 
          "is_private": "False"
        }, 
        {
          "count": "29", 
          "creator": "pm-rhel@redhat.com", 
          "text": "Since this bug report was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.", 
          "author": "pm-rhel@redhat.com", 
          "creation_time": "20121213T18:53:05", 
          "bug_id": "239353", 
          "creator_id": "193983", 
          "time": "20121213T18:53:05", 
          "id": "5285915", 
          "is_private": "True"
        }, 
        {
          "count": "30", 
          "creator": "notting@redhat.com", 
          "text": "No one has designed or scoped this, and no one is assigned to. Setting CondNAK.\n\nArguably it should be in RHEL RFE, but this predates that, and has an external filer.", 
          "author": "notting@redhat.com", 
          "creation_time": "20130621T20:45:01", 
          "bug_id": "239353", 
          "creator_id": "4", 
          "time": "20130621T20:45:01", 
          "id": "6034005", 
          "is_private": "True"
        }
      ], 
      "cf_show_homepage": "---", 
      "platform": "All", 
      "version": [
        "7.0"
      ], 
      "cc": [
        "borgan@redhat.com", 
        "cperry@redhat.com", 
        "ddumas@redhat.com", 
        "dgregor@redhat.com", 
        "dmach@redhat.com", 
        "gavin@redhat.com", 
        "james.brown@redhat.com", 
        "mikem@redhat.com", 
        "ndoane@redhat.com", 
        "riek@redhat.com", 
        "rvokal@redhat.com", 
        "snagar@redhat.com", 
        "tao@redhat.com", 
        "tcallawa@redhat.com"
      ], 
      "cf_verified": [], 
      "cf_cust_facing": "No", 
      "cf_environment": "", 
      "status": "ASSIGNED", 
      "classification": "Red Hat", 
      "cf_verified_branch": "", 
      "blocks": [
        "391521"
      ], 
      "qa_contact": "nobody@redhat.com", 
      "tags": [], 
      "see_also": [], 
      "component": [
        "distribution"
      ], 
      "remaining_time": "0.0", 
      "sub_components": {}, 
      "cf_pgm_internal": "", 
      "cf_doc_type": "Enhancement", 
      "cf_clone_of": "0", 
      "groups": [], 
      "cf_documentation_action": "---", 
      "cf_internal_whiteboard": "", 
      "target_milestone": "rc", 
      "cf_devel_whiteboard": "", 
      "is_cc_accessible": "True", 
      "cf_type": "---", 
      "cf_category": "---", 
      "url": "", 
      "cf_build_id": "", 
      "whiteboard": "", 
      "cf_crm": "", 
      "summary": "include tool for auditing packages against the release set", 
      "alias": [], 
      "op_sys": "Linux", 
      "flags": [
        {
          "status": "?", 
          "name": "rhel-7.0.0", 
          "modification_date": "20121213T18:53:02", 
          "type_id": "245", 
          "is_active": "1", 
          "creation_date": "20121213T18:53:02", 
          "id": "1215029", 
          "setter": "pm-rhel@redhat.com"
        }, 
        {
          "status": "?", 
          "name": "pm_ack", 
          "modification_date": "20080716T18:19:37", 
          "type_id": "11", 
          "is_active": "1", 
          "creation_date": "20080716T18:19:37", 
          "id": "386508", 
          "setter": "pm-rhel@redhat.com"
        }, 
        {
          "status": "?", 
          "name": "devel_ack", 
          "modification_date": "20090911T17:13:52", 
          "type_id": "10", 
          "is_active": "1", 
          "creation_date": "20090911T17:13:52", 
          "id": "499611", 
          "setter": "bugzilla@redhat.com"
        }, 
        {
          "status": "?", 
          "name": "qa_ack", 
          "modification_date": "20121213T22:08:55", 
          "type_id": "9", 
          "is_active": "1", 
          "creation_date": "20121213T22:08:55", 
          "id": "1218070", 
          "setter": "pm-rhel@redhat.com"
        }
      ], 
      "last_change_time": "20140317T03:36:55", 
      "assigned_to": "pm-rhel@redhat.com", 
      "update_token": "1403539482-4LXuEiVnsG1dDvqXO4CJl4zto_UPDlSUX0NDvyhOiRo", 
      "cf_partner": [], 
      "cf_last_closed": "20070716T22:31:24", 
      "resolution": "", 
      "cf_mount_type": "---", 
      "cf_layered_products": []
    }, 
    {
      "cf_qe_conditional_nak": [], 
      "classification": "Red Hat", 
      "cf_pm_score": "100", 
      "estimated_time": "0.0", 
      "depends_on": [
        "1079434", 
        "832482", 
        "1009508"
      ], 
      "cf_story_points": "---", 
      "cf_conditional_nak": [
        "Design"
      ], 
      "creation_time": "20080929T09:51:00", 
      "actual_time": "0.0", 
      "docs_contact": "", 
      "is_open": "True", 
      "keywords": [
        "FutureFeature"
      ], 
      "summary": "SAP 7.0: Configurable Quota for Linux File system cache", 
      "external_bugs": [
        {
          "ext_status": "Closed", 
          "ext_bz_bug_id": "00686498", 
          "bug_id": "464463", 
          "ext_description": "[FEAT] Redhat v5 with Address Space Layout Randomization (ASLR) and Oracle", 
          "ext_priority": "2 (High)", 
          "ext_bz_id": "60", 
          "type": {
            "must_send": "True", 
            "description": "Red Hat Customer Portal", 
            "url": "https://access.redhat.com", 
            "can_get": "True", 
            "id": "60", 
            "can_send": "True", 
            "send_once": "True", 
            "type": "SFDC", 
            "full_url": "https://access.redhat.com/support/cases/%id%"
          }, 
          "id": "76142"
        }, 
        {
          "ext_status": "None", 
          "ext_bz_bug_id": "32769", 
          "bug_id": "464463", 
          "ext_description": "None", 
          "ext_priority": "None", 
          "ext_bz_id": "72", 
          "type": {
            "must_send": "False", 
            "description": "Red Hat Knowledge Base (Solution)", 
            "url": "https://access.redhat.com/site/", 
            "can_get": "False", 
            "id": "72", 
            "can_send": "False", 
            "send_once": "False", 
            "type": "None", 
            "full_url": "https://access.redhat.com/site/solutions/%id%"
          }, 
          "id": "134032"
        }, 
        {
          "ext_status": "Waiting on Red Hat", 
          "ext_bz_bug_id": "00818225", 
          "bug_id": "464463", 
          "ext_description": "Page Cache Limits for SAP server", 
          "ext_priority": "3 (Normal)", 
          "ext_bz_id": "60", 
          "type": {
            "must_send": "True", 
            "description": "Red Hat Customer Portal", 
            "url": "https://access.redhat.com", 
            "can_get": "True", 
            "id": "60", 
            "can_send": "True", 
            "send_once": "True", 
            "type": "SFDC", 
            "full_url": "https://access.redhat.com/support/cases/%id%"
          }, 
          "id": "102807"
        }, 
        {
          "ext_status": "Closed", 
          "ext_bz_bug_id": "01002788", 
          "bug_id": "464463", 
          "ext_description": "Swap utilization issue", 
          "ext_priority": "3 (Normal)", 
          "ext_bz_id": "60", 
          "type": {
            "must_send": "True", 
            "description": "Red Hat Customer Portal", 
            "url": "https://access.redhat.com", 
            "can_get": "True", 
            "id": "60", 
            "can_send": "True", 
            "send_once": "True", 
            "type": "SFDC", 
            "full_url": "https://access.redhat.com/support/cases/%id%"
          }, 
          "id": "137686"
        }, 
        {
          "ext_status": "Closed", 
          "ext_bz_bug_id": "00583772", 
          "bug_id": "464463", 
          "ext_description": "Plaining to pass some kernel paramaters.. Just want to confirm ?", 
          "ext_priority": "3 (Normal)", 
          "ext_bz_id": "60", 
          "type": {
            "must_send": "True", 
            "description": "Red Hat Customer Portal", 
            "url": "https://access.redhat.com", 
            "can_get": "True", 
            "id": "60", 
            "can_send": "True", 
            "send_once": "True", 
            "type": "SFDC", 
            "full_url": "https://access.redhat.com/support/cases/%id%"
          }, 
          "id": "72411"
        }, 
        {
          "ext_status": "Waiting on Red Hat", 
          "ext_bz_bug_id": "01057248", 
          "bug_id": "464463", 
          "ext_description": "[RFE] Implement Configurable quota for page cache limits in RHEL6", 
          "ext_priority": "3 (Normal)", 
          "ext_bz_id": "60", 
          "type": {
            "must_send": "True", 
            "description": "Red Hat Customer Portal", 
            "url": "https://access.redhat.com", 
            "can_get": "True", 
            "id": "60", 
            "can_send": "True", 
            "send_once": "True", 
            "type": "SFDC", 
            "full_url": "https://access.redhat.com/support/cases/%id%"
          }, 
          "id": "148965"
        }
      ], 
      "id": "464463", 
      "cf_release_notes": "", 
      "priority": "high", 
      "severity": "high", 
      "is_confirmed": "True", 
      "is_creator_accessible": "True", 
      "cf_fixed_in": "", 
      "creator": "hannes.kuehnemund@sap.com", 
      "comments": [
        {
          "count": "0", 
          "creator": "hannes.kuehnemund@sap.com", 
          "text": "Description:\n\nOn Linux there is no possibility to view or configure the file system cache parameters like on other Unix platforms (e.g. AIX). This page may give you an overview of what AIX provides\n\nhttp://stix.id.au/wiki/Tuning_the_AIX_file_caches\n\nUsecase:\n\nHaving I/O / Swapping Performance problems it is very useful if there is a way to tune the file system cache options (e.g. to save additional memory for application usage). The vm.swappiness parameter only provides a very rudimentary control instance for the file system cache. Also, this parameter brought us lots of problems as it is only one single setting. There is no possibility to see in detail what the kernel s doing in particular with the file system cache. Hiding the details may be nice for a desktop distribution, but having servers with > 64GB of memory, running several TB databases, you need to know exactly what the kernel is doing with the file system cache to tune your application and much more important, being able to perform something like a root cause analysis of the system. Having a black box file system cache does not allow such kind of analysis and leaves a solution finding on a level of ''guessing whats wrong''. We had several customer incidents which we weren't able to resolve in a reasonable time frame because of some kind of ping pong back and forth as no one was able to look into the file system cache.\n\nBesides, x86_64 systems grow bigger and bigger by time, so Linux is pushed into use cases where AIX or HP-UX are very convenient to work with. Therefore we ask you to implement such common UNIX features into Linux. Having machines with 4GB of memory, Yes, there may be no need to have such a detailed file system cache information, but on > 64GB machines, it is essential to have these UNIX features.\n\nThe Link above does provide tuning tipps on the file system cache, but in general it also shows in general what should be available. In addition, detailed file system cache overview on application basis (e.g. processes or threads) is also very desireable", 
          "author": "hannes.kuehnemund@sap.com", 
          "creation_time": "20080929T09:51:09", 
          "bug_id": "464463", 
          "creator_id": "168358", 
          "time": "20080929T09:51:09", 
          "id": "1878445", 
          "is_private": "False"
        }, 
        {
          "count": "1", 
          "creator": "notting@redhat.com", 
          "text": "CC'ing someone with VM knowledge to comment on the sanity of this.", 
          "author": "notting@redhat.com", 
          "creation_time": "20081007T19:17:44", 
          "bug_id": "464463", 
          "creator_id": "4", 
          "time": "20081007T19:17:44", 
          "id": "1889798", 
          "is_private": "True"
        }, 
        {
          "count": "2", 
          "creator": "riel@redhat.com", 
          "text": "Implementing some of these things is definately possible, especially with the split LRU code that is currently in -mm.\n\nHowever, this SAP ''request'' just points us at some AIX documentation, without describing what it is they actually want.", 
          "author": "riel@redhat.com", 
          "creation_time": "20081007T19:26:55", 
          "bug_id": "464463", 
          "creator_id": "144720", 
          "time": "20081007T19:26:55", 
          "id": "1889840", 
          "is_private": "True"
        }, 
        {
          "count": "3", 
          "creator": "rdoty@redhat.com", 
          "text": "Hannes,\n\nCan you provide some more detail on exactly what features you are requesting?\n\nWhat we believe we understand of your request seems possible, but we don't fully understand the details of exactly what you need.", 
          "author": "rdoty@redhat.com", 
          "creation_time": "20081007T20:47:52", 
          "bug_id": "464463", 
          "creator_id": "199491", 
          "time": "20081007T20:47:52", 
          "id": "1889976", 
          "is_private": "False"
        }, 
        {
          "count": "4", 
          "creator": "hannes.kuehnemund@sap.com", 
          "text": "Russ,\n\nin short the FR is about making the AIX FSC (File System Cache) features available in Linux (see Link). On top of that, having a look into the FSC of each binary or application running should also be possible (to determine, which application is causing a flooding of the FSC). \n\nDoes this shed some light on it? If not, we can discuss this later today in our call", 
          "author": "hannes.kuehnemund@sap.com", 
          "creation_time": "20081009T12:48:39", 
          "bug_id": "464463", 
          "creator_id": "168358", 
          "time": "20081009T12:48:39", 
          "id": "1891780", 
          "is_private": "False"
        }, 
        {
          "count": "5", 
          "creator": "riel@redhat.com", 
          "text": "Russ, the first bit (controlling the fraction of memory used for file system cache) is easy and will probably happen upstream.\n\nIf SAP wants to get code upstream to have a detailed look inside the filesystem cache, they'll probably have to implement that code and get it upstream themselves. How badly do they want that feature? :)", 
          "author": "riel@redhat.com", 
          "creation_time": "20081009T13:10:40", 
          "bug_id": "464463", 
          "creator_id": "144720", 
          "time": "20081009T13:10:40", 
          "id": "1891805", 
          "is_private": "True"
        }, 
        {
          "count": "6", 
          "creator": "rpacheco@redhat.com", 
          "text": "Would it make sense to have SAP talk to IBM and then, perhaps have the two of them collaborate on this?", 
          "author": "rpacheco@redhat.com", 
          "creation_time": "20081102T01:24:12", 
          "bug_id": "464463", 
          "creator_id": "182103", 
          "time": "20081102T01:24:12", 
          "id": "1919657", 
          "is_private": "True"
        }, 
        {
          "count": "7", 
          "creator": "riel@redhat.com", 
          "text": "Providing /proc/sys/vm/pagecache (like Hitachi requested in another BZ) is only a few days of work for me.  Trying to get SAP and IBM to collaborate on that will likely require much more time :)\n\nThat would give us the equivalent of minperm% and maxperm%, maybe with strict_maxperm too.  lru_file_repage is covered by /proc/sys/vm/swappiness and numperm% can be derived from /proc/meminfo\n\nThat should cover most of it.", 
          "author": "riel@redhat.com", 
          "creation_time": "20081102T18:25:51", 
          "bug_id": "464463", 
          "creator_id": "144720", 
          "time": "20081102T18:25:51", 
          "id": "1919868", 
          "is_private": "True"
        }, 
        {
          "count": "8", 
          "creator": "rwheeler@redhat.com", 
          "text": "Seems more like a Rik with a k bz request.", 
          "author": "rwheeler@redhat.com", 
          "creation_time": "20090917T15:28:40", 
          "bug_id": "464463", 
          "creator_id": "266225", 
          "time": "20090917T15:28:40", 
          "id": "2369434", 
          "is_private": "True"
        }, 
        {
          "count": "9", 
          "creator": "riel@redhat.com", 
          "text": "Larry and I discussed this bug a while ago.  We would prefer to do without this tunable, since the new split LRU VM should do the right thing automatically.\n\nIf it doesn't, and it turns out we do need the tunable, it will be easy to add later on.", 
          "author": "riel@redhat.com", 
          "creation_time": "20090917T15:35:11", 
          "bug_id": "464463", 
          "creator_id": "144720", 
          "time": "20090917T15:35:11", 
          "id": "2369448", 
          "is_private": "True"
        }, 
        {
          "count": "10", 
          "creator": "bburns@redhat.com", 
          "text": "Based on the previous comment I de-flaged this. Can this proposed solution be verified to meet the need by partner management?", 
          "author": "bburns@redhat.com", 
          "creation_time": "20091007T13:52:36", 
          "bug_id": "464463", 
          "creator_id": "225111", 
          "time": "20091007T13:52:36", 
          "id": "2396030", 
          "is_private": "True"
        }, 
        {
          "count": "11", 
          "creator": "pm-rhel@redhat.com", 
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.", 
          "author": "pm-rhel@redhat.com", 
          "creation_time": "20091007T14:04:30", 
          "bug_id": "464463", 
          "creator_id": "193983", 
          "time": "20091007T14:04:30", 
          "id": "2396057", 
          "is_private": "True"
        }, 
        {
          "count": "12", 
          "creator": "rdoty@redhat.com", 
          "text": "Please provide some information on the new split LRU VM that I can share with SAP for their feedback.", 
          "author": "rdoty@redhat.com", 
          "creation_time": "20091007T14:24:16", 
          "bug_id": "464463", 
          "creator_id": "199491", 
          "time": "20091007T14:24:16", 
          "id": "2396123", 
          "is_private": "True"
        }, 
        {
          "count": "13", 
          "creator": "riel@redhat.com", 
          "text": "Russell, \n\nhttp://lwn.net/Articles/286472/\n\nhttp://linux-mm.org/PageReplacementDesign  (note that the non-resident bits have not been implemented since they do not appear to be necessary)", 
          "author": "riel@redhat.com", 
          "creation_time": "20091007T15:28:40", 
          "bug_id": "464463", 
          "creator_id": "144720", 
          "time": "20091007T15:28:40", 
          "id": "2396311", 
          "is_private": "True"
        }, 
        {
          "count": "14", 
          "creator": "bburns@redhat.com", 
          "text": "While we wait to see if the split lru meets the need, put a conditional NAK design on this. If there is more work needed, we will re-evaluate then.", 
          "author": "bburns@redhat.com", 
          "creation_time": "20091008T11:45:12", 
          "bug_id": "464463", 
          "creator_id": "225111", 
          "time": "20091008T11:45:12", 
          "id": "2397662", 
          "is_private": "True"
        }, 
        {
          "count": "15", 
          "creator": "rdoty@redhat.com", 
          "text": "SAP:\n\nWe believe that the new split LRU VM work will handle this case automatically, without the need for manual tuning.\n\nInformation on split LRU VM is available at:\n\nhttp://lwn.net/Articles/286472/\n\nhttp://linux-mm.org/PageReplacementDesign  (note that the non-resident bits\nhave not been implemented since they do not appear to be necessary)  \n\nWe are interested in your feedback.", 
          "author": "rdoty@redhat.com", 
          "creation_time": "20100107T22:55:22", 
          "bug_id": "464463", 
          "creator_id": "199491", 
          "time": "20100107T22:55:22", 
          "id": "2573249", 
          "is_private": "False"
        }, 
        {
          "count": "16", 
          "creator": "rdoty@redhat.com", 
          "text": "As this is not an approved RHEL 6.0 BZ, moving to 6.1. \n\nSAP, please provide the feedback requested in comment 15.", 
          "author": "rdoty@redhat.com", 
          "creation_time": "20100112T14:30:56", 
          "bug_id": "464463", 
          "creator_id": "199491", 
          "time": "20100112T14:30:56", 
          "id": "2582463", 
          "is_private": "False"
        }, 
        {
          "count": "17", 
          "attachment_id": "387032", 
          "author": "fdanapfe@redhat.com", 
          "text": "Created attachment 387032\nDemonstration programm\n\nSAP has provided a little test programm to show the issues they are seeing now on systems with large amounts of RAM.\n\nI ran the program on a RHEL 6 alpha2 system (kernel 2.6.29.4-1.el6.x86_64) with 8GB RAM and different amounts of swap. Here are some results:\n\n(vm.swappiness was always set to the default value of 60)\n\n2GB swap:\n=========\n# free\n             total       used       free     shared    buffers     cached\nMem:       8047016     203692    7843324          0      29752      89748\n-/+ buffers/cache:      84192    7962824                                 \nSwap:      2097144          0    2097144                                 \n\n# ./shmexample 8192                                       \nCreating shared memory segment of 8192 MB (8.00 GB)                      \ninitializing memory                                                      \n\nstarting measurement #1 (how long does initial memset of shm takes?)\ntime elapsed #1 = 51 seconds                                        \n\nGenerating some disk-io by writing random data to file /tmp/deleteme (max filesize = 200 MB)\nwritten: 97 % (8000MB of 8192MB)                                                            \ntime to write file: 41 seconds                                                              \n\nstarting measurement #2 (memset the shm memory again with different value)\ntime elapsed #2 = 45 seconds                                              \n\ntotal time until everything finished = 142 seconds\n\n16GB swap:\n==========\n# free\n             total       used       free     shared    buffers     cached\nMem:       8047016     198344    7848672          0       1556      91896\n-/+ buffers/cache:     104892    7942124\nSwap:     16777208          0   16777208\n\n# ./shmexample 8192\nCreating shared memory segment of 8192 MB (8.00 GB)\ninitializing memory\n\nstarting measurement #1 (how long does initial memset of shm takes?)\ntime elapsed #1 = 86 seconds\n\nGenerating some disk-io by writing random data to file /tmp/deleteme (max filesize = 200 MB)\nwritten: 97 % (8000MB of 8192MB)\ntime to write file: 33 seconds\n\nstarting measurement #2 (memset the shm memory again with different value)\ntime elapsed #2 = 66 seconds\n\ntotal time until everything finished = 186 seconds\n\nAs you can see with a larger amount of swap configured the time to run the programm noticeable increases. Changing vm.swappiness to a lower value helps somewhat. On systems with larger amounts of RAM (64GB) the effects are even more visible.\n\nHelge Deller from the SAP LinuxLab has suggested to set up a telephone conference with a kernel developer from Red Hat and somebody from Novell/SuSE (they are having the same issues on SLES) to discuss those issues. Would this be possible?", 
          "creator": "fdanapfe@redhat.com", 
          "creation_time": "20100127T11:01:14", 
          "bug_id": "464463", 
          "creator_id": "281779", 
          "time": "20100127T11:01:14", 
          "id": "2612606", 
          "is_private": "False"
        }, 
        {
          "count": "18", 
          "creator": "helge.deller@sap.com", 
          "text": "Russ,\nI've read the articles in comment #15 and I'm pretty sure that those articles describes the problems we see.\nInteresting was the linked page:\nhttp://linux-mm.org/ProblemWorkloads\nHere we see some scenarios like we have (database running, a workload (SAP) running, backup in the background triggers long unresponsiveness of system).\nMy testcase (see attachment) simulates our behaviour.\n\nSo, how to proceed?\nI think Rik's patches might be able to solve the issues, but of course since we can't test them I can't definitivly say if they really solves them.\n\nMaybe RH can provide us with a test kernel which includes those patches? With the testcase from us you may even test yourself it it solves the issues.", 
          "author": "helge.deller@sap.com", 
          "creation_time": "20100127T11:54:19", 
          "bug_id": "464463", 
          "creator_id": "178627", 
          "time": "20100127T11:54:19", 
          "id": "2612687", 
          "is_private": "False"
        }, 
        {
          "count": "19", 
          "creator": "riel@redhat.com", 
          "text": "The behaviour observed in 2.6.29 is caused by a simple bug, not a design limitation.  This changeset (in 2.6.32-stable and 2.6.33, as well as the current RHEL 6 kernel tree) should fix the issue:\n\nhttp://gitorious.org/usb/usb/commit/b39415b2731d7dec5e612d2d12595da82399eedf.patch\n\nPlease let me know if you still see the problem with that changeset and the other recent vmscan.c fixes. The easiest way would be to test with the current 2.6.32 -stable kernel.", 
          "author": "riel@redhat.com", 
          "creation_time": "20100204T22:53:02", 
          "bug_id": "464463", 
          "creator_id": "144720", 
          "time": "20100204T22:53:02", 
          "id": "2630802", 
          "is_private": "False"
        }, 
        {
          "count": "20", 
          "creator": "fdanapfe@redhat.com", 
          "text": "Here are some test results from running the ''shmexample'' test program from SAP on machines with kernel 2.6.32-14.el6.x86_64 (with the RHEL6.0-20100203.3 tree):\n\nMachine with 8 GB RAM, 16GB swap:\n=================================\n# free -m\n             total       used       free     shared    buffers     cached\nMem:          7938        257       7680          0          2          9\n-/+ buffers/cache:        246       7691\nSwap:        16383          0      16383\n\n# ./shmexample 7938\nCreating shared memory segment of 7938 MB (7.75 GB)\ninitializing memory\n\nstarting measurement #1 (how long does initial memset of shm takes?)\ntime elapsed #1 = 42 seconds\n\nGenerating some disk-io by writing random data to file /tmp/deleteme (max filesize = 200 MB)\nwritten: 98 % (7800MB of 7938MB)\ntime to write file: 32 seconds\n\nstarting measurement #2 (memset the shm memory again with different value)\ntime elapsed #2 = 38 seconds\n\ntotal time until everything finished = 112 seconds\n\n\nMachine with 16 GB RAM, 32GB swap:\n=================================\n#  free\n             total       used       free     shared    buffers     cached\nMem:      16463964    1221256   15242708          0      84824     617296\n-/+ buffers/cache:     519136   15944828\nSwap:     33554424          0   33554424\n\n# ./shmexample 16078\nCreating shared memory segment of 16078 MB (15.70 GB)\ninitializing memory\n\nstarting measurement #1 (how long does initial memset of shm takes?)\ntime elapsed #1 = 70 seconds\n\nGenerating some disk-io by writing random data to file /tmp/deleteme (max filesize = 200 MB)\nwritten: 99 % (16000MB of 16078MB)\ntime to write file: 22 seconds\n\nstarting measurement #2 (memset the shm memory again with different value)\ntime elapsed #2 = 199 seconds\n\ntotal time until everything finished = 305 seconds\n\nThe patch in the 2.6.32 kernel has definitely improved the situation, but there is still the issue that with larger swap sizes the time to execute the test program increases significantly.", 
          "author": "fdanapfe@redhat.com", 
          "creation_time": "20100209T15:41:26", 
          "bug_id": "464463", 
          "creator_id": "281779", 
          "time": "20100209T15:41:26", 
          "id": "2638608", 
          "is_private": "False"
        }, 
        {
          "count": "21", 
          "creator": "fdanapfe@redhat.com", 
          "text": "Sorry, forgot to post the results from tests with different swap sizes in the last comment:\n\n8GB RAM, 2GB swap:\n==================\n# free -m\n             total       used       free     shared    buffers     cached\nMem:          7938        344       7593          0          3        106\n-/+ buffers/cache:        234       7703\nSwap:         2047          0       2047\n\n# ./shmexample 7938\nCreating shared memory segment of 7938 MB (7.75 GB)\ninitializing memory\n\nstarting measurement #1 (how long does initial memset of shm takes?)\ntime elapsed #1 = 35 seconds\n\nGenerating some disk-io by writing random data to file /tmp/deleteme (max filesize = 200 MB)\nwritten: 98 % (7800MB of 7938MB)\ntime to write file: 20 seconds\n\nstarting measurement #2 (memset the shm memory again with different value)\ntime elapsed #2 = 31 seconds\n\ntotal time until everything finished = 86 seconds\n\n8 GB RAM, 8GB swap:\n===================\n# free -m\n             total       used       free     shared    buffers     cached\nMem:          7938        217       7720          0          1          5\n-/+ buffers/cache:        210       7727\nSwap:         8191         29       8162\n\n# ./shmexample 7938\nCreating shared memory segment of 7938 MB (7.75 GB)\ninitializing memory\n\nstarting measurement #1 (how long does initial memset of shm takes?)\ntime elapsed #1 = 37 seconds\n\nGenerating some disk-io by writing random data to file /tmp/deleteme (max filesize = 200 MB)\nwritten: 98 % (7800MB of 7938MB)\ntime to write file: 19 seconds\n\nstarting measurement #2 (memset the shm memory again with different value)\ntime elapsed #2 = 39 seconds\n\ntotal time until everything finished = 95 seconds", 
          "author": "fdanapfe@redhat.com", 
          "creation_time": "20100209T17:24:22", 
          "bug_id": "464463", 
          "creator_id": "281779", 
          "time": "20100209T17:24:22", 
          "id": "2638930", 
          "is_private": "False"
        }, 
        {
          "count": "22", 
          "creator": "riel@redhat.com", 
          "text": "Interesting, I had not considered that somebody would create an SHM segment as big as all of physical memory and then leave it idle while writing to a gigantic file.\n\nHow well does this represent an actual workload?\n\nThe split LRU VM has been designed to not put any pressure at all on swap-backed memory if streaming IO dominates the page cache (number of inactive file pages > number of active file pages).  However, your test case seems to just push the whole page cache out of memory...\n\nDoes the problem still occur if the test case only uses 80% (or 90%) of memory for the shared memory segment?\n\nIn a real workload, you will need to keep memory available for things like per-process stack and heap, page tables, page cache, etc. so testing with slightly more realistic shared memory segments may be useful.", 
          "author": "riel@redhat.com", 
          "creation_time": "20100309T22:11:43", 
          "bug_id": "464463", 
          "creator_id": "144720", 
          "time": "20100309T22:11:43", 
          "id": "2703187", 
          "is_private": "False"
        }, 
        {
          "count": "23", 
          "creator": "helge.deller@sap.com", 
          "text": "> Interesting, I had not considered that somebody would create an SHM segment as\nbig as all of physical memory and then leave it idle while writing to a\ngigantic file.\n> How well does this represent an actual workload?\n\nHard to believe, but it is a real workload :-)\n''SAP Netweaver'' Software acts exactly like the testcase simulates.\nJust as a side-note: If you look at Oracle databases, they just work-around/avoid the Linux swapping problems by using large/huge memory pages. Since those pages aren't swapped out, they do not have the problem.\n\nSo, it's an actual problem and the testcase simulates a real-world application.\n\n> Does the problem still occur if the test case only uses 80% (or 90%) of memory\nfor the shared memory segment?\n\nIn principle the problem still exists.\nThe testcases was designed to show the problem. So, I allocated 95% of the memory and only wrote 200MB to a file. But this is changeable in the code.\nIn the real world of an SAP application server, SAP will maybe only allocate 80% of the memory. But in this case much more disk-I/O will happen, and as such you will still run into the problem.\n\n> In a real workload, you will need to keep memory available for things like\nper-process stack and heap, page tables, page cache, etc. so testing with\nslightly more realistic shared memory segments may be useful.    \n\nMaybe yes, but this does not apply to SAP application servers. In the SAP-case you mostly only run SAP (it consists of 2 parts: One is a ABAP/interpreter runtime, the other is a J2EE-server) and optionally a database on one server.\nWhat really triggers the performance-dropdown for SAP (due to the Linux swapping) are tools running in addition on such a server. Most noteably is e.g. a backup tool, which does lots of disk-IO and as such triggers the swapping.\n\nSo, if you somehow can optimize the kernel for a usage as in the testcase, we will happily test again with our real-world application ''SAP Netweaver''.", 
          "author": "helge.deller@sap.com", 
          "creation_time": "20100311T20:37:50", 
          "bug_id": "464463", 
          "creator_id": "178627", 
          "time": "20100311T20:37:50", 
          "id": "2708434", 
          "is_private": "False"
        }, 
        {
          "count": "24", 
          "creator": "riel@redhat.com", 
          "text": "Helge,\n\nthe split VM has protections built in so streaming IO should not lead to data from the working set getting evicted.  However, to effectively trigger those protections, you need to have some more realistic amount of page cache left in the system.\n\nEg. on the 8GB system, I suspect that the right thing would happen automatically if you allocated only 7GB SHM segment, and wrote a 2GB file.\n\nI believe that will be much more realistic than the 100% allocation you did.\n\nIn fact, with the 100% allocation, I suspect you would also see a slowdown in the second run touching the memory _without_ doing disk IO in between.  There simply is not enough memory in the system to fit 100% shared memory segment, as well as the rest of the test program and other programs in the system.", 
          "author": "riel@redhat.com", 
          "creation_time": "20100311T20:59:18", 
          "bug_id": "464463", 
          "creator_id": "144720", 
          "time": "20100311T20:59:18", 
          "id": "2708476", 
          "is_private": "False"
        }, 
        {
          "count": "25", 
          "creator": "rdoty@redhat.com", 
          "text": "From an email from Hannes Kuehnemund of SAP:\n\nHi Russ,\nHi Frank,\n\nregarding the page cache enablement in RHEL6.x, have a look a this\nthread in the SAP on Linux SDN forum. There, Novell and customers\ndiscuss this topics. Maybe this is useful for you and your developers as\nwell:\n\nhttp://forums.sdn.sap.com/thread.jspa?threadID=857121&tstart=0\n\nThanks,\n  Hannes", 
          "author": "rdoty@redhat.com", 
          "creation_time": "20100526T18:30:57", 
          "bug_id": "464463", 
          "creator_id": "199491", 
          "time": "20100526T18:30:57", 
          "id": "2879828", 
          "is_private": "False"
        }, 
        {
          "count": "26", 
          "creator": "pm-rhel@redhat.com", 
          "text": "This request was evaluated by Red Hat Product Management for\ninclusion in the current release of Red Hat Enterprise Linux.\nBecause the affected component is not scheduled to be updated\nin the current release, Red Hat is unfortunately unable to\naddress this request at this time. Red Hat invites you to\nask your support representative to propose this request, if\nappropriate and relevant, in the next release of Red Hat\nEnterprise Linux. If you would like it considered as an\nexception in the current release, please ask your support\nrepresentative.", 
          "author": "pm-rhel@redhat.com", 
          "creation_time": "20110107T03:59:50", 
          "bug_id": "464463", 
          "creator_id": "193983", 
          "time": "20110107T03:59:50", 
          "id": "3459370", 
          "is_private": "False"
        }, 
        {
          "count": "27", 
          "creator": "syeghiay@redhat.com", 
          "text": "This request was erroneously denied for the current release of Red Hat\nEnterprise Linux.  The error has been fixed and this request has been\nre-proposed for the current release.", 
          "author": "syeghiay@redhat.com", 
          "creation_time": "20110107T16:04:09", 
          "bug_id": "464463", 
          "creator_id": "193262", 
          "time": "20110107T16:04:09", 
          "id": "3461256", 
          "is_private": "False"
        }, 
        {
          "count": "28", 
          "creator": "pm-rhel@redhat.com", 
          "text": "This request was evaluated by Red Hat Product Management for\ninclusion in the current release of Red Hat Enterprise Linux.\nBecause the affected component is not scheduled to be updated\nin the current release, Red Hat is unfortunately unable to\naddress this request at this time. Red Hat invites you to\nask your support representative to propose this request, if\nappropriate and relevant, in the next release of Red Hat\nEnterprise Linux. If you would like it considered as an\nexception in the current release, please ask your support\nrepresentative.", 
          "author": "pm-rhel@redhat.com", 
          "creation_time": "20110201T05:35:27", 
          "bug_id": "464463", 
          "creator_id": "193983", 
          "time": "20110201T05:35:27", 
          "id": "3511378", 
          "is_private": "False"
        }, 
        {
          "count": "29", 
          "creator": "pm-rhel@redhat.com", 
          "text": "This request was erroneously denied for the current release of\nRed Hat Enterprise Linux.  The error has been fixed and this\nrequest has been re-proposed for the current release.", 
          "author": "pm-rhel@redhat.com", 
          "creation_time": "20110201T18:10:16", 
          "bug_id": "464463", 
          "creator_id": "193983", 
          "time": "20110201T18:10:16", 
          "id": "3513535", 
          "is_private": "False"
        }, 
        {
          "count": "30", 
          "creator": "rdoty@redhat.com", 
          "text": "Moved to 6.2. Needs to be evaluated based on testing by SAP.", 
          "author": "rdoty@redhat.com", 
          "creation_time": "20110214T01:10:49", 
          "bug_id": "464463", 
          "creator_id": "199491", 
          "time": "20110214T01:10:49", 
          "id": "3535123", 
          "is_private": "False"
        }, 
        {
          "count": "31", 
          "creator": "lwoodman@redhat.com", 
          "text": "\nJust out of curiosity, what is /proc/sys/vm/zone_reclaim_mode set to on the system experiencing this problem???  It is is set to 1 the system will reclaim form a node when it is exhausted rather than falling over to another node.  The system is setting zone_reclaim_mode to 1 on more systems now than ever since the numa ractors are larger then ever on new systems.\n\nLarry Woodman", 
          "author": "lwoodman@redhat.com", 
          "creation_time": "20110801T15:45:41", 
          "bug_id": "464463", 
          "creator_id": "84976", 
          "time": "20110801T15:45:41", 
          "id": "3927475", 
          "is_private": "False"
        }, 
        {
          "count": "32", 
          "creator": "fdanapfe@redhat.com", 
          "text": "Hi Larry,\n\n/proc/sys/vm/zone_reclaim_mode was set to 0 on all systems we ran the SAP memory tests as far as I know.\n\nPlease note that this BZ wasn't opened to fix issues on one specific system, but to find a way to improve the general performance of SAP running on RHEL.\n\nFrank", 
          "author": "fdanapfe@redhat.com", 
          "creation_time": "20110801T16:07:38", 
          "bug_id": "464463", 
          "creator_id": "281779", 
          "time": "20110801T16:07:38", 
          "id": "3927523", 
          "is_private": "False"
        }, 
        {
          "count": "33", 
          "creator": "dshaks@redhat.com", 
          "text": "\nLarry and I just finish some runs on our test bed here in Westford Ma\n\nBaseline response at 2 sizes\nfits memory\n../2.6.32-131.0.15.el6.x86_64-Run1/zm_1000\n::::::::::::::\n      16473845\n::::::::::::::\nwith 16MB file IO degrades \n../2.6.32-131.0.15.el6.x86_64-Run1/zm_16384\n::::::::::::::\n        516281\n::::::::::::::\n\nBy turning Swapoff we clearly can maintain the performance \nFits in memory\n::::::::::::::\nzm_1000\n::::::::::::::\n      15781005\n::::::::::::::\n\nWith 16MB DD running response time still OK\nzm_16384\n::::::::::::::\n      16429801\n\nThis will effect the DD performance slightly but keep SAP in memory\nIs this sufficient tuning?", 
          "author": "dshaks@redhat.com", 
          "creation_time": "20110811T18:17:04", 
          "bug_id": "464463", 
          "creator_id": "172319", 
          "time": "20110811T18:17:04", 
          "id": "3949824", 
          "is_private": "True"
        }, 
        {
          "count": "34", 
          "creator": "syeghiay@redhat.com", 
          "text": "Set pm_ack since bug is on the Kernel prioritized list for RHEL 6.3.\nPlease resolve this issue in 6.3.", 
          "author": "syeghiay@redhat.com", 
          "creation_time": "20111207T20:39:42", 
          "bug_id": "464463", 
          "creator_id": "193262", 
          "time": "20111207T20:39:42", 
          "id": "4202512", 
          "is_private": "True"
        }, 
        {
          "count": "35", 
          "creator": "riel@redhat.com", 
          "text": "There has been no progress on this bug upstream.\n\nIt may be time to move this bug to RHEL 7, and even there it may not happen if nothing happens upstream.", 
          "author": "riel@redhat.com", 
          "creation_time": "20120104T22:31:58", 
          "bug_id": "464463", 
          "creator_id": "144720", 
          "time": "20120104T22:31:58", 
          "id": "4287095", 
          "is_private": "False"
        }, 
        {
          "count": "36", 
          "creator": "fdanapfe@redhat.com", 
          "text": "Here's the patch from SUSE to implement the pagecache limitation feature in their SLES 11 kernel:\n\nhttp://kernel.opensuse.org/cgit/kernel-source/commit/?id=4ebc04e32671479f1b97a5e1a3027194e7754240", 
          "author": "fdanapfe@redhat.com", 
          "creation_time": "20120313T15:07:36", 
          "bug_id": "464463", 
          "creator_id": "281779", 
          "time": "20120313T15:07:36", 
          "id": "4513473", 
          "is_private": "True"
        }, 
        {
          "count": "37", 
          "creator": "fdanapfe@redhat.com", 
          "text": "Just saw that there is at least one other BZ requesting a page cache limitation Feature: https://bugzilla.redhat.com/show_bug.cgi?id=635712\n\n@ Larry, Rik: since SAP is still asking for this feature, it would be really helpful if we could provide a technical explanation why this feature will not be accepted upstream and therefore can't be integrated in RHEL.", 
          "author": "fdanapfe@redhat.com", 
          "creation_time": "20120912T15:30:19", 
          "bug_id": "464463", 
          "creator_id": "281779", 
          "time": "20120912T15:30:19", 
          "id": "5035281", 
          "is_private": "True"
        }, 
        {
          "count": "38", 
          "creator": "riel@redhat.com", 
          "text": "We have explained this at least half a dozen times by now.\n\nReassigning to Shak, so he can play the political games with SAP.", 
          "author": "riel@redhat.com", 
          "creation_time": "20120912T15:43:54", 
          "bug_id": "464463", 
          "creator_id": "144720", 
          "time": "20120912T15:43:54", 
          "id": "5035352", 
          "is_private": "True"
        }, 
        {
          "count": "39", 
          "creator": "pm-rhel@redhat.com", 
          "text": "Since this bug report was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.", 
          "author": "pm-rhel@redhat.com", 
          "creation_time": "20121213T18:55:05", 
          "bug_id": "464463", 
          "creator_id": "193983", 
          "time": "20121213T18:55:05", 
          "id": "5285936", 
          "is_private": "True"
        }, 
        {
          "count": "40", 
          "creator": "hartsjc@redhat.com", 
          "text": "If there are any new tunables around file system cache in RHEL 7 (as I am guessing this bz won't make RHEL 7) it would be good to highlight them in at least the attached Customer Portal Solution.", 
          "author": "hartsjc@redhat.com", 
          "creation_time": "20131206T14:18:59", 
          "bug_id": "464463", 
          "creator_id": "322049", 
          "time": "20131206T14:18:59", 
          "id": "6592409", 
          "is_private": "True"
        }, 
        {
          "count": "41", 
          "creator": "amascari@redhat.com", 
          "text": "Note: this BZ is very similar to 832482", 
          "author": "amascari@redhat.com", 
          "creation_time": "20140128T16:18:25", 
          "bug_id": "464463", 
          "creator_id": "342753", 
          "time": "20140128T16:18:25", 
          "id": "6760169", 
          "is_private": "False"
        }, 
        {
          "count": "42", 
          "attachment_id": "865539", 
          "author": "djdumas@redhat.com", 
          "text": "Created attachment 865539\nProgression of performance from RHEL6.5 through RHEL 7 (0-54, 0-80, 0-88anondirty)\n\nThe attachment shows a omparison of performance for the SAP pagecache workload across RHEL6.5 and various levels of RHEL7.  The latest result is from Johannes Weiners' 0-88anondirty kernel which shows significant improvement when memory gets low on the system - see 8K column and above.\n\nThe 0-88anondirty test was run with vm.swappiness left at the default of 60.", 
          "creator": "djdumas@redhat.com", 
          "creation_time": "20140220T14:13:09", 
          "bug_id": "464463", 
          "creator_id": "304502", 
          "time": "20140220T14:13:09", 
          "id": "6839534", 
          "is_private": "False"
        }, 
        {
          "count": "43", 
          "creator": "fdanapfe@redhat.com", 
          "text": "With the patches introduced in bug 1009508 this should no longer be an issue on RHEL7.\n\nIf we can get those patches into RHEL6 as well (see bug 1079434) then this issue should be resolved for the current relevant RHEL releases for SAP and we can finally close this bugzilla.", 
          "author": "fdanapfe@redhat.com", 
          "creation_time": "20140616T10:02:01", 
          "bug_id": "464463", 
          "creator_id": "281779", 
          "time": "20140616T10:02:01", 
          "id": "7195319", 
          "is_private": "True"
        }
      ], 
      "cf_show_homepage": "---", 
      "platform": "All", 
      "version": [
        "7.0"
      ], 
      "cc": [
        "amascari@redhat.com", 
        "aquini@redhat.com", 
        "caiqian@redhat.com", 
        "dgross@redhat.com", 
        "djdumas@redhat.com", 
        "dshaks@redhat.com", 
        "fdanapfe@redhat.com", 
        "hartsjc@redhat.com", 
        "helge.deller@sap.com", 
        "jentrena@redhat.com", 
        "jraju@redhat.com", 
        "k.georgiou@atreides.org.uk", 
        "linux@sap.com", 
        "lmcilroy@redhat.com", 
        "lmiccini@redhat.com", 
        "lwang@redhat.com", 
        "lwoodman@redhat.com", 
        "perfbz@redhat.com", 
        "peterm@redhat.com", 
        "rdoty@redhat.com", 
        "riel@redhat.com", 
        "rvokal@redhat.com", 
        "swhiteho@redhat.com", 
        "syeghiay@redhat.com", 
        "tburke@redhat.com"
      ], 
      "cf_verified": [
        "Any"
      ], 
      "cf_cust_facing": "---", 
      "cf_regression_status": "---", 
      "cf_environment": "", 
      "status": "ASSIGNED", 
      "product": "Red Hat Enterprise Linux 7", 
      "cf_verified_branch": "", 
      "blocks": [
        "677198", 
        "758829", 
        "1018952", 
        "756082", 
        "832572"
      ], 
      "qa_contact": "kernel-qe@redhat.com", 
      "tags": [], 
      "see_also": [], 
      "component": [
        "kernel"
      ], 
      "remaining_time": "0.0", 
      "sub_components": {}, 
      "cf_pgm_internal": "", 
      "cf_doc_type": "Enhancement", 
      "cf_clone_of": "0", 
      "groups": [
        "devel", 
        "qa", 
        "redhat", 
        "rhn", 
        "sap", 
        "support", 
        "suseng"
      ], 
      "cf_documentation_action": "---", 
      "cf_internal_whiteboard": "", 
      "target_milestone": "rc", 
      "cf_devel_whiteboard": "triaged - developer-cond-nack-6.3", 
      "is_cc_accessible": "True", 
      "cf_type": "---", 
      "cf_category": "---", 
      "url": "", 
      "cf_build_id": "", 
      "whiteboard": "", 
      "cf_crm": "", 
      "target_release": [
        "---"
      ], 
      "alias": [], 
      "op_sys": "Linux", 
      "flags": [
        {
          "status": "?", 
          "name": "rhel-7.0.0", 
          "modification_date": "20121213T18:55:00", 
          "type_id": "245", 
          "is_active": "1", 
          "creation_date": "20121213T18:55:00", 
          "id": "1215050", 
          "setter": "pm-rhel@redhat.com"
        }, 
        {
          "status": "?", 
          "name": "pm_ack", 
          "modification_date": "20111207T20:39:38", 
          "type_id": "11", 
          "is_active": "1", 
          "creation_date": "20081103T01:24:48", 
          "id": "411224", 
          "setter": "syeghiay@redhat.com"
        }, 
        {
          "status": "?", 
          "name": "devel_ack", 
          "modification_date": "20081103T01:24:48", 
          "type_id": "10", 
          "is_active": "1", 
          "creation_date": "20081103T01:24:48", 
          "id": "411225", 
          "setter": "rpacheco@redhat.com"
        }, 
        {
          "status": "?", 
          "name": "qa_ack", 
          "modification_date": "20081103T01:24:48", 
          "type_id": "9", 
          "is_active": "1", 
          "creation_date": "20081103T01:24:48", 
          "id": "411226", 
          "setter": "rpacheco@redhat.com"
        }
      ], 
      "last_change_time": "20140616T10:03:20", 
      "assigned_to": "dshaks@redhat.com", 
      "update_token": "1403539483-xQucXZuBTAA9hrMsdpQSXobteTU2vArvdVbay3HYCoA", 
      "cf_partner": [
        "SAP"
      ], 
      "resolution": "", 
      "cf_mount_type": "---", 
      "cf_layered_products": []
    }, 
    {
      "cf_qe_conditional_nak": [], 
      "cf_story_points": "---", 
      "cf_pm_score": "10", 
      "estimated_time": "0.0", 
      "depends_on": [], 
      "cf_regression_status": "---", 
      "cf_conditional_nak": [
        "Capacity"
      ], 
      "creation_time": "20091110T21:16:00", 
      "product": "Red Hat Enterprise Linux 7", 
      "actual_time": "0.0", 
      "docs_contact": "", 
      "is_open": "True", 
      "keywords": [
        "FutureFeature", 
        "Reopened", 
        "Triaged"
      ], 
      "target_release": [
        "---"
      ], 
      "external_bugs": [
        {
          "ext_status": "Closed", 
          "ext_bz_bug_id": "00318932", 
          "bug_id": "536441", 
          "ext_description": "[CRM-2007964] Feature request to include lessfs in RHEL.", 
          "ext_priority": "3 (Normal)", 
          "ext_bz_id": "60", 
          "type": {
            "must_send": "True", 
            "description": "Red Hat Customer Portal", 
            "url": "https://access.redhat.com", 
            "can_get": "True", 
            "id": "60", 
            "can_send": "True", 
            "send_once": "True", 
            "type": "SFDC", 
            "full_url": "https://access.redhat.com/support/cases/%id%"
          }, 
          "id": "16395"
        }, 
        {
          "ext_status": "Closed", 
          "ext_bz_bug_id": "00315479", 
          "bug_id": "536441", 
          "ext_description": "[RHEL][RFE]{7.0} add file system level support for deduplication to RHEL6 (gluster, btrfs, lessfs, etc)", 
          "ext_priority": "3 (Normal)", 
          "ext_bz_id": "60", 
          "type": {
            "must_send": "True", 
            "description": "Red Hat Customer Portal", 
            "url": "https://access.redhat.com", 
            "can_get": "True", 
            "id": "60", 
            "can_send": "True", 
            "send_once": "True", 
            "type": "SFDC", 
            "full_url": "https://access.redhat.com/support/cases/%id%"
          }, 
          "id": "12902"
        }, 
        {
          "ext_status": "Closed", 
          "ext_bz_bug_id": "00735945", 
          "bug_id": "536441", 
          "ext_description": "[RHEL][RFE]{7.0?} Add full btrfs support in RHEL7", 
          "ext_priority": "3 (Normal)", 
          "ext_bz_id": "60", 
          "type": {
            "must_send": "True", 
            "description": "Red Hat Customer Portal", 
            "url": "https://access.redhat.com", 
            "can_get": "True", 
            "id": "60", 
            "can_send": "True", 
            "send_once": "True", 
            "type": "SFDC", 
            "full_url": "https://access.redhat.com/support/cases/%id%"
          }, 
          "id": "82379"
        }
      ], 
      "id": "536441", 
      "cf_release_notes": "", 
      "priority": "low", 
      "severity": "medium", 
      "is_confirmed": "True", 
      "is_creator_accessible": "True", 
      "cf_fixed_in": "", 
      "creator": "tao@redhat.com", 
      "comments": [
        {
          "count": "0", 
          "creator": "tao@redhat.com", 
          "text": "Escalated to Bugzilla from IssueTracker", 
          "author": "tao@redhat.com", 
          "creation_time": "20091110T21:16:56", 
          "bug_id": "536441", 
          "creator_id": "80926", 
          "time": "20091110T21:16:56", 
          "id": "2460540", 
          "is_private": "False"
        }, 
        {
          "count": "1", 
          "creator": "tao@redhat.com", 
          "text": "Event posted on 11-07-2009 10:00pm EST by RFE-tool\n\n1) Customer Name:\nDreamWorks Animation\n\n2) Nature Of Problem:\nThe customer has submitted a request for a deduplicating filesystem. \nLessFS is a FUSE overlay filesystem providing deduplication that would be\ninteresting with regard to virtual machine images on local disk (vs.\nNetApp A-SIS volumes which is what the customer uses today).\n\n3) Business Requirements Satisfied By Request:\nThis request for data deduplication would reduce storage needs by\neliminating redundant data.\n\n4) Functional Requirements That Are Not Presently Possible:\nLessfs (data deduplication) is currently not shipped in RHEL.\n\n5) What Will Success Look Like:\nTo have FUSE-based deduplication overlay filesystem in RHEL.\n\nhttp://www.lessfs.com/\nhttp://www.lessfs.com/wordpress/?page_id=50\n\n6) Desired Release Vehicle:\nMajor\n\n7) Request Meets The Rhel Inclusion Criteria:\nNo\n\n8) Affected Packages:\nNew\n\n9) Sales Sponsor:\n\n\n10) Rh Business Opportunity With Customer:\n\n\n11) Status And Risk To Contract If Not Satisfied:\n\n\n12) If this request is vendor specific, has the customer engaged the\npartner as well?:\nNot Applicable\n\n\n\n\n\nThis event sent from IssueTracker by jwest  [SEG - Feature Request]\n issue 361548", 
          "author": "tao@redhat.com", 
          "creation_time": "20091110T21:16:58", 
          "bug_id": "536441", 
          "creator_id": "80926", 
          "time": "20091110T21:16:58", 
          "id": "2460544", 
          "is_private": "False"
        }, 
        {
          "count": "2", 
          "creator": "sghosh@redhat.com", 
          "text": "The complete stability of lessfs is not know at this time. PM and Engineering are going to investigate dedup solution in general, but there is no expectation that software based dedup will land in RHEL in the next 24 months, (at least 2012 for decision)\n\nThe current recommendation for dedup is to use hardware based functionality for the SAN and NAS vendors.\n\nAny feedback from customer on usage, performance and stability of lessfs would be useful.\n\nPM priority LOW", 
          "author": "sghosh@redhat.com", 
          "creation_time": "20100318T20:30:53", 
          "bug_id": "536441", 
          "creator_id": "193221", 
          "time": "20100318T20:30:53", 
          "id": "2724753", 
          "is_private": "True"
        }, 
        {
          "count": "3", 
          "creator": "tao@redhat.com", 
          "text": "Event posted on 07-09-2010 07:38am EDT by RFE-tool\n\n1) Customer Name:\nEdf Trading Limited\n\n2) Nature Of Problem:\nThe customer would like to have the 'lessfs' package included in RHEL5\nor later. Lessfs is a open source data de-duplication tool and as of now,\nits not included in the Fedora project.\n\nThe bugzilla being worked upon for Fedora ->\nhttps://bugzilla.redhat.com/show_bug.cgi?id=530473\n\nThe lessfs home page  -> http://www.lessfs.com/wordpress/\n\n3) Business Requirements Satisfied By Request:\nAs per the customer :\n\n''This is a relatively new project.  Inclusion into RHEL will allow us to\nde-dupe snapshotted backups on RHEL machines.\n\nThe effect on business would be to provide a broader toolkit for RHEL\ninstallations.  Currently, third party products have to be used to de-dupe\nbackup data before streaming to storage devices.\n\nWould prove especially useful in the RHEV toolkit.  Virtual disks can be\nsnapshotted for backups, but data de-dupe is of huge benefit to reduce\nstorage use.''\n\n4) Functional Requirements That Are Not Presently Possible:\nNot sure\n\n5) What Will Success Look Like:\nInclusion of the lessfs project in RHEL\n\n6) Desired Release Vehicle:\nRHEL5\n\n7) Request Meets The Rhel Inclusion Criteria:\nYes\n\n8) Affected Packages:\n-NIL-\n\n9) Sales Sponsor:\nAriane Boehme <aboehme@redhat.com>\n\n10) Rh Business Opportunity With Customer:\nHas sent mail to the sales-person Ariane Boehme <aboehme@redhat.com>  for\nthe details.\n\n11) Status And Risk To Contract If Not Satisfied:\nWaiting for an update from the sales folks.\n\n12) If this request is vendor specific, has the customer engaged the\npartner as well?:\nNot Applicable\n\n\n\n\nRFE-tool assigned to issue for SEG - Feature Request.\n\nThis event sent from IssueTracker by pbatkowski \n issue 1121283", 
          "author": "tao@redhat.com", 
          "creation_time": "20100709T18:12:32", 
          "bug_id": "536441", 
          "creator_id": "80926", 
          "time": "20100709T18:12:32", 
          "id": "2993833", 
          "is_private": "False"
        }, 
        {
          "count": "4", 
          "creator": "esandeen@redhat.com", 
          "text": "This is listed as a kernel bug, but as far as I can tell there is no kernel change requested; lessfs would be a new package request, depending on Fuse.\n\nAlso, just a note it looks like a new lessfs was just released, and is not compatible with previous versions; is this software stable?", 
          "author": "esandeen@redhat.com", 
          "creation_time": "20100711T21:35:01", 
          "bug_id": "536441", 
          "creator_id": "202031", 
          "time": "20100711T21:35:01", 
          "id": "2995443", 
          "is_private": "False"
        }, 
        {
          "count": "5", 
          "creator": "rwheeler@redhat.com", 
          "text": "Data deduplication is an increasingly common feature for high end storage arrays. Doing this wrong will absolutely loose your data in a way that will make sure you cannot get it back.\n\nWe need to look at not only how useful this feature is (it is certainly very popular), but where to invest our resources in supporting it. Should we focus only data dedup in the device space? Do it in a kernel level block device (dm?)? Do it in a kernel level file system? FUSE file system?\n\nThis is definitely not something that we can support without a lot of testing and thought.", 
          "author": "rwheeler@redhat.com", 
          "creation_time": "20100713T18:18:43", 
          "bug_id": "536441", 
          "creator_id": "266225", 
          "time": "20100713T18:18:43", 
          "id": "3001313", 
          "is_private": "True"
        }, 
        {
          "count": "6", 
          "creator": "cww@redhat.com", 
          "text": "AN update from Frontline:\n\nHi folks,\n\nThis was the reply from the customer when we asked for some use-cases of lessfs.\n\n<---->\n\nWhilst not the most definitive article, this:\n\nhttp://www.linux-mag.com/cache/7535/1.html\n\ngives a good overview/summary of what to expect with LessFS.\n\nUse-cases for Red Hat:\n\nLessFS would be particularly well aimed at RHEV storage solutions.  A system with, say, hundreds of virtual guests would require large amounts of storage.  The basic OS of each guest, however, is bound to be highly similar across the virtual farm.  De-duping these virtual images can save a huge amount of space.  Space saved equals money saved.\n\nBackup scenarios are also well suited to de-duping.  Backup to disk is becoming a distinct possibility these days, so the ability to de-dupe multiple backups from multiple clients provides the possibility to save huge amounts of disk space.\n\nThere is bound to be a downside to technology like this, and it comes from increased CPU & System load when writing data.  Not surprising really, though, given that hash calculation has to take place etc.  Compared to the volume of disk space that can be saved (commercial appliactions tout figures of 1:20 to 1:50 space saving dependant on usage) this would appear negligible given a reasonable use.\n\nI'm not likely to be installing something like this on a laptop, but for virtual machine storage, large network filesystems or backup to disk, we'd love to see something like this available straight out of the box.\n\nThe possibilities for consultancy on top of offerings like this would also add to the revenue streams for Red Hat.\n\n<------>\n\nThey would like to see this in RHEL6 at least as a technology preview.\n\nCheers,\n\nVimal", 
          "author": "cww@redhat.com", 
          "creation_time": "20100722T18:08:09", 
          "bug_id": "536441", 
          "creator_id": "162157", 
          "time": "20100722T18:08:09", 
          "id": "3025289", 
          "is_private": "True"
        }, 
        {
          "count": "7", 
          "creator": "rwheeler@redhat.com", 
          "text": "We do support FUSE so this should be an easy install for them to try out. Note that this is a very new and possibly unstable project.\n\nI still would strongly prefer to push a customer at this point in time towards a commercial dedup offering.", 
          "author": "rwheeler@redhat.com", 
          "creation_time": "20100722T18:20:44", 
          "bug_id": "536441", 
          "creator_id": "266225", 
          "time": "20100722T18:20:44", 
          "id": "3025322", 
          "is_private": "True"
        }, 
        {
          "count": "8", 
          "creator": "ssaha@redhat.com", 
          "text": "The maturity of LessFS is highly questionable given the limited amount of data that is available on it's stability and robustness. It does not appear to be robust enough to be included in RHEL 6.0 as tech preview. RHEL PM will monitor LessFS's progress.", 
          "author": "ssaha@redhat.com", 
          "creation_time": "20100729T19:39:06", 
          "bug_id": "536441", 
          "creator_id": "297421", 
          "time": "20100729T19:39:06", 
          "id": "3041863", 
          "is_private": "False"
        }, 
        {
          "count": "9", 
          "creator": "rwheeler@redhat.com", 
          "text": "I don't see how we have resources to drive this - in development, QE or field support. This might be better off repositioned as part of our planning for next year (note that this is not an endorsement or condemnation of the code, we simply do not have resources to look at this at the code).", 
          "author": "rwheeler@redhat.com", 
          "creation_time": "20101103T21:15:34", 
          "bug_id": "536441", 
          "creator_id": "266225", 
          "time": "20101103T21:15:34", 
          "id": "3258911", 
          "is_private": "True"
        }, 
        {
          "count": "10", 
          "creator": "ssaha@redhat.com", 
          "text": "We currently do not have plans to add support for LessFS in RHEL 6. But we would like to re-consider this request in RHEL 7 time-frame and re-evaluate it's inclusion possibility at that time (if still relevant). Red Hat will also keep on exploring other alternative ways of providing data deduplication technology to it's customers.", 
          "author": "ssaha@redhat.com", 
          "creation_time": "20101130T21:43:47", 
          "bug_id": "536441", 
          "creator_id": "297421", 
          "time": "20101130T21:43:47", 
          "id": "3384086", 
          "is_private": "True"
        }, 
        {
          "count": "11", 
          "creator": "pm-rhel@redhat.com", 
          "text": "Product Management has reviewed and declined this request.  You may appeal this\ndecision by reopening this request.", 
          "author": "pm-rhel@redhat.com", 
          "creation_time": "20101130T21:54:40", 
          "bug_id": "536441", 
          "creator_id": "193983", 
          "time": "20101130T21:54:40", 
          "id": "3384142", 
          "is_private": "False"
        }, 
        {
          "count": "12", 
          "creator": "ssaha@redhat.com", 
          "text": "Re-opened it for consideration in RHEL7 time frame.", 
          "author": "ssaha@redhat.com", 
          "creation_time": "20101130T22:14:45", 
          "bug_id": "536441", 
          "creator_id": "297421", 
          "time": "20101130T22:14:45", 
          "id": "3384222", 
          "is_private": "False"
        }, 
        {
          "count": "13", 
          "creator": "spurrier@redhat.com", 
          "text": "DreamWorks update:\nFWIW, the request is for a deduplicating filesystem - not necessarily a \nhard requirement for lessfs.\n\nE.g. btrfs or GlusterFS translator implementations would be fine also.\n\n[1] http://thread.gmane.org/gmane.comp.file-systems.btrfs/8448", 
          "author": "spurrier@redhat.com", 
          "creation_time": "20110525T20:40:21", 
          "bug_id": "536441", 
          "creator_id": "147421", 
          "time": "20110525T20:40:21", 
          "id": "3760345", 
          "is_private": "True"
        }, 
        {
          "count": "14", 
          "creator": "dkinon@redhat.com", 
          "text": "Can I get an update on this?  As RHEL7 has moved out of the planning phase and into the development phase, I want to make sure this is still under consideration for RHEL 7.", 
          "author": "dkinon@redhat.com", 
          "creation_time": "20120316T17:05:25", 
          "bug_id": "536441", 
          "creator_id": "324795", 
          "time": "20120316T17:05:25", 
          "id": "4522417", 
          "is_private": "True"
        }, 
        {
          "count": "15", 
          "creator": "jbacik@redhat.com", 
          "text": "Suse is taking my background dedup idea and running with it to make it a bit more generic and able to work on any fs that supports reflink like operations.  At this point that's the only viable option coming down the pipe, but who knows when it will be ready.", 
          "author": "jbacik@redhat.com", 
          "creation_time": "20120316T17:50:55", 
          "bug_id": "536441", 
          "creator_id": "163147", 
          "time": "20120316T17:50:55", 
          "id": "4522513", 
          "is_private": "True"
        }, 
        {
          "count": "16", 
          "creator": "ssaha@redhat.com", 
          "text": "RHEL 7 is not considering file-level deduplication support. There is not enough business justification for this investment yet. If upstream produces something as Josef mentions above we'll consider it but will not actively drive it.", 
          "author": "ssaha@redhat.com", 
          "creation_time": "20120316T19:29:04", 
          "bug_id": "536441", 
          "creator_id": "297421", 
          "time": "20120316T19:29:04", 
          "id": "4522745", 
          "is_private": "True"
        }, 
        {
          "count": "17", 
          "creator": "dkinon@redhat.com", 
          "text": "Hey Sayan.\n   Customer said it doesn't have to be file-level deduplication.  They would be happy with any deduplication.  Customer suggested btrfs: http://thread.gmane.org/gmane.comp.file-systems.btrfs/8448\n\nLet me know,\n-Dan", 
          "author": "dkinon@redhat.com", 
          "creation_time": "20120418T18:01:13", 
          "bug_id": "536441", 
          "creator_id": "324795", 
          "time": "20120418T18:01:13", 
          "id": "4603658", 
          "is_private": "True"
        }, 
        {
          "count": "18", 
          "creator": "rpacheco@redhat.com", 
          "text": "(In reply to comment #17)\n> Hey Sayan.\n>    Customer said it doesn't have to be file-level deduplication.  They would be\n> happy with any deduplication.  Customer suggested btrfs:\n> http://thread.gmane.org/gmane.comp.file-systems.btrfs/8448\n> \n> Let me know,\n> -Dan\n\n(Sayan has transitioned to a new role.)\n\nI concur with Sayan's statement in Comment #16: Let's see what plays out from comment #15 as a FS generic solution would be best or we wind up with a dedup solution for every FS and that would be an impractical situation.", 
          "author": "rpacheco@redhat.com", 
          "creation_time": "20120505T11:58:29", 
          "bug_id": "536441", 
          "creator_id": "182103", 
          "time": "20120505T11:58:29", 
          "id": "4652661", 
          "is_private": "True"
        }, 
        {
          "count": "19", 
          "creator": "pm-rhel@redhat.com", 
          "text": "Since this bug report was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.", 
          "author": "pm-rhel@redhat.com", 
          "creation_time": "20121213T18:47:34", 
          "bug_id": "536441", 
          "creator_id": "193983", 
          "time": "20121213T18:47:34", 
          "id": "5285835", 
          "is_private": "True"
        }
      ], 
      "cf_show_homepage": "---", 
      "platform": "All", 
      "version": [
        "7.0"
      ], 
      "cc": [
        "agrover@redhat.com", 
        "arozansk@redhat.com", 
        "atodorov@redhat.com", 
        "cdevine@redhat.com", 
        "cww@redhat.com", 
        "esandeen@redhat.com", 
        "jbacik@redhat.com", 
        "rpacheco@redhat.com", 
        "rwheeler@redhat.com", 
        "snagar@redhat.com", 
        "spurrier@redhat.com", 
        "ssaha@redhat.com", 
        "tao@redhat.com"
      ], 
      "cf_verified": [], 
      "cf_cust_facing": "---", 
      "cf_environment": "", 
      "status": "ASSIGNED", 
      "classification": "Red Hat", 
      "cf_verified_branch": "", 
      "blocks": [
        "459836", 
        "607248", 
        "634813", 
        "645454", 
        "703952"
      ], 
      "qa_contact": "kernel-qe@redhat.com", 
      "tags": [], 
      "see_also": [], 
      "component": [
        "kernel"
      ], 
      "remaining_time": "0.0", 
      "sub_components": {}, 
      "cf_pgm_internal": "", 
      "cf_doc_type": "Enhancement", 
      "cf_clone_of": "0", 
      "groups": [
        "devel", 
        "qa", 
        "rhel_beta", 
        "rhn", 
        "support"
      ], 
      "cf_documentation_action": "---", 
      "cf_internal_whiteboard": "", 
      "target_milestone": "rc", 
      "cf_devel_whiteboard": "", 
      "is_cc_accessible": "True", 
      "cf_type": "---", 
      "cf_category": "---", 
      "url": "", 
      "cf_build_id": "", 
      "whiteboard": "", 
      "cf_crm": "", 
      "summary": "[RFE] add file system level support for deduplication to RHEL6 (gluster, btrfs, lessfs, etc)", 
      "alias": [], 
      "op_sys": "Linux", 
      "flags": [
        {
          "status": "?", 
          "name": "rhel-7.0.0", 
          "modification_date": "20121213T18:47:31", 
          "type_id": "245", 
          "is_active": "1", 
          "creation_date": "20121213T18:47:31", 
          "id": "1214971", 
          "setter": "pm-rhel@redhat.com"
        }, 
        {
          "status": "?", 
          "name": "pm_ack", 
          "modification_date": "20101130T22:14:45", 
          "type_id": "11", 
          "is_active": "1", 
          "creation_date": "20091110T21:17:26", 
          "id": "521878", 
          "setter": "ssaha@redhat.com"
        }, 
        {
          "status": "?", 
          "name": "devel_ack", 
          "modification_date": "20100818T20:30:13", 
          "type_id": "10", 
          "is_active": "1", 
          "creation_date": "20100818T20:30:13", 
          "id": "667130", 
          "setter": "pm-rhel@redhat.com"
        }, 
        {
          "status": "?", 
          "name": "qa_ack", 
          "modification_date": "20121213T22:08:07", 
          "type_id": "9", 
          "is_active": "1", 
          "creation_date": "20121213T22:08:07", 
          "id": "1218050", 
          "setter": "pm-rhel@redhat.com"
        }
      ], 
      "last_change_time": "20131121T22:06:13", 
      "assigned_to": "ssaha@redhat.com", 
      "update_token": "1403539483-YOCwP-qnzjnzSPGbjnyRKqG0PiEsbi12UsEYCxSgJqc", 
      "cf_partner": [], 
      "cf_last_closed": "20101130T21:54:40", 
      "resolution": "", 
      "cf_mount_type": "---", 
      "cf_layered_products": []
    }, 
    {
      "cf_qe_conditional_nak": [
        "Patch"
      ], 
      "classification": "Red Hat", 
      "cf_pm_score": "100", 
      "estimated_time": "0.0", 
      "depends_on": [], 
      "cf_story_points": "---", 
      "cf_conditional_nak": [
        "Upstream"
      ], 
      "creation_time": "20100429T19:23:00", 
      "actual_time": "0.0", 
      "docs_contact": "", 
      "is_open": "True", 
      "keywords": [
        "FutureFeature", 
        "Triaged"
      ], 
      "summary": "[RFE] Make sure e2fsprogs is ready for writable overlays", 
      "external_bugs": [
        {
          "ext_status": "Waiting on Red Hat", 
          "ext_bz_bug_id": "00379096", 
          "bug_id": "587389", 
          "ext_description": "RHEL 7 RFE Tracker for Val Aurora's Union mounts (a.k.a., writable overlays)", 
          "ext_priority": "3 (Normal)", 
          "ext_bz_id": "60", 
          "type": {
            "must_send": "True", 
            "description": "Red Hat Customer Portal", 
            "url": "https://access.redhat.com", 
            "can_get": "True", 
            "id": "60", 
            "can_send": "True", 
            "send_once": "True", 
            "type": "SFDC", 
            "full_url": "https://access.redhat.com/support/cases/%id%"
          }, 
          "id": "108745"
        }
      ], 
      "id": "587389", 
      "cf_release_notes": "", 
      "priority": "high", 
      "severity": "high", 
      "is_confirmed": "True", 
      "is_creator_accessible": "True", 
      "cf_fixed_in": "", 
      "creator": "tao@redhat.com", 
      "comments": [
        {
          "count": "0", 
          "creator": "tao@redhat.com", 
          "text": "Escalated to Bugzilla from IssueTracker", 
          "author": "tao@redhat.com", 
          "creation_time": "20100429T19:23:27", 
          "bug_id": "587389", 
          "creator_id": "80926", 
          "time": "20100429T19:23:27", 
          "id": "2814990", 
          "is_private": "False"
        }, 
        {
          "count": "1", 
          "creator": "tao@redhat.com", 
          "text": "Event posted on 04-27-2010 12:17pm EDT by kbaxley\n\nCustomer name: LLNL(HPC)\n\nRequestor email: kbaxley@redhat.com\n\nIT# 816603\n\n*Nature of problem :\n\nEnsure e2fsprogs is patched so that it works with the writable overlay FS\nfrom Val Aurora, currently scheduled to go into RHEL6.1\n\nhttp://valerieaurora.org/union/\n\nWe already have an RFE and BZ filed for the filesystem itself:\n\nhttps://enterprise.redhat.com/issue-tracker/?module=issues&action=view&tid=403193\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=519827\n\n\nPatches can be found here:\n\ne2fsprogs\nhttp://git.kernel.org/?p=fs/ext2/val/e2fsprogs.git;a=summary\n\n    $ git clone git://git.kernel.org/pub/scm/fs/ext2/val/e2fsprogs.git\n\n*Business requirements satisfied by request:\n\nLLNL has a large stake in testing and deploying this filesystem, and we\nneed to make sure all the pieces and parts are in place so this works on\nRHEL6.1.\n\n\n*Functional requirements not presently possible:\n\ne2fsprogs hasn't been patched yet for this filesystem\n\n*What success will look like:\n\ne2fsprogs is patched so that it works with this new filesystem\n\n*Desired release vehicle:\n\nRHEL6.1\n\n*Meets RHEL Inclusion Criteria: Yes\n\n*Packages affected:\ne2fsprogs\n\n\n\nThis event sent from IssueTracker by pbatkowski  [SEG - Feature Request]\n issue 816603", 
          "author": "tao@redhat.com", 
          "creation_time": "20100429T19:23:28", 
          "bug_id": "587389", 
          "creator_id": "80926", 
          "time": "20100429T19:23:28", 
          "id": "2814991", 
          "is_private": "False"
        }, 
        {
          "count": "2", 
          "creator": "esandeen@redhat.com", 
          "text": "Luckily we have Val close at hand ... over to you Val!  I'll happily merge/commit/build patches if you like.", 
          "author": "esandeen@redhat.com", 
          "creation_time": "20100429T19:38:07", 
          "bug_id": "587389", 
          "creator_id": "202031", 
          "time": "20100429T19:38:07", 
          "id": "2815045", 
          "is_private": "False"
        }, 
        {
          "count": "3", 
          "creator": "esandeen@redhat.com", 
          "text": "We won't be able to do this for 6.x until it's baked upstream.", 
          "author": "esandeen@redhat.com", 
          "creation_time": "20101112T15:51:32", 
          "bug_id": "587389", 
          "creator_id": "202031", 
          "time": "20101112T15:51:32", 
          "id": "3304823", 
          "is_private": "False"
        }, 
        {
          "count": "4", 
          "creator": "woodard@redhat.com", 
          "text": "What's the current upstream status?", 
          "author": "woodard@redhat.com", 
          "creation_time": "20101112T16:05:07", 
          "bug_id": "587389", 
          "creator_id": "70517", 
          "time": "20101112T16:05:07", 
          "id": "3304879", 
          "is_private": "False"
        }, 
        {
          "count": "5", 
          "creator": "esandeen@redhat.com", 
          "text": "The patches are not in the upstream repo; AFAIK they have not yet been submitted.", 
          "author": "esandeen@redhat.com", 
          "creation_time": "20101112T19:19:01", 
          "bug_id": "587389", 
          "creator_id": "202031", 
          "time": "20101112T19:19:01", 
          "id": "3305339", 
          "is_private": "False"
        }, 
        {
          "count": "6", 
          "creator": "rwheeler@redhat.com", 
          "text": "Can we push these patches to Ted soon?", 
          "author": "rwheeler@redhat.com", 
          "creation_time": "20101119T18:45:15", 
          "bug_id": "587389", 
          "creator_id": "266225", 
          "time": "20101119T18:45:15", 
          "id": "3361852", 
          "is_private": "False"
        }, 
        {
          "count": "7", 
          "creator": "vaurora@redhat.com", 
          "text": "The current patch set is based on implementing whiteouts and fallthrus as file types, and opaque dirs as an inode flag.\n\nI'll post them to linux-ext4.", 
          "author": "vaurora@redhat.com", 
          "creation_time": "20101119T20:37:05", 
          "bug_id": "587389", 
          "creator_id": "269822", 
          "time": "20101119T20:37:05", 
          "id": "3362131", 
          "is_private": "False"
        }, 
        {
          "count": "8", 
          "creator": "pm-rhel@redhat.com", 
          "text": "This request was evaluated by Red Hat Product Management for\ninclusion in the current release of Red Hat Enterprise Linux.\nBecause the affected component is not scheduled to be updated\nin the current release, Red Hat is unfortunately unable to\naddress this request at this time. Red Hat invites you to\nask your support representative to propose this request, if\nappropriate and relevant, in the next release of Red Hat\nEnterprise Linux. If you would like it considered as an\nexception in the current release, please ask your support\nrepresentative.", 
          "author": "pm-rhel@redhat.com", 
          "creation_time": "20110107T04:36:58", 
          "bug_id": "587389", 
          "creator_id": "193983", 
          "time": "20110107T04:36:58", 
          "id": "3459706", 
          "is_private": "False"
        }, 
        {
          "count": "9", 
          "creator": "syeghiay@redhat.com", 
          "text": "This request was erroneously denied for the current release of Red Hat\nEnterprise Linux.  The error has been fixed and this request has been\nre-proposed for the current release.", 
          "author": "syeghiay@redhat.com", 
          "creation_time": "20110107T16:12:31", 
          "bug_id": "587389", 
          "creator_id": "193262", 
          "time": "20110107T16:12:31", 
          "id": "3461478", 
          "is_private": "False"
        }, 
        {
          "count": "10", 
          "creator": "nelhawar@redhat.com", 
          "text": "User vaurora@redhat.com's account has been closed", 
          "author": "nelhawar@redhat.com", 
          "creation_time": "20110114T12:22:16", 
          "bug_id": "587389", 
          "creator_id": "208811", 
          "time": "20110114T12:22:16", 
          "id": "3478883", 
          "is_private": "True"
        }, 
        {
          "count": "11", 
          "creator": "rwheeler@redhat.com", 
          "text": "Not sure that there is anything to do here, but can we get this done by the user space deadline (Feb 4) for 6.1 or close or punt back to 6.2.\n\nThanks!", 
          "author": "rwheeler@redhat.com", 
          "creation_time": "20110114T12:28:13", 
          "bug_id": "587389", 
          "creator_id": "266225", 
          "time": "20110114T12:28:13", 
          "id": "3478931", 
          "is_private": "True"
        }, 
        {
          "count": "12", 
          "creator": "lczerner@redhat.com", 
          "text": "Not upstream yet, it has been sent as RFC, I'll review and repost is ASAP.", 
          "author": "lczerner@redhat.com", 
          "creation_time": "20110114T21:19:10", 
          "bug_id": "587389", 
          "creator_id": "290282", 
          "time": "20110114T21:19:10", 
          "id": "3480353", 
          "is_private": "True"
        }, 
        {
          "count": "13", 
          "creator": "pm-rhel@redhat.com", 
          "text": "This request was evaluated by Red Hat Product Management for\ninclusion in the current release of Red Hat Enterprise Linux.\nBecause the affected component is not scheduled to be updated\nin the current release, Red Hat is unfortunately unable to\naddress this request at this time. Red Hat invites you to\nask your support representative to propose this request, if\nappropriate and relevant, in the next release of Red Hat\nEnterprise Linux. If you would like it considered as an\nexception in the current release, please ask your support\nrepresentative.", 
          "author": "pm-rhel@redhat.com", 
          "creation_time": "20110201T06:09:49", 
          "bug_id": "587389", 
          "creator_id": "193983", 
          "time": "20110201T06:09:49", 
          "id": "3511706", 
          "is_private": "False"
        }, 
        {
          "count": "14", 
          "creator": "rwheeler@redhat.com", 
          "text": "This can wait for the union mount support to settle upstream & at best, we will look at it for inclusion in 6.2.", 
          "author": "rwheeler@redhat.com", 
          "creation_time": "20110201T12:54:39", 
          "bug_id": "587389", 
          "creator_id": "266225", 
          "time": "20110201T12:54:39", 
          "id": "3512520", 
          "is_private": "False"
        }, 
        {
          "count": "15", 
          "creator": "ssaha@redhat.com", 
          "text": "We are still waiting for upstream to settle. Re-evaluate during 6.3 planning.", 
          "author": "ssaha@redhat.com", 
          "creation_time": "20110525T18:54:07", 
          "bug_id": "587389", 
          "creator_id": "297421", 
          "time": "20110525T18:54:07", 
          "id": "3759470", 
          "is_private": "False"
        }, 
        {
          "count": "16", 
          "creator": "tgummels@redhat.com", 
          "text": "=== In Red Hat Customer Portal Case 00318314 ===\n--- Comment by Gummels, Travis on 10/7/2011 3:05 PM ---\n\nLLNL is strongly requesting this functionality in RHEL 6 I have therefore raised severity/priority", 
          "author": "tgummels@redhat.com", 
          "creation_time": "20111007T19:06:06", 
          "bug_id": "587389", 
          "creator_id": "296684", 
          "time": "20111007T19:06:06", 
          "id": "4067107", 
          "is_private": "True"
        }, 
        {
          "count": "17", 
          "creator": "lczerner@redhat.com", 
          "text": "(In reply to comment #16)\n> === In Red Hat Customer Portal Case 00318314 ===\n> --- Comment by Gummels, Travis on 10/7/2011 3:05 PM ---\n> \n> LLNL is strongly requesting this functionality in RHEL 6 I have therefore\n> raised severity/priority\n\nEven though I do understand the strong request for this feature, there is nothing we can do about it via this bug. Kernel support has to settle in upstream first, that is the important part. Btw what is a BZ for the kernel part ?", 
          "author": "lczerner@redhat.com", 
          "creation_time": "20111008T12:17:54", 
          "bug_id": "587389", 
          "creator_id": "290282", 
          "time": "20111008T12:17:54", 
          "id": "4067950", 
          "is_private": "True"
        }, 
        {
          "count": "18", 
          "creator": "lczerner@redhat.com", 
          "text": "This depends on the https://bugzilla.redhat.com/show_bug.cgi?id=519827", 
          "author": "lczerner@redhat.com", 
          "creation_time": "20111130T11:24:09", 
          "bug_id": "587389", 
          "creator_id": "290282", 
          "time": "20111130T11:24:09", 
          "id": "4180725", 
          "is_private": "False"
        }, 
        {
          "count": "19", 
          "creator": "rwheeler@redhat.com", 
          "text": "I am going to move this back to RHEL7. The VFS changes needed for any kind of union mounting are *way* out of scope for RHEL6.x I think.", 
          "author": "rwheeler@redhat.com", 
          "creation_time": "20111215T20:12:28", 
          "bug_id": "587389", 
          "creator_id": "266225", 
          "time": "20111215T20:12:28", 
          "id": "4256474", 
          "is_private": "False"
        }, 
        {
          "count": "20", 
          "creator": "lczerner@redhat.com", 
          "text": "I agree.", 
          "author": "lczerner@redhat.com", 
          "creation_time": "20111216T16:20:45", 
          "bug_id": "587389", 
          "creator_id": "290282", 
          "time": "20111216T16:20:45", 
          "id": "4263029", 
          "is_private": "False"
        }, 
        {
          "count": "21", 
          "creator": "pm-rhel@redhat.com", 
          "text": "Since this bug report was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.", 
          "author": "pm-rhel@redhat.com", 
          "creation_time": "20121213T18:58:59", 
          "bug_id": "587389", 
          "creator_id": "193983", 
          "time": "20121213T18:58:59", 
          "id": "5285991", 
          "is_private": "True"
        }, 
        {
          "count": "22", 
          "creator": "pm-rhel@redhat.com", 
          "text": "This request has been proposed for two releases.  This is invalid\nflag usage.  The higher numbered release flag has been cleared.\nIf you wish to change the release flag, you must clear one release\nflag and then set the other release flag to ?.", 
          "author": "pm-rhel@redhat.com", 
          "creation_time": "20140327T01:45:33", 
          "bug_id": "587389", 
          "creator_id": "193983", 
          "time": "20140327T01:45:33", 
          "id": "6956919", 
          "is_private": "True"
        }
      ], 
      "cf_show_homepage": "---", 
      "platform": "All", 
      "version": [
        "7.0"
      ], 
      "cc": [
        "dhowells@redhat.com", 
        "eguan@redhat.com", 
        "esandeen@redhat.com", 
        "lczerner@redhat.com", 
        "pbatkowski@redhat.com", 
        "rwheeler@redhat.com", 
        "sct@redhat.com", 
        "ssaha@redhat.com", 
        "tao@redhat.com", 
        "tgummels@redhat.com", 
        "woodard@redhat.com"
      ], 
      "cf_verified": [], 
      "cf_cust_facing": "---", 
      "cf_regression_status": "---", 
      "cf_environment": "", 
      "status": "ASSIGNED", 
      "product": "Red Hat Enterprise Linux 7", 
      "cf_verified_branch": "", 
      "blocks": [
        "519827", 
        "662543", 
        "727267", 
        "859274", 
        "756082"
      ], 
      "qa_contact": "fs-qe@redhat.com", 
      "tags": [], 
      "see_also": [], 
      "component": [
        "e2fsprogs"
      ], 
      "remaining_time": "0.0", 
      "sub_components": {}, 
      "cf_pgm_internal": "", 
      "cf_doc_type": "Enhancement", 
      "cf_clone_of": "0", 
      "groups": [
        "devel", 
        "llnl", 
        "qa", 
        "rhel_beta", 
        "rhn", 
        "support"
      ], 
      "cf_documentation_action": "---", 
      "cf_internal_whiteboard": "ptam", 
      "target_milestone": "alpha", 
      "cf_devel_whiteboard": "", 
      "is_cc_accessible": "True", 
      "cf_type": "---", 
      "cf_category": "---", 
      "url": "", 
      "cf_build_id": "", 
      "whiteboard": "", 
      "cf_crm": "", 
      "target_release": [
        "7.0"
      ], 
      "alias": [
        "unionmount.e2fsprogs"
      ], 
      "op_sys": "Linux", 
      "flags": [
        {
          "status": "?", 
          "name": "rhel-7.0.0", 
          "modification_date": "20121213T18:58:55", 
          "type_id": "245", 
          "is_active": "1", 
          "creation_date": "20121213T18:58:55", 
          "id": "1215087", 
          "setter": "pm-rhel@redhat.com"
        }, 
        {
          "status": "?", 
          "name": "pm_ack", 
          "modification_date": "20111215T22:44:40", 
          "type_id": "11", 
          "is_active": "1", 
          "creation_date": "20100429T19:24:44", 
          "id": "597768", 
          "setter": "snagar@redhat.com"
        }, 
        {
          "status": "?", 
          "name": "devel_ack", 
          "modification_date": "20121213T21:33:21", 
          "type_id": "10", 
          "is_active": "1", 
          "creation_date": "20121213T21:33:21", 
          "id": "1217190", 
          "setter": "pm-rhel@redhat.com"
        }, 
        {
          "status": "?", 
          "name": "qa_ack", 
          "modification_date": "20110201T12:54:39", 
          "type_id": "9", 
          "is_active": "1", 
          "creation_date": "20110201T12:54:39", 
          "id": "759626", 
          "setter": "rwheeler@redhat.com"
        }
      ], 
      "last_change_time": "20140501T13:50:42", 
      "assigned_to": "esandeen@redhat.com", 
      "update_token": "1403539483-_ovvClvfw-QxdIoNoz-CLpaoknAeR9P5opobM-6AHsY", 
      "cf_partner": [], 
      "resolution": "", 
      "cf_mount_type": "---", 
      "cf_layered_products": []
    }, 
    {
      "cf_qe_conditional_nak": [], 
      "cf_story_points": "---", 
      "cf_pm_score": "0", 
      "estimated_time": "0.0", 
      "depends_on": [], 
      "cf_regression_status": "---", 
      "cf_conditional_nak": [
        "Patch", 
        "Upstream"
      ], 
      "creation_time": "20100429T19:28:00", 
      "product": "Red Hat Enterprise Linux 7", 
      "actual_time": "0.0", 
      "docs_contact": "", 
      "is_open": "True", 
      "keywords": [
        "FutureFeature", 
        "Reopened", 
        "Triaged"
      ], 
      "target_release": [
        "---"
      ], 
      "external_bugs": [
        {
          "ext_status": "Waiting on Red Hat", 
          "ext_bz_bug_id": "00379096", 
          "bug_id": "587393", 
          "ext_description": "RHEL 7 RFE Tracker for Val Aurora's Union mounts (a.k.a., writable overlays)", 
          "ext_priority": "3 (Normal)", 
          "ext_bz_id": "60", 
          "type": {
            "must_send": "True", 
            "description": "Red Hat Customer Portal", 
            "url": "https://access.redhat.com", 
            "can_get": "True", 
            "id": "60", 
            "can_send": "True", 
            "send_once": "True", 
            "type": "SFDC", 
            "full_url": "https://access.redhat.com/support/cases/%id%"
          }, 
          "id": "108744"
        }
      ], 
      "id": "587393", 
      "cf_release_notes": "", 
      "priority": "unspecified", 
      "severity": "unspecified", 
      "is_confirmed": "True", 
      "is_creator_accessible": "True", 
      "cf_fixed_in": "", 
      "creator": "tao@redhat.com", 
      "comments": [
        {
          "count": "0", 
          "creator": "tao@redhat.com", 
          "text": "Escalated to Bugzilla from IssueTracker", 
          "author": "tao@redhat.com", 
          "creation_time": "20100429T19:28:44", 
          "bug_id": "587393", 
          "creator_id": "80926", 
          "time": "20100429T19:28:44", 
          "id": "2815013", 
          "is_private": "False"
        }, 
        {
          "count": "1", 
          "creator": "tao@redhat.com", 
          "text": "Event posted on 04-27-2010 12:25pm EDT by kbaxley\n\nCustomer name: LLNL(HPC)\n\nRequestor email: kbaxley@redhat.com\n\nIT# 816783\n\n*Nature of problem :\n\nEnsure util-linux-ng is patched so that it works with the writable overlay\nFS from Val Aurora, currently scheduled to go into RHEL6.1\n\nhttp://valerieaurora.org/union/\n\nWe already have an RFE and BZ filed for the filesystem itself:\n\nhttps://enterprise.redhat.com/issue-tracker/?module=issues&action=view&tid=403193\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=519827\n\n\nPatches can be found here:\n\nutil-linux\nutil-linux git repo - see ''union_mount'' branch\n\n    $ git clone\ngit://git.kernel.org/pub/scm/utils/util-linux-ng/val/util-linux-ng.git\n\n\n*Business requirements satisfied by request:\n\nLLNL has a large stake in testing and deploying this filesystem, and we\nneed to make sure all the pieces and parts are in place so this works on\nRHEL6.1.\n\n\n*Functional requirements not presently possible:\n\nutil-linux-ng hasn't been patched yet for this filesystem\n\n*What success will look like:\n\nutil-linux-ng is patched so that it works with this new filesystem\n\n*Desired release vehicle:\n\nRHEL6.1\n\n*Meets RHEL Inclusion Criteria: Yes\n\n*Packages affected:\nutil-linux-ng\n\n\nIssue escalated to SEG - Feature Request by: kbaxley.\nInternal Status set to 'Waiting on SEG'\nVersion changed from '2.1' to '6'\n\nThis event sent from IssueTracker by pbatkowski  [SEG - Feature Request]\n issue 816783", 
          "author": "tao@redhat.com", 
          "creation_time": "20100429T19:28:45", 
          "bug_id": "587393", 
          "creator_id": "80926", 
          "time": "20100429T19:28:45", 
          "id": "2815014", 
          "is_private": "False"
        }, 
        {
          "count": "2", 
          "creator": "kzak@redhat.com", 
          "text": "We need the support for overlay mounts in kernel, then the change in mount(8) is pretty simple.", 
          "author": "kzak@redhat.com", 
          "creation_time": "20100614T10:17:37", 
          "bug_id": "587393", 
          "creator_id": "167998", 
          "time": "20100614T10:17:37", 
          "id": "2924296", 
          "is_private": "True"
        }, 
        {
          "count": "3", 
          "creator": "kzak@redhat.com", 
          "text": "What is status of overlay mounts in kernel for RHEL-6.1? \n\nIt seems that we need fill in ''Depends on'' and ''Blocks'' fields here.", 
          "author": "kzak@redhat.com", 
          "creation_time": "20101109T08:55:14", 
          "bug_id": "587393", 
          "creator_id": "167998", 
          "time": "20101109T08:55:14", 
          "id": "3283753", 
          "is_private": "True"
        }, 
        {
          "count": "4", 
          "creator": "rvokal@redhat.com", 
          "text": "(In reply to comment #3)\n> What is status of overlay mounts in kernel for RHEL-6.1? \n> \n> It seems that we need fill in ''Depends on'' and ''Blocks'' fields here.\n\nKarel, can you please open a kernel blocker bug if there's none so far?", 
          "author": "rvokal@redhat.com", 
          "creation_time": "20101111T11:11:48", 
          "bug_id": "587393", 
          "creator_id": "165188", 
          "time": "20101111T11:11:48", 
          "id": "3299837", 
          "is_private": "True"
        }, 
        {
          "count": "5", 
          "creator": "kzak@redhat.com", 
          "text": "*** Bug 587396 has been marked as a duplicate of this bug. ***", 
          "author": "kzak@redhat.com", 
          "creation_time": "20101129T19:57:48", 
          "bug_id": "587393", 
          "creator_id": "167998", 
          "time": "20101129T19:57:48", 
          "id": "3380826", 
          "is_private": "False"
        }, 
        {
          "count": "6", 
          "creator": "pm-rhel@redhat.com", 
          "text": "This request was evaluated by Red Hat Product Management for\ninclusion in the current release of Red Hat Enterprise Linux.\nBecause the affected component is not scheduled to be updated\nin the current release, Red Hat is unfortunately unable to\naddress this request at this time. Red Hat invites you to\nask your support representative to propose this request, if\nappropriate and relevant, in the next release of Red Hat\nEnterprise Linux. If you would like it considered as an\nexception in the current release, please ask your support\nrepresentative.", 
          "author": "pm-rhel@redhat.com", 
          "creation_time": "20110107T04:01:22", 
          "bug_id": "587393", 
          "creator_id": "193983", 
          "time": "20110107T04:01:22", 
          "id": "3459378", 
          "is_private": "False"
        }, 
        {
          "count": "7", 
          "creator": "syeghiay@redhat.com", 
          "text": "This request was erroneously denied for the current release of Red Hat\nEnterprise Linux.  The error has been fixed and this request has been\nre-proposed for the current release.", 
          "author": "syeghiay@redhat.com", 
          "creation_time": "20110107T16:24:23", 
          "bug_id": "587393", 
          "creator_id": "193262", 
          "time": "20110107T16:24:23", 
          "id": "3461766", 
          "is_private": "False"
        }, 
        {
          "count": "8", 
          "creator": "pm-rhel@redhat.com", 
          "text": "This request was evaluated by Red Hat Product Management for\ninclusion in the current release of Red Hat Enterprise Linux.\nBecause the affected component is not scheduled to be updated\nin the current release, Red Hat is unfortunately unable to\naddress this request at this time. Red Hat invites you to\nask your support representative to propose this request, if\nappropriate and relevant, in the next release of Red Hat\nEnterprise Linux. If you would like it considered as an\nexception in the current release, please ask your support\nrepresentative.", 
          "author": "pm-rhel@redhat.com", 
          "creation_time": "20110201T05:36:35", 
          "bug_id": "587393", 
          "creator_id": "193983", 
          "time": "20110201T05:36:35", 
          "id": "3511384", 
          "is_private": "False"
        }, 
        {
          "count": "9", 
          "creator": "pm-rhel@redhat.com", 
          "text": "This request was erroneously denied for the current release of\nRed Hat Enterprise Linux.  The error has been fixed and this\nrequest has been re-proposed for the current release.", 
          "author": "pm-rhel@redhat.com", 
          "creation_time": "20110201T18:18:36", 
          "bug_id": "587393", 
          "creator_id": "193983", 
          "time": "20110201T18:18:36", 
          "id": "3513599", 
          "is_private": "False"
        }, 
        {
          "count": "10", 
          "creator": "jwest@redhat.com", 
          "text": "I'm setting the exception flag.  This customer bug is filed against an approved component for 6.1 and needs devel review for inclusion in 6.1.", 
          "author": "jwest@redhat.com", 
          "creation_time": "20110202T16:47:03", 
          "bug_id": "587393", 
          "creator_id": "194553", 
          "time": "20110202T16:47:03", 
          "id": "3516045", 
          "is_private": "True"
        }, 
        {
          "count": "11", 
          "creator": "ovasik@redhat.com", 
          "text": "needs work on kernel part, moving to 6.2, it will not make it 6.1...", 
          "author": "ovasik@redhat.com", 
          "creation_time": "20110209T14:23:50", 
          "bug_id": "587393", 
          "creator_id": "213086", 
          "time": "20110209T14:23:50", 
          "id": "3528960", 
          "is_private": "True"
        }, 
        {
          "count": "12", 
          "creator": "tgummels@redhat.com", 
          "text": "Ondrej,\n\nKent Baxley no longer works with Red Hat as such I've cleared needsinfo.  Is there something specific you were needing from LLNL in regards to this case?\n\nTravis", 
          "author": "tgummels@redhat.com", 
          "creation_time": "20110331T18:43:02", 
          "bug_id": "587393", 
          "creator_id": "296684", 
          "time": "20110331T18:43:02", 
          "id": "3644030", 
          "is_private": "True"
        }, 
        {
          "count": "13", 
          "creator": "ovasik@redhat.com", 
          "text": "Travis,\nI just moved the needinfo from ''tao'' to Kent - as he was the requestor - needinfo was because of the comment #3 - kernel work is probably needed - so just repeating question from util-linux-ng maintainer: ''What is status of overlay mounts in kernel for RHEL-6.1?''", 
          "author": "ovasik@redhat.com", 
          "creation_time": "20110331T19:12:23", 
          "bug_id": "587393", 
          "creator_id": "213086", 
          "time": "20110331T19:12:23", 
          "id": "3644158", 
          "is_private": "True"
        }, 
        {
          "count": "14", 
          "creator": "tgummels@redhat.com", 
          "text": "=== In Red Hat Customer Portal Case 00318316 ===\n--- Comment by Gummels, Travis on 10/7/2011 3:05 PM ---\n\nLLNL is strongly requesting this functionality in RHEL 6 I have therefore raised severity/priority.", 
          "author": "tgummels@redhat.com", 
          "creation_time": "20111007T19:05:12", 
          "bug_id": "587393", 
          "creator_id": "296684", 
          "time": "20111007T19:05:12", 
          "id": "4067104", 
          "is_private": "True"
        }, 
        {
          "count": "15", 
          "creator": "rvokal@redhat.com", 
          "text": "Kernel part is stalled, dev_ack- for 6.3", 
          "author": "rvokal@redhat.com", 
          "creation_time": "20111206T11:26:57", 
          "bug_id": "587393", 
          "creator_id": "165188", 
          "time": "20111206T11:26:57", 
          "id": "4194187", 
          "is_private": "True"
        }, 
        {
          "count": "16", 
          "creator": "pm-rhel@redhat.com", 
          "text": "Development Management has reviewed and declined this request.  You may appeal\nthis decision by reopening this request.", 
          "author": "pm-rhel@redhat.com", 
          "creation_time": "20111206T11:45:11", 
          "bug_id": "587393", 
          "creator_id": "193983", 
          "time": "20111206T11:45:11", 
          "id": "4194348", 
          "is_private": "False"
        }, 
        {
          "count": "17", 
          "creator": "tgummels@redhat.com", 
          "text": "Re-opening and moving to RHEL 7.  LLNL wants to ensure this functionality exists in RHEL 7 should 519827 become satisfied in that release.", 
          "author": "tgummels@redhat.com", 
          "creation_time": "20120405T20:14:03", 
          "bug_id": "587393", 
          "creator_id": "296684", 
          "time": "20120405T20:14:03", 
          "id": "4577163", 
          "is_private": "True"
        }, 
        {
          "count": "18", 
          "creator": "pm-rhel@redhat.com", 
          "text": "Since this bug report was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.", 
          "author": "pm-rhel@redhat.com", 
          "creation_time": "20121213T18:57:34", 
          "bug_id": "587393", 
          "creator_id": "193983", 
          "time": "20121213T18:57:34", 
          "id": "5285977", 
          "is_private": "True"
        }, 
        {
          "count": "19", 
          "creator": "kzak@redhat.com", 
          "text": ".. still waiting for kernel part, probably no RHEL7.0", 
          "author": "kzak@redhat.com", 
          "creation_time": "20131212T08:45:52", 
          "bug_id": "587393", 
          "creator_id": "167998", 
          "time": "20131212T08:45:52", 
          "id": "6609253", 
          "is_private": "True"
        }, 
        {
          "count": "20", 
          "creator": "pm-rhel@redhat.com", 
          "text": "This request has been proposed for two releases.  This is invalid\nflag usage.  The higher numbered release flag has been cleared.\nIf you wish to change the release flag, you must clear one release\nflag and then set the other release flag to ?.", 
          "author": "pm-rhel@redhat.com", 
          "creation_time": "20140327T01:45:27", 
          "bug_id": "587393", 
          "creator_id": "193983", 
          "time": "20140327T01:45:27", 
          "id": "6956918", 
          "is_private": "True"
        }
      ], 
      "cf_show_homepage": "---", 
      "platform": "All", 
      "version": [
        "7.0"
      ], 
      "cc": [
        "dhowells@redhat.com", 
        "ovasik@redhat.com", 
        "pbatkowski@redhat.com", 
        "rvokal@redhat.com", 
        "rwheeler@redhat.com", 
        "tao@redhat.com", 
        "tgummels@redhat.com"
      ], 
      "cf_verified": [], 
      "cf_cust_facing": "---", 
      "cf_environment": "", 
      "status": "ASSIGNED", 
      "classification": "Red Hat", 
      "cf_verified_branch": "", 
      "blocks": [
        "519827", 
        "662543", 
        "859274", 
        "756082"
      ], 
      "qa_contact": "qe-baseos-daemons@redhat.com", 
      "tags": [], 
      "see_also": [], 
      "component": [
        "util-linux"
      ], 
      "remaining_time": "0.0", 
      "sub_components": {}, 
      "cf_pgm_internal": "", 
      "cf_doc_type": "Enhancement", 
      "cf_clone_of": "0", 
      "groups": [
        "devel", 
        "llnl", 
        "qa", 
        "rhel_beta", 
        "rhn", 
        "support"
      ], 
      "cf_documentation_action": "---", 
      "cf_internal_whiteboard": "ptam", 
      "target_milestone": "rc", 
      "cf_devel_whiteboard": "", 
      "is_cc_accessible": "True", 
      "cf_type": "---", 
      "cf_category": "---", 
      "url": "", 
      "cf_build_id": "", 
      "whiteboard": "", 
      "cf_crm": "", 
      "summary": "[RFE] Make sure util-linux is ready for writable overlays", 
      "alias": [
        "unionmount.util-linux"
      ], 
      "op_sys": "Linux", 
      "flags": [
        {
          "status": "?", 
          "name": "rhel-7.0.0", 
          "modification_date": "20121213T18:57:31", 
          "type_id": "245", 
          "is_active": "1", 
          "creation_date": "20121213T18:57:31", 
          "id": "1215073", 
          "setter": "pm-rhel@redhat.com"
        }, 
        {
          "status": "?", 
          "name": "pm_ack", 
          "modification_date": "20100429T19:30:10", 
          "type_id": "11", 
          "is_active": "1", 
          "creation_date": "20100429T19:30:10", 
          "id": "597770", 
          "setter": "pbatkowski@redhat.com"
        }, 
        {
          "status": "-", 
          "name": "devel_ack", 
          "modification_date": "20131212T08:45:52", 
          "type_id": "10", 
          "is_active": "1", 
          "creation_date": "20121213T21:32:59", 
          "id": "1217184", 
          "setter": "kzak@redhat.com"
        }, 
        {
          "status": "?", 
          "name": "qa_ack", 
          "modification_date": "20121213T22:09:52", 
          "type_id": "9", 
          "is_active": "1", 
          "creation_date": "20121213T22:09:52", 
          "id": "1218092", 
          "setter": "pm-rhel@redhat.com"
        }
      ], 
      "last_change_time": "20140501T13:50:48", 
      "assigned_to": "kzak@redhat.com", 
      "update_token": "1403539483-TLoG_cm4trczEdb39LtAdrS3PO-6Swl8-w2Fr0W0SWA", 
      "cf_partner": [], 
      "cf_last_closed": "20111206T11:45:11", 
      "resolution": "", 
      "cf_mount_type": "---", 
      "cf_layered_products": []
    }, 
    {
      "cf_qe_conditional_nak": [
        "Requirements"
      ], 
      "cf_story_points": "---", 
      "cf_pm_score": "100", 
      "estimated_time": "0.0", 
      "depends_on": [], 
      "cf_regression_status": "---", 
      "cf_conditional_nak": [], 
      "creation_time": "20100429T19:33:00", 
      "product": "Red Hat Enterprise Linux 7", 
      "actual_time": "0.0", 
      "docs_contact": "", 
      "is_open": "True", 
      "keywords": [
        "FutureFeature", 
        "Reopened", 
        "Triaged"
      ], 
      "target_release": [
        "---"
      ], 
      "external_bugs": [
        {
          "ext_status": "Waiting on Red Hat", 
          "ext_bz_bug_id": "00379096", 
          "bug_id": "587396", 
          "ext_description": "RHEL 7 RFE Tracker for Val Aurora's Union mounts (a.k.a., writable overlays)", 
          "ext_priority": "3 (Normal)", 
          "ext_bz_id": "60", 
          "type": {
            "must_send": "True", 
            "description": "Red Hat Customer Portal", 
            "url": "https://access.redhat.com", 
            "can_get": "True", 
            "id": "60", 
            "can_send": "True", 
            "send_once": "True", 
            "type": "SFDC", 
            "full_url": "https://access.redhat.com/support/cases/%id%"
          }, 
          "id": "108746"
        }
      ], 
      "id": "587396", 
      "cf_release_notes": "", 
      "priority": "high", 
      "severity": "high", 
      "is_confirmed": "True", 
      "is_creator_accessible": "True", 
      "cf_fixed_in": "", 
      "creator": "tao@redhat.com", 
      "comments": [
        {
          "count": "0", 
          "creator": "tao@redhat.com", 
          "text": "Escalated to Bugzilla from IssueTracker", 
          "author": "tao@redhat.com", 
          "creation_time": "20100429T19:33:07", 
          "bug_id": "587396", 
          "creator_id": "80926", 
          "time": "20100429T19:33:07", 
          "id": "2815028", 
          "is_private": "False"
        }, 
        {
          "count": "1", 
          "creator": "tao@redhat.com", 
          "text": "Event posted on 04-27-2010 12:37pm EDT by kbaxley\n\nCustomer name: LLNL(HPC)\n\nRequestor email: kbaxley@redhat.com\n\nIT# 816853\n\n*Nature of problem :\n\nEnsure nfs-utils is patched so that it works with the writable overlay FS\nfrom Val Aurora, currently scheduled to go into RHEL6.1\n\nhttp://valerieaurora.org/union/\n\nWe already have an RFE and BZ filed for the filesystem itself:\n\nhttps://enterprise.redhat.com/issue-tracker/?module=issues&action=view&tid=403193\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=519827\n\n\n*Business requirements satisfied by request:\n\nLLNL has a large stake in testing and deploying this filesystem, and we\nneed to make sure all the pieces and parts are in place so this works on\nRHEL6.1.\n\n\n*Functional requirements not presently possible:\n\nnfs-utils hasn't been patched yet for this filesystem\n\n*What success will look like:\n\nnfs-utils is patched so that it works with this new filesystem\n\n*Desired release vehicle:\n\nRHEL6.1\n\n*Meets RHEL Inclusion Criteria: Yes\n\n*Packages affected:\nnfs-utils\n\n\nIssue escalated to SEG - Feature Request by: kbaxley.\nInternal Status set to 'Waiting on SEG'\n\nThis event sent from IssueTracker by pbatkowski  [SEG - Feature Request]\n issue 816853", 
          "author": "tao@redhat.com", 
          "creation_time": "20100429T19:33:08", 
          "bug_id": "587396", 
          "creator_id": "80926", 
          "time": "20100429T19:33:08", 
          "id": "2815029", 
          "is_private": "False"
        }, 
        {
          "count": "2", 
          "creator": "steved@redhat.com", 
          "text": "(In reply to comment #1)\n> Event posted on 04-27-2010 12:37pm EDT by kbaxley\n> \n> Customer name: LLNL(HPC)\n> \n> Requestor email: kbaxley@redhat.com\n> \n> IT# 816853\n> \n> *Nature of problem :\n> \n> Ensure nfs-utils is patched so that it works with the writable overlay FS\n> from Val Aurora, currently scheduled to go into RHEL6.1\n> \n> http://valerieaurora.org/union/\nI do not see any nfs-utils patches on this wiki\n\n> \n> We already have an RFE and BZ filed for the filesystem itself:\n> \n> https://enterprise.redhat.com/issue-tracker/?module=issues&action=view&tid=403193\nI do not have access to this link... I'm not a privilege one... :-(\n\n> \n> https://bugzilla.redhat.com/show_bug.cgi?id=519827\n> \n> \n> *Business requirements satisfied by request:\n> \n> LLNL has a large stake in testing and deploying this filesystem, and we\n> need to make sure all the pieces and parts are in place so this works on\n> RHEL6.1.\n> \n> \n> *Functional requirements not presently possible:\n> \n> nfs-utils hasn't been patched yet for this filesystem\n> \n> *What success will look like:\n> \n> nfs-utils is patched so that it works with this new filesystem\nWhat patches are you talking about??", 
          "author": "steved@redhat.com", 
          "creation_time": "20101129T17:47:39", 
          "bug_id": "587396", 
          "creator_id": "136230", 
          "time": "20101129T17:47:39", 
          "id": "3380497", 
          "is_private": "False"
        }, 
        {
          "count": "3", 
          "creator": "rwheeler@redhat.com", 
          "text": "We will get this done if upstream settles on union mounts (and we need to tweak something here).\n\nI don't see a reason that nfs-utils would be changed here?", 
          "author": "rwheeler@redhat.com", 
          "creation_time": "20101129T18:18:25", 
          "bug_id": "587396", 
          "creator_id": "266225", 
          "time": "20101129T18:18:25", 
          "id": "3380552", 
          "is_private": "False"
        }, 
        {
          "count": "4", 
          "creator": "ssaha@redhat.com", 
          "text": "Deferring to RHEL 6.2 for evaluation if the union mounts contribution settles upstream in that time-frame.", 
          "author": "ssaha@redhat.com", 
          "creation_time": "20101129T18:46:44", 
          "bug_id": "587396", 
          "creator_id": "297421", 
          "time": "20101129T18:46:44", 
          "id": "3380626", 
          "is_private": "False"
        }, 
        {
          "count": "5", 
          "creator": "tgummels@redhat.com", 
          "text": "Hi Steve,\n\nissue-tracker has been replaced by salesforce, new case id is 00323823, direct link is https://c.na7.visual.force.com/apex/Case_View?id=500A00000043Hr7 \n\nSee also BZ 519827.  \n\nRight now LLNL uses the unsupported AUFS and they have to patch their kernel with this to make their diskless systems work.  They want to use the RH supported writable overlays.", 
          "author": "tgummels@redhat.com", 
          "creation_time": "20101129T19:01:14", 
          "bug_id": "587396", 
          "creator_id": "296684", 
          "time": "20101129T19:01:14", 
          "id": "3380664", 
          "is_private": "True"
        }, 
        {
          "count": "6", 
          "creator": "rwheeler@redhat.com", 
          "text": "Hi Travis,\n\nthe union mount work is still a priority, but is unlikely to land in time for 6.1 (although we are pushing hard for it :))", 
          "author": "rwheeler@redhat.com", 
          "creation_time": "20101129T19:18:48", 
          "bug_id": "587396", 
          "creator_id": "266225", 
          "time": "20101129T19:18:48", 
          "id": "3380689", 
          "is_private": "True"
        }, 
        {
          "count": "7", 
          "creator": "tgummels@redhat.com", 
          "text": "I have updated the component and title for this BZ and everything should now make sense.  The patches for util-linux-ng ARE on Val's site :)", 
          "author": "tgummels@redhat.com", 
          "creation_time": "20101129T19:43:56", 
          "bug_id": "587396", 
          "creator_id": "296684", 
          "time": "20101129T19:43:56", 
          "id": "3380751", 
          "is_private": "True"
        }, 
        {
          "count": "8", 
          "creator": "kzak@redhat.com", 
          "text": "\n\n*** This bug has been marked as a duplicate of bug 587393 ***", 
          "author": "kzak@redhat.com", 
          "creation_time": "20101129T19:57:48", 
          "bug_id": "587396", 
          "creator_id": "167998", 
          "time": "20101129T19:57:48", 
          "id": "3380825", 
          "is_private": "False"
        }, 
        {
          "count": "9", 
          "creator": "tgummels@redhat.com", 
          "text": "I incorrectly associated this BZ with util-linux-ng resulting its closure as a duplicate.  This case needs to be reopened to have nfs-utils updated to work with Union Mounts.  I had the following email correspondence with Val Aurora before her departure verifying that nfs-utils would need updating:\n\nFrom: ''Valerie Aurora'' <vaurora@redhat.com>\nTo: ''Travis Gummels'' <tgummels@redhat.com>\nSent: Monday, November 29, 2010 4:50:14 PM\nSubject: Re: unionfs and nfs-utils\n\nHi Travis,\n\nMore than likely, nfs-utils will need updates for union mounts (not quite the same as unionfs).  However, I haven't gotten agreement from the NFS maintainers on what changes those are.\n\n-VAL\n\nOn Mon, Nov 29, 2010 at 03:30:07PM -0500, Travis Gummels wrote:\nHi Val,\n \nI work with Ben on the LLNL account (I'm the TAM).  There is/was some general confusion on a nfs-util BZ that had been logged for getting support for unionfs which I may have mistakenly gotten closed out as a duplicate for util-linux-ng.  Pays to read the entire case, found your email below after the fact.  Would the NFS utils really need to be updated for unionfs?  For NFS exporting?(http://lwn.net/Articles/327738/) I'm dense here so I have to ask.  Any assistance appreciated.\n \n Thanks\n Travis\n \n> From: Valerie Aurora <vaurora@redhat.com>\n> To: Ben Woodard <woodard@redhat.com>\n> Subject: Re: writable overlays for LLNL\n> Date: Mon, 26 Apr 2010 19:47:57 -0400\n> User-Agent: Mutt/1.4.2.2i\n> \n> > Does the e2fsprogs in RHEL6 have your patches? Have you thought at all of how this is going to be packaged? Are you going to supply a RHEL6 RPM or do you need one made?  \n> \n> e2fsprogs, util-linux-ng, and very likely NFS utils will need to be\n> updated.  I don't think about packaging at all. :) Seriously, I work\n> completely upstream and I have no idea how this stuff is done.", 
          "author": "tgummels@redhat.com", 
          "creation_time": "20110114T19:36:43", 
          "bug_id": "587396", 
          "creator_id": "296684", 
          "time": "20110114T19:36:43", 
          "id": "3480140", 
          "is_private": "True"
        }, 
        {
          "count": "10", 
          "creator": "tgummels@redhat.com", 
          "text": "The component for this case needs to be nfs-utils as noted in comment 9.  Changing to nfs-utils.", 
          "author": "tgummels@redhat.com", 
          "creation_time": "20110311T21:04:20", 
          "bug_id": "587396", 
          "creator_id": "296684", 
          "time": "20110311T21:04:20", 
          "id": "3588526", 
          "is_private": "True"
        }, 
        {
          "count": "11", 
          "creator": "ssaha@redhat.com", 
          "text": "Writable overlays still did not settle upstream. Moving out to RHEL 6.3.", 
          "author": "ssaha@redhat.com", 
          "creation_time": "20110527T12:44:16", 
          "bug_id": "587396", 
          "creator_id": "297421", 
          "time": "20110527T12:44:16", 
          "id": "3764505", 
          "is_private": "True"
        }, 
        {
          "count": "12", 
          "creator": "steved@redhat.com", 
          "text": "Moving to 6.3 just to get it off the TODO list...", 
          "author": "steved@redhat.com", 
          "creation_time": "20110812T14:42:49", 
          "bug_id": "587396", 
          "creator_id": "136230", 
          "time": "20110812T14:42:49", 
          "id": "3952388", 
          "is_private": "True"
        }, 
        {
          "count": "13", 
          "creator": "tgummels@redhat.com", 
          "text": "=== In Red Hat Customer Portal Case 00318319 ===\n--- Comment by Gummels, Travis on 10/7/2011 2:54 PM ---\n\nLLNL is strongly requesting this functionality in RHEL 6 I have therefore raised severity/priority and added gss_6_3_proposed blocker in their interest.", 
          "author": "tgummels@redhat.com", 
          "creation_time": "20111007T18:55:06", 
          "bug_id": "587396", 
          "creator_id": "296684", 
          "time": "20111007T18:55:06", 
          "id": "4067079", 
          "is_private": "True"
        }, 
        {
          "count": "14", 
          "creator": "tgummels@redhat.com", 
          "text": "=== In Red Hat Customer Portal Case 00318319 ===\n--- Comment by Gummels, Travis on 10/7/2011 3:02 PM ---\n\nMistakenly added blocker, removed.", 
          "author": "tgummels@redhat.com", 
          "creation_time": "20111007T19:02:59", 
          "bug_id": "587396", 
          "creator_id": "296684", 
          "time": "20111007T19:02:59", 
          "id": "4067094", 
          "is_private": "True"
        }, 
        {
          "count": "15", 
          "creator": "steved@redhat.com", 
          "text": "Has there been any movement in this in upstream? If no, I would like to close this bug and move on...", 
          "author": "steved@redhat.com", 
          "creation_time": "20120229T15:59:47", 
          "bug_id": "587396", 
          "creator_id": "136230", 
          "time": "20120229T15:59:47", 
          "id": "4484110", 
          "is_private": "True"
        }, 
        {
          "count": "16", 
          "creator": "rwheeler@redhat.com", 
          "text": "David has picked up the union mount work for us and has been making some progress with Al Viro.\n\nI don't know what is needed in the nfs-utils space & suspect that this will be address only in RHEL7 at this point.\n\nThat means that we can probably close this BZ against RHEL6 at least.", 
          "author": "rwheeler@redhat.com", 
          "creation_time": "20120229T16:26:45", 
          "bug_id": "587396", 
          "creator_id": "266225", 
          "time": "20120229T16:26:45", 
          "id": "4484190", 
          "is_private": "True"
        }, 
        {
          "count": "17", 
          "creator": "tgummels@redhat.com", 
          "text": "Re-opening and moving to RHEL 7.  LLNL wants to ensure this functionality exists in RHEL 7 should 519827 become satisfied in that release.", 
          "author": "tgummels@redhat.com", 
          "creation_time": "20120405T21:24:44", 
          "bug_id": "587396", 
          "creator_id": "296684", 
          "time": "20120405T21:24:44", 
          "id": "4577249", 
          "is_private": "True"
        }, 
        {
          "count": "18", 
          "creator": "steved@redhat.com", 
          "text": "David,\n\nHas there been any movement on the union mount work in upstream? Is there any chance union mounts will make it into RHEL7??", 
          "author": "steved@redhat.com", 
          "creation_time": "20120508T19:41:24", 
          "bug_id": "587396", 
          "creator_id": "136230", 
          "time": "20120508T19:41:24", 
          "id": "4658874", 
          "is_private": "True"
        }, 
        {
          "count": "19", 
          "creator": "pm-rhel@redhat.com", 
          "text": "Since this bug report was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.", 
          "author": "pm-rhel@redhat.com", 
          "creation_time": "20121213T18:55:50", 
          "bug_id": "587396", 
          "creator_id": "193983", 
          "time": "20121213T18:55:50", 
          "id": "5285946", 
          "is_private": "True"
        }, 
        {
          "count": "20", 
          "creator": "sgreen@redhat.com", 
          "text": "User fs-qe@redhat.com's account has been closed", 
          "author": "sgreen@redhat.com", 
          "creation_time": "20130304T00:23:35", 
          "bug_id": "587396", 
          "creator_id": "303534", 
          "time": "20130304T00:23:35", 
          "id": "5564111", 
          "is_private": "True"
        }, 
        {
          "count": "21", 
          "creator": "sgreen@redhat.com", 
          "text": "User fs-qe@redhat.com's account has been closed", 
          "author": "sgreen@redhat.com", 
          "creation_time": "20130304T00:26:06", 
          "bug_id": "587396", 
          "creator_id": "303534", 
          "time": "20130304T00:26:06", 
          "id": "5564211", 
          "is_private": "True"
        }, 
        {
          "count": "22", 
          "creator": "sgreen@redhat.com", 
          "text": "User fs-qe@redhat.com's account has been closed", 
          "author": "sgreen@redhat.com", 
          "creation_time": "20130304T00:27:32", 
          "bug_id": "587396", 
          "creator_id": "303534", 
          "time": "20130304T00:27:32", 
          "id": "5564312", 
          "is_private": "True"
        }, 
        {
          "count": "23", 
          "creator": "pm-rhel@redhat.com", 
          "text": "This request has been proposed for two releases.  This is invalid\nflag usage.  The higher numbered release flag has been cleared.\nIf you wish to change the release flag, you must clear one release\nflag and then set the other release flag to ?.", 
          "author": "pm-rhel@redhat.com", 
          "creation_time": "20140327T01:45:18", 
          "bug_id": "587396", 
          "creator_id": "193983", 
          "time": "20140327T01:45:18", 
          "id": "6956917", 
          "is_private": "True"
        }
      ], 
      "cf_show_homepage": "---", 
      "platform": "All", 
      "version": [
        "7.0"
      ], 
      "cc": [
        "dhowells@redhat.com", 
        "pbatkowski@redhat.com", 
        "rwheeler@redhat.com", 
        "ssaha@redhat.com", 
        "tao@redhat.com", 
        "tgummels@redhat.com"
      ], 
      "cf_verified": [], 
      "cf_cust_facing": "---", 
      "cf_environment": "", 
      "status": "ASSIGNED", 
      "classification": "Red Hat", 
      "cf_verified_branch": "", 
      "blocks": [
        "519827", 
        "727267", 
        "859274"
      ], 
      "qa_contact": "fs-qe@redhat.com", 
      "tags": [], 
      "see_also": [], 
      "component": [
        "nfs-utils"
      ], 
      "remaining_time": "0.0", 
      "sub_components": {}, 
      "cf_pgm_internal": "", 
      "cf_doc_type": "Enhancement", 
      "cf_clone_of": "0", 
      "groups": [
        "devel", 
        "llnl", 
        "qa", 
        "rhel_beta", 
        "rhn", 
        "support"
      ], 
      "cf_documentation_action": "---", 
      "cf_internal_whiteboard": "ptam", 
      "target_milestone": "rc", 
      "cf_devel_whiteboard": "", 
      "is_cc_accessible": "True", 
      "cf_type": "---", 
      "cf_category": "---", 
      "url": "", 
      "cf_build_id": "", 
      "whiteboard": "", 
      "cf_crm": "", 
      "summary": "[RFE] Make sure nfs-utils is ready for writable overlays", 
      "alias": [
        "unionmount.nfs-utils"
      ], 
      "op_sys": "Linux", 
      "flags": [
        {
          "requestee": "dhowells@redhat.com", 
          "status": "?", 
          "name": "needinfo", 
          "modification_date": "20120508T19:41:24", 
          "type_id": "16", 
          "is_active": "1", 
          "creation_date": "20120508T19:41:24", 
          "id": "1045138", 
          "setter": "steved@redhat.com"
        }, 
        {
          "status": "?", 
          "name": "rhel-7.0.0", 
          "modification_date": "20121213T18:55:47", 
          "type_id": "245", 
          "is_active": "1", 
          "creation_date": "20121213T18:55:47", 
          "id": "1215057", 
          "setter": "pm-rhel@redhat.com"
        }, 
        {
          "status": "?", 
          "name": "pm_ack", 
          "modification_date": "20120405T21:24:44", 
          "type_id": "11", 
          "is_active": "1", 
          "creation_date": "20100429T19:34:06", 
          "id": "597773", 
          "setter": "tgummels@redhat.com"
        }, 
        {
          "status": "?", 
          "name": "devel_ack", 
          "modification_date": "20121213T21:32:36", 
          "type_id": "10", 
          "is_active": "1", 
          "creation_date": "20121213T21:32:36", 
          "id": "1217176", 
          "setter": "pm-rhel@redhat.com"
        }, 
        {
          "status": "?", 
          "name": "qa_ack", 
          "modification_date": "20121213T22:09:28", 
          "type_id": "9", 
          "is_active": "1", 
          "creation_date": "20121213T22:09:28", 
          "id": "1218082", 
          "setter": "pm-rhel@redhat.com"
        }
      ], 
      "last_change_time": "20140501T13:50:54", 
      "assigned_to": "steved@redhat.com", 
      "update_token": "1403539483-k9Ry9wApvpNTd8KtHYDfpdy7KckEi2t2z91BptOFArs", 
      "cf_partner": [], 
      "cf_last_closed": "20120229T19:51:51", 
      "resolution": "", 
      "cf_mount_type": "---", 
      "cf_layered_products": []
    }, 
    {
      "cf_qe_conditional_nak": [], 
      "classification": "Red Hat", 
      "cf_pm_score": "10", 
      "estimated_time": "0.0", 
      "depends_on": [], 
      "cf_story_points": "---", 
      "cf_conditional_nak": [], 
      "creation_time": "20100907T15:26:00", 
      "actual_time": "0.0", 
      "docs_contact": "", 
      "is_open": "True", 
      "keywords": [], 
      "summary": "removal of all SCSI devices related to an unmapped LUN doesn't remove the multipath device mapping", 
      "external_bugs": [
        {
          "ext_status": "Closed", 
          "ext_bz_bug_id": "00817505", 
          "bug_id": "631009", 
          "ext_description": "failed to initiate removing of the disk", 
          "ext_priority": "3 (Normal)", 
          "ext_bz_id": "60", 
          "type": {
            "must_send": "True", 
            "description": "Red Hat Customer Portal", 
            "url": "https://access.redhat.com", 
            "can_get": "True", 
            "id": "60", 
            "can_send": "True", 
            "send_once": "True", 
            "type": "SFDC", 
            "full_url": "https://access.redhat.com/support/cases/%id%"
          }, 
          "id": "102195"
        }, 
        {
          "ext_status": "Closed", 
          "ext_bz_bug_id": "00813886", 
          "bug_id": "631009", 
          "ext_description": "Problem with SPM on RHEV-M", 
          "ext_priority": "1 (Urgent)", 
          "ext_bz_id": "60", 
          "type": {
            "must_send": "True", 
            "description": "Red Hat Customer Portal", 
            "url": "https://access.redhat.com", 
            "can_get": "True", 
            "id": "60", 
            "can_send": "True", 
            "send_once": "True", 
            "type": "SFDC", 
            "full_url": "https://access.redhat.com/support/cases/%id%"
          }, 
          "id": "124540"
        }, 
        {
          "ext_status": "Closed", 
          "ext_bz_bug_id": "00881925", 
          "bug_id": "631009", 
          "ext_description": "How to remove the storage fom the hypervisor after the SDs were destroind.", 
          "ext_priority": "3 (Normal)", 
          "ext_bz_id": "60", 
          "type": {
            "must_send": "True", 
            "description": "Red Hat Customer Portal", 
            "url": "https://access.redhat.com", 
            "can_get": "True", 
            "id": "60", 
            "can_send": "True", 
            "send_once": "True", 
            "type": "SFDC", 
            "full_url": "https://access.redhat.com/support/cases/%id%"
          }, 
          "id": "108712"
        }
      ], 
      "id": "631009", 
      "cf_release_notes": "Whenever a multipath device table was reloaded, udev would regather information about the device with blkid. If the device had no useable paths and was set to queue IO, this would cause blkid to hang forever, keeping the device open.  reloading a already existing multipath device no longer triggers these udev rules, so blkid no longer keeps failed devices open.", 
      "priority": "low", 
      "severity": "medium", 
      "is_confirmed": "True", 
      "is_creator_accessible": "True", 
      "cf_fixed_in": "", 
      "creator": "tsafir@il.ibm.com", 
      "comments": [
        {
          "count": "0", 
          "creator": "tsafir@il.ibm.com", 
          "text": "Description of problem:\nOn previous versions of RHEL, when unmapping a mapped LUN, deleting all the relevant /dev/sgXX devices would remove the multipath device mapping (/dev/mapper/mpathXX) automatically.\nNow 'multipath -f mpathXX' must be run in order for it to be removed.\nAlso noticed that if you run the multipath -f command prematurely, you get an\nerror 'map is in use', because there's a 'blkid' process running on the\nmpath device by udevd. Only after waiting for about 30 seconds you can run the\nmultipath -f command successfully.\n\nVersion-Release number of selected component (if applicable):\nmultipath-tools v0.4.9 (04/04, 2009)\n\nHow reproducible:\nUnmapping a mapped LUN and removing all the SCSI (/dev/sgXX) devices\n\nSteps to Reproduce:\n1. Unmap a LUN using storage management application.\n2. Delete all affected /dev/sgXX devices (e.g. by echoing 'scsi remove-single-device <hctl>' > /proc/scsi/scsi - using 'sg_map -x' and 'sg_turs <device>' to check which devices are erroneous).\n  \nActual results:\nrelevant /dev/dm-XX and /dev/mapper/mpathXX devices are not removed, and are unusable.\nOnly by waiting for about 30 seconds and then running 'multipath -f mpathXX' multipath device mapping is removed.\n\nExpected results:\nrelevant /dev/dm-XX and /dev/mapper/mpathXX devices are removed automatically\n\nAdditional info:\nNone.", 
          "author": "tsafir@il.ibm.com", 
          "creation_time": "20100907T15:26:16", 
          "bug_id": "631009", 
          "creator_id": "303563", 
          "time": "20100907T15:26:16", 
          "id": "3130179", 
          "is_private": "False"
        }, 
        {
          "count": "1", 
          "creator": "pm-rhel@redhat.com", 
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.", 
          "author": "pm-rhel@redhat.com", 
          "creation_time": "20100907T15:42:06", 
          "bug_id": "631009", 
          "creator_id": "193983", 
          "time": "20100907T15:42:06", 
          "id": "3130230", 
          "is_private": "True"
        }, 
        {
          "count": "2", 
          "creator": "bmarzins@redhat.com", 
          "text": "Can you give me more information about this? The only thing that has the multipath device open is blkid, correct?\n\nWhy is udev calling blkid on the multipath device when a scsi device is getting\nremoved? Were these scsi devices not working to start with? Is this blkid perhaps hung from the time when this multipath device was first created?\n\nCan you please attach the results of running\n\n# multipath -ll\n\nboth before and after removing the scsi devices?", 
          "author": "bmarzins@redhat.com", 
          "creation_time": "20100908T15:07:10", 
          "bug_id": "631009", 
          "creator_id": "156798", 
          "time": "20100908T15:07:10", 
          "id": "3135860", 
          "is_private": "False"
        }, 
        {
          "count": "3", 
          "creator": "tsafir@il.ibm.com", 
          "text": "Hi Ben,\nterribly sorry for the delay in answering this one...\n\nHave no idea why udev is calling blkid on the device.\nThese scsi devices were working, and it isn't hung from the time when the device was first created because it doesn't run until I perform the operation describe above (deleting all relevant /dev/sgXX devices).\n\n###### Mapped a new volume ######\n\n[root@rhel6Beta ~]# lsof /dev/mapper/mpatha # blkid isn't running just after mapping the volume\n\n[root@rhel6Beta ~]# multipath -ll\nmpathb (20017380000161f91) dm-0 IBM,2810XIV\nsize=144G features='1 queue_if_no_path' hwhandler='0' wp=rw\n`-+- policy='round-robin 0' prio=1 status=active\n  |- 1:0:1:1 sdb 8:16  active ready running\n  |- 1:0:2:1 sdc 8:32  active ready running\n  |- 1:0:3:1 sdd 8:48  active ready running\n  |- 2:0:1:1 sde 8:64  active ready running\n  |- 2:0:2:1 sdf 8:80  active ready running\n  `- 2:0:3:1 sdg 8:96  active ready running\nmpatha (20017380000163dcd) dm-6 IBM,2810XIV\nsize=16G features='1 queue_if_no_path' hwhandler='0' wp=rw\n`-+- policy='round-robin 0' prio=1 status=active\n  |- 1:0:3:2 sdj 8:144 active ready running\n  |- 1:0:1:2 sdh 8:112 active ready running\n  |- 1:0:2:2 sdi 8:128 active ready running\n  |- 2:0:3:2 sdm 8:192 active ready running\n  |- 2:0:2:2 sdl 8:176 active ready running\n  `- 2:0:1:2 sdk 8:160 active ready running\n\n###### Un-mapped the volume ######\n\n[root@rhel6Beta ~]# lsof /dev/mapper/mpatha #blkid still isn't running\n[root@rhel6Beta ~]# multipath -ll\nmpathb (20017380000161f91) dm-0 IBM,2810XIV\nsize=144G features='1 queue_if_no_path' hwhandler='0' wp=rw\n`-+- policy='round-robin 0' prio=1 status=active\n  |- 1:0:1:1 sdb 8:16  active ready  running\n  |- 1:0:2:1 sdc 8:32  active ready  running\n  |- 1:0:3:1 sdd 8:48  active ready  running\n  |- 2:0:1:1 sde 8:64  active ready  running\n  |- 2:0:2:1 sdf 8:80  active ready  running\n  `- 2:0:3:1 sdg 8:96  active ready  running\nmpatha (20017380000163dcd) dm-6 IBM,2810XIV\nsize=16G features='1 queue_if_no_path' hwhandler='0' wp=rw\n`-+- policy='round-robin 0' prio=0 status=active\n  |- 1:0:3:4 sdj 8:144 active faulty running\n  |- 1:0:1:4 sdh 8:112 active faulty running\n  |- 1:0:2:4 sdi 8:128 active faulty running\n  |- 2:0:3:4 sdm 8:192 active faulty running\n  |- 2:0:2:4 sdl 8:176 active faulty running\n  `- 2:0:1:4 sdk 8:160 active faulty running\n\n[root@rhel6Beta ~]# xiv_fc_admin -R # rescan, this will perform the operation described above of deleting faulty /dev/sgXX devices\n\n[root@rhel6Beta ~]# lsof /dev/mapper/mpatha\nCOMMAND   PID USER   FD   TYPE DEVICE    SIZE/OFF   NODE NAME\nblkid   18308 root    3r   BLK  253,6 0x3ffff0000 107910 /dev/mapper/../dm-6\n[root@rhel6Beta ~]# multipath -ll\nmpathb (20017380000161f91) dm-0 IBM,2810XIV\nsize=144G features='1 queue_if_no_path' hwhandler='0' wp=rw\n`-+- policy='round-robin 0' prio=1 status=active\n  |- 1:0:1:1 sdb 8:16 active ready running\n  |- 1:0:2:1 sdc 8:32 active ready running\n  |- 1:0:3:1 sdd 8:48 active ready running\n  |- 2:0:1:1 sde 8:64 active ready running\n  |- 2:0:2:1 sdf 8:80 active ready running\n  `- 2:0:3:1 sdg 8:96 active ready running\nmpatha (20017380000163dcd) dm-6 ,\nsize=16G features='1 queue_if_no_path' hwhandler='0' wp=rw\n`-+- policy='round-robin 0' prio=0 status=enabled\n  `- #:#:#:# -   #:#  failed faulty running\n\nHope this helps...", 
          "author": "tsafir@il.ibm.com", 
          "creation_time": "20101104T15:49:13", 
          "bug_id": "631009", 
          "creator_id": "303563", 
          "time": "20101104T15:49:13", 
          "id": "3267808", 
          "is_private": "False"
        }, 
        {
          "count": "4", 
          "creator": "tsafir@il.ibm.com", 
          "text": "Sorry about the LUN change (from 2 to 4) in the middle, output mixed from different runs, but I assure you except from that it's the same results.", 
          "author": "tsafir@il.ibm.com", 
          "creation_time": "20101104T15:52:24", 
          "bug_id": "631009", 
          "creator_id": "303563", 
          "time": "20101104T15:52:24", 
          "id": "3267829", 
          "is_private": "False"
        }, 
        {
          "count": "5", 
          "creator": "bmarzins@redhat.com", 
          "text": "My best guess at what's happening is this.\n\nWhen the scsi devices are deleted, multipath needs to reload the device with without that path. When this happens, a change uevent is triggered, which causes\nthe 13-dm-disk.rules udev rule to call blkid.\n\nWhen you are deleting all the scsi devices:\n\n1. multipathd receives a remove uevent for one of the scsi devices that make up a multipath device.\n2. multipathd removes the scsi device and reloads the multipath device without it.\n3. reloading the multipath device causes a change uevent to be sent for it\n4. 13-dm-disk.rules calls blkid on the multipath device that was reloaded, which hangs because there are no working paths and the multipath device is currently\nset to queue_if_no_path.\n5. multipathd receives a remove uevent for the last scsi device that makes up a multipath device, however the device cannot be removed, since blkid has it open.\n\n\nIn your case:\n6. The no_path_retry timeout expires, multipathd fails the blkid IO, and closes\nthe device. However, the uevent that should have removed the device has came and went.\n\nFor devices that don't set a timeout for no_path_retry, the IO will never get failed, and without manual intervention, blkid will never complete.\n\nWe need to try to avoid that blkid call. Also, I believe that udev sends out unmount messages. It would be nice for multipathd to remember when it failed to remove the device, so on umount it can try again.  This wouldn't help your\nspecific issue, since blkid doesn't have the device mounted, but when all paths are lost and the device is mounted, it would be nice if multipathd cleared it\nup on unmount.  Although possibly, this should be handled in the kernel so\nwe can catch all closes, not just the unmounts.", 
          "author": "bmarzins@redhat.com", 
          "creation_time": "20101104T18:06:32", 
          "bug_id": "631009", 
          "creator_id": "156798", 
          "time": "20101104T18:06:32", 
          "id": "3268371", 
          "is_private": "False"
        }, 
        {
          "count": "6", 
          "creator": "tsafir@il.ibm.com", 
          "text": "Hi Ben,\n\nWhat you said makes sense, however we don't have the 13-dm-disk.rules file you talked about and we couldn't find any other udev rule that calls blkid.\nSo where do you think that blkid call is coming from?\n\nIn general, when are you guys planning to resolve this issue?\nUntil then - is there a workaround we can do?\n\nThanks!", 
          "author": "tsafir@il.ibm.com", 
          "creation_time": "20101111T11:48:26", 
          "bug_id": "631009", 
          "creator_id": "303563", 
          "time": "20101111T11:48:26", 
          "id": "3299901", 
          "is_private": "False"
        }, 
        {
          "count": "7", 
          "creator": "bmarzins@redhat.com", 
          "text": "(In reply to comment #6)\n> Hi Ben,\n> \n> What you said makes sense, however we don't have the 13-dm-disk.rules file you\n> talked about and we couldn't find any other udev rule that calls blkid.\n> So where do you think that blkid call is coming from?\n\nHuh? you don't have\n\n/lib/udev/rules.d/13-dm-disk.rules\n\nwhat release are you using?\n\n> In general, when are you guys planning to resolve this issue?\n> Until then - is there a workaround we can do?\n\nIdeally multipath would have some mechanism for processes to request that their IO not be queued, even if the device was set to queue_if_no_path. Also, ideally, multipath would be able to remove devices on the last close, if the device had no paths.  The second on might be possible in the near term, but I'm doubtful.  The first one seems pretty unlikely to happen at all, unless there turns out to be an easy way to co-op something like O_NONBLOCK to do this, but I don't think so.\n\nA shorter term solution would be to make sure that blkid wasn't called on the\ndevice in this case. Another solution would be for multipathd to occasionally check devices with no paths to see if they can be deleted.  This would also handle the case where the device was intentially open when all the paths were\nlost. However it wouldn't help in the blkid case, if the device was set to\nqueue forever if there were no paths, and there would still be the lag waiting for blkid to fail in your case.  Possibly the best answer is to do both: Keep\nblkid from running on change events where we are simply removing paths, and\nmake multipathd occassionally check devices with no paths, to see if they can\nbe removed.\n\nAs for a workaround:\n\nIf you disable queue_if_no_paths in /etc/multipath.conf, by setting\n\nno_path_retry fail\n\nIn your devices section, or if you don't have one, in your defaults section. This should work around the problem, although there is a race, so it's possible that blkid won't have the device closed by the time the last path is removed.  However, this workaround will fail IOs whenever all of your paths are down.  You can avoid this by instead setting\n\nflush_on_last_del yes\n\nIn your defaults section.  This will turn off queueing when the last path is deleted.  This won't guarantee that the multipath device will be deleted.  There will be a much tigher race with this method. Also in RHEL6, the scsi layer will automatically delete devices that have been failed for dev_loss_tmo seconds. In order to make sure the you don't lose queueing when all your paths are down,\nyou can set\n\ndev_loss_tmo 60\nfast_io_fail_tmo 5\n\nin your defaults section.  This will cause the scsi layer to return IO from failed paths after 5 seconds, and remove the device after 60 seconds.  This\nmeans that flush_on_last_del will fire after the last path has been down for 60 seconds. Since it appears that your setup is already stopping queuing after 30 seconds, this shouldn't cause any change in how quickly your paths fail back\nthe queued IO.\n\nLet me know if either of these helps.\n\n> Thanks!", 
          "author": "bmarzins@redhat.com", 
          "creation_time": "20101112T18:26:38", 
          "bug_id": "631009", 
          "creator_id": "156798", 
          "time": "20101112T18:26:38", 
          "id": "3305205", 
          "is_private": "False"
        }, 
        {
          "count": "8", 
          "creator": "bmarzins@redhat.com", 
          "text": "*** Bug 649508 has been marked as a duplicate of this bug. ***", 
          "author": "bmarzins@redhat.com", 
          "creation_time": "20101115T04:20:08", 
          "bug_id": "631009", 
          "creator_id": "156798", 
          "time": "20101115T04:20:08", 
          "id": "3307475", 
          "is_private": "False"
        }, 
        {
          "count": "9", 
          "creator": "tsafir@il.ibm.com", 
          "text": "> Huh? you don't have\n> \n> /lib/udev/rules.d/13-dm-disk.rules\n> \n> what release are you using?\n> \n\nOops, turns out I do have it, looked in the wrong place...\n\n> no_path_retry fail\n> flush_on_last_del yes\n> dev_loss_tmo 60\n> fast_io_fail_tmo 5\n> \n> Let me know if either of these helps.\n> \n\nOK, so when setting all four of these, stuff works fine.\nBut when setting only the bottom three, leaving 'no_path_retry 5', the same problem still happens, which as you said means change in behavior when there are no paths available, and we don't want that...\n\nAny suggestions?", 
          "author": "tsafir@il.ibm.com", 
          "creation_time": "20101116T15:28:56", 
          "bug_id": "631009", 
          "creator_id": "303563", 
          "time": "20101116T15:28:56", 
          "id": "3312991", 
          "is_private": "False"
        }, 
        {
          "count": "10", 
          "creator": "bmarzins@redhat.com", 
          "text": "> But when setting only the bottom three, leaving 'no_path_retry 5', the same\n> problem still happens, which as you said means change in behavior when there\n> are no paths available, and we don't want that...\n> \n> Any suggestions?\n\nIn that case, until I write some code to make multipathd automatically prune these devices every so often, you'll need to manually run\n\n# mulipath -f\n\nafter the the device has stopped queuing. This bug is scheduled to get fixed in 6.1", 
          "author": "bmarzins@redhat.com", 
          "creation_time": "20101116T19:06:26", 
          "bug_id": "631009", 
          "creator_id": "156798", 
          "time": "20101116T19:06:26", 
          "id": "3313618", 
          "is_private": "False"
        }, 
        {
          "count": "11", 
          "creator": "agk@redhat.com", 
          "text": "Does the blkid call actually change anything, or just refresh information it already cached with identical information?  (Flags can be set on a reload to control which subset of udev rules is run.)\n\nPeter?", 
          "author": "agk@redhat.com", 
          "creation_time": "20110107T12:38:02", 
          "bug_id": "631009", 
          "creator_id": "156796", 
          "time": "20110107T12:38:02", 
          "id": "3460319", 
          "is_private": "False"
        }, 
        {
          "count": "12", 
          "creator": "agk@redhat.com", 
          "text": "And should blkid be changed to check that a device is accessible before trying to read from it?", 
          "author": "agk@redhat.com", 
          "creation_time": "20110107T12:39:55", 
          "bug_id": "631009", 
          "creator_id": "156796", 
          "time": "20110107T12:39:55", 
          "id": "3460321", 
          "is_private": "False"
        }, 
        {
          "count": "13", 
          "creator": "prajnoha@redhat.com", 
          "text": "(In reply to comment #11)\n> Does the blkid call actually change anything, or just refresh information it\n> already cached with identical information?  (Flags can be set on a reload to\n> control which subset of udev rules is run.)\n\nBlkid is just called on every change uevent unless it is flagged out explicitly by\nDM_UDEV_DISABLE_DISK_RULES_FLAG.\n\nI don't think there's any more information that blkid can acquire in this particular situation (if blkid hangs, other tools can't make any changes as well, hence blkid would not make any benefit from that scan either, I think).\n\nThen it's about identifying such situation in the rules directly somehow (like we already catch a few situations in 10-dm.rules). Or, if possible, setting the DM_UDEV_DISABLE_DISK_RULES_FLAG flag through libdevmapper on that device reload which generates the uevent, as you mention it.", 
          "author": "prajnoha@redhat.com", 
          "creation_time": "20110107T13:59:34", 
          "bug_id": "631009", 
          "creator_id": "271514", 
          "time": "20110107T13:59:34", 
          "id": "3460485", 
          "is_private": "False"
        }, 
        {
          "count": "14", 
          "creator": "prajnoha@redhat.com", 
          "text": "(..so identifying the last usable path that has just been removed)", 
          "author": "prajnoha@redhat.com", 
          "creation_time": "20110107T14:09:38", 
          "bug_id": "631009", 
          "creator_id": "271514", 
          "time": "20110107T14:09:38", 
          "id": "3460514", 
          "is_private": "False"
        }, 
        {
          "count": "15", 
          "creator": "bmarzins@redhat.com", 
          "text": "Multipath now sets DM_UDEV_DISABLE_DISK_RULES_FLAG when it's reloading the table after a path has been deleted.  This keeps blkid from firing at all in these cases.  There are still cases that could benefit from multipathd occasionally occassionally trying to remove devices that have no paths (or possibly monitoring\ncloses with inotify), but that work isn't happening for 6.1", 
          "author": "bmarzins@redhat.com", 
          "creation_time": "20110124T04:59:21", 
          "bug_id": "631009", 
          "creator_id": "156798", 
          "time": "20110124T04:59:21", 
          "id": "3495295", 
          "is_private": "False"
        }, 
        {
          "count": "16", 
          "creator": "errata-xmlrpc@redhat.com", 
          "text": "Bug report changed to ON_QA status by Errata System.\nA QE request has been submitted for advisory RHEA-2011:10716-01\nhttp://errata.devel.redhat.com/errata/show/10716", 
          "author": "errata-xmlrpc@redhat.com", 
          "creation_time": "20110201T19:21:00", 
          "bug_id": "631009", 
          "creator_id": "241731", 
          "time": "20110201T19:21:00", 
          "id": "3514124", 
          "is_private": "True"
        }, 
        {
          "count": "17", 
          "creator": "bmarzins@redhat.com", 
          "text": "The fix for this bug caused a regression (Bug 677937).  The problem is that if a multipath or kpartx device was created in the initramfs, the udev disk rules need to be run again after the actual root device is mounted to set up all the symlinks.  However, since the devices have already been created, this fix always sets DM_UDEV_DISABLE_DISK_RULES_FLAG, when it reloads them.  To solve this, I need an option to kpartx and multipath to let them override this behaviors.  This option will be used by rc.sysinit when it calls multipath and kpartx.", 
          "author": "bmarzins@redhat.com", 
          "creation_time": "20110221T22:27:07", 
          "bug_id": "631009", 
          "creator_id": "156798", 
          "time": "20110221T22:27:07", 
          "id": "3551347", 
          "is_private": "False"
        }, 
        {
          "count": "18", 
          "creator": "pm-rhel@redhat.com", 
          "text": "Since the release flag was set to ? after the qa_ack and pm_ack and devel_ack flags were set to + (was likely set for the previous release), the qa_ack and pm_ack and devel_ack flags have been reset to ? by the bugbot (pm-rhel). This action ensures the proper review by Product Management.", 
          "author": "pm-rhel@redhat.com", 
          "creation_time": "20110428T09:39:30", 
          "bug_id": "631009", 
          "creator_id": "193983", 
          "time": "20110428T09:39:30", 
          "id": "3703336", 
          "is_private": "True"
        }, 
        {
          "count": "19", 
          "creator": "tsafir@il.ibm.com", 
          "text": "Any news about this?\nI see RHEL 6.1 is out and this wasn't fixed yet...", 
          "author": "tsafir@il.ibm.com", 
          "creation_time": "20110522T08:43:26", 
          "bug_id": "631009", 
          "creator_id": "303563", 
          "time": "20110522T08:43:26", 
          "id": "3751227", 
          "is_private": "False"
        }, 
        {
          "count": "20", 
          "creator": "fge@redhat.com", 
          "text": "qa_ack+", 
          "author": "fge@redhat.com", 
          "creation_time": "20110614T01:42:31", 
          "bug_id": "631009", 
          "creator_id": "303525", 
          "time": "20110614T01:42:31", 
          "id": "3810610", 
          "is_private": "True"
        }, 
        {
          "count": "21", 
          "creator": "bmarzins@redhat.com", 
          "text": "multipath and kpartx now have a -u option that will force the udev dm-disk rules to be run for reloads of existing devices.", 
          "author": "bmarzins@redhat.com", 
          "creation_time": "20110630T05:53:28", 
          "bug_id": "631009", 
          "creator_id": "156798", 
          "time": "20110630T05:53:28", 
          "id": "3858512", 
          "is_private": "False"
        }, 
        {
          "count": "22", 
          "creator": "bmarzins@redhat.com", 
          "text": "\n    Technical note added. If any revisions are required, please edit the ''Technical Notes'' field\n    accordingly. All revisions will be proofread by the Engineering Content Services team.\n    \n    New Contents:\nWhenever a multipath device table was reloaded, udev would regather information about the device with blkid. If the device had no useable paths and was set to queue IO, this would cause blkid to hang forever, keeping the device open.  reloading a already existing multipath device no longer triggers these udev rules, so blkid no longer keeps failed devices open.", 
          "author": "bmarzins@redhat.com", 
          "creation_time": "20110814T21:06:16", 
          "bug_id": "631009", 
          "creator_id": "156798", 
          "time": "20110814T21:06:16", 
          "id": "3954213", 
          "is_private": "False"
        }, 
        {
          "count": "23", 
          "creator": "errata-xmlrpc@redhat.com", 
          "text": "Bug report changed from MODIFIED to ON_QA status by the Errata System: \nAdvisory RHEA-2011:11729-01: \nhttp://errata.devel.redhat.com/errata/stateview/11729", 
          "author": "errata-xmlrpc@redhat.com", 
          "creation_time": "20110816T01:48:37", 
          "bug_id": "631009", 
          "creator_id": "241731", 
          "time": "20110816T01:48:37", 
          "id": "3957068", 
          "is_private": "True"
        }, 
        {
          "count": "24", 
          "creator": "bmarzins@redhat.com", 
          "text": "Even with the -u option, the fix for this caused yet another regression.  Apparently, if blkid doesn't run every time the device gets a change event, that information is removed from the udev database.  This causes utilities that rely on the udev database for information about the device to not work correctly.  So, I'm backing this fix out.  I should be possible to have the 13-dm-disk.rules fix this by calling IMPORT{db} to repopulate the udev database when a change even comes in with DM_UDEV_DISABLE_DISK_RULES_FLAG", 
          "author": "bmarzins@redhat.com", 
          "creation_time": "20111006T18:19:37", 
          "bug_id": "631009", 
          "creator_id": "156798", 
          "time": "20111006T18:19:37", 
          "id": "4064054", 
          "is_private": "False"
        }, 
        {
          "count": "25", 
          "creator": "pm-rhel@redhat.com", 
          "text": "Since the release flag was set to ? after the qa_ack and pm_ack and devel_ack flags were set to + (was likely set for the previous release), the qa_ack and pm_ack and devel_ack flags have been reset to ? by the bugbot (pm-rhel). This action ensures the proper review by Product Management.", 
          "author": "pm-rhel@redhat.com", 
          "creation_time": "20111102T16:17:27", 
          "bug_id": "631009", 
          "creator_id": "193983", 
          "time": "20111102T16:17:27", 
          "id": "4123751", 
          "is_private": "True"
        }, 
        {
          "count": "26", 
          "creator": "pm-rhel@redhat.com", 
          "text": "Since the release flag was set to ? after the qa_ack and pm_ack and devel_ack flags were set to + (was likely set for the previous release), the qa_ack and pm_ack and devel_ack flags have been reset to ? by the bugbot (pm-rhel). This action ensures the proper review by Product Management.", 
          "author": "pm-rhel@redhat.com", 
          "creation_time": "20120620T12:21:01", 
          "bug_id": "631009", 
          "creator_id": "193983", 
          "time": "20120620T12:21:01", 
          "id": "4843695", 
          "is_private": "True"
        }, 
        {
          "count": "27", 
          "creator": "lsmid@redhat.com", 
          "text": "Since the release flag was set to ? after the pm_ack flag was set to + (was likely set for the previous release), the pm_ack flag has been reset to ? by the bugbot (pm-rhel). This action ensures the proper review by Product Management.", 
          "author": "lsmid@redhat.com", 
          "creation_time": "20130307T13:43:02", 
          "bug_id": "631009", 
          "creator_id": "197253", 
          "time": "20130307T13:43:02", 
          "id": "5577433", 
          "is_private": "True"
        }, 
        {
          "count": "28", 
          "creator": "bmarzins@redhat.com", 
          "text": "This occurrence of this issue has been greatly reduced. Fixing this issue completely involves having the waiter daemon occasionally check devices with no\npaths, to see if they can be removed.  This is work that should get done in RHEL7 first, and then possibly backported to RHEL6.", 
          "author": "bmarzins@redhat.com", 
          "creation_time": "20130507T16:27:09", 
          "bug_id": "631009", 
          "creator_id": "156798", 
          "time": "20130507T16:27:09", 
          "id": "5892198", 
          "is_private": "False"
        }, 
        {
          "count": "29", 
          "creator": "pm-rhel@redhat.com", 
          "text": "Since this bug report was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.", 
          "author": "pm-rhel@redhat.com", 
          "creation_time": "20130507T16:48:34", 
          "bug_id": "631009", 
          "creator_id": "193983", 
          "time": "20130507T16:48:34", 
          "id": "5892262", 
          "is_private": "True"
        }, 
        {
          "count": "30", 
          "creator": "bmarzins@redhat.com", 
          "text": "This will actually get handled using the new DM_DEFERRED_REMOVE flag.\n\nhttp://www.redhat.com/archives/dm-devel/2013-September/msg00074.html", 
          "author": "bmarzins@redhat.com", 
          "creation_time": "20131108T01:13:25", 
          "bug_id": "631009", 
          "creator_id": "156798", 
          "time": "20131108T01:13:25", 
          "id": "6500260", 
          "is_private": "False"
        }
      ], 
      "cf_show_homepage": "---", 
      "platform": "All", 
      "version": [
        "7.0"
      ], 
      "cc": [
        "agk@redhat.com", 
        "batkisso@redhat.com", 
        "bdonahue@redhat.com", 
        "bmarzins@redhat.com", 
        "christophe.varoqui@free.fr", 
        "dwysocha@redhat.com", 
        "egoggin@vmware.com", 
        "fge@redhat.com", 
        "heinzm@redhat.com", 
        "iheim@redhat.com", 
        "j-nomura@ce.jp.nec.com", 
        "k-ueda@ct.jp.nec.com", 
        "lmb@suse.de", 
        "msnitzer@redhat.com", 
        "nobody@redhat.com", 
        "pavel@zhukoff.net", 
        "pep@redhat.com", 
        "prajnoha@redhat.com", 
        "prockai@redhat.com", 
        "soc@redhat.com", 
        "tranlan@us.ibm.com", 
        "tvvcox@redhat.com"
      ], 
      "cf_verified": [
        "FailedQA"
      ], 
      "cf_cust_facing": "No", 
      "cf_regression_status": "---", 
      "cf_environment": "", 
      "status": "ASSIGNED", 
      "product": "Red Hat Enterprise Linux 7", 
      "cf_verified_branch": "", 
      "blocks": [
        "645519", 
        "620148", 
        "730389", 
        "756082", 
        "952099"
      ], 
      "qa_contact": "kernel-qe@redhat.com", 
      "tags": [], 
      "see_also": [], 
      "component": [
        "device-mapper-multipath"
      ], 
      "remaining_time": "0.0", 
      "sub_components": {}, 
      "cf_pgm_internal": "", 
      "cf_doc_type": "Bug Fix", 
      "cf_clone_of": "0", 
      "groups": [], 
      "cf_documentation_action": "---", 
      "cf_internal_whiteboard": "", 
      "target_milestone": "rc", 
      "cf_devel_whiteboard": "", 
      "is_cc_accessible": "True", 
      "cf_type": "---", 
      "cf_category": "---", 
      "url": "", 
      "cf_build_id": "", 
      "whiteboard": "", 
      "cf_crm": "", 
      "target_release": [
        "---"
      ], 
      "alias": [], 
      "op_sys": "Linux", 
      "flags": [
        {
          "status": "?", 
          "name": "qe_test_coverage", 
          "modification_date": "20111222T16:26:02", 
          "type_id": "318", 
          "is_active": "1", 
          "creation_date": "20111222T16:26:02", 
          "id": "950405", 
          "setter": "pm-rhel@redhat.com"
        }, 
        {
          "status": "?", 
          "name": "rhel-7.0.0", 
          "modification_date": "20130507T16:48:31", 
          "type_id": "245", 
          "is_active": "1", 
          "creation_date": "20130507T16:48:31", 
          "id": "1339804", 
          "setter": "pm-rhel@redhat.com"
        }, 
        {
          "status": "+", 
          "name": "pm_ack", 
          "modification_date": "20130808T05:16:36", 
          "type_id": "11", 
          "is_active": "1", 
          "creation_date": "20100907T15:55:49", 
          "id": "675093", 
          "setter": "pm-rhel@redhat.com"
        }, 
        {
          "status": "?", 
          "name": "devel_ack", 
          "modification_date": "20120620T12:20:58", 
          "type_id": "10", 
          "is_active": "1", 
          "creation_date": "20101029T21:51:09", 
          "id": "702583", 
          "setter": "pm-rhel@redhat.com"
        }, 
        {
          "status": "?", 
          "name": "qa_ack", 
          "modification_date": "20120620T12:20:58", 
          "type_id": "9", 
          "is_active": "1", 
          "creation_date": "20101115T04:25:41", 
          "id": "721805", 
          "setter": "pm-rhel@redhat.com"
        }
      ], 
      "last_change_time": "20140618T07:22:30", 
      "assigned_to": "lvm-team@redhat.com", 
      "update_token": "1403539483-RId4AbH0R5XhNpj9Jg4ULdz9jvpf2ED-lFh0O8BZvKw", 
      "cf_partner": [], 
      "resolution": "", 
      "cf_mount_type": "---", 
      "cf_layered_products": []
    }, 
    {
      "cf_qe_conditional_nak": [], 
      "cf_story_points": "---", 
      "cf_pm_score": "50", 
      "estimated_time": "0.0", 
      "depends_on": [], 
      "cf_regression_status": "---", 
      "cf_conditional_nak": [], 
      "creation_time": "20110414T09:18:00", 
      "product": "Red Hat Enterprise Linux 7", 
      "actual_time": "0.0", 
      "docs_contact": "", 
      "is_open": "True", 
      "keywords": [
        "FutureFeature", 
        "Reopened", 
        "Triaged"
      ], 
      "target_release": [
        "---"
      ], 
      "external_bugs": [
        {
          "ext_status": "Closed", 
          "ext_bz_bug_id": "00443927", 
          "bug_id": "696543", 
          "ext_description": "RFE: Using Digitally Signed Binaries to control the execution of particular binaries on a RHEL system", 
          "ext_priority": "3 (Normal)", 
          "ext_bz_id": "60", 
          "type": {
            "must_send": "True", 
            "description": "Red Hat Customer Portal", 
            "url": "https://access.redhat.com", 
            "can_get": "True", 
            "id": "60", 
            "can_send": "True", 
            "send_once": "True", 
            "type": "SFDC", 
            "full_url": "https://access.redhat.com/support/cases/%id%"
          }, 
          "id": "38600"
        }
      ], 
      "id": "696543", 
      "cf_release_notes": "", 
      "priority": "medium", 
      "severity": "low", 
      "is_confirmed": "True", 
      "is_creator_accessible": "True", 
      "cf_fixed_in": "", 
      "creator": "rdassen@redhat.com", 
      "comments": [
        {
          "count": "0", 
          "creator": "rdassen@redhat.com", 
          "text": "2. What is the nature and description of the request?\n\nThe customer wants to create a white list of binaries using digital signing,\nwhich determines whether these binaries can execute on the system or not.\n\n   3. Why does the customer need this? (List the business requirements here)\n\n''This will provide an additional security layer on top of an existing system\nwhich will ultimately help to make the system more secure and to better meet\nour needs (multi-layered defence in depth approach).''\n\n   4. How would the customer like to achieve this? (List the functional\nrequirements here)\n\n''I want to create/improve a whitelist capability on specific RHEL instances, ie\nif these particular binaries haven't been signed by a particular private key\nthey will not execute on the system, this is addition to other controls such as\nSE Linux. The functionality I require is identical to that available in the\nDigSig Linux package. ''\n\n   5. For each functional requirement listed in question 4, specify how Red Hat\nand the customer can test to confirm the requirement is successfully\nimplemented.\n\nTry to execute a signed binary - should execute. Executing an unsigned binary\nshould result in an error and should probably be logged.\n\n   6. Is there already an existing RFE upstream or in Red Hat bugzilla?\n\nCouldn't find one in BZ.\n\n   7. How quickly does this need resolved? (desired target release)\n\nUnspecified - 6.2+\n\n   8. Does this request meet the RHEL Inclusion criteria (please review)\n\nYes.\n\n   9. List the affected packages\n\nAll executable binaries.\n\n  10. Would the customer be able to assist in testing this functionality if\nimplemented?\n\nYes.", 
          "author": "rdassen@redhat.com", 
          "creation_time": "20110414T09:18:19", 
          "bug_id": "696543", 
          "creator_id": "275277", 
          "time": "20110414T09:18:19", 
          "id": "3674159", 
          "is_private": "False"
        }, 
        {
          "count": "1", 
          "creator": "rdassen@redhat.com", 
          "text": "1. Customer Name\nGCHQ\n\n(http://en.wikipedia.org/wiki/Government_Communications_Headquarters)", 
          "author": "rdassen@redhat.com", 
          "creation_time": "20110414T09:20:00", 
          "bug_id": "696543", 
          "creator_id": "275277", 
          "time": "20110414T09:20:00", 
          "id": "3674167", 
          "is_private": "True"
        }, 
        {
          "count": "2", 
          "creator": "rdassen@redhat.com", 
          "text": "Some pointers to upstream projects in this area. Unfortunately, they all appear to be smelling funny:\n* <http://disec.sourceforge.net/>,\n  ''DigSig (Digital Signature... in the Kernel) and DSI (Distributed Security\n  Infrastructure)''\n  (''March 5th 2009, This project is no longer maintained'')\n* <https://sourceforge.net/projects/umbrella/>,\n  ''Umbrella Security Project'' (''a security mechanism that implements a\n  combination of Process-Based Access Control (PBAC) and authentication of\n  Digital Signed Binaries (DSB). Umbrella is designed for Linux-based\n  consumer electronic devices.'')\n  (Last update: 2009-07-17)\n* <http://www.hick.org/code/skape/elfsign/>, Elfsign, \n  ''ELF binary signing and verification utilities''.\n  Debian package description: ''This package provides a utility to add a\n  digital signature to an ELF binary, and another utility to verify that\n  signature. The current implementation uses PKI to sign the checksum of the\n  binary. The benefits of doing this are that it enables one to determine if\n  a binary has been modified, and who created that binary. This software is\n  similar in concept and goals to bsign, except that where bsign uses GPG,\n  elfsign uses PKI (X.509) certificates (OpenSSL)''", 
          "author": "rdassen@redhat.com", 
          "creation_time": "20110414T09:30:49", 
          "bug_id": "696543", 
          "creator_id": "275277", 
          "time": "20110414T09:30:49", 
          "id": "3674197", 
          "is_private": "False"
        }, 
        {
          "count": "3", 
          "creator": "rpacheco@redhat.com", 
          "text": "(In reply to comment #2)\n> Some pointers to upstream projects in this area. Unfortunately, they all appear\n> to be smelling funny:\n> * <http://disec.sourceforge.net/>,\n>   ''DigSig (Digital Signature... in the Kernel) and DSI (Distributed Security\n>   Infrastructure)''\n>   (''March 5th 2009, This project is no longer maintained'')\n> * <https://sourceforge.net/projects/umbrella/>,\n>   ''Umbrella Security Project'' (''a security mechanism that implements a\n>   combination of Process-Based Access Control (PBAC) and authentication of\n>   Digital Signed Binaries (DSB). Umbrella is designed for Linux-based\n>   consumer electronic devices.'')\n>   (Last update: 2009-07-17)\n> * <http://www.hick.org/code/skape/elfsign/>, Elfsign, \n>   ''ELF binary signing and verification utilities''.\n>   Debian package description: ''This package provides a utility to add a\n>   digital signature to an ELF binary, and another utility to verify that\n>   signature. The current implementation uses PKI to sign the checksum of the\n>   binary. The benefits of doing this are that it enables one to determine if\n>   a binary has been modified, and who created that binary. This software is\n>   similar in concept and goals to bsign, except that where bsign uses GPG,\n>   elfsign uses PKI (X.509) certificates (OpenSSL)''\n\nIt is difficult to try and build a solution on code that is not being maintained.  We will have to monitor the active upstream projects to determine if this is something we can address in RHEL 7.", 
          "author": "rpacheco@redhat.com", 
          "creation_time": "20120505T12:07:45", 
          "bug_id": "696543", 
          "creator_id": "182103", 
          "time": "20120505T12:07:45", 
          "id": "4652665", 
          "is_private": "False"
        }, 
        {
          "count": "4", 
          "creator": "jkodak@redhat.com", 
          "text": "Thank you for submitting this issue for consideration in Red Hat Enterprise Linux. After consideration, Red Hat does not plan to incorporate the suggested capability in a future release of Red Hat Enterprise Linux. If you would like Red Hat to re-consider your feature request, please re-open the request via appropriate support channels and provide additional supporting details about the importance of this issue.", 
          "author": "jkodak@redhat.com", 
          "creation_time": "20130206T19:50:52", 
          "bug_id": "696543", 
          "creator_id": "312464", 
          "time": "20130206T19:50:52", 
          "id": "5482833", 
          "is_private": "False"
        }, 
        {
          "count": "5", 
          "creator": "ctrianta@redhat.com", 
          "text": "Hello,\n\n   I'm sorry for re-opening this. Could you please provide us a justification for this decision in order to be able to communicate it to the customer?\n\n   Is the reason the one that was stated about a year ago that there is no active upstream?\n\nBest regards,\nChristos Triantafyllidis\nFL engineer for this support case", 
          "author": "ctrianta@redhat.com", 
          "creation_time": "20130211T12:10:56", 
          "bug_id": "696543", 
          "creator_id": "338060", 
          "time": "20130211T12:10:56", 
          "id": "5493523", 
          "is_private": "True"
        }, 
        {
          "count": "6", 
          "creator": "jkodak@redhat.com", 
          "text": "Correct, upstream is not ready as it stands", 
          "author": "jkodak@redhat.com", 
          "creation_time": "20130213T19:13:14", 
          "bug_id": "696543", 
          "creator_id": "312464", 
          "time": "20130213T19:13:14", 
          "id": "5504017", 
          "is_private": "True"
        }, 
        {
          "count": "7", 
          "creator": "sgreen@redhat.com", 
          "text": "User rdassen@redhat.com's account has been closed", 
          "author": "sgreen@redhat.com", 
          "creation_time": "20130703T04:26:50", 
          "bug_id": "696543", 
          "creator_id": "303534", 
          "time": "20130703T04:26:50", 
          "id": "6065555", 
          "is_private": "True"
        }, 
        {
          "count": "8", 
          "creator": "sgreen@redhat.com", 
          "text": "User rdassen@redhat.com's account has been closed", 
          "author": "sgreen@redhat.com", 
          "creation_time": "20130703T04:28:37", 
          "bug_id": "696543", 
          "creator_id": "303534", 
          "time": "20130703T04:28:37", 
          "id": "6065582", 
          "is_private": "True"
        }
      ], 
      "cf_show_homepage": "---", 
      "platform": "All", 
      "version": [
        "7.0"
      ], 
      "cc": [
        "ctrianta@redhat.com", 
        "herbert.xu@redhat.com", 
        "rbinkhor@redhat.com", 
        "rpacheco@redhat.com", 
        "rwheeler@redhat.com", 
        "sdenham@redhat.com"
      ], 
      "cf_verified": [], 
      "cf_cust_facing": "---", 
      "cf_environment": "", 
      "status": "ASSIGNED", 
      "classification": "Red Hat", 
      "cf_verified_branch": "", 
      "blocks": [
        "703952"
      ], 
      "qa_contact": "kernel-qe@redhat.com", 
      "tags": [], 
      "see_also": [], 
      "component": [
        "kernel"
      ], 
      "remaining_time": "0.0", 
      "sub_components": {}, 
      "cf_pgm_internal": "", 
      "cf_doc_type": "Enhancement", 
      "cf_clone_of": "0", 
      "groups": [
        "redhat", 
        "support", 
        "suseng"
      ], 
      "cf_documentation_action": "---", 
      "cf_internal_whiteboard": "", 
      "target_milestone": "rc", 
      "cf_devel_whiteboard": "", 
      "is_cc_accessible": "True", 
      "cf_type": "---", 
      "cf_category": "---", 
      "url": "", 
      "cf_build_id": "", 
      "whiteboard": "", 
      "cf_crm": "", 
      "summary": "[RFE] Process-Based Access Control / execute digitally signed and verified code only", 
      "alias": [], 
      "op_sys": "Linux", 
      "flags": [
        {
          "status": "?", 
          "name": "rhel-7.0.0", 
          "modification_date": "20110414T09:18:19", 
          "type_id": "245", 
          "is_active": "1", 
          "creation_date": "20110414T09:18:19", 
          "id": "801414", 
          "setter": "rdassen@redhat.com"
        }, 
        {
          "status": "?", 
          "name": "pm_ack", 
          "modification_date": "20110414T09:18:19", 
          "type_id": "11", 
          "is_active": "1", 
          "creation_date": "20110414T09:18:19", 
          "id": "801415", 
          "setter": "rdassen@redhat.com"
        }, 
        {
          "status": "-", 
          "name": "devel_ack", 
          "modification_date": "20130831T14:35:32", 
          "type_id": "10", 
          "is_active": "1", 
          "creation_date": "20110414T09:18:19", 
          "id": "801416", 
          "setter": "rwheeler@redhat.com"
        }, 
        {
          "status": "?", 
          "name": "qa_ack", 
          "modification_date": "20120710T05:25:20", 
          "type_id": "9", 
          "is_active": "1", 
          "creation_date": "20120710T05:25:20", 
          "id": "1091445", 
          "setter": "pm-rhel@redhat.com"
        }
      ], 
      "last_change_time": "20131104T14:30:43", 
      "assigned_to": "dhowells@redhat.com", 
      "update_token": "1403539483-14yU81OjUKdqYkroxPzB_D8_a9KxmNTNSzhWYs-2QlY", 
      "cf_partner": [], 
      "cf_last_closed": "20130206T19:50:52", 
      "resolution": "", 
      "cf_mount_type": "---", 
      "cf_layered_products": []
    }, 
    {
      "cf_qe_conditional_nak": [], 
      "classification": "Red Hat", 
      "cf_pm_score": "50", 
      "estimated_time": "0.0", 
      "depends_on": [], 
      "cf_story_points": "---", 
      "cf_conditional_nak": [], 
      "creation_time": "20120420T01:29:00", 
      "actual_time": "0.0", 
      "docs_contact": "", 
      "is_open": "True", 
      "keywords": [
        "Documentation"
      ], 
      "summary": "ipa doc - idm guide - add a backup and restore chapter", 
      "external_bugs": [
        {
          "ext_status": "Waiting on Customer", 
          "ext_bz_bug_id": "00912929", 
          "bug_id": "814489", 
          "ext_description": "IPA: backup and restore mechanism", 
          "ext_priority": "3 (Normal)", 
          "ext_bz_id": "60", 
          "type": {
            "must_send": "True", 
            "description": "Red Hat Customer Portal", 
            "url": "https://access.redhat.com", 
            "can_get": "True", 
            "id": "60", 
            "can_send": "True", 
            "send_once": "True", 
            "type": "SFDC", 
            "full_url": "https://access.redhat.com/support/cases/%id%"
          }, 
          "id": "115466"
        }, 
        {
          "ext_status": "Closed", 
          "ext_bz_bug_id": "00629999", 
          "bug_id": "814489", 
          "ext_description": "Confirmation on backup proceedure", 
          "ext_priority": "3 (Normal)", 
          "ext_bz_id": "60", 
          "type": {
            "must_send": "True", 
            "description": "Red Hat Customer Portal", 
            "url": "https://access.redhat.com", 
            "can_get": "True", 
            "id": "60", 
            "can_send": "True", 
            "send_once": "True", 
            "type": "SFDC", 
            "full_url": "https://access.redhat.com/support/cases/%id%"
          }, 
          "id": "68146"
        }, 
        {
          "ext_status": "Waiting on Red Hat", 
          "ext_bz_bug_id": "00702528", 
          "bug_id": "814489", 
          "ext_description": "RFE: implementing/documenting IPA : backup and restore", 
          "ext_priority": "3 (Normal)", 
          "ext_bz_id": "60", 
          "type": {
            "must_send": "True", 
            "description": "Red Hat Customer Portal", 
            "url": "https://access.redhat.com", 
            "can_get": "True", 
            "id": "60", 
            "can_send": "True", 
            "send_once": "True", 
            "type": "SFDC", 
            "full_url": "https://access.redhat.com/support/cases/%id%"
          }, 
          "id": "97898"
        }, 
        {
          "ext_status": "Closed", 
          "ext_bz_bug_id": "00685578", 
          "bug_id": "814489", 
          "ext_description": "How to rename/migrate IPA server (idm-01, 10.0.0.1 -> idm-02, 10.10.10.1)", 
          "ext_priority": "3 (Normal)", 
          "ext_bz_id": "60", 
          "type": {
            "must_send": "True", 
            "description": "Red Hat Customer Portal", 
            "url": "https://access.redhat.com", 
            "can_get": "True", 
            "id": "60", 
            "can_send": "True", 
            "send_once": "True", 
            "type": "SFDC", 
            "full_url": "https://access.redhat.com/support/cases/%id%"
          }, 
          "id": "75672"
        }, 
        {
          "ext_status": "Closed", 
          "ext_bz_bug_id": "00580212", 
          "bug_id": "814489", 
          "ext_description": "How to backup the IPA files including LDAP, etc", 
          "ext_priority": "3 (Normal)", 
          "ext_bz_id": "60", 
          "type": {
            "must_send": "True", 
            "description": "Red Hat Customer Portal", 
            "url": "https://access.redhat.com", 
            "can_get": "True", 
            "id": "60", 
            "can_send": "True", 
            "send_once": "True", 
            "type": "SFDC", 
            "full_url": "https://access.redhat.com/support/cases/%id%"
          }, 
          "id": "68772"
        }, 
        {
          "ext_status": "None", 
          "ext_bz_bug_id": "67800", 
          "bug_id": "814489", 
          "ext_description": "None", 
          "ext_priority": "None", 
          "ext_bz_id": "72", 
          "type": {
            "must_send": "False", 
            "description": "Red Hat Knowledge Base (Solution)", 
            "url": "https://access.redhat.com/site/", 
            "can_get": "False", 
            "id": "72", 
            "can_send": "False", 
            "send_once": "False", 
            "type": "None", 
            "full_url": "https://access.redhat.com/site/solutions/%id%"
          }, 
          "id": "68810"
        }
      ], 
      "id": "814489", 
      "cf_release_notes": "", 
      "priority": "medium", 
      "severity": "low", 
      "is_confirmed": "True", 
      "is_creator_accessible": "True", 
      "cf_fixed_in": "", 
      "creator": "msauton@redhat.com", 
      "comments": [
        {
          "count": "0", 
          "creator": "msauton@redhat.com", 
          "text": "Description of problem:\n\nNeed a chapter about backup and restore procedures in the IdM guide.\nUpdated a knowledge based article at\nhttps://access.redhat.com/knowledge/solutions/67800\nthat could used to start with.\n\n\nVersion-Release number of selected component (if applicable):\nRHEL 6.2\nIPA 2.1.3-9\n\n\nHow reproducible:\n\n\nSteps to Reproduce:\n1.\n2.\n3.\n  \nActual results:\n\n\nExpected results:\n\n\nAdditional info:", 
          "author": "msauton@redhat.com", 
          "creation_time": "20120420T01:29:38", 
          "bug_id": "814489", 
          "creator_id": "212645", 
          "time": "20120420T01:29:38", 
          "id": "4608092", 
          "is_private": "False"
        }, 
        {
          "count": "1", 
          "creator": "msauton@redhat.com", 
          "text": "linking to Salesforce case number 00629999", 
          "author": "msauton@redhat.com", 
          "creation_time": "20120420T01:31:18", 
          "bug_id": "814489", 
          "creator_id": "212645", 
          "time": "20120420T01:31:18", 
          "id": "4608095", 
          "is_private": "True"
        }, 
        {
          "count": "2", 
          "creator": "pm-rhel@redhat.com", 
          "text": "Since this issue was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.", 
          "author": "pm-rhel@redhat.com", 
          "creation_time": "20120420T01:31:34", 
          "bug_id": "814489", 
          "creator_id": "193983", 
          "time": "20120420T01:31:34", 
          "id": "4608096", 
          "is_private": "True"
        }, 
        {
          "count": "3", 
          "creator": "dlackey@redhat.com", 
          "text": "Yes, this has been a customer request for awhile. Everything is so distributed that a coherent backup/restore strategy is difficult. The kbase is a nice start.\n\nI am going to punt this to 6.4 because I think QE would need to review the documented procedure to make sure there aren't any missing steps or hidden problems.\n\nSo, this is a nack for 6.3, and an ack for 6.4.", 
          "author": "dlackey@redhat.com", 
          "creation_time": "20120420T17:32:52", 
          "bug_id": "814489", 
          "creator_id": "199824", 
          "time": "20120420T17:32:52", 
          "id": "4610352", 
          "is_private": "True"
        }, 
        {
          "count": "4", 
          "creator": "msauton@redhat.com", 
          "text": "adjusting severity and priority to match those in the Salesforce case number 00629999", 
          "author": "msauton@redhat.com", 
          "creation_time": "20120424T17:59:26", 
          "bug_id": "814489", 
          "creator_id": "212645", 
          "time": "20120424T17:59:26", 
          "id": "4624829", 
          "is_private": "True"
        }, 
        {
          "count": "5", 
          "creator": "msauton@redhat.com", 
          "text": "linking BZ 814489 to Salesforce case number 00580212", 
          "author": "msauton@redhat.com", 
          "creation_time": "20120427T17:21:29", 
          "bug_id": "814489", 
          "creator_id": "212645", 
          "time": "20120427T17:21:29", 
          "id": "4634604", 
          "is_private": "True"
        }, 
        {
          "count": "6", 
          "creator": "pspacek@redhat.com", 
          "text": "Interesting post/part of thread:  https://www.redhat.com/archives/freeipa-users/2012-May/msg00248.html", 
          "author": "pspacek@redhat.com", 
          "creation_time": "20120516T11:02:30", 
          "bug_id": "814489", 
          "creator_id": "326157", 
          "time": "20120516T11:02:30", 
          "id": "4677529", 
          "is_private": "False"
        }, 
        {
          "count": "7", 
          "creator": "pspacek@redhat.com", 
          "text": "Some information can be found in following *design* document: http://freeipa.org/page/V3/Backup_and_Restore", 
          "author": "pspacek@redhat.com", 
          "creation_time": "20130311T12:43:27", 
          "bug_id": "814489", 
          "creator_id": "326157", 
          "time": "20130311T12:43:27", 
          "id": "5587202", 
          "is_private": "False"
        }, 
        {
          "count": "8", 
          "creator": "msauton@redhat.com", 
          "text": "making this bz 814489 ''public'', there is no customer specific information in the non private comments, and there are several good links for general consuption about the IdM backup/restore popular topic, so making this wider, for more visibility and direct users to the upstream project design docs.", 
          "author": "msauton@redhat.com", 
          "creation_time": "20130311T20:18:37", 
          "bug_id": "814489", 
          "creator_id": "212645", 
          "time": "20130311T20:18:37", 
          "id": "5588975", 
          "is_private": "True"
        }, 
        {
          "count": "9", 
          "creator": "chorn@redhat.com", 
          "text": "Matrix, strategic TAM customer, is supporting this RFE. Linking sf case.", 
          "author": "chorn@redhat.com", 
          "creation_time": "20130312T15:11:47", 
          "bug_id": "814489", 
          "creator_id": "309721", 
          "time": "20130312T15:11:47", 
          "id": "5591761", 
          "is_private": "True"
        }, 
        {
          "count": "10", 
          "creator": "dlackey@redhat.com", 
          "text": "*** Bug 855321 has been marked as a duplicate of this bug. ***", 
          "author": "dlackey@redhat.com", 
          "creation_time": "20130626T21:27:09", 
          "bug_id": "814489", 
          "creator_id": "199824", 
          "time": "20130626T21:27:09", 
          "id": "6048432", 
          "is_private": "False"
        }, 
        {
          "count": "11", 
          "creator": "dlackey@redhat.com", 
          "text": "Changing to RHEL 7.", 
          "author": "dlackey@redhat.com", 
          "creation_time": "20130626T23:27:37", 
          "bug_id": "814489", 
          "creator_id": "199824", 
          "time": "20130626T23:27:37", 
          "id": "6048569", 
          "is_private": "False"
        }, 
        {
          "count": "12", 
          "creator": "pm-rhel@redhat.com", 
          "text": "Since this bug report was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.", 
          "author": "pm-rhel@redhat.com", 
          "creation_time": "20130626T23:36:28", 
          "bug_id": "814489", 
          "creator_id": "193983", 
          "time": "20130626T23:36:28", 
          "id": "6048590", 
          "is_private": "True"
        }, 
        {
          "count": "13", 
          "creator": "dlackey@redhat.com", 
          "text": "This has been bumped from 7.0 by development. Changing target to 7.1.", 
          "author": "dlackey@redhat.com", 
          "creation_time": "20140506T17:44:48", 
          "bug_id": "814489", 
          "creator_id": "199824", 
          "time": "20140506T17:44:48", 
          "id": "7066596", 
          "is_private": "False"
        }, 
        {
          "count": "14", 
          "creator": "pm-rhel@redhat.com", 
          "text": "This request has been proposed for two releases.  This is invalid\nflag usage.  The higher numbered release flag has been cleared.\nIf you wish to change the release flag, you must clear one release\nflag and then set the other release flag to ?.", 
          "author": "pm-rhel@redhat.com", 
          "creation_time": "20140623T14:55:19", 
          "bug_id": "814489", 
          "creator_id": "193983", 
          "time": "20140623T14:55:19", 
          "id": "7228943", 
          "is_private": "True"
        }
      ], 
      "cf_show_homepage": "---", 
      "platform": "Unspecified", 
      "version": [
        "7.1"
      ], 
      "cc": [
        "chorn@redhat.com", 
        "dpal@redhat.com", 
        "jskeoch@redhat.com", 
        "pep@redhat.com", 
        "pspacek@redhat.com", 
        "rbinkhor@redhat.com"
      ], 
      "cf_verified": [], 
      "cf_cust_facing": "No", 
      "cf_regression_status": "---", 
      "cf_environment": "", 
      "status": "ASSIGNED", 
      "product": "Red Hat Enterprise Linux 7", 
      "cf_verified_branch": "", 
      "blocks": [
        "1064025"
      ], 
      "qa_contact": "jgalipea@redhat.com", 
      "tags": [], 
      "see_also": [], 
      "component": [
        "doc-Enterprise_Identity_Management_Guide"
      ], 
      "remaining_time": "0.0", 
      "sub_components": {}, 
      "cf_pgm_internal": "", 
      "cf_doc_type": "Bug Fix", 
      "cf_clone_of": "0", 
      "groups": [], 
      "cf_documentation_action": "---", 
      "cf_internal_whiteboard": "", 
      "target_milestone": "rc", 
      "cf_devel_whiteboard": "", 
      "is_cc_accessible": "True", 
      "cf_type": "Bug", 
      "cf_category": "---", 
      "url": "", 
      "cf_build_id": "", 
      "whiteboard": "", 
      "cf_crm": "", 
      "target_release": [
        "---"
      ], 
      "alias": [], 
      "op_sys": "Unspecified", 
      "flags": [
        {
          "status": "?", 
          "name": "qe_test_coverage", 
          "modification_date": "20120422T21:54:09", 
          "type_id": "318", 
          "is_active": "1", 
          "creation_date": "20120422T21:54:09", 
          "id": "1032936", 
          "setter": "pm-rhel@redhat.com"
        }, 
        {
          "status": "?", 
          "name": "rhel-7.0.0", 
          "modification_date": "20130626T23:36:22", 
          "type_id": "245", 
          "is_active": "1", 
          "creation_date": "20130626T23:36:22", 
          "id": "1396490", 
          "setter": "pm-rhel@redhat.com"
        }, 
        {
          "status": "+", 
          "name": "pm_ack", 
          "modification_date": "20130808T05:04:22", 
          "type_id": "11", 
          "is_active": "1", 
          "creation_date": "20120420T01:46:05", 
          "id": "1031861", 
          "setter": "pm-rhel@redhat.com"
        }, 
        {
          "status": "+", 
          "name": "devel_ack", 
          "modification_date": "20120420T17:32:52", 
          "type_id": "10", 
          "is_active": "1", 
          "creation_date": "20120420T02:05:38", 
          "id": "1031865", 
          "setter": "dlackey@redhat.com"
        }, 
        {
          "status": "?", 
          "name": "qa_ack", 
          "modification_date": "20120422T21:43:04", 
          "type_id": "9", 
          "is_active": "1", 
          "creation_date": "20120420T17:46:10", 
          "id": "1032518", 
          "setter": "jskeoch@redhat.com"
        }
      ], 
      "last_change_time": "20140623T14:55:19", 
      "assigned_to": "dlackey@redhat.com", 
      "update_token": "1403539483-dmIW8UMCP637icsKdqFBtoWkYa4I3uJJ0ypRfMWsqFE", 
      "cf_partner": [], 
      "resolution": "", 
      "cf_mount_type": "---", 
      "cf_layered_products": []
    }, 
    {
      "cf_qe_conditional_nak": [], 
      "classification": "Red Hat", 
      "cf_pm_score": "0", 
      "estimated_time": "0.0", 
      "depends_on": [], 
      "cf_story_points": "---", 
      "cf_conditional_nak": [], 
      "creation_time": "20120821T20:15:00", 
      "actual_time": "0.0", 
      "docs_contact": "", 
      "is_open": "True", 
      "keywords": [], 
      "summary": "[RHEL7] systemctl status doesn't display proper messages from the journal if the process is short-lived", 
      "external_bugs": [
        {
          "ext_status": "Waiting on Red Hat", 
          "ext_bz_bug_id": "00686898", 
          "bug_id": "850556", 
          "ext_description": "[RHEL7] systemctl status doesn't display proper messages from the journal if the process is short-lived", 
          "ext_priority": "3 (Normal)", 
          "ext_bz_id": "60", 
          "type": {
            "must_send": "True", 
            "description": "Red Hat Customer Portal", 
            "url": "https://access.redhat.com", 
            "can_get": "True", 
            "id": "60", 
            "can_send": "True", 
            "send_once": "True", 
            "type": "SFDC", 
            "full_url": "https://access.redhat.com/support/cases/%id%"
          }, 
          "id": "77090"
        }
      ], 
      "id": "850556", 
      "cf_release_notes": "", 
      "priority": "unspecified", 
      "severity": "unspecified", 
      "is_confirmed": "True", 
      "is_creator_accessible": "True", 
      "cf_fixed_in": "", 
      "creator": "fhirtz@redhat.com", 
      "comments": [
        {
          "count": "0", 
          "creator": "fhirtz@redhat.com", 
          "text": "systemctl status should give me the last 10 or so lines of output from a unit. I can't quite nail down why, but if if I have the following unit:\n\n\n[root@jarjar system]# cat hello.service \n[Unit]\nDescription=say hello\nAfter=syslog.target\n\n[Service]\nType=oneshot\nExecStart=/root/test.sh\nRemainAfterExit=yes\n\n[Install]\nWantedBy=multiuser.target\n\nand the contents of /root/test.sh are as follows:\n\n\n[root@jarjar system]# cat /root/test.sh \n#!/bin/bash\n\necho ''hello world''\nsleep 10\nexit 0\n\nthings seem to be fine, and the output of systemctl status hello.service is as follows:\n\n\n[root@jarjar ~]# systemctl status hello.service\nhello.service - say hello\n\t  Loaded: loaded (/etc/systemd/system/hello.service; enabled)\n\t  Active: active (exited) since Wed, 01 Aug 2012 22:57:32 +0000; 2min 28s ago\n\t Process: 21170 ExecStart=/root/test.sh (code=exited, status=0/SUCCESS)\n\t  CGroup: name=systemd:/system/hello.service\n\nAug 01 22:57:22 jarjar.etc.test.gs.com test.sh[21170]: hello world\n\nHowever, if you take the sleep out of the shell script, the output line does not show up. This doesn't matter if the service succeeded or failed (I replaced the exit 0 with exit 1 to simulate a failed service).\n\nHowever, note that the messages *are* somehow in the journal - i.e. if I use 'systemd- ournalctl' I can see the messages. Interestingly, if I filter the journal by unit, the output isn't there, which leads me to believe that somehow it's not getting tagged correctly (though I have to admit that I'm not smart enough to see all of journal fields):\n\n\n[root@jarjar ~]# systemctl status hello.service\nhello.service - say hello\n\t  Loaded: loaded (/etc/systemd/system/hello.service; enabled)\n\t  Active: failed (Result: exit-code) since Wed, 01 Aug 2012 23:17:08 +0000; 3s ago\n\t Process: 21238 ExecStart=/root/test.sh (code=exited, status=5)\n\t  CGroup: name=systemd:/system/hello.service\n\n[root@jarjar ~]# systemd-journalctl _SYSTEMD_UNIT=hello.service\nLogs begin at Tue, 31 Jul 2012 20:46:55 +0000, end at Wed, 01 Aug 2012 23:17:20 +0000.\nAug 01 14:44:49 jarjar.etc.test.gs.com test.sh[20380]: hello world\nAug 01 20:14:32 jarjar.etc.test.gs.com test.sh[20955]: hello world\nAug 01 22:57:22 jarjar.etc.test.gs.com test.sh[21170]: hello world\nAug 01 23:04:46 jarjar.etc.test.gs.com test.sh[21218]: hello world\n[root@jarjar ~]# \n\nThe four instances of output that are there are from runs with the sleep, however note that *this* run (23:17:08) is not there.", 
          "author": "fhirtz@redhat.com", 
          "creation_time": "20120821T20:15:52", 
          "bug_id": "850556", 
          "creator_id": "30797", 
          "time": "20120821T20:15:52", 
          "id": "4987239", 
          "is_private": "False"
        }, 
        {
          "count": "1", 
          "creator": "lnykryn@redhat.com", 
          "text": "I have tried your example on my test f18, but I was not able to reproduce it\n\n[root@systemd ~]# cat test.sh\n#!/bin/bash\necho ''hello world''\nsleep 10\nexit 0\n[root@systemd ~]# systemctl start hello.service\n[root@systemd ~]# systemctl status hello.service\nhello.service - say hello\n\t  Loaded: loaded (/etc/systemd/system/hello.service; disabled)\n\t  Active: active (exited) since Wed, 12 Sep 2012 09:47:26 -0400; 10s ago\n\t Process: 1261 ExecStart=/root/test.sh (code=exited, status=0/SUCCESS)\n\t  CGroup: name=systemd:/system/hello.service\n\nSep 12 09:47:16 systemd test.sh[1261]: hello world\n[root@systemd ~]# systemctl stop hello.service\n[root@systemd ~]# vim test.sh\n[root@systemd ~]# cat test.sh\n#!/bin/bash\necho ''hello world''\n#sleep 10\nexit 0\n[root@systemd ~]# systemctl start hello.service\n[root@systemd ~]# systemctl status hello.service\nhello.service - say hello\n\t  Loaded: loaded (/etc/systemd/system/hello.service; disabled)\n\t  Active: active (exited) since Wed, 12 Sep 2012 09:48:06 -0400; 3s ago\n\t Process: 1294 ExecStart=/root/test.sh (code=exited, status=0/SUCCESS)\n\t  CGroup: name=systemd:/system/hello.service\n\nSep 12 09:48:06 systemd test.sh[1294]: hello world", 
          "author": "lnykryn@redhat.com", 
          "creation_time": "20120912T13:50:38", 
          "bug_id": "850556", 
          "creator_id": "317026", 
          "time": "20120912T13:50:38", 
          "id": "5034918", 
          "is_private": "False"
        }, 
        {
          "count": "2", 
          "creator": "fhirtz@redhat.com", 
          "text": "On F17, it's sporadic. So, sometimes it works, sometimes it doesn't. Change the stop/start/status to something similar to what I'm doing below and see if it still works please:\n\n<snip>\n[root@x301 system]# rpm -q systemd\nsystemd-44-17.fc17.x86_64\n[root@x301 system]# cat /etc/redhat-release \nFedora release 17 (Beefy Miracle)\n\n[root@x301 system]# cat hello.service \n[Unit]\nDescription=say hello\nAfter=syslog.target\n\n[Service]\nType=oneshot\nExecStart=/root/test.sh\nRemainAfterExit=yes\n\n[Install]\nWantedBy=multiuser.target\n[root@x301 system]# cat /root/test.sh \n#!/bin/bash\n\necho ''hello world''\n#sleep 10\nexit 0\n[root@x301 system]# systemctl stop hello.service; systemctl start hello.service; systemctl status hello.service\nhello.service - say hello\n\t  Loaded: loaded (/etc/systemd/system/hello.service; disabled)\n\t  Active: active (exited) since Wed, 12 Sep 2012 10:07:46 -0400; 6ms ago\n\t Process: 4879 ExecStart=/root/test.sh (code=exited, status=0/SUCCESS)\n\t  CGroup: name=systemd:/system/hello.service\n\n[root@x301 system]# systemctl stop hello.service; systemctl start hello.service; systemctl status hello.service\nhello.service - say hello\n\t  Loaded: loaded (/etc/systemd/system/hello.service; disabled)\n\t  Active: active (exited) since Wed, 12 Sep 2012 10:07:48 -0400; 9ms ago\n\t Process: 4886 ExecStart=/root/test.sh (code=exited, status=0/SUCCESS)\n\t  CGroup: name=systemd:/system/hello.service\n\nSep 12 10:07:48 x301.maunet.z test.sh[4886]: hello world\n[root@x301 system]# systemctl stop hello.service; systemctl start hello.service; systemctl status hello.service\nhello.service - say hello\n\t  Loaded: loaded (/etc/systemd/system/hello.service; disabled)\n\t  Active: active (exited) since Wed, 12 Sep 2012 10:07:50 -0400; 5ms ago\n\t Process: 4893 ExecStart=/root/test.sh (code=exited, status=0/SUCCESS)\n\t  CGroup: name=systemd:/system/hello.service\n\nSep 12 10:07:50 x301.maunet.z test.sh[4893]: hello world\n[root@x301 system]# systemctl stop hello.service; systemctl start hello.service; systemctl status hello.service\nhello.service - say hello\n\t  Loaded: loaded (/etc/systemd/system/hello.service; disabled)\n\t  Active: active (exited) since Wed, 12 Sep 2012 10:07:54 -0400; 4ms ago\n\t Process: 4900 ExecStart=/root/test.sh (code=exited, status=0/SUCCESS)\n\t  CGroup: name=systemd:/system/hello.service\n\n[root@x301 system]#\n</snip>", 
          "author": "fhirtz@redhat.com", 
          "creation_time": "20120912T14:09:56", 
          "bug_id": "850556", 
          "creator_id": "30797", 
          "time": "20120912T14:09:56", 
          "id": "5034994", 
          "is_private": "False"
        }, 
        {
          "count": "3", 
          "creator": "lnykryn@redhat.com", 
          "text": "This is quite weird, I have tried this configuration on two f18 and one 17 and:\n\n[root@f18 ~]# for i in `seq 1 100`; do systemctl stop hello.service; systemctl start hello.service; systemctl status hello.service | grep -q 'hello world' || echo FAIL; sleep 2; done\n[root@f18 ~]# \n\n[root@f17 ~]# for i in `seq 1 100`; do systemctl stop hello.service; systemctl start hello.service; systemctl status hello.service | grep -q 'hello world' || echo FAIL; sleep 2; done\n[root@f17 ~]# \n\n[root@unused-4-203 ~]# for i in `seq 1 100`; do systemctl stop hello.service; systemctl start hello.service; systemctl status hello.service | grep -q 'hello world' || echo FAIL; sleep 2; done\nFAIL\n[root@unused-4-203 ~]#", 
          "author": "lnykryn@redhat.com", 
          "creation_time": "20120912T15:05:23", 
          "bug_id": "850556", 
          "creator_id": "317026", 
          "time": "20120912T15:05:23", 
          "id": "5035230", 
          "is_private": "False"
        }, 
        {
          "count": "4", 
          "creator": "msekleta@redhat.com", 
          "text": "This bug is caused by the same impairment as bug #820448. Process is reaped by its parent too early, thus journald is unable to match a received message with a unit message it originates from. Some solutions has been proposed in discussion bellow bug #820448.", 
          "author": "msekleta@redhat.com", 
          "creation_time": "20121019T13:11:12", 
          "bug_id": "850556", 
          "creator_id": "317029", 
          "time": "20121019T13:11:12", 
          "id": "5129978", 
          "is_private": "False"
        }
      ], 
      "cf_show_homepage": "---", 
      "platform": "Unspecified", 
      "version": [
        "7.0"
      ], 
      "cc": [
        "btotty@redhat.com", 
        "jpazdziora@redhat.com", 
        "msekleta@redhat.com"
      ], 
      "cf_verified": [], 
      "cf_cust_facing": "---", 
      "cf_regression_status": "---", 
      "cf_environment": "", 
      "status": "ASSIGNED", 
      "product": "Red Hat Enterprise Linux 7", 
      "cf_verified_branch": "", 
      "blocks": [], 
      "qa_contact": "qe-baseos-daemons@redhat.com", 
      "tags": [], 
      "see_also": [], 
      "component": [
        "systemd"
      ], 
      "remaining_time": "0.0", 
      "sub_components": {}, 
      "cf_pgm_internal": "", 
      "cf_doc_type": "Bug Fix", 
      "cf_clone_of": "0", 
      "groups": [
        "redhat"
      ], 
      "cf_documentation_action": "---", 
      "cf_internal_whiteboard": "", 
      "target_milestone": "rc", 
      "cf_devel_whiteboard": "", 
      "is_cc_accessible": "True", 
      "cf_type": "Bug", 
      "cf_category": "---", 
      "url": "", 
      "cf_build_id": "", 
      "whiteboard": "", 
      "cf_crm": "", 
      "target_release": [
        "---"
      ], 
      "alias": [], 
      "op_sys": "Unspecified", 
      "flags": [
        {
          "status": "?", 
          "name": "rhel-7.0.0", 
          "modification_date": "20120821T20:15:52", 
          "type_id": "245", 
          "is_active": "1", 
          "creation_date": "20120821T20:15:52", 
          "id": "1124249", 
          "setter": "fhirtz@redhat.com"
        }, 
        {
          "status": "+", 
          "name": "pm_ack", 
          "modification_date": "20130808T04:38:48", 
          "type_id": "11", 
          "is_active": "1", 
          "creation_date": "20120821T20:15:52", 
          "id": "1124250", 
          "setter": "pm-rhel@redhat.com"
        }, 
        {
          "status": "?", 
          "name": "devel_ack", 
          "modification_date": "20120821T20:15:52", 
          "type_id": "10", 
          "is_active": "1", 
          "creation_date": "20120821T20:15:52", 
          "id": "1124251", 
          "setter": "fhirtz@redhat.com"
        }, 
        {
          "status": "?", 
          "name": "qa_ack", 
          "modification_date": "20120821T20:15:52", 
          "type_id": "9", 
          "is_active": "1", 
          "creation_date": "20120821T20:15:52", 
          "id": "1124252", 
          "setter": "fhirtz@redhat.com"
        }
      ], 
      "last_change_time": "20131104T14:03:31", 
      "assigned_to": "systemd-maint@redhat.com", 
      "update_token": "1403539484-Fjr_reCcDdvcKy14-obcb1FwhSlLV8U2XHVPW5gUpOE", 
      "cf_partner": [], 
      "resolution": "", 
      "cf_mount_type": "---", 
      "cf_layered_products": []
    }, 
    {
      "cf_qe_conditional_nak": [], 
      "classification": "Red Hat", 
      "cf_pm_score": "0", 
      "estimated_time": "0.0", 
      "depends_on": [], 
      "cf_story_points": "---", 
      "cf_conditional_nak": [], 
      "creation_time": "20121228T00:39:00", 
      "actual_time": "0.0", 
      "docs_contact": "", 
      "is_open": "True", 
      "keywords": [], 
      "summary": "Sendmail RPM does not ship useful mailstats defaults for 10+ years", 
      "external_bugs": [
        {
          "ext_status": "Waiting on Red Hat", 
          "ext_bz_bug_id": "00775785", 
          "bug_id": "890585", 
          "ext_description": "(RFE) Sendmail RPM does not ship useful mailstats defaults for 10+ years", 
          "ext_priority": "3 (Normal)", 
          "ext_bz_id": "60", 
          "type": {
            "must_send": "True", 
            "description": "Red Hat Customer Portal", 
            "url": "https://access.redhat.com", 
            "can_get": "True", 
            "id": "60", 
            "can_send": "True", 
            "send_once": "True", 
            "type": "SFDC", 
            "full_url": "https://access.redhat.com/support/cases/%id%"
          }, 
          "id": "93563"
        }, 
        {
          "ext_status": "Waiting on Red Hat", 
          "ext_bz_bug_id": "01113811", 
          "bug_id": "890585", 
          "ext_description": "Sendmail mailstats/hoststats not reporting", 
          "ext_priority": "3 (Normal)", 
          "ext_bz_id": "60", 
          "type": {
            "must_send": "True", 
            "description": "Red Hat Customer Portal", 
            "url": "https://access.redhat.com", 
            "can_get": "True", 
            "id": "60", 
            "can_send": "True", 
            "send_once": "True", 
            "type": "SFDC", 
            "full_url": "https://access.redhat.com/support/cases/%id%"
          }, 
          "id": "160985"
        }
      ], 
      "id": "890585", 
      "cf_release_notes": "", 
      "priority": "unspecified", 
      "severity": "medium", 
      "is_confirmed": "True", 
      "is_creator_accessible": "True", 
      "cf_fixed_in": "", 
      "creator": "redhat-bugzilla@linuxnetz.de", 
      "comments": [
        {
          "count": "0", 
          "creator": "redhat-bugzilla@linuxnetz.de", 
          "text": "Description of problem:\nI don't exactly know why the statistics file was relocated from originally\n/etc/mail/statistics to /var/log/mail/statistics - yes, /etc/mail is not a\ngood place, however /var/log/mail/statistics is neither. Actually that file\nis more a database containing statistics than a log file. Additionally, one\nmore statistics file existing since 8.12.0 (2001/09/08) is also missing by\ndefault in Fedora/RHEL.\n\nThe mailstats command displays statistics on the volume of mail processed\nby sendmail. The time at which data collection commenced is printed first, \nfollowed by a table with one row for each configured mailer and one showing\na summary total of all mail.\n\nThe data for the mailstats command is gathered from ''O StatusFile'' from the\nsendmail.cf - and since 8.12.0 also from submit.cf. Right now, this looks on\nFedora like this:\n\n/etc/mail/sendmail.cf:O StatusFile=/var/log/mail/statistics\n/etc/mail/submit.cf:O StatusFile=/var/spool/clientmqueue/sm-client.st\n\nFedora is shipping /var/log/mail/statistics as %config(noreplace), which is\nnot that wrong, however /var/spool/clientmqueue/sm-client.st isn't shipped\nat all. Thus mailstats only gathers data by default for the SMTP instance,\nnot for the MSA instance. Some could create the missing file themself, but\nstill the existence of the directory /var/log/mail seems wrong to me.\n\nSuggestion to get rid this:\n\n1. Move /var/log/mail/statistics to /var/lib/sendmail/sendmail.st\n2. Create /var/lib/sendmail/sm-client.st (figure out the permissions first)\n3. Do not ship %dir /var/log/mail any longer\n4. Adapt SELinux policy accordingly (if needed)\n\nFinally /var/lib/sendmail could also be a good place for dead.letter or the\nother statistics tool, hoststat(1) via ''O HostStatusDirectory''.\n\nThe suggested new paths also align with Debian. OpenSUSE seems to be similar\nstrange: /var/lib/sendmail/statistics & /var/spool/clientmqueue/sm-client.st\nThey even ship /var/spool/mqueue/.hoststat, but nothing for the MSA instance\nof Sendmail through. Debian does not configure HostStatusDirectory at all by\ndefault. RHL 6.1 used /var/log/sendmail.st (Sendmail 8.9.x).\n\nWe eventually could think about /var/log/mail/{sendmail,sm-client}.st or\nsomething similar, but I still don't think that the log directory is that\nwell here.\n\nVersion-Release number of selected component (if applicable):\nsendmail-8.14.6-1\n\nHow reproducible:\nEverytime, see above and below.\n  \nActual results:\nSendmail RPM does not ship useful mailstats defaults for 10+ years.\n\nExpected results:\nSee suggestion above. I'm also up to discussions or clarifications from the\nguys who did the upgrade inside of RHL (which are less meanwhile IIRC).", 
          "author": "redhat-bugzilla@linuxnetz.de", 
          "creation_time": "20121228T00:39:15", 
          "bug_id": "890585", 
          "creator_id": "148426", 
          "time": "20121228T00:39:15", 
          "id": "5316957", 
          "is_private": "False"
        }, 
        {
          "count": "1", 
          "creator": "redhat-bugzilla@linuxnetz.de", 
          "text": "Cross-filed case 00775785 in the Red Hat Customer Portal to address this also\nfor RHEL 7 (and maybe via the paid Red Hat way also for Fedora then).", 
          "author": "redhat-bugzilla@linuxnetz.de", 
          "creation_time": "20130110T23:18:26", 
          "bug_id": "890585", 
          "creator_id": "148426", 
          "time": "20130110T23:18:26", 
          "id": "5354049", 
          "is_private": "False"
        }, 
        {
          "count": "2", 
          "creator": "pm-rhel@redhat.com", 
          "text": "Since this bug report was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.", 
          "author": "pm-rhel@redhat.com", 
          "creation_time": "20130125T21:26:55", 
          "bug_id": "890585", 
          "creator_id": "193983", 
          "time": "20130125T21:26:55", 
          "id": "5452102", 
          "is_private": "True"
        }
      ], 
      "cf_show_homepage": "---", 
      "platform": "All", 
      "version": [
        "7.0"
      ], 
      "cc": [
        "jskarvad@redhat.com", 
        "mlichvar@redhat.com", 
        "twoerner@redhat.com"
      ], 
      "cf_verified": [], 
      "cf_cust_facing": "---", 
      "cf_regression_status": "---", 
      "cf_environment": "", 
      "status": "ASSIGNED", 
      "product": "Red Hat Enterprise Linux 7", 
      "cf_verified_branch": "", 
      "blocks": [], 
      "qa_contact": "qe-baseos-daemons@redhat.com", 
      "tags": [], 
      "see_also": [], 
      "component": [
        "sendmail"
      ], 
      "remaining_time": "0.0", 
      "sub_components": {}, 
      "cf_pgm_internal": "", 
      "cf_doc_type": "Bug Fix", 
      "cf_clone_of": "0", 
      "groups": [], 
      "cf_documentation_action": "---", 
      "cf_internal_whiteboard": "", 
      "target_milestone": "beta", 
      "cf_devel_whiteboard": "", 
      "is_cc_accessible": "True", 
      "cf_type": "Bug", 
      "cf_category": "---", 
      "url": "", 
      "cf_build_id": "", 
      "whiteboard": "", 
      "cf_crm": "", 
      "target_release": [
        "7.0"
      ], 
      "alias": [], 
      "op_sys": "All", 
      "flags": [
        {
          "status": "?", 
          "name": "rhel-7.0.0", 
          "modification_date": "20130125T21:26:53", 
          "type_id": "245", 
          "is_active": "1", 
          "creation_date": "20130125T21:26:53", 
          "id": "1247831", 
          "setter": "pm-rhel@redhat.com"
        }, 
        {
          "status": "+", 
          "name": "pm_ack", 
          "modification_date": "20130808T03:51:23", 
          "type_id": "11", 
          "is_active": "1", 
          "creation_date": "20130125T21:36:48", 
          "id": "1247833", 
          "setter": "pm-rhel@redhat.com"
        }, 
        {
          "status": "?", 
          "name": "devel_ack", 
          "modification_date": "20130125T21:37:08", 
          "type_id": "10", 
          "is_active": "1", 
          "creation_date": "20130125T21:37:08", 
          "id": "1247835", 
          "setter": "pm-rhel@redhat.com"
        }, 
        {
          "status": "?", 
          "name": "qa_ack", 
          "modification_date": "20130125T21:37:28", 
          "type_id": "9", 
          "is_active": "1", 
          "creation_date": "20130125T21:37:28", 
          "id": "1247837", 
          "setter": "pm-rhel@redhat.com"
        }
      ], 
      "last_change_time": "20140616T17:30:20", 
      "assigned_to": "jskarvad@redhat.com", 
      "update_token": "1403539484-BrhoEzpZQ1609P51Hz-mcsuNxa5iUFbbr_EYkWO4_kA", 
      "cf_partner": [], 
      "resolution": "", 
      "cf_mount_type": "---", 
      "cf_layered_products": []
    }, 
    {
      "cf_qe_conditional_nak": [], 
      "classification": "Red Hat", 
      "cf_pm_score": "50", 
      "estimated_time": "0.0", 
      "depends_on": [
        "860099", 
        "957681"
      ], 
      "cf_story_points": "---", 
      "cf_conditional_nak": [], 
      "creation_time": "20131004T11:29:00", 
      "actual_time": "0.0", 
      "docs_contact": "", 
      "is_open": "True", 
      "keywords": [
        "FutureFeature"
      ], 
      "summary": "[RFE] Add default debugging or emergency boot option for systemd in grub2", 
      "external_bugs": [
        {
          "ext_status": "Waiting on Red Hat", 
          "ext_bz_bug_id": "00821155", 
          "bug_id": "1015485", 
          "ext_description": "RFE RHEL7 grub2 debug mode", 
          "ext_priority": "3 (Normal)", 
          "ext_bz_id": "60", 
          "type": {
            "must_send": "True", 
            "description": "Red Hat Customer Portal", 
            "url": "https://access.redhat.com", 
            "can_get": "True", 
            "id": "60", 
            "can_send": "True", 
            "send_once": "True", 
            "type": "SFDC", 
            "full_url": "https://access.redhat.com/support/cases/%id%"
          }, 
          "id": "125039"
        }, 
        {
          "ext_status": "None", 
          "ext_bz_bug_id": "415673", 
          "bug_id": "1015485", 
          "ext_description": "None", 
          "ext_priority": "None", 
          "ext_bz_id": "72", 
          "type": {
            "must_send": "False", 
            "description": "Red Hat Knowledge Base (Solution)", 
            "url": "https://access.redhat.com/site/", 
            "can_get": "False", 
            "id": "72", 
            "can_send": "False", 
            "send_once": "False", 
            "type": "None", 
            "full_url": "https://access.redhat.com/site/solutions/%id%"
          }, 
          "id": "125040"
        }
      ], 
      "id": "1015485", 
      "cf_release_notes": "", 
      "priority": "medium", 
      "severity": "medium", 
      "is_confirmed": "True", 
      "is_creator_accessible": "True", 
      "cf_fixed_in": "", 
      "creator": "harald@redhat.com", 
      "comments": [
        {
          "count": "0", 
          "creator": "harald@redhat.com", 
          "text": "+++ This bug was initially created as a clone of Bug #957681 +++\n\nDescription of problem:\nSegment 1 Strategic customer (JPMC)\n\nCustomer requests that Red Hat include an option for emergency boot in the shipped grub config.\n\nin the event that the system needs to be booted into single user/debug/emergency mode, it would be useful to have a grub line already in place that does:\n\na) add systemd.log_level=debug systemd.log_target=kmsg log_buf_len=1M to the kernel command line;\n\nb) enable the debug-shell.service.\n\nIf the user has access to the console, they can do this manually, so the security risk of such a set up is no worse than before.\n\nThe customer would liek to avoid situations where the system administrators slow down response and recovery times in systems by having to follow this process manually and avoid the potential pitfalls of miskeying some of the commands.\n\nCustomer is willing to test.\n\n--- Additional comment from David Cantrell on 2013-09-25 11:32:24 EDT ---\n\nThis is being handled by the rescue image functionality added to dracut.  Reassigning the bug to that component for verification.\n\n--- Additional comment from Harald Hoyer on 2013-10-04 07:28:02 EDT ---\n\n(In reply to David Cantrell from comment #1)\n> This is being handled by the rescue image functionality added to dracut. \n> Reassigning the bug to that component for verification.\n\nNo, it's not. The ''rescue initramfs image'' contains a ''generic'' initramfs, which has all/most of the drivers to cope with hardware changes. Also this entry has a fixed entry.\n\nIt would be nice, if grubby generates for every kernel entry added also an entry with ''debug'' on the kernel command line.\n\nFor systemd ''debug'' is nowadays a shortcut for \n''systemd.log_level=debug systemd.log_target=kmsg''\n\nFor the systemd part, I'll clone this bug.\n\n--- Additional comment from Harald Hoyer on 2013-10-04 07:29:05 EDT ---\n\n(In reply to Harald Hoyer from comment #2)\n> Also this entry has a fixed entry.\n\nAlso this entry has a fixed kernel version. So, newer kernel versions would have no shortcut.", 
          "author": "harald@redhat.com", 
          "creation_time": "20131004T11:29:58", 
          "bug_id": "1015485", 
          "creator_id": "10886", 
          "time": "20131004T11:29:58", 
          "id": "6378120", 
          "is_private": "False"
        }, 
        {
          "count": "1", 
          "creator": "harald@redhat.com", 
          "text": "(In reply to Harald Hoyer from comment #0)\n> +++ This bug was initially created as a clone of Bug #957681 +++\n> \n> Description of problem:\n> Segment 1 Strategic customer (JPMC)\n> \n> Customer requests that Red Hat include an option for emergency boot in the\n> shipped grub config.\n> \n> in the event that the system needs to be booted into single\n> user/debug/emergency mode, it would be useful to have a grub line already in\n> place that does:\n\u2026\n> b) enable the debug-shell.service.\n\nWe might want to enable the debug-shell.service if \"debug\" is given on the kernel command line.", 
          "author": "harald@redhat.com", 
          "creation_time": "20131004T11:31:07", 
          "bug_id": "1015485", 
          "creator_id": "10886", 
          "time": "20131004T11:31:07", 
          "id": "6378125", 
          "is_private": "False"
        }, 
        {
          "count": "2", 
          "creator": "pm-rhel@redhat.com", 
          "text": "Since this bug report was entered in bugzilla, the release flag has been\nset to ? to ensure that it is properly evaluated for this release.", 
          "author": "pm-rhel@redhat.com", 
          "creation_time": "20131004T12:01:21", 
          "bug_id": "1015485", 
          "creator_id": "193983", 
          "time": "20131004T12:01:21", 
          "id": "6378212", 
          "is_private": "True"
        }, 
        {
          "count": "3", 
          "creator": "pablo.iranzo@redhat.com", 
          "text": "Adding manually to GSS 7.0 blocker and adding CC's", 
          "author": "pablo.iranzo@redhat.com", 
          "creation_time": "20140116T13:32:07", 
          "bug_id": "1015485", 
          "creator_id": "210953", 
          "time": "20140116T13:32:07", 
          "id": "6717342", 
          "is_private": "True"
        }
      ], 
      "cf_show_homepage": "---", 
      "platform": "x86_64", 
      "version": [
        "7.0"
      ], 
      "cc": [
        "dracut-maint-list@redhat.com", 
        "harald@redhat.com", 
        "mflitter@redhat.com", 
        "pablo.iranzo@redhat.com", 
        "vgaikwad@redhat.com", 
        "vpavlin@redhat.com"
      ], 
      "cf_verified": [], 
      "cf_cust_facing": "---", 
      "cf_regression_status": "---", 
      "cf_environment": "", 
      "status": "ASSIGNED", 
      "product": "Red Hat Enterprise Linux 7", 
      "cf_verified_branch": "", 
      "blocks": [], 
      "qa_contact": "qe-baseos-daemons@redhat.com", 
      "tags": [], 
      "see_also": [], 
      "component": [
        "systemd"
      ], 
      "remaining_time": "0.0", 
      "sub_components": {}, 
      "cf_pgm_internal": "", 
      "cf_doc_type": "Enhancement", 
      "cf_clone_of": "957681", 
      "groups": [
        "private"
      ], 
      "cf_documentation_action": "---", 
      "cf_internal_whiteboard": "", 
      "target_milestone": "rc", 
      "cf_devel_whiteboard": "", 
      "is_cc_accessible": "True", 
      "cf_type": "Bug", 
      "cf_category": "---", 
      "url": "", 
      "cf_build_id": "", 
      "whiteboard": "", 
      "cf_crm": "", 
      "target_release": [
        "---"
      ], 
      "alias": [], 
      "op_sys": "Linux", 
      "flags": [
        {
          "status": "?", 
          "name": "rhel-7.0.0", 
          "modification_date": "20131004T12:01:17", 
          "type_id": "245", 
          "is_active": "1", 
          "creation_date": "20131004T12:01:17", 
          "id": "1534089", 
          "setter": "pm-rhel@redhat.com"
        }, 
        {
          "status": "?", 
          "name": "pm_ack", 
          "modification_date": "20131004T12:16:55", 
          "type_id": "11", 
          "is_active": "1", 
          "creation_date": "20131004T12:16:55", 
          "id": "1534113", 
          "setter": "pm-rhel@redhat.com"
        }, 
        {
          "status": "?", 
          "name": "devel_ack", 
          "modification_date": "20131004T12:17:22", 
          "type_id": "10", 
          "is_active": "1", 
          "creation_date": "20131004T12:17:22", 
          "id": "1534116", 
          "setter": "pm-rhel@redhat.com"
        }, 
        {
          "status": "?", 
          "name": "qa_ack", 
          "modification_date": "20131004T12:17:47", 
          "type_id": "9", 
          "is_active": "1", 
          "creation_date": "20131004T12:17:47", 
          "id": "1534119", 
          "setter": "pm-rhel@redhat.com"
        }
      ], 
      "last_change_time": "20140616T17:30:04", 
      "assigned_to": "lnykryn@redhat.com", 
      "update_token": "1403539484-tYPrL9yp8LyZbRKcs35GNnMY9Up_ZqB2cvtSh5nQYdc", 
      "cf_partner": [], 
      "resolution": "", 
      "cf_mount_type": "---", 
      "cf_layered_products": []
    }, 
    {
      "cf_qe_conditional_nak": [], 
      "cf_story_points": "---", 
      "cf_pm_score": "50", 
      "estimated_time": "0.0", 
      "depends_on": [
        "711184"
      ], 
      "cf_regression_status": "---", 
      "cf_conditional_nak": [], 
      "creation_time": "20131025T08:03:00", 
      "product": "Red Hat Enterprise Linux 7", 
      "actual_time": "0.0", 
      "docs_contact": "", 
      "is_open": "True", 
      "keywords": [
        "Reopened"
      ], 
      "target_release": [
        "---"
      ], 
      "external_bugs": [
        {
          "ext_status": "Closed", 
          "ext_bz_bug_id": "00472496", 
          "bug_id": "1023319", 
          "ext_description": "Max ACEs in NFS4 ACLs", 
          "ext_priority": "3 (Normal)", 
          "ext_bz_id": "60", 
          "type": {
            "must_send": "True", 
            "description": "Red Hat Customer Portal", 
            "url": "https://access.redhat.com", 
            "can_get": "True", 
            "id": "60", 
            "can_send": "True", 
            "send_once": "True", 
            "type": "SFDC", 
            "full_url": "https://access.redhat.com/support/cases/%id%"
          }, 
          "id": "128266"
        }, 
        {
          "ext_status": "None", 
          "ext_bz_bug_id": "267004", 
          "bug_id": "1023319", 
          "ext_description": "/kernel/filesystems/nfs/regression/bz877426-nfsv4-only-100-ACLs", 
          "ext_priority": "None", 
          "ext_bz_id": "69", 
          "type": {
            "must_send": "False", 
            "description": "TCMS Test Case", 
            "url": "https://tcms.engineering.redhat.com", 
            "can_get": "False", 
            "id": "69", 
            "can_send": "False", 
            "send_once": "False", 
            "type": "None", 
            "full_url": "https://tcms.engineering.redhat.com/case/%id%/"
          }, 
          "id": "134621"
        }
      ], 
      "id": "1023319", 
      "cf_release_notes": "", 
      "priority": "high", 
      "severity": "medium", 
      "is_confirmed": "True", 
      "is_creator_accessible": "True", 
      "cf_fixed_in": "", 
      "creator": "cye@redhat.com", 
      "comments": [
        {
          "count": "0", 
          "creator": "cye@redhat.com", 
          "text": "+++ This bug was initially created as a clone of Bug #711184 +++\n\nDescription of problem:\nThe number of NFSv4 ACLs seems limited to a small number (around 100), and ultimately seems limited by a single page of kernel memory.\n\nIn addition to this, on the latest RHEL5 kernel (tested 2.6.18-264), it is fairly easy to set a number of NFSv4 ACLs beyond the point of a response.  That is, too many calls to \"nfs4_setfacl\" results in \"nfs4_getfacl\" failing on the file from that point on, and \"nfs4_setfacl -e\" does not clear it.  The only way I found to clear this is to remove the file.\n\nEven though NFSv4 ACLs seem limited to a small number, local 'setfacl' on the NFS server still works, indicating it is not a POSIX limitation.\n\n\nVersion-Release number of selected component (if applicable):\nCustomer reported these versions:\nArch: i386 \nOS: RHEL 5.6 \nKernel: 2.6.18-238.9.1.el5 \nPackage versions: \nNfs-utils-1.0.9-50.el5.i386 \nNfs4-acl-tools-0.3.3-1.el5.i386 \n\nI've tested on these versions:\nArch: x86_64\nOS: RHEL 5.6 \nKernel: 2.6.18-264.el5xen\nPackage versions: \nnfs-utils-1.0.9-50.el5.x86_64\nnfs4-acl-tools-0.3.3-1.el5.x86_64\n\n\nHow reproducible:\nEverytime.\n\nSteps to Reproduce:\n \nSet up 2 machines, nfs-client & nfs-server. \nOn nfs-server: \nVerify networking: \n# cat >> /etc/exports \n/export/nfs 172.16.0.0/24(rw,no_root_squash,fsid=0) \n^D \n# cat /etc/idmapd.conf \n[General] \n\nVerbosity = 0 \nPipefs-Directory = /var/lib/nfs/rpc_pipefs \nDomain = todds.private \n\n[Mapping] \n\nNobody-User = nobody \nNobody-Group = nobody \n\n[Translation] \nMethod = nsswitch \n\n# cat /etc/hosts \n127.0.0.1 localhost.localdomain localhost \n172.16.0.1 nfs-server.todds.private nfs-server \n172.16.0.2 nfs-client.todds.private nfs-client \n\n# ping nfs-client \nPING nfs-client.todds.private (172.16.0.2) 56(84) bytes of data. \n64 bytes from nfs-client.todds.private (172.16.0.2): icmp_seq=1 ttl=64 time=0.025 ms \nCreate NFS4 share: \n\n# mkfs.ext3 /dev/sdb1 \n\n# mount -o acl /dev/sdb1 /mnt/nfsshare \n\n# mount -t none -o bind /mnt/nfsshare /export/nfs \n\nStart NFS server: \n# service nfs start \n\n# service rpcidmapd start \n\n# rpcinfo -p \nprogram vers proto port \n100000 2 tcp 111 portmapper \n100000 2 udp 111 portmapper \n100024 1 udp 743 status \n100024 1 tcp 746 status \n100011 1 udp 921 rquotad \n100011 2 udp 921 rquotad \n100011 1 tcp 924 rquotad \n100011 2 tcp 924 rquotad \n100003 2 udp 2049 nfs \n100003 3 udp 2049 nfs \n100003 4 udp 2049 nfs \n100021 1 udp 47861 nlockmgr \n100021 3 udp 47861 nlockmgr \n100021 4 udp 47861 nlockmgr \n100003 2 tcp 2049 nfs \n100003 3 tcp 2049 nfs \n100003 4 tcp 2049 nfs \n100021 1 tcp 35200 nlockmgr \n100021 3 tcp 35200 nlockmgr \n100021 4 tcp 35200 nlockmgr \n100005 1 udp 935 mountd \n100005 1 tcp 938 mountd \n100005 2 udp 935 mountd \n100005 2 tcp 938 mountd \n100005 3 udp 935 mountd \n100005 3 tcp 938 mountd \n\nCreate some groups on nfs-server: \n# for ((i=1000;$i<2000;i=$i+1)); do groupadd -g $i group$i; done \n\nOn nfs-client: \nVerify networking: \n# cat /etc/hosts \n127.0.0.1 localhost.localdomain localhost \n172.16.0.1 nfs-server.todds.private nfs-server \n172.16.0.2 nfs-client.todds.private nfs-client \n\n# cat /etc/idmapd.conf \n(Verify Domain = todds.private) \n\n# ping nfs-server \nPING nfs-server.todds.private (172.16.0.1) 56(84) bytes of data. \n64 bytes from centos2.todds.private (172.16.0.1): icmp_seq=1 ttl=64 time=2.60 ms \n\nCreate some groups on nfs-client with the same gids & names as nfs-server: \n# for ((i=1000;$i<2000;i=$i+1)); do groupadd -g $i group$i; done \n\n# service rpcidmapd start \n\n# mount -t nfs4 nfs-server:/ /mnt/nfs \n\n# touch /mnt/nfs/file1 \n\n# chgrp group1001 /mnt/nfs/file1 \n\n# ls -l /mnt/nfs/file1 \n-rw-r----- 1 root group1001 0 May 10 20:18 /mnt/nfs/file1 \n\n# nfs4_getfacl /mnt/nfs/file1 \nA::OWNER@:rwatTcCy \nA::GROUP@:tcy \nA::EVERYONE@:tcy \n\nAssign ACEs to this file by pulling 100 groups out of /etc/group and giving them access: \n# for grp in `cut -d: -f1 /etc/group | tail -n 100`; do nfs4_setfacl -a A:g:$grp@todds.private:r /mnt/nfs/file1; done \n\n# nfs4_getfacl /mnt/nfs/file1 \nA:g:group1999@todds.private:r \nA:g:group1998@todds.private:r \nA:g:group1997@todds.private:r \nA:g:group1996@todds.private:r \n... <snip> \nA:g:group1903@todds.private:r \nA:g:group1902@todds.private:r \nA:g:group1901@todds.private:r \nA:g:group1900@todds.private:r \nA::OWNER@:rwatTcCy \nA::GROUP@:tcy \nA::EVERYONE@:tcy \n\nReset the ACL by editing and removing all the ACEs just added: \n# nfs4_setfacl -e /mnt/nfs/file1 \n\nAttempt the operation again with more groups; this time 102: \n# for grp in `cut -d: -f1 /etc/group | tail -n 102`; do nfs4_setfacl -a A:g:$grp@todds.private:r /mnt/nfs/file1; done \nAn NFS server error occurred. \nFailed to instantiate ACL. \n\n# nfs4_getfacl /mnt/nfs/file1 \nAn NFS server error occurred. \n\nA \"getfacl /mnt/nfsshare/file1\" on the nfs-server host shows: \n# getfacl /mnt/nfsshare/file1 \n# file: file1 \n# owner: root \n# group: group1001 \nuser::rw- \ngroup::--- \ngroup:group1898:r-- \ngroup:group1899:r-- \ngroup:group1900:r-- \ngroup:group1901:r-- \n... <snip> \ngroup:group1996:r-- \ngroup:group1997:r-- \ngroup:group1998:r-- \nmask::r-- \nother::--- \n\nIt looks like it's cutting off group1999. Subsequent reruns of any nfs4_setfacl command fails with \"An NFS server error occurred. Failed to instantiate ACL.\" nfs4_getfacl similarly dies with no output other than \"An NFS server error occurred.\" However, POSIX setfacl still works, and allows the addition of more ACEs: \n\nnfs-server # setfacl -m g:group1000:r-- file1 \n\nnfs-server # getfacl file1 \n# file: file1 \n# owner: root \n# group: group1001 \nuser::rw- \ngroup::--- \ngroup:group1000:r-- \ngroup:group1898:r-- \ngroup:group1899:r-- \ngroup:group1900:r-- \ngroup:group1901:r-- \n... <snip> \ngroup:group1996:r-- \ngroup:group1997:r-- \ngroup:group1998:r-- \nmask::r-- \nother::--- \n\n\n\nActual results:\n1. nfs4_setfacl fails after only around 100 ACLs\n2. once nfs4_setfacl fails, subsequent nfs4_getfacl calls fail, and the only way to clear the problem is to delete the file\n\nExpected results:\n1. nfs4_setfacl allows more than 100 ACLs (ideally should be a tunable, not a hard limit)\n2. even if nfs4_setfacl fails with an error, nfs4_getfacl should succeed.  Removal of the file should not be required to remove the error condition.\n\n--- Additional comment from Dave Wysochanski on 2011-06-06 14:31:33 EDT ---\n\nThis is fairly easy to reproduce by just setting up a client and server, creating a lot of groups on both client and server, and using nfs4_{set|get}facl.  Once I reproduced the failure, I did some analysis.  This is initially what I found:\n\n1. On whether this is a hardcoded ACL limit or tunable, I've found some areas of the code that lead me to believe this is a hardcoded limit with no tuning available.  In particular, I see this in include/linux/nfs4_acl.h:\n/* Maximum ACL we'll accept from client; chosen (somewhat arbitrarily) to\n * fit in a page: */\n#define NFS4_ACL_MAX 170\n\nthen later in nfsd4_decode_fattr() we see this:\n\n       if (bmval[0] & FATTR4_WORD0_ACL) {\n                int nace;\n                struct nfs4_ace *ace;\n\n                READ_BUF(4); len += 4;\n                READ32(nace);\n\n                if (nace > NFS4_ACL_MAX)\n                        return nfserr_resource;\n\n\n2. Odd behavior with 'getattr', indicating there's still bug(s)\nEven given #1 above, I'm seeing some strange behavior with 'getattr' on 2.6.18-264 kernel.\n\na) There seems to be a point at which too many setacls can trigger a state where getattr fails after that point.  This should not happen as even if setfacl fails at some point, getfacl should always succeed.  Instead it appears the last setfacl may trigger a corrupt state in the server.  In my test case, I am doing the following:\nfor grp in `cut -d: -f1 /etc/group | tail -n 100`; do nfs4_setfacl -a A:g:$grp@dwysocha.private:r /mnt/nfsimport1/file1; done\nThis command attempts to set 100 ACLs, and the last 8 fail.  So I tried only 91, and I get no error on setfacl, but subsequent getfacl fail:\n# for grp in `cut -d: -f1 /etc/group | tail -n 91`; do nfs4_setfacl -a A:g:$grp@dwysocha.private:r /mnt/nfsimport1/file1; done\n[root@rhel5 ~]# nfs4_getfacl /mnt/nfsimport1/file1\nAn NFS server error occurred.\n[root@rhel5 ~]# nfs4_getfacl /mnt/nfsimport1/file1\nAn NFS server error occurred.\n\nb) Re-issuing the same setfacls may lead to inconsistent getfacl return values.\nIt is a bit hard to reproduce, but I've seen multiple entries of the same ACL returned after re-issuing the same loop of setfacls.\nFor example, a sequence like this often leads to files \"getfacl1.txt\" differing from \"getfacl2.txt\":\n# rm -f /mnt/nfsimport1/file10\n# touch /mnt/nfsimport1/file10\n# for grp in `cut -d: -f1 /etc/group | tail -n 50`; do nfs4_setfacl -a A:g:$grp@dwysocha.private:r /mnt/nfsimport1/file10; done\n# nfs4_getfacl /mnt/nfsimport1/file10 > getfacl1.txt\n# for grp in `cut -d: -f1 /etc/group | tail -n 50`; do nfs4_setfacl -a A:g:$grp@dwysocha.private:r /mnt/nfsimport1/file10; done\n# nfs4_getfacl /mnt/nfsimport1/file10 > getfacl2.txt\n\n--- Additional comment from Dave Wysochanski on 2011-06-06 14:34:15 EDT ---\n\nDetailed Analysis of nfs4_getfacl failure:\n\nUsing systemtap, we see the general point of the failure in the NFS server (nfsd):\n\n# stap -e 'probe module(\"nfsd\").function(\"nfsd4_encode_getattr\").return { printf(\"buflen = resp->end - resp->p - Z = %d, return = 0x%x\\n\", $resp->end - $resp->p, $return); print_backtrace() }'\n\nbuflen = resp->end - resp->p - Z = 4040, return = 0x22270000\nReturning from:  0xffffffff882c5197 : nfsd4_encode_getattr+0x0/0x68 [nfsd]\nReturning to  :  0xffffffff882c53fd : nfsd4_encode_operation+0x1fe/0x120e [nfsd]\n 0xffffffff882c0fa9 : nfsd4_proc_compound+0x134a/0x147d [nfsd]\n\nLooking at the code, we see:\n\n1 nfs4.h          <global>                       203 NFS4ERR_RESOURCE = 10018,\n10018 = 0x2722\n\nThis matches what is seen in the tcpdump in response to the GETATTR packet (NFS4ERR_RESOURCE)\n(Note the big-endian change for on the wire values)\n\nNow to the call tree.\nnfsd4_encode_getattr(struct nfsd4_compoundres *resp, int nfserr, struct nfsd4_getattr *getattr)\n{\n...\n        int buflen;\n...\n        buflen = resp->end - resp->p - (COMPOUND_ERR_SLACK_SPACE >> 2);\n        nfserr = nfsd4_encode_fattr(fhp, fhp->fh_export, fhp->fh_dentry,\n                resp += buflen;\n        return nfserr;\n}\n\nWe suspect 'buflen' is the problem.  A short look inside nfsd4_encode_fattr() lends more credence to the theory.  We see a lot of returns with a status of nfserr_resource, but one in particular seems to fit (see below).  This matches the error code, as well as the test case.\n\nnfsd4_encode_fattr()\n...\n\t\tfor (ace = acl->aces; ace < acl->aces + acl->naces; ace++) {\n\t\t\tif ((buflen -= 4*3) < 0)\n\t\t\t\tgoto out_resource;\n\t\t\tWRITE32(ace->type);\n\t\t\tWRITE32(ace->flag);\n\t\t\tWRITE32(ace->access_mask & NFS4_ACE_MASK_ALL);\n\t\t\tstatus = nfsd4_encode_aclname(rqstp, ace->whotype,\n\t\t\t\tace->who, ace->flag & NFS4_ACE_IDENTIFIER_GROUP,\n\t\t\t\t&p, &buflen);\n\t\t\tif (status == nfserr_resource)\n\t\t\t\tgoto out_resource;\n\t\t\tif (status)\n\t\t\t\tgoto out;\n\t\t}\n\nSo let's go back to the key issue - how big is 'buflen', and is it hardcoded\nor tunable?\n\nJust based on the number printed in stap, it looks bounded by a single page.\nBut can we confirm this in the code?\n\nExact size is \n        buflen = resp->end - resp->p - (COMPOUND_ERR_SLACK_SPACE >> 2);\n\n4040 - (12 >> 2) = (4040 - 12 = 0b1100 >> 2) == 4040 - 3 = 4037\n\nSo we won't be able to encode a getattr response if it's larger than 4037 bytes.\nBut where does this limit come from in the code?\n\nRecall the call tree looks like this:\nnfsd4_proc_compound(): from stap backtrace\n ->nfsd4_encode_operation(): from stap backtrace\n   ->nfsd4_encode_getattr(struct nfsd4_compoundres *resp, int nfserr, struct nfsd4_getattr *getattr)\n     ->nfsd4_encode_fattr(): fails with NFS4ERR_RESOURCE\n\nnfsd4_proc_compound()\n{\n...\n        resp->p = rqstp->rq_res.head[0].iov_base + rqstp->rq_res.head[0].iov_len;\n...\n        /* reserve space for: taglen, tag, and opcnt */\n        resp->p += 2 + XDR_QUADLEN(args->taglen);\n        resp->end = rqstp->rq_res.head[0].iov_base + PAGE_SIZE;\n...\nencode_op:\n...\n                        nfsd4_encode_operation(resp, op);\n...\n}\n\n\nOur original calculation from nfsd4_encode_getattr() looked like this:\n        buflen = resp->end - resp->p - (COMPOUND_ERR_SLACK_SPACE >> 2);\n\nWe see this ultimately comes from nfsd4_proc_compound():\n        resp->p = rqstp->rq_res.head[0].iov_base + rqstp->rq_res.head[0].iov_len;\n        resp->p += 2 + XDR_QUADLEN(args->taglen);\n        resp->end = rqstp->rq_res.head[0].iov_base + PAGE_SIZE;\n\nSo the buflen calculation becomes:\n        buflen = (B + PAGE_SIZE) - (B + iov_len + 2 + Y) - (Z)\n               = PAGE_SIZE - iov_len - 2 - Y - Z\n\nClearly buflen is bounded in a hardcoded way by PAGE_SIZE.\n\n--- Additional comment from Dave Wysochanski on 2011-06-07 13:01:29 EDT ---\n\nCustomer has stated these specifics on this request for larger # of ACLs:\n\"I\u2019d say that right now, without planning for future expansion, we need to be able to assign at least 400 ACEs consisting of up-to-8-character user/group names.\"\n\nBased on my initial analysis, the limit might be higher on another architecture with larger page size, such as ppc64 (64kb page size).  I'm going to do some experiments now to confirm whether this is a possibility.\n\n--- Additional comment from J. Bruce Fields on 2011-06-07 13:33:21 EDT ---\n\n\"consisting of up-to-8-character user/group names.\"\n\nNote the on-the-wire names also include a domain.\n\nUnless they've got some complicated multi-domain setup (which nobody does at this point) they could probably choose the domain arbitrarily, hence choose something short.  It's more typical to use a dns domain representing the scope of the user/id-mapping (e.g., @redhat.com).\n\nDetailed size calculation here: http://fieldses.org/~bfields/kernel/nfs4_acl_sizes.txt\n\n--- Additional comment from Dave Wysochanski on 2011-06-07 16:37:20 EDT ---\n\nI've confirmed that going to ppc64 does avoid the getfacl failure.  However, I'm now hitting the original limit described in earlier comment #1 (https://bugzilla.redhat.com/show_bug.cgi?id=711184#c1), the somewhat arbitrarily set guess of 170\n\n# stap -e 'probe module(\"nfsd\").function(\"nfsd4_decode_fat\").return { if ($return) { printf(\"return = 0x%x\\n\", $return); print_backtrace() } }'\nreturn = 0x2722\nReturning from:  0xd000000004861170 : .nfsd4_decode_fattr+0x0/0xa90 [nfsd]\nReturning to  :  0xd00000000485e98c : .nfs4svc_decode_compoundargs+0x34c/0x490 [nfsd]\n[0xc0000000dc0cf8d8] [0x0000000000002722] 0x2722 : ____versions+0x2722/0x0 [nfsd] (inexact)\n[0xc0000000dc0cfb50] [0xc0000000000362f0] 0xc0000000000362f0\n[0xc0000000dc0cfc10] [0xd000000004840564] 0xd000000004840564 : .nfsd_dispatch+0xa4/0x330 [nfsd]\n[0xc0000000dc0cfcc0] [0xd0000000042e0a1c] 0xd0000000042e0a1c\n[0xc0000000dc0cfda0] [0xd0000000042e1174] 0xd0000000042e1174\n[0xc0000000dc0cfe30] [0xd000000004841010] 0xd000000004841010 : .nfsd+0x110/0x1c0 [nfsd]\n[0xc0000000dc0cfed0] [0xc0000000000bb02c] 0xc0000000000bb02c\n[0xc0000000dc0cff90] [0xc0000000000323f4] 0xc0000000000323f4\n\n\nAlso confirmed the previous suggestion - that on x86_64 platform, a smaller domain name in /etc/idmapd.conf (I used the smallest possible - \"d\") and a small group name (used \"gNNNN\") got me to that same 170 limit.\n\nIn any case, it looks like we're stuck at 170, so we'll need a patch to get past that point.\n\n--- Additional comment from Dave Wysochanski on 2011-06-07 16:43:28 EDT ---\n\nThis always fails with:\n\n# ./test.sh\nTesting 50 ACLs\nTesting 60 ACLs\nTesting 70 ACLs\nTesting 80 ACLs\nTesting 90 ACLs\nTesting 100 ACLs\nTesting 110 ACLs\nTesting 120 ACLs\nTesting 130 ACLs\nTesting 140 ACLs\nTesting 150 ACLs\nTesting 160 ACLs\nTesting 170 ACLs\nAn NFS server error occurred.\n\nOn the nfs server, you can see it fails at the hardcoded limit of 170 with stap:\n# stap -e 'probe module(\"nfsd\").function(\"nfsd4_decode_fattr\").return { if ($return) { printf(\"return = 0x%x\\n\", $return); print_backtrace() } }'\nreturn = 0x2722\nReturning from:  0xd000000004861170 : .nfsd4_decode_fattr+0x0/0xa90 [nfsd]\nReturning to  :  0xd00000000485e98c : .nfs4svc_decode_compoundargs+0x34c/0x490 [nfsd]\n[0xc0000000dc0cf8d8] [0x0000000000002722] 0x2722 : ____versions+0x2722/0x0 [nfsd] (inexact)\n[0xc0000000dc0cfb50] [0xc0000000000362f0] 0xc0000000000362f0\n[0xc0000000dc0cfc10] [0xd000000004840564] 0xd000000004840564 : .nfsd_dispatch+0xa4/0x330 [nfsd]\n[0xc0000000dc0cfcc0] [0xd0000000042e0a1c] 0xd0000000042e0a1c\n[0xc0000000dc0cfda0] [0xd0000000042e1174] 0xd0000000042e1174\n[0xc0000000dc0cfe30] [0xd000000004841010] 0xd000000004841010 : .nfsd+0x110/0x1c0\n\n--- Additional comment from Dave Wysochanski on 2011-06-09 17:39:55 EDT ---\n\nI'm playing around with a few simple patches against RHEL6 to alleviate the limit.\n\nWill update when I have something more concrete.\n\n--- Additional comment from Dave Wysochanski on 2011-06-16 16:30:53 EDT ---\n\nLooks like a simple patch to remove the artificial limit of 170 will result in a controlled failure when the encode fails, and will allow for a larger number of ACLs on larger paged architectures such as ppc64.  However, this won't benefit too many people, and the underlying problem remains.\n\nThe underlying problem that needs to be solved is as follows.\n\nnfsd4_encode_operation() has a switch statement that looks like this:\n\n\tswitch (op->opnum) {\n...\n\tcase OP_GETATTR:\n\t\top->status = nfsd4_encode_getattr(resp, op->status, &op->u.getattr);\n\t\tbreak;\n...\n\tcase OP_READ:\n\t\top->status = nfsd4_encode_read(resp, op->status, &op->u.read);\n\t\tbreak;\n\tcase OP_READDIR:\n\t\top->status = nfsd4_encode_readdir(resp, op->status, &op->u.readdir);\n\t\tbreak;\n...\n\tdefault:\n\t\tbreak;\n\t}\n\nSo depending on the operation, we call a different encode function.  For getattr, we call nfsd4_encode_getattr(), which uses a fixed size buffer, based on a single page.\n\nThis function, as well as the function below it (nfsd4_encode_fattr) as needs to be rewritten similar to an encode function that uses multiple pages, such as nfsd4_encode_read().\n\nThis code would have to go upstream and into rhel6 as well.\n\n--- Additional comment from Dave Wysochanski on 2011-06-16 16:37:21 EDT ---\n\nRHEL5 patch to remove arbitrary limit given by NFS4_ACL_MAX.\n\nPatch applies cleanly against:\ncommit da097d169c3d2713b8c835a29d79a5a2d26d9113\nAuthor: Jarod Wilson <jarod@redhat.com>\nDate:   Tue May 24 14:37:53 2011 -0400\n\n    tag: kernel-2.6.18-264.el5\n\n--- Additional comment from J. Bruce Fields on 2011-06-16 17:04:01 EDT ---\n\nIn fact there's a more general problem with the server xdr code.  The client could also:\n\n  - Send multiple reads and/or writes in a single compound operation\n  - Send multiple getattrs in a single compound, individually less than a\n    page but together more than a page long.\n\nEtc.  The server xdr code should be rewritten to handle the possibility that operations could fall anywhere in relation to page boundaries.\n\nWhile we're there we probably also want to get rid of these READ/WRITE macros.  The xdr_stream interface on the client might be a good model to follow.\n\n--- Additional comment from Dave Wysochanski on 2011-06-17 10:15:06 EDT ---\n\nBruce - the scope of this change is sounding fairly large.  So a couple questions.\n\n1. Should I clone this to RHEL6 or maybe create another bz covering Comment #10, and this one depends on it?\n\n2. Is it likely we could have something to alleviate this ACL limit in RHEL5 or too risky / or would violate kabi?\n\nThx.\n\n--- Additional comment from J. Bruce Fields on 2011-06-21 14:19:32 EDT ---\n\n1. Agreed that a complete xdr rewrite isn't appropriate for RHEL5 or this bug.\n\n2. I can't think of one show-stopper reason why lifting the 1-page limit for ACLs in RHEL5 wouldn't be possible, but it would be safer to keep it.  Does it look like what you've done so far (removing NFS4_ACL_MAX) is enough to at least get consistent behavior?\n\nIt sounds like nfs4_setfacl is also being unhelpful?  It should be able to clobber any existing ACL without having to read the currently set one.\n\n--- Additional comment from Dave Wysochanski on 2011-07-18 13:39:05 EDT ---\n\nI think the next steps on this is to reproduce on RHEL6 / upstream, file\nappropriate bzs, and then work on patches to address the problems.  The setfacl\nfailure is probably something that can be addressed in a separate bz/patch. \nI will work on RHEL6 reproduction now.\n\n--- Additional comment from Dave Wysochanski on 2011-10-28 10:07:54 EDT ---\n\nBruce, any chance other NFS work in progress might address one or more of the issues raised here?\n\nI have not gotten back to this unfortunately as other higher issues have been taking up my time.\n\nOtherwise, I will try to pick up at least a part of this at some point in the next month or so as I'm starting to focus more on NFS issues.\n\n--- Additional comment from Dave Wysochanski on 2011-10-28 10:09:45 EDT ---\n\nI'll put a note on my calendar to try to move this forward next week as it's been sitting for too long.\n\n--- Additional comment from J. Bruce Fields on 2011-11-01 16:40:08 EDT ---\n\n\"Bruce, any chance other NFS work in progress might address one or more of the\nissues raised here?\"\n\nNo, unfortunately there hasn't been any work on this upstream.\n\n\"I'll put a note on my calendar to try to move this forward next week as it's\nbeen sitting for too long.\"\n\nPlease bug me about this and I'll see if I can help.\n\n--- Additional comment from Dave Wysochanski on 2011-11-01 17:22:26 EDT ---\n\nI started back into this today but still refreshing my memory on it all - more on it tomorrow hopefully.\n\n--- Additional comment from RHEL Product and Program Management on 2012-01-09 09:28:06 EST ---\n\nThis request was evaluated by Red Hat Product Management for inclusion in Red Hat Enterprise Linux 5.8 and Red Hat does not plan to fix this issue the currently developed update.\n\nContact your manager or support representative in case you need to escalate this bug.\n\n--- Additional comment from Dave Wysochanski on 2012-01-18 11:22:08 EST ---\n\nAnother nfsv4 acl bug with patches that may be related:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=753228\n\n--- Additional comment from Shijoe George on 2012-06-28 03:35:13 EDT ---\n\n=== In Red Hat Customer Portal Case 00472496 ===\n--- Comment by Panjikkaran, Shijoe on 6/28/2012 1:05 PM ---\n\nHi, \n\nHave we gone any further in this ? Anything that can be communicated to customer even in the least bit ?\n\nThanks,\nShijoe\n\n--- Additional comment from J. Bruce Fields on 2012-09-28 17:29:51 EDT ---\n\nSo the fact that you can set acls that you can't get is certainly a bug, and I think a *partial* fix wouldn't be too hard:\n\nWhat we want to do is ensure that we reject setattrs for ACLs that we might not be able to encode in a getattr reply.\n\nWe're currently doing that by rejecting ACLs with more than a certain number (170) entries.  That's a poor estimate.  It would be better to measure the number of bytes.\n\nWe still want to check some maximum on the number of entries, but I think it could be larger: I'd choose something that keeps the kmalloc in nfs4_acl_new to under 4096 bytes.\n\nBut then what we should probably also do is bound the expected_len (found at the start of nfsd4_decode_fattr()).  That's the length of the entire setattr, but typically most of it will be accounted for by the length of the ACL.\n\nIf we bound that to something a little less than a page, then we can be fairly certain that the getattr will end up being a little less than a page.  We'll have to guess to get the limit right (most likely, just use page_size - some fudge factor, then do some experiments to make sure it works).\n\nUnfortunately, as I say, that's still a partial fix, because:\n\n- We don't know what other operations might be in the getattr that eventually requests this acl.  Typically there won't be much else, but you never know.\n\n- Our filesystems only understand \"posix\" ACLs, not NFSv4 ACLs: so if you do a setattr, then a getattr, your ACL gets translated to a posix ACL, then that gets translated back to an NFSv4 ACL.  The result could be longer than what you started with.\n\n- Somebody can always set an ACL on the filesystem directly and bypass these NFS-imposed limits, and then they can set an ACL that's too big for the current NFS code to return.\n\n--- Additional comment from J. Bruce Fields on 2012-09-28 17:32:11 EDT ---\n\nThe other problem here, of course, is just that we don't handle ACLs as large as some people want.\n\nFixing that means fixing the NFSv4 xdr encoding to handle encoding across page boundaries.\n\nI don't think there's anything fundamentally difficult about that, but it will take some time.  And it will touch a *lot* of lines of code, so might be a long shot to backport.\n\n--- Additional comment from Shijoe George on 2012-10-02 10:26:59 EDT ---\n\n=== In Red Hat Customer Portal Case 00472496 ===\n--- Comment by Panjikkaran, Shijoe on 10/2/2012 7:56 PM ---\n\nHello Bruce,\n\nI have checked in with the customer on their business requirement of this issue and we have received the following update from the customer, \n\n===============================================\nThis is a business critical issue for us. We have several hundred TB of data organized into 200+ separate products, that are shared via NFS to approximately 380 different customers, all of whom have different permission sets. We need to control permission on the product level to comply with requirements set forth in contracts with the product vendors.\n===============================================\n\nThe customer has earlier (much earlier in last year ) that they are atleast  looking at 400 ACEs consisting of up-to-8-character user/group names.\n\nI am now checking with them if a release above RHEL5 would be a favourable vehicle as I understand that this is not going to be trivial.\n\nRegards,\nShijoe\n\n--- Additional comment from Shijoe George on 2012-10-16 07:45:16 EDT ---\n\nHello, \n\nThe customer is comfortable with a RHEL6 fix as long as the fix is available and proper. As per my update in comment 23 , the customer has a business requirement and a long term fix would be the appropriate way.\n\nThanks,\nShijoe\n\n--- Additional comment from RHEL Product and Program Management on 2012-10-30 01:59:18 EDT ---\n\nThis request was not resolved in time for the current release.\nRed Hat invites you to ask your support representative to\npropose this request, if still desired, for consideration in\nthe next release of Red Hat Enterprise Linux.\n\n--- Additional comment from Shijoe George on 2012-10-31 06:43:35 EDT ---\n\n=== In Red Hat Customer Portal Case 00472496 ===\n--- Comment by Panjikkaran, Shijoe on 10/31/2012 4:13 PM ---\n\nHello, \n\nShould I be opening a new bug for RHEL6, or can this bug be cloned for RHEL6 in any way ? The customer is fine with a fix in RHEL 6 too if it cannot make into RHEl5 \n\nThanks,\nShijoe\n\n--- Additional comment from Ranjith Rajaram on 2013-10-08 08:32:10 EDT ---\n\nBruce\n\nWill we be considering this fix for RHEL 5 ?\n\n--- Additional comment from J. Bruce Fields on 2013-10-08 09:13:42 EDT ---\n\n(In reply to Ranjith Rajaram from comment #27)\n> Bruce\n> \n> Will we be considering this fix for RHEL 5 ?\n\nI need to finish the work upstream yet before deciding whether it's feasible to backport for RHEL 5.  I'm pessimistic but wouldn't rule out the possibility.", 
          "author": "cye@redhat.com", 
          "creation_time": "20131025T08:03:50", 
          "bug_id": "1023319", 
          "creator_id": "301186", 
          "time": "20131025T08:03:50", 
          "id": "6456794", 
          "is_private": "True"
        }, 
        {
          "count": "1", 
          "creator": "jlayton@redhat.com", 
          "text": "(assigning to Bruce since he owns the rhel5 version of it)", 
          "author": "jlayton@redhat.com", 
          "creation_time": "20131103T14:08:26", 
          "bug_id": "1023319", 
          "creator_id": "172669", 
          "time": "20131103T14:08:26", 
          "id": "6481855", 
          "is_private": "True"
        }, 
        {
          "count": "2", 
          "creator": "jiyin@redhat.com", 
          "text": "verify:\n  https://beaker.engineering.redhat.com/jobs/607032", 
          "author": "jiyin@redhat.com", 
          "creation_time": "20140307T04:42:46", 
          "bug_id": "1023319", 
          "creator_id": "348967", 
          "time": "20140307T04:42:46", 
          "id": "6890669", 
          "is_private": "False"
        }, 
        {
          "count": "3", 
          "creator": "bfields@redhat.com", 
          "text": "I can't figure out why this is considered closed.  The 4K limit on GETATTR replies still remains in RHEL7.0.", 
          "author": "bfields@redhat.com", 
          "creation_time": "20140612T18:31:08", 
          "bug_id": "1023319", 
          "creator_id": "301077", 
          "time": "20140612T18:31:08", 
          "id": "7179719", 
          "is_private": "False"
        }, 
        {
          "count": "4", 
          "creator": "jiyin@redhat.com", 
          "text": "(In reply to J. Bruce Fields from comment #3)\n> I can't figure out why this is considered closed.  The 4K limit on GETATTR\n> replies still remains in RHEL7.0.\n\nYes, you are right, the argument in test reproducer was incorrect;\n  after fix the group's amount from 102 to 200, test fail.", 
          "author": "jiyin@redhat.com", 
          "creation_time": "20140613T02:17:33", 
          "bug_id": "1023319", 
          "creator_id": "348967", 
          "time": "20140613T02:17:33", 
          "id": "7180541", 
          "is_private": "True"
        }, 
        {
          "count": "5", 
          "creator": "pm-rhel@redhat.com", 
          "text": "This request has been proposed for two releases.  This is invalid\nflag usage.  The higher numbered release flag has been cleared.\nIf you wish to change the release flag, you must clear one release\nflag and then set the other release flag to ?.", 
          "author": "pm-rhel@redhat.com", 
          "creation_time": "20140613T02:45:26", 
          "bug_id": "1023319", 
          "creator_id": "193983", 
          "time": "20140613T02:45:26", 
          "id": "7180596", 
          "is_private": "True"
        }
      ], 
      "cf_show_homepage": "---", 
      "platform": "All", 
      "version": [
        "7.0"
      ], 
      "cc": [
        "eguan@redhat.com", 
        "jiyin@redhat.com", 
        "kzhang@redhat.com", 
        "nfs-maint@redhat.com", 
        "steved@redhat.com"
      ], 
      "cf_verified": [], 
      "cf_cust_facing": "---", 
      "cf_environment": "", 
      "status": "ASSIGNED", 
      "classification": "Red Hat", 
      "cf_verified_branch": "", 
      "blocks": [
        "1108969"
      ], 
      "qa_contact": "jiyin@redhat.com", 
      "tags": [], 
      "see_also": [], 
      "component": [
        "kernel"
      ], 
      "remaining_time": "0.0", 
      "sub_components": {}, 
      "cf_pgm_internal": "", 
      "cf_doc_type": "Bug Fix", 
      "cf_clone_of": "711184", 
      "groups": [
        "redhat"
      ], 
      "cf_documentation_action": "---", 
      "cf_internal_whiteboard": "", 
      "target_milestone": "rc", 
      "cf_devel_whiteboard": "", 
      "is_cc_accessible": "True", 
      "cf_type": "---", 
      "cf_category": "---", 
      "url": "", 
      "cf_build_id": "", 
      "whiteboard": "", 
      "cf_crm": "", 
      "summary": "NFSv4 ACLs limited to a small number (around 100), possible to corrupt ACL list so nfs4_getfacl always fails", 
      "alias": [], 
      "op_sys": "Linux", 
      "flags": [
        {
          "status": "+", 
          "name": "qe_test_coverage", 
          "modification_date": "20131025T08:03:50", 
          "type_id": "318", 
          "is_active": "1", 
          "creation_date": "20131025T08:03:50", 
          "id": "1563305", 
          "setter": "cye@redhat.com"
        }, 
        {
          "status": "?", 
          "name": "rhel-7.0.0", 
          "modification_date": "20131025T08:03:50", 
          "type_id": "245", 
          "is_active": "1", 
          "creation_date": "20131025T08:03:50", 
          "id": "1563306", 
          "setter": "cye@redhat.com"
        }, 
        {
          "status": "?", 
          "name": "pm_ack", 
          "modification_date": "20131025T08:03:50", 
          "type_id": "11", 
          "is_active": "1", 
          "creation_date": "20131025T08:03:50", 
          "id": "1563307", 
          "setter": "cye@redhat.com"
        }, 
        {
          "status": "?", 
          "name": "devel_ack", 
          "modification_date": "20131025T08:03:50", 
          "type_id": "10", 
          "is_active": "1", 
          "creation_date": "20131025T08:03:50", 
          "id": "1563308", 
          "setter": "cye@redhat.com"
        }, 
        {
          "status": "+", 
          "name": "qa_ack", 
          "modification_date": "20131025T08:03:50", 
          "type_id": "9", 
          "is_active": "1", 
          "creation_date": "20131025T08:03:50", 
          "id": "1563309", 
          "setter": "cye@redhat.com"
        }
      ], 
      "last_change_time": "20140618T07:45:12", 
      "assigned_to": "bfields@redhat.com", 
      "update_token": "1403539484-tMt984lDjHNj6NkQ02IGoFDV4F7S87T6fC5j80F_W-w", 
      "cf_partner": [], 
      "cf_last_closed": "20140307T04:42:46", 
      "resolution": "", 
      "cf_mount_type": "---", 
      "cf_layered_products": []
    }
  ]
}